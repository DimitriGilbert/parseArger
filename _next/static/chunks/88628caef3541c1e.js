(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,22537,(e,t,n)=>{self,t.exports=(()=>{"use strict";var e={4567:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityManager=void 0;let s=n(9042),a=n(6114),o=n(9924),l=n(844),c=n(5596),u=n(4725),p=n(3656),h=t.AccessibilityManager=class extends l.Disposable{constructor(e,t){super(),this._terminal=e,this._renderService=t,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let e=0;e<this._terminal.rows;e++)this._rowElements[e]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[e]);if(this._topBoundaryFocusListener=e=>this._handleBoundaryFocus(e,0),this._bottomBoundaryFocusListener=e=>this._handleBoundaryFocus(e,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new o.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(e=>this._handleResize(e.rows))),this.register(this._terminal.onRender(e=>this._refreshRows(e.start,e.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(e=>this._handleChar(e))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(e=>this._handleTab(e))),this.register(this._terminal.onKey(e=>this._handleKey(e.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new c.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,p.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,l.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(e){for(let t=0;t<e;t++)this._handleChar(" ")}_handleChar(e){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=s.tooMuchOutput)),a.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,a.isMac&&this._liveRegion.remove()}_handleKey(e){this._clearLiveRegion(),/\p{Control}/u.test(e)||this._charsToConsume.push(e)}_refreshRows(e,t){this._liveRegionDebouncer.refresh(e,t,this._terminal.rows)}_renderRows(e,t){let n=this._terminal.buffer,r=n.lines.length.toString();for(let i=e;i<=t;i++){let e=n.translateBufferLineToString(n.ydisp+i,!0),t=(n.ydisp+i+1).toString(),s=this._rowElements[i];s&&(0===e.length?s.innerText="Â ":s.textContent=e,s.setAttribute("aria-posinset",t),s.setAttribute("aria-setsize",r))}this._announceCharacters()}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(e,t){let n,r,i=e.target,s=this._rowElements[0===t?1:this._rowElements.length-2];if(i.getAttribute("aria-posinset")!==(0===t?"1":`${this._terminal.buffer.lines.length}`)&&e.relatedTarget===s){if(0===t?(n=i,r=this._rowElements.pop(),this._rowContainer.removeChild(r)):(n=this._rowElements.shift(),r=i,this._rowContainer.removeChild(n)),n.removeEventListener("focus",this._topBoundaryFocusListener),r.removeEventListener("focus",this._bottomBoundaryFocusListener),0===t){let e=this._createAccessibilityTreeNode();this._rowElements.unshift(e),this._rowContainer.insertAdjacentElement("afterbegin",e)}else{let e=this._createAccessibilityTreeNode();this._rowElements.push(e),this._rowContainer.appendChild(e)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}}_handleResize(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let e=this._rowContainer.children.length;e<this._terminal.rows;e++)this._rowElements[e]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[e]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){let e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}}_refreshRowDimensions(e){e.style.height=`${this._renderService.dimensions.css.cell.height}px`}};t.AccessibilityManager=r([i(1,u.IRenderService)],h)},3614:(e,t)=>{function n(e){return e.replace(/\r?\n/g,"\r")}function r(e,t){return t?"\x1b[200~"+e+"\x1b[201~":e}function i(e,t,i,s){e=r(e=n(e),i.decPrivateModes.bracketedPasteMode&&!0!==s.rawOptions.ignoreBracketedPasteMode),i.triggerDataEvent(e,!0),t.value=""}function s(e,t,n){let r=n.getBoundingClientRect(),i=e.clientX-r.left-10,s=e.clientY-r.top-10;t.style.width="20px",t.style.height="20px",t.style.left=`${i}px`,t.style.top=`${s}px`,t.style.zIndex="1000",t.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.rightClickHandler=t.moveTextAreaUnderMouseCursor=t.paste=t.handlePasteEvent=t.copyHandler=t.bracketTextForPaste=t.prepareTextForTerminal=void 0,t.prepareTextForTerminal=n,t.bracketTextForPaste=r,t.copyHandler=function(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()},t.handlePasteEvent=function(e,t,n,r){e.stopPropagation(),e.clipboardData&&i(e.clipboardData.getData("text/plain"),t,n,r)},t.paste=i,t.moveTextAreaUnderMouseCursor=s,t.rightClickHandler=function(e,t,n,r,i){s(e,t,n),i&&r.rightClickSelect(e),t.value=r.selectionText,t.select()}},7239:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContrastCache=void 0;let r=n(1505);t.ColorContrastCache=class{constructor(){this._color=new r.TwoKeyMap,this._css=new r.TwoKeyMap}setCss(e,t,n){this._css.set(e,t,n)}getCss(e,t){return this._css.get(e,t)}setColor(e,t,n){this._color.set(e,t,n)}getColor(e,t){return this._color.get(e,t)}clear(){this._color.clear(),this._css.clear()}}},3656:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(e,t,n,r){e.addEventListener(t,n,r);let i=!1;return{dispose:()=>{i||(i=!0,e.removeEventListener(t,n,r))}}}},6465:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Linkifier2=void 0;let s=n(3656),a=n(8460),o=n(844),l=n(2585),c=t.Linkifier2=class extends o.Disposable{get currentLink(){return this._currentLink}constructor(e){super(),this._bufferService=e,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new a.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new a.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,o.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,o.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(e){return this._linkProviders.push(e),{dispose:()=>{let t=this._linkProviders.indexOf(e);-1!==t&&this._linkProviders.splice(t,1)}}}attachToDom(e,t,n){this._element=e,this._mouseService=t,this._renderService=n,this.register((0,s.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,s.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,s.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,s.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(e){if(this._lastMouseEvent=e,!this._element||!this._mouseService)return;let t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(!t)return;this._isMouseOut=!1;let n=e.composedPath();for(let e=0;e<n.length;e++){let t=n[e];if(t.classList.contains("xterm"))break;if(t.classList.contains("xterm-hover"))return}this._lastBufferCell&&t.x===this._lastBufferCell.x&&t.y===this._lastBufferCell.y||(this._handleHover(t),this._lastBufferCell=t)}_handleHover(e){this._activeLine!==e.y||this._wasResized?(this._clearCurrentLink(),this._askForLink(e,!1),this._wasResized=!1):this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))}_askForLink(e,t){var n,r;this._activeProviderReplies&&t||(null==(n=this._activeProviderReplies)||n.forEach(e=>{null==e||e.forEach(e=>{e.link.dispose&&e.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=e.y);let i=!1;for(let[n,s]of this._linkProviders.entries())t?(null==(r=this._activeProviderReplies)?void 0:r.get(n))&&(i=this._checkLinkProviderResult(n,e,i)):s.provideLinks(e.y,t=>{var r,s;if(this._isMouseOut)return;let a=null==t?void 0:t.map(e=>({link:e}));null==(r=this._activeProviderReplies)||r.set(n,a),i=this._checkLinkProviderResult(n,e,i),(null==(s=this._activeProviderReplies)?void 0:s.size)===this._linkProviders.length&&this._removeIntersectingLinks(e.y,this._activeProviderReplies)})}_removeIntersectingLinks(e,t){let n=new Set;for(let r=0;r<t.size;r++){let i=t.get(r);if(i)for(let t=0;t<i.length;t++){let r=i[t],s=r.link.range.start.y<e?0:r.link.range.start.x,a=r.link.range.end.y>e?this._bufferService.cols:r.link.range.end.x;for(let e=s;e<=a;e++){if(n.has(e)){i.splice(t--,1);break}n.add(e)}}}}_checkLinkProviderResult(e,t,n){var r;if(!this._activeProviderReplies)return n;let i=this._activeProviderReplies.get(e),s=!1;for(let t=0;t<e;t++)this._activeProviderReplies.has(t)&&!this._activeProviderReplies.get(t)||(s=!0);if(!s&&i){let e=i.find(e=>this._linkAtPosition(e.link,t));e&&(n=!0,this._handleNewLink(e))}if(this._activeProviderReplies.size===this._linkProviders.length&&!n)for(let e=0;e<this._activeProviderReplies.size;e++){let i=null==(r=this._activeProviderReplies.get(e))?void 0:r.find(e=>this._linkAtPosition(e.link,t));if(i){n=!0,this._handleNewLink(i);break}}return n}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(e){if(!this._element||!this._mouseService||!this._currentLink)return;let t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}_clearCurrentLink(e,t){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,o.disposeArray)(this._linkCacheDisposables))}_handleNewLink(e){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;let t=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);t&&this._linkAtPosition(e.link,t)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:void 0===e.link.decorations||e.link.decorations.underline,pointerCursor:void 0===e.link.decorations||e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:()=>{var e,t;return null==(t=null==(e=this._currentLink)?void 0:e.state)?void 0:t.decorations.pointerCursor},set:e=>{var t,n;(null==(t=this._currentLink)?void 0:t.state)&&this._currentLink.state.decorations.pointerCursor!==e&&(this._currentLink.state.decorations.pointerCursor=e,this._currentLink.state.isHovered&&(null==(n=this._element)||n.classList.toggle("xterm-cursor-pointer",e)))}},underline:{get:()=>{var e,t;return null==(t=null==(e=this._currentLink)?void 0:e.state)?void 0:t.decorations.underline},set:t=>{var n,r,i;(null==(n=this._currentLink)?void 0:n.state)&&(null==(i=null==(r=this._currentLink)?void 0:r.state)?void 0:i.decorations.underline)!==t&&(this._currentLink.state.decorations.underline=t,this._currentLink.state.isHovered&&this._fireUnderlineEvent(e.link,t))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(e=>{if(!this._currentLink)return;let t=0===e.start?0:e.start+1+this._bufferService.buffer.ydisp,n=this._bufferService.buffer.ydisp+1+e.end;if(this._currentLink.link.range.start.y>=t&&this._currentLink.link.range.end.y<=n&&(this._clearCurrentLink(t,n),this._lastMouseEvent&&this._element)){let e=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);e&&this._askForLink(e,!1)}})))}_linkHover(e,t,n){var r;(null==(r=this._currentLink)?void 0:r.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(n,t.text)}_fireUnderlineEvent(e,t){let n=e.range,r=this._bufferService.buffer.ydisp,i=this._createLinkUnderlineEvent(n.start.x-1,n.start.y-r-1,n.end.x,n.end.y-r-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(i)}_linkLeave(e,t,n){var r;(null==(r=this._currentLink)?void 0:r.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(n,t.text)}_linkAtPosition(e,t){let n=e.range.start.y*this._bufferService.cols+e.range.start.x,r=e.range.end.y*this._bufferService.cols+e.range.end.x,i=t.y*this._bufferService.cols+t.x;return n<=i&&i<=r}_positionFromMouseEvent(e,t,n){let r=n.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(r)return{x:r[0],y:r[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(e,t,n,r,i){return{x1:e,y1:t,x2:n,y2:r,cols:this._bufferService.cols,fg:i}}};t.Linkifier2=r([i(0,l.IBufferService)],c)},9042:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tooMuchOutput=t.promptLabel=void 0,t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkProvider=void 0;let s=n(511),a=n(2585),o=t.OscLinkProvider=class{constructor(e,t,n){this._bufferService=e,this._optionsService=t,this._oscLinkService=n}provideLinks(e,t){var n;let r=this._bufferService.buffer.lines.get(e-1);if(!r)return void t(void 0);let i=[],a=this._optionsService.rawOptions.linkHandler,o=new s.CellData,l=r.getTrimmedLength(),c=-1,u=-1,p=!1;for(let t=0;t<l;t++)if(-1!==u||r.hasContent(t)){if(r.loadCell(t,o),o.hasExtendedAttrs()&&o.extended.urlId){if(-1===u){u=t,c=o.extended.urlId;continue}p=o.extended.urlId!==c}else -1!==u&&(p=!0);if(p||-1!==u&&t===l-1){let r=null==(n=this._oscLinkService.getLinkData(c))?void 0:n.uri;if(r){let n={start:{x:u+1,y:e},end:{x:t+(p||t!==l-1?0:1),y:e}},s=!1;if(!(null==a?void 0:a.allowNonHttpProtocols))try{let e=new URL(r);["http:","https:"].includes(e.protocol)||(s=!0)}catch(e){s=!0}s||i.push({text:r,range:n,activate:(e,t)=>a?a.activate(e,t,n):function(e,t){if(confirm(`Do you want to navigate to ${t}?

WARNING: This link could potentially be dangerous`)){let e=window.open();if(e){try{e.opener=null}catch(e){}e.location.href=t}else console.warn("Opening link blocked as opener could not be cleared")}}(0,t),hover:(e,t)=>{var r;return null==(r=null==a?void 0:a.hover)?void 0:r.call(a,e,t,n)},leave:(e,t)=>{var r;return null==(r=null==a?void 0:a.leave)?void 0:r.call(a,e,t,n)}})}p=!1,o.hasExtendedAttrs()&&o.extended.urlId?(u=t,c=o.extended.urlId):(u=-1,c=-1)}}t(i)}};t.OscLinkProvider=r([i(0,a.IBufferService),i(1,a.IOptionsService),i(2,a.IOscLinkService)],o)},6193:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderDebouncer=void 0,t.RenderDebouncer=class{constructor(e,t){this._parentWindow=e,this._renderCallback=t,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(e){return this._refreshCallbacks.push(e),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(e,t,n){this._rowCount=n,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();let e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(let e of this._refreshCallbacks)e(0);this._refreshCallbacks=[]}}},5596:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenDprMonitor=void 0;let r=n(844);class i extends r.Disposable{constructor(e){super(),this._parentWindow=e,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,r.toDisposable)(()=>{this.clearListener()}))}setListener(e){this._listener&&this.clearListener(),this._listener=e,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var e;this._outerListener&&(null==(e=this._resolutionMediaMatchList)||e.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}t.ScreenDprMonitor=i},3236:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;let r=n(3614),i=n(3656),s=n(6465),a=n(9042),o=n(3730),l=n(1680),c=n(3107),u=n(5744),p=n(2950),h=n(1296),_=n(428),f=n(4269),d=n(5114),g=n(8934),m=n(3230),v=n(9312),b=n(4725),y=n(6731),$=n(8055),x=n(8969),S=n(8460),A=n(844),w=n(6114),E=n(8437),k=n(2584),C=n(7399),O=n(5941),R=n(9074),T=n(2585),N=n(5435),P=n(4567),L="undefined"!=typeof window?window.document:null;class I extends x.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(e={}){super(e),this.browser=w,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new A.MutableDisposable),this._onCursorMove=this.register(new S.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new S.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new S.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new S.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new S.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new S.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new S.EventEmitter),this._onBlur=this.register(new S.EventEmitter),this._onA11yCharEmitter=this.register(new S.EventEmitter),this._onA11yTabEmitter=this.register(new S.EventEmitter),this._onWillOpen=this.register(new S.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(s.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(o.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(R.DecorationService),this._instantiationService.setService(T.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((e,t)=>this.refresh(e,t))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(e=>this._reportWindowsOptions(e))),this.register(this._inputHandler.onColor(e=>this._handleColorEvent(e))),this.register((0,S.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,S.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,S.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,S.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(e=>this._afterResize(e.cols,e.rows))),this.register((0,A.toDisposable)(()=>{var e,t;this._customKeyEventHandler=void 0,null==(t=null==(e=this.element)?void 0:e.parentNode)||t.removeChild(this.element)}))}_handleColorEvent(e){if(this._themeService)for(let t of e){let e,n="";switch(t.index){case 256:e="foreground",n="10";break;case 257:e="background",n="11";break;case 258:e="cursor",n="12";break;default:e="ansi",n="4;"+t.index}switch(t.type){case 0:let r=$.color.toColorRGB("ansi"===e?this._themeService.colors.ansi[t.index]:this._themeService.colors[e]);this.coreService.triggerDataEvent(`${k.C0.ESC}]${n};${(0,O.toRgbString)(r)}${k.C1_ESCAPED.ST}`);break;case 1:if("ansi"===e)this._themeService.modifyColors(e=>e.ansi[t.index]=$.rgba.toColor(...t.color));else{let n=e;this._themeService.modifyColors(e=>e[n]=$.rgba.toColor(...t.color))}break;case 2:this._themeService.restoreColor(t.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(e){e?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(P.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(e){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(k.C0.ESC+"[I"),this.updateCursorStyle(e),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var e;return null==(e=this.textarea)?void 0:e.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(k.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;let e=this.buffer.ybase+this.buffer.y,t=this.buffer.lines.get(e);if(!t)return;let n=Math.min(this.buffer.x,this.cols-1),r=this._renderService.dimensions.css.cell.height,i=t.getWidth(n),s=this._renderService.dimensions.css.cell.width*i,a=this.buffer.y*this._renderService.dimensions.css.cell.height,o=n*this._renderService.dimensions.css.cell.width;this.textarea.style.left=o+"px",this.textarea.style.top=a+"px",this.textarea.style.width=s+"px",this.textarea.style.height=r+"px",this.textarea.style.lineHeight=r+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,i.addDisposableDomListener)(this.element,"copy",e=>{this.hasSelection()&&(0,r.copyHandler)(e,this._selectionService)}));let e=e=>(0,r.handlePasteEvent)(e,this.textarea,this.coreService,this.optionsService);this.register((0,i.addDisposableDomListener)(this.textarea,"paste",e)),this.register((0,i.addDisposableDomListener)(this.element,"paste",e)),w.isFirefox?this.register((0,i.addDisposableDomListener)(this.element,"mousedown",e=>{2===e.button&&(0,r.rightClickHandler)(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,i.addDisposableDomListener)(this.element,"contextmenu",e=>{(0,r.rightClickHandler)(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),w.isLinux&&this.register((0,i.addDisposableDomListener)(this.element,"auxclick",e=>{1===e.button&&(0,r.moveTextAreaUnderMouseCursor)(e,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,i.addDisposableDomListener)(this.textarea,"keyup",e=>this._keyUp(e),!0)),this.register((0,i.addDisposableDomListener)(this.textarea,"keydown",e=>this._keyDown(e),!0)),this.register((0,i.addDisposableDomListener)(this.textarea,"keypress",e=>this._keyPress(e),!0)),this.register((0,i.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,i.addDisposableDomListener)(this.textarea,"compositionupdate",e=>this._compositionHelper.compositionupdate(e))),this.register((0,i.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,i.addDisposableDomListener)(this.textarea,"input",e=>this._inputEvent(e),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(e){var t;if(!e)throw Error("Terminal requires a parent element.");e.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=e.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),e.appendChild(this.element);let n=L.createDocumentFragment();this._viewportElement=L.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),n.appendChild(this._viewportElement),this._viewportScrollArea=L.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=L.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=L.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),n.appendChild(this.screenElement),this.textarea=L.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",a.promptLabel),w.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(d.CoreBrowserService,this.textarea,null!=(t=this._document.defaultView)?t:window),this._instantiationService.setService(b.ICoreBrowserService,this._coreBrowserService),this.register((0,i.addDisposableDomListener)(this.textarea,"focus",e=>this._handleTextAreaFocus(e))),this.register((0,i.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(_.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(b.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(y.ThemeService),this._instantiationService.setService(b.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(f.CharacterJoinerService),this._instantiationService.setService(b.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(m.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(b.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(e=>this._onRender.fire(e))),this.onResize(e=>this._renderService.resize(e.cols,e.rows)),this._compositionView=L.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(p.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(n);try{this._onWillOpen.fire(this.element)}catch(e){}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(g.MouseService),this._instantiationService.setService(b.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(l.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(e=>this.scrollLines(e.amount,e.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(v.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(b.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(e=>this.scrollLines(e.amount,e.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(e=>this._renderService.handleSelectionChanged(e.start,e.end,e.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(e=>{this.textarea.value=e,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(e=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,i.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(c.BufferDecorationRenderer,this.screenElement)),this.register((0,i.addDisposableDomListener)(this.element,"mousedown",e=>this._selectionService.handleMouseDown(e))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(P.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",e=>this._handleScreenReaderModeOptionChange(e))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",e=>{!this._overviewRulerRenderer&&e&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(h.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){let e=this,t=this.element;function n(t){let n,r,i=e._mouseService.getMouseReportCoords(t,e.screenElement);if(!i)return!1;switch(t.overrideType||t.type){case"mousemove":r=32,void 0===t.buttons?(n=3,void 0!==t.button&&(n=t.button<3?t.button:3)):n=1&t.buttons?0:4&t.buttons?1:2&t.buttons?2:3;break;case"mouseup":r=0,n=t.button<3?t.button:3;break;case"mousedown":r=1,n=t.button<3?t.button:3;break;case"wheel":if(0===e.viewport.getLinesScrolled(t))return!1;r=t.deltaY<0?0:1,n=4;break;default:return!1}return!(void 0===r||void 0===n||n>4)&&e.coreMouseService.triggerMouseEvent({col:i.col,row:i.row,x:i.x,y:i.y,button:n,action:r,ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey})}let r={mouseup:null,wheel:null,mousedrag:null,mousemove:null},s=e=>(n(e),e.buttons||(this._document.removeEventListener("mouseup",r.mouseup),r.mousedrag&&this._document.removeEventListener("mousemove",r.mousedrag)),this.cancel(e)),a=e=>(n(e),this.cancel(e,!0)),o=e=>{e.buttons&&n(e)},l=e=>{e.buttons||n(e)};this.register(this.coreMouseService.onProtocolChange(e=>{e?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(e)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&e?r.mousemove||(t.addEventListener("mousemove",l),r.mousemove=l):(t.removeEventListener("mousemove",r.mousemove),r.mousemove=null),16&e?r.wheel||(t.addEventListener("wheel",a,{passive:!1}),r.wheel=a):(t.removeEventListener("wheel",r.wheel),r.wheel=null),2&e?r.mouseup||(t.addEventListener("mouseup",s),r.mouseup=s):(this._document.removeEventListener("mouseup",r.mouseup),t.removeEventListener("mouseup",r.mouseup),r.mouseup=null),4&e?r.mousedrag||(r.mousedrag=o):(this._document.removeEventListener("mousemove",r.mousedrag),r.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,i.addDisposableDomListener)(t,"mousedown",e=>{if(e.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(e))return n(e),r.mouseup&&this._document.addEventListener("mouseup",r.mouseup),r.mousedrag&&this._document.addEventListener("mousemove",r.mousedrag),this.cancel(e)})),this.register((0,i.addDisposableDomListener)(t,"wheel",e=>{if(!r.wheel){if(!this.buffer.hasScrollback){let t=this.viewport.getLinesScrolled(e);if(0===t)return;let n=k.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(e.deltaY<0?"A":"B"),r="";for(let e=0;e<Math.abs(t);e++)r+=n;return this.coreService.triggerDataEvent(r,!0),this.cancel(e,!0)}return this.viewport.handleWheel(e)?this.cancel(e):void 0}},{passive:!1})),this.register((0,i.addDisposableDomListener)(t,"touchstart",e=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(e),this.cancel(e)},{passive:!0})),this.register((0,i.addDisposableDomListener)(t,"touchmove",e=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(e)?void 0:this.cancel(e)},{passive:!1}))}refresh(e,t){var n;null==(n=this._renderService)||n.refreshRows(e,t)}updateCursorStyle(e){var t;(null==(t=this._selectionService)?void 0:t.shouldColumnSelect(e))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(e,t,n=0){var r;1===n?(super.scrollLines(e,t,n),this.refresh(0,this.rows-1)):null==(r=this.viewport)||r.scrollLines(e)}paste(e){(0,r.paste)(e,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(e){this._customKeyEventHandler=e}registerLinkProvider(e){return this.linkifier2.registerLinkProvider(e)}registerCharacterJoiner(e){if(!this._characterJoinerService)throw Error("Terminal must be opened first");let t=this._characterJoinerService.register(e);return this.refresh(0,this.rows-1),t}deregisterCharacterJoiner(e){if(!this._characterJoinerService)throw Error("Terminal must be opened first");this._characterJoinerService.deregister(e)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(e){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)}registerDecoration(e){return this._decorationService.registerDecoration(e)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(e,t,n){this._selectionService.setSelection(e,t,n)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var e;null==(e=this._selectionService)||e.clearSelection()}selectAll(){var e;null==(e=this._selectionService)||e.selectAll()}selectLines(e,t){var n;null==(n=this._selectionService)||n.selectLines(e,t)}_keyDown(e){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;let t=this.browser.isMac&&this.options.macOptionIsMeta&&e.altKey;if(!t&&!this._compositionHelper.keydown(e))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;t||"Dead"!==e.key&&"AltGraph"!==e.key||(this._unprocessedDeadKey=!0);let n=(0,C.evaluateKeyboardEvent)(e,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3===n.type||2===n.type){let t=this.rows-1;return this.scrollLines(2===n.type?-t:t),this.cancel(e,!0)}return 1===n.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(n.cancel&&this.cancel(e,!0),!n.key||!!(e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&1===e.key.length&&e.key.charCodeAt(0)>=65&&90>=e.key.charCodeAt(0))||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(n.key!==k.C0.ETX&&n.key!==k.C0.CR||(this.textarea.value=""),this._onKey.fire({key:n.key,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(n.key,!0),!this.optionsService.rawOptions.screenReaderMode||e.altKey||e.ctrlKey?this.cancel(e,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(e,t){let n=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey||e.isWindows&&t.getModifierState("AltGraph");return"keypress"===t.type?n:n&&(!t.keyCode||t.keyCode>47)}_keyUp(e){this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e)||(16===e.keyCode||17===e.keyCode||18===e.keyCode||this.focus(),this.updateCursorStyle(e),this._keyPressHandled=!1)}_keyPress(e){let t;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null===e.which||void 0===e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)||(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(t,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(e){if(e.data&&"insertText"===e.inputType&&(!e.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;let t=e.data;return this.coreService.triggerDataEvent(t,!0),this.cancel(e),!0}return!1}resize(e,t){e!==this.cols||t!==this.rows?super.resize(e,t):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(e,t){var n,r;null==(n=this._charSizeService)||n.measure(),null==(r=this.viewport)||r.syncScrollArea(!0)}clear(){var e;if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(E.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),null==(e=this.viewport)||e.reset(),this.refresh(0,this.rows-1)}}reset(){var e,t;this.options.rows=this.rows,this.options.cols=this.cols;let n=this._customKeyEventHandler;this._setup(),super.reset(),null==(e=this._selectionService)||e.reset(),this._decorationService.reset(),null==(t=this.viewport)||t.reset(),this._customKeyEventHandler=n,this.refresh(0,this.rows-1)}clearTextureAtlas(){var e;null==(e=this._renderService)||e.clearTextureAtlas()}_reportFocus(){var e;(null==(e=this.element)?void 0:e.classList.contains("focus"))?this.coreService.triggerDataEvent(k.C0.ESC+"[I"):this.coreService.triggerDataEvent(k.C0.ESC+"[O")}_reportWindowsOptions(e){if(this._renderService)switch(e){case N.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:let t=this._renderService.dimensions.css.canvas.width.toFixed(0),n=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${k.C0.ESC}[4;${n};${t}t`);break;case N.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:let r=this._renderService.dimensions.css.cell.width.toFixed(0),i=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${k.C0.ESC}[6;${i};${r}t`)}}cancel(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1}}t.Terminal=I},9924:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeBasedDebouncer=void 0,t.TimeBasedDebouncer=class{constructor(e,t=1e3){this._renderCallback=e,this._debounceThresholdMS=t,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(e,t,n){this._rowCount=n,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t;let r=Date.now();if(r-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=r,this._innerRefresh();else if(!this._additionalRefreshRequested){let e=r-this._lastRefreshMs,t=this._debounceThresholdMS-e;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},t)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;let e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t)}}},1680:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;let s=n(3656),a=n(4725),o=n(8460),l=n(844),c=n(2585),u=t.Viewport=class extends l.Disposable{constructor(e,t,n,r,i,a,l,c){super(),this._viewportElement=e,this._scrollArea=t,this._bufferService=n,this._optionsService=r,this._charSizeService=i,this._renderService=a,this._coreBrowserService=l,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new o.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,s.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(e=>this._activeBuffer=e.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(e=>this._renderDimensions=e)),this._handleThemeChange(c.colors),this.register(c.onChangeColors(e=>this._handleThemeChange(e))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(e){this._viewportElement.style.backgroundColor=e.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(e){e?(this._innerRefresh(),null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame)):null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;let e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}let e=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==e&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=e),this._refreshAnimationFrame=null}syncScrollArea(e=!1){this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length?(this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,this._refresh(e)):this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(e)}_handleScroll(e){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});let t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:t,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;let e=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(e*(this._smoothScrollState.target-this._smoothScrollState.origin)),e<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(e,t){let n=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(t<0&&0!==this._viewportElement.scrollTop||t>0&&n<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)}handleWheel(e){let t=this._getPixelsScrolled(e);return 0!==t&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),1>this._smoothScrollPercent()?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+t:this._smoothScrollState.target+=t,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))}scrollLines(e){if(0!==e)if(this._optionsService.rawOptions.smoothScrollDuration){let t=e*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),1>this._smoothScrollPercent()?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+t,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:e,suppressScrollEvent:!1})}_getPixelsScrolled(e){if(0===e.deltaY||e.shiftKey)return 0;let t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t}getBufferElements(e,t){var n;let r,i="",s=[],a=null!=t?t:this._bufferService.buffer.lines.length,o=this._bufferService.buffer.lines;for(let t=e;t<a;t++){let e=o.get(t);if(!e)continue;let a=null==(n=o.get(t+1))?void 0:n.isWrapped;if(i+=e.translateToString(!a),!a||t===o.length-1){let e=document.createElement("div");e.textContent=i,s.push(e),i.length>0&&(r=e),i=""}}return{bufferElements:s,cursorElement:r}}getLinesScrolled(e){if(0===e.deltaY||e.shiftKey)return 0;let t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t}_applyScrollModifier(e,t){let n=this._optionsService.rawOptions.fastScrollModifier;return"alt"===n&&t.altKey||"ctrl"===n&&t.ctrlKey||"shift"===n&&t.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(e){this._lastTouchY=e.touches[0].pageY}handleTouchMove(e){let t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))}};t.Viewport=r([i(2,c.IBufferService),i(3,c.IOptionsService),i(4,a.ICharSizeService),i(5,a.IRenderService),i(6,a.ICoreBrowserService),i(7,a.IThemeService)],u)},3107:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferDecorationRenderer=void 0;let s=n(3656),a=n(4725),o=n(844),l=n(2585),c=t.BufferDecorationRenderer=class extends o.Disposable{constructor(e,t,n,r){super(),this._screenElement=e,this._bufferService=t,this._decorationService=n,this._renderService=r,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,s.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(e=>this._removeDecoration(e))),this.register((0,o.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(let e of this._decorationService.decorations)this._renderDecoration(e);this._dimensionsChanged=!1}_renderDecoration(e){this._refreshStyle(e),this._dimensionsChanged&&this._refreshXPosition(e)}_createElement(e){var t,n;let r=document.createElement("div");r.classList.add("xterm-decoration"),r.classList.toggle("xterm-decoration-top-layer","top"===(null==(t=null==e?void 0:e.options)?void 0:t.layer)),r.style.width=`${Math.round((e.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,r.style.height=(e.options.height||1)*this._renderService.dimensions.css.cell.height+"px",r.style.top=(e.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",r.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;let i=null!=(n=e.options.x)?n:0;return i&&i>this._bufferService.cols&&(r.style.display="none"),this._refreshXPosition(e,r),r}_refreshStyle(e){let t=e.marker.line-this._bufferService.buffers.active.ydisp;if(t<0||t>=this._bufferService.rows)e.element&&(e.element.style.display="none",e.onRenderEmitter.fire(e.element));else{let n=this._decorationElements.get(e);n||(n=this._createElement(e),e.element=n,this._decorationElements.set(e,n),this._container.appendChild(n),e.onDispose(()=>{this._decorationElements.delete(e),n.remove()})),n.style.top=t*this._renderService.dimensions.css.cell.height+"px",n.style.display=this._altBufferIsActive?"none":"block",e.onRenderEmitter.fire(n)}}_refreshXPosition(e,t=e.element){var n;if(!t)return;let r=null!=(n=e.options.x)?n:0;"right"===(e.options.anchor||"left")?t.style.right=r?r*this._renderService.dimensions.css.cell.width+"px":"":t.style.left=r?r*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(e){var t;null==(t=this._decorationElements.get(e))||t.remove(),this._decorationElements.delete(e),e.dispose()}};t.BufferDecorationRenderer=r([i(1,l.IBufferService),i(2,l.IDecorationService),i(3,a.IRenderService)],c)},5871:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorZoneStore=void 0,t.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(e){if(e.options.overviewRulerOptions){for(let t of this._zones)if(t.color===e.options.overviewRulerOptions.color&&t.position===e.options.overviewRulerOptions.position){if(this._lineIntersectsZone(t,e.marker.line))return;if(this._lineAdjacentToZone(t,e.marker.line,e.options.overviewRulerOptions.position))return void this._addLineToZone(t,e.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=e.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=e.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=e.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=e.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:e.options.overviewRulerOptions.color,position:e.options.overviewRulerOptions.position,startBufferLine:e.marker.line,endBufferLine:e.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(e){this._linePadding=e}_lineIntersectsZone(e,t){return t>=e.startBufferLine&&t<=e.endBufferLine}_lineAdjacentToZone(e,t,n){return t>=e.startBufferLine-this._linePadding[n||"full"]&&t<=e.endBufferLine+this._linePadding[n||"full"]}_addLineToZone(e,t){e.startBufferLine=Math.min(e.startBufferLine,t),e.endBufferLine=Math.max(e.endBufferLine,t)}}},5744:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewRulerRenderer=void 0;let s=n(5871),a=n(3656),o=n(4725),l=n(844),c=n(2585),u={full:0,left:0,center:0,right:0},p={full:0,left:0,center:0,right:0},h={full:0,left:0,center:0,right:0},_=t.OverviewRulerRenderer=class extends l.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(e,t,n,r,i,a,o){var c;super(),this._viewportElement=e,this._screenElement=t,this._bufferService=n,this._decorationService=r,this._renderService=i,this._optionsService=a,this._coreBrowseService=o,this._colorZoneStore=new s.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null==(c=this._viewportElement.parentElement)||c.insertBefore(this._canvas,this._viewportElement);const u=this._canvas.getContext("2d");if(!u)throw Error("Ctx cannot be null");this._ctx=u,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,l.toDisposable)(()=>{var e;null==(e=this._canvas)||e.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,a.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){let e=Math.floor(this._canvas.width/3),t=Math.ceil(this._canvas.width/3);p.full=this._canvas.width,p.left=e,p.center=t,p.right=e,this._refreshDrawHeightConstants(),h.full=0,h.left=0,h.center=p.left,h.right=p.left+p.center}_refreshDrawHeightConstants(){u.full=Math.round(2*this._coreBrowseService.dpr);let e=Math.round(Math.max(Math.min(this._canvas.height/this._bufferService.buffer.lines.length,12),6)*this._coreBrowseService.dpr);u.left=e,u.center=e,u.right=e}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){for(let e of(this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear(),this._decorationService.decorations))this._colorZoneStore.addDecoration(e);this._ctx.lineWidth=1;let e=this._colorZoneStore.zones;for(let t of e)"full"!==t.position&&this._renderColorZone(t);for(let t of e)"full"===t.position&&this._renderColorZone(t);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(e){this._ctx.fillStyle=e.color,this._ctx.fillRect(h[e.position||"full"],Math.round((this._canvas.height-1)*(e.startBufferLine/this._bufferService.buffers.active.lines.length)-u[e.position||"full"]/2),p[e.position||"full"],Math.round((this._canvas.height-1)*((e.endBufferLine-e.startBufferLine)/this._bufferService.buffers.active.lines.length)+u[e.position||"full"]))}_queueRefresh(e,t){this._shouldUpdateDimensions=e||this._shouldUpdateDimensions,this._shouldUpdateAnchor=t||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};t.OverviewRulerRenderer=r([i(2,c.IBufferService),i(3,c.IDecorationService),i(4,o.IRenderService),i(5,c.IOptionsService),i(6,o.ICoreBrowserService)],_)},2950:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHelper=void 0;let s=n(4725),a=n(2585),o=n(2584),l=t.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(e,t,n,r,i,s){this._textarea=e,this._compositionView=t,this._bufferService=n,this._optionsService=r,this._coreService=i,this._renderService=s,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(e){this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode||16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(e){if(this._compositionView.classList.remove("active"),this._isComposing=!1,e){let e={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let t;this._isSendingComposition=!1,e.start+=this._dataAlreadySent.length,(t=this._isComposing?this._textarea.value.substring(e.start,e.end):this._textarea.value.substring(e.start)).length>0&&this._coreService.triggerDataEvent(t,!0)}},0)}else{this._isSendingComposition=!1;let e=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(e,!0)}}_handleAnyTextareaChanges(){let e=this._textarea.value;setTimeout(()=>{if(!this._isComposing){let t=this._textarea.value,n=t.replace(e,"");this._dataAlreadySent=n,t.length>e.length?this._coreService.triggerDataEvent(n,!0):t.length<e.length?this._coreService.triggerDataEvent(`${o.C0.DEL}`,!0):t.length===e.length&&t!==e&&this._coreService.triggerDataEvent(t,!0)}},0)}updateCompositionElements(e){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){let e=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),t=this._renderService.dimensions.css.cell.height,n=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,r=e*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=r+"px",this._compositionView.style.top=n+"px",this._compositionView.style.height=t+"px",this._compositionView.style.lineHeight=t+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";let i=this._compositionView.getBoundingClientRect();this._textarea.style.left=r+"px",this._textarea.style.top=n+"px",this._textarea.style.width=Math.max(i.width,1)+"px",this._textarea.style.height=Math.max(i.height,1)+"px",this._textarea.style.lineHeight=i.height+"px"}e||setTimeout(()=>this.updateCompositionElements(!0),0)}}};t.CompositionHelper=r([i(2,a.IBufferService),i(3,a.IOptionsService),i(4,a.ICoreService),i(5,s.IRenderService)],l)},9806:(e,t)=>{function n(e,t,n){let r=n.getBoundingClientRect(),i=e.getComputedStyle(n),s=parseInt(i.getPropertyValue("padding-left")),a=parseInt(i.getPropertyValue("padding-top"));return[t.clientX-r.left-s,t.clientY-r.top-a]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCoords=t.getCoordsRelativeToElement=void 0,t.getCoordsRelativeToElement=n,t.getCoords=function(e,t,r,i,s,a,o,l,c){if(!a)return;let u=n(e,t,r);return u[0]=Math.ceil((u[0]+(c?o/2:0))/o),u[1]=Math.ceil(u[1]/l),u[0]=Math.min(Math.max(u[0],1),i+ +!!c),u[1]=Math.min(Math.max(u[1],1),s),u}},9504:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.moveToCellSequence=void 0;let r=n(2584);function i(e,t,n,r){return l(Math.abs(e-s(e,n)-(t-s(t,n)))-function(e,t,n){let r=0,i=e-s(e,n),a=t-s(t,n);for(let s=0;s<Math.abs(i-a);s++){let a="A"==(e>t?"A":"B")?-1:1,o=n.buffer.lines.get(i+a*s);(null==o?void 0:o.isWrapped)&&r++}return r}(e,t,n),o(e>t?"A":"B",r))}function s(e,t){let n=0,r=t.buffer.lines.get(e),i=null==r?void 0:r.isWrapped;for(;i&&e>=0&&e<t.rows;)n++,i=null==(r=t.buffer.lines.get(--e))?void 0:r.isWrapped;return n}function a(e,t,n,r,i,s){let a=e,o=t,l="";for(;a!==n||o!==r;)a+=i?1:-1,i&&a>s.cols-1?(l+=s.buffer.translateBufferLineToString(o,!1,e,a),a=0,e=0,o++):!i&&a<0&&(l+=s.buffer.translateBufferLineToString(o,!1,0,e+1),e=a=s.cols-1,o--);return l+s.buffer.translateBufferLineToString(o,!1,e,a)}function o(e,t){return r.C0.ESC+(t?"O":"[")+e}function l(e,t){e=Math.floor(e);let n="";for(let r=0;r<e;r++)n+=t;return n}t.moveToCellSequence=function(e,t,n,r){var c;let u,p=n.buffer.x,h=n.buffer.y;if(!n.buffer.hasScrollback){let c,u,_;return(0===i(h,t,n,r).length?"":l(a(p,h,p,h-s(h,n),!1,n).length,o("D",r)))+i(h,t,n,r)+(c=i(h,t,n,r).length>0?t-s(t,n):h,u=i(e,t,n,r).length>0?t-s(t,n):h,_=p<e&&u<=t||p>=e&&u<t?"C":"D",l(a(p,c,e,t,"C"===_,n).length,o(_,r)))}if(h===t)return u=p>e?"D":"C",l(Math.abs(p-e),o(u,r));u=h>t?"D":"C";let _=Math.abs(h-t);return l((c=h>t?e:p,n.cols-c+(_-1)*n.cols+1+((h>t?p:e)-1)),o(u,r))}},1296:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRenderer=void 0;let s=n(3787),a=n(2550),o=n(2223),l=n(6171),c=n(4725),u=n(8055),p=n(8460),h=n(844),_=n(2585),f="xterm-dom-renderer-owner-",d="xterm-rows",g="xterm-fg-",m="xterm-bg-",v="xterm-focus",b="xterm-selection",y=1,$=t.DomRenderer=class extends h.Disposable{constructor(e,t,n,r,i,o,c,u,_,g){super(),this._element=e,this._screenElement=t,this._viewportElement=n,this._linkifier2=r,this._charSizeService=o,this._optionsService=c,this._bufferService=u,this._coreBrowserService=_,this._themeService=g,this._terminalClass=y++,this._rowElements=[],this.onRequestRedraw=this.register(new p.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(d),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(b),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,l.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(e=>this._injectCss(e))),this._injectCss(this._themeService.colors),this._rowFactory=i.createInstance(s.DomRendererRowFactory,document),this._element.classList.add(f+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(e=>this._handleLinkHover(e))),this.register(this._linkifier2.onHideLinkUnderline(e=>this._handleLinkLeave(e))),this.register((0,h.toDisposable)(()=>{this._element.classList.remove(f+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new a.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){let e=this._coreBrowserService.dpr;for(let t of(this.dimensions.device.char.width=this._charSizeService.width*e,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*e),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/e),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/e),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows,this._rowElements))t.style.width=`${this.dimensions.css.canvas.width}px`,t.style.height=`${this.dimensions.css.cell.height}px`,t.style.lineHeight=`${this.dimensions.css.cell.height}px`,t.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));let t=`${this._terminalSelector} .${d} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=t,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(e){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let t=`${this._terminalSelector} .${d} { color: ${e.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;for(let[n,r]of(t+=`${this._terminalSelector} .${d} .xterm-dim { color: ${u.color.multiplyOpacity(e.foreground,.5).css};}${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}@keyframes blink_box_shadow_`+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}"+("@keyframes blink_block_"+this._terminalClass+" { 0% {"+`  background-color: ${e.cursor.css};`)+`  color: ${e.cursorAccent.css}; } 50% {  background-color: inherit;`+`  color: ${e.cursor.css}; }}`+(`${this._terminalSelector} .${d}.${v} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+" 1s step-end infinite;}"+`${this._terminalSelector} .${d}.${v} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+" 1s step-end infinite;}"+`${this._terminalSelector} .${d} .xterm-cursor.xterm-cursor-block {`+` background-color: ${e.cursor.css};`+` color: ${e.cursorAccent.css};}`+`${this._terminalSelector} .${d} .xterm-cursor.xterm-cursor-outline {`+` outline: 1px solid ${e.cursor.css}; outline-offset: -1px;}`+`${this._terminalSelector} .${d} .xterm-cursor.xterm-cursor-bar {`+` box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${e.cursor.css} inset;}`)+`${this._terminalSelector} .${d} .xterm-cursor.xterm-cursor-underline {`+` border-bottom: 1px ${e.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`+`${this._terminalSelector} .${b} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${b} div { position: absolute; background-color: ${e.selectionBackgroundOpaque.css};}${this._terminalSelector} .${b} div { position: absolute; background-color: ${e.selectionInactiveBackgroundOpaque.css};}`,e.ansi.entries()))t+=`${this._terminalSelector} .${g}${n} { color: ${r.css}; }${this._terminalSelector} .${g}${n}.xterm-dim { color: ${u.color.multiplyOpacity(r,.5).css}; }${this._terminalSelector} .${m}${n} { background-color: ${r.css}; }`;t+=`${this._terminalSelector} .${g}${o.INVERTED_DEFAULT_COLOR} { color: ${u.color.opaque(e.background).css}; }${this._terminalSelector} .${g}${o.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${u.color.multiplyOpacity(u.color.opaque(e.background),.5).css}; }${this._terminalSelector} .${m}${o.INVERTED_DEFAULT_COLOR} { background-color: ${e.foreground.css}; }`,this._themeStyleElement.textContent=t}_setDefaultSpacing(){let e=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${e}px`,this._rowFactory.defaultSpacing=e}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(e,t){for(let e=this._rowElements.length;e<=t;e++){let e=document.createElement("div");this._rowContainer.appendChild(e),this._rowElements.push(e)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(e,t){this._refreshRowElements(e,t),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(v)}handleFocus(){this._rowContainer.classList.add(v),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(e,t,n){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(e,t,n),this.renderRows(0,this._bufferService.rows-1),!e||!t)return;let r=e[1]-this._bufferService.buffer.ydisp,i=t[1]-this._bufferService.buffer.ydisp,s=Math.max(r,0),a=Math.min(i,this._bufferService.rows-1);if(s>=this._bufferService.rows||a<0)return;let o=document.createDocumentFragment();if(n){let n=e[0]>t[0];o.appendChild(this._createSelectionElement(s,n?t[0]:e[0],n?e[0]:t[0],a-s+1))}else{let n=r===s?e[0]:0,l=s===i?t[0]:this._bufferService.cols;if(o.appendChild(this._createSelectionElement(s,n,l)),o.appendChild(this._createSelectionElement(s+1,0,this._bufferService.cols,a-s-1)),s!==a){let e=i===a?t[0]:this._bufferService.cols;o.appendChild(this._createSelectionElement(a,0,e))}}this._selectionContainer.appendChild(o)}_createSelectionElement(e,t,n,r=1){let i=document.createElement("div");return i.style.height=r*this.dimensions.css.cell.height+"px",i.style.top=e*this.dimensions.css.cell.height+"px",i.style.left=t*this.dimensions.css.cell.width+"px",i.style.width=this.dimensions.css.cell.width*(n-t)+"px",i}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(let e of this._rowElements)e.replaceChildren()}renderRows(e,t){let n=this._bufferService.buffer,r=n.ybase+n.y,i=Math.min(n.x,this._bufferService.cols-1),s=this._optionsService.rawOptions.cursorBlink,a=this._optionsService.rawOptions.cursorStyle,o=this._optionsService.rawOptions.cursorInactiveStyle;for(let l=e;l<=t;l++){let e=l+n.ydisp,t=this._rowElements[l],c=n.lines.get(e);if(!t||!c)break;t.replaceChildren(...this._rowFactory.createRow(c,e,e===r,a,o,i,s,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${f}${this._terminalClass}`}_handleLinkHover(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)}_handleLinkLeave(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)}_setCellUnderline(e,t,n,r,i,s){n<0&&(e=0),r<0&&(t=0);let a=this._bufferService.rows-1;n=Math.max(Math.min(n,a),0),r=Math.max(Math.min(r,a),0),i=Math.min(i,this._bufferService.cols);let o=this._bufferService.buffer,l=o.ybase+o.y,c=Math.min(o.x,i-1),u=this._optionsService.rawOptions.cursorBlink,p=this._optionsService.rawOptions.cursorStyle,h=this._optionsService.rawOptions.cursorInactiveStyle;for(let a=n;a<=r;++a){let _=a+o.ydisp,f=this._rowElements[a],d=o.lines.get(_);if(!f||!d)break;f.replaceChildren(...this._rowFactory.createRow(d,_,_===l,p,h,c,u,this.dimensions.css.cell.width,this._widthCache,s?a===n?e:0:-1,s?(a===r?t:i)-1:-1))}}};t.DomRenderer=r([i(4,_.IInstantiationService),i(5,c.ICharSizeService),i(6,_.IOptionsService),i(7,_.IBufferService),i(8,c.ICoreBrowserService),i(9,c.IThemeService)],$)},3787:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRendererRowFactory=void 0;let s=n(2223),a=n(643),o=n(511),l=n(2585),c=n(8055),u=n(4725),p=n(4269),h=n(6171),_=n(3734),f=t.DomRendererRowFactory=class{constructor(e,t,n,r,i,s,a){this._document=e,this._characterJoinerService=t,this._optionsService=n,this._coreBrowserService=r,this._coreService=i,this._decorationService=s,this._themeService=a,this._workCell=new o.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(e,t,n){this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=n}createRow(e,t,n,r,i,o,l,u,h,f,g){let m=[],v=this._characterJoinerService.getJoinedCharacters(t),b=this._themeService.colors,y,$=e.getNoBgTrimmedLength();n&&$<o+1&&($=o+1);let x=0,S="",A=0,w=0,E=0,k=!1,C=0,O=!1,R=0,T=[],N=-1!==f&&-1!==g;for(let P=0;P<$;P++){e.loadCell(P,this._workCell);let $=this._workCell.getWidth();if(0===$)continue;let L=!1,I=P,D=this._workCell;if(v.length>0&&P===v[0][0]){L=!0;let t=v.shift();D=new p.JoinedCellData(this._workCell,e.translateToString(!0,t[0],t[1]),t[1]-t[0]),I=t[1]-1,$=D.getWidth()}let M=this._isCellInSelection(P,t),F=n&&P===o,B=N&&P>=f&&P<=g,H=!1;this._decorationService.forEachDecorationAtCell(P,t,void 0,e=>{H=!0});let U=D.getChars()||a.WHITESPACE_CELL_CHAR;if(" "===U&&(D.isUnderline()||D.isOverline())&&(U="Â "),R=$*u-h.get(U,D.isBold(),D.isItalic()),y){if(x&&(M&&O||!M&&!O&&D.bg===A)&&(M&&O&&b.selectionForeground||D.fg===w)&&D.extended.ext===E&&B===k&&R===C&&!F&&!L&&!H){S+=U,x++;continue}x&&(y.textContent=S),y=this._document.createElement("span"),x=0,S=""}else y=this._document.createElement("span");if(A=D.bg,w=D.fg,E=D.extended.ext,k=B,C=R,O=M,L&&o>=P&&o<=I&&(o=P),!this._coreService.isCursorHidden&&F){if(T.push("xterm-cursor"),this._coreBrowserService.isFocused)l&&T.push("xterm-cursor-blink"),T.push("bar"===r?"xterm-cursor-bar":"underline"===r?"xterm-cursor-underline":"xterm-cursor-block");else if(i)switch(i){case"outline":T.push("xterm-cursor-outline");break;case"block":T.push("xterm-cursor-block");break;case"bar":T.push("xterm-cursor-bar");break;case"underline":T.push("xterm-cursor-underline")}}if(D.isBold()&&T.push("xterm-bold"),D.isItalic()&&T.push("xterm-italic"),D.isDim()&&T.push("xterm-dim"),S=D.isInvisible()?a.WHITESPACE_CELL_CHAR:D.getChars()||a.WHITESPACE_CELL_CHAR,D.isUnderline()&&(T.push(`xterm-underline-${D.extended.underlineStyle}`)," "===S&&(S="Â "),!D.isUnderlineColorDefault()))if(D.isUnderlineColorRGB())y.style.textDecorationColor=`rgb(${_.AttributeData.toColorRGB(D.getUnderlineColor()).join(",")})`;else{let e=D.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&D.isBold()&&e<8&&(e+=8),y.style.textDecorationColor=b.ansi[e].css}D.isOverline()&&(T.push("xterm-overline")," "===S&&(S="Â ")),D.isStrikethrough()&&T.push("xterm-strikethrough"),B&&(y.style.textDecoration="underline");let j=D.getFgColor(),W=D.getFgColorMode(),q=D.getBgColor(),z=D.getBgColorMode(),G=!!D.isInverse();if(G){let e=j;j=q,q=e;let t=W;W=z,z=t}let V,Z,K,X=!1;switch(this._decorationService.forEachDecorationAtCell(P,t,void 0,e=>{"top"!==e.options.layer&&X||(e.backgroundColorRGB&&(z=0x3000000,q=e.backgroundColorRGB.rgba>>8&0xffffff,V=e.backgroundColorRGB),e.foregroundColorRGB&&(W=0x3000000,j=e.foregroundColorRGB.rgba>>8&0xffffff,Z=e.foregroundColorRGB),X="top"===e.options.layer)}),!X&&M&&(q=(V=this._coreBrowserService.isFocused?b.selectionBackgroundOpaque:b.selectionInactiveBackgroundOpaque).rgba>>8&0xffffff,z=0x3000000,X=!0,b.selectionForeground&&(W=0x3000000,j=b.selectionForeground.rgba>>8&0xffffff,Z=b.selectionForeground)),X&&T.push("xterm-decoration-top"),z){case 0x1000000:case 0x2000000:K=b.ansi[q],T.push(`xterm-bg-${q}`);break;case 0x3000000:K=c.rgba.toColor(q>>16,q>>8&255,255&q),this._addStyle(y,`background-color:#${d((q>>>0).toString(16),"0",6)}`);break;default:G?(K=b.foreground,T.push(`xterm-bg-${s.INVERTED_DEFAULT_COLOR}`)):K=b.background}switch(V||D.isDim()&&(V=c.color.multiplyOpacity(K,.5)),W){case 0x1000000:case 0x2000000:D.isBold()&&j<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(j+=8),this._applyMinimumContrast(y,K,b.ansi[j],D,V,void 0)||T.push(`xterm-fg-${j}`);break;case 0x3000000:let Q=c.rgba.toColor(j>>16&255,j>>8&255,255&j);this._applyMinimumContrast(y,K,Q,D,V,Z)||this._addStyle(y,`color:#${d(j.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(y,K,b.foreground,D,V,void 0)||G&&T.push(`xterm-fg-${s.INVERTED_DEFAULT_COLOR}`)}T.length&&(y.className=T.join(" "),T.length=0),F||L||H?y.textContent=S:x++,R!==this.defaultSpacing&&(y.style.letterSpacing=`${R}px`),m.push(y),P=I}return y&&x&&(y.textContent=S),m}_applyMinimumContrast(e,t,n,r,i,s){let a;if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,h.excludeFromContrastRatioDemands)(r.getCode()))return!1;let o=this._getContrastCache(r);if(i||s||(a=o.getColor(t.rgba,n.rgba)),void 0===a){let e=this._optionsService.rawOptions.minimumContrastRatio/(r.isDim()?2:1);a=c.color.ensureContrastRatio(i||t,s||n,e),o.setColor((i||t).rgba,(s||n).rgba,null!=a?a:null)}return!!a&&(this._addStyle(e,`color:${a.css}`),!0)}_getContrastCache(e){return e.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(e,t){e.setAttribute("style",`${e.getAttribute("style")||""}${t};`)}_isCellInSelection(e,t){let n=this._selectionStart,r=this._selectionEnd;return!(!n||!r)&&(this._columnSelectMode?n[0]<=r[0]?e>=n[0]&&t>=n[1]&&e<r[0]&&t<=r[1]:e<n[0]&&t>=n[1]&&e>=r[0]&&t<=r[1]:t>n[1]&&t<r[1]||n[1]===r[1]&&t===n[1]&&e>=n[0]&&e<r[0]||n[1]<r[1]&&t===r[1]&&e<r[0]||n[1]<r[1]&&t===n[1]&&e>=n[0])}};function d(e,t,n){for(;e.length<n;)e=t+e;return e}t.DomRendererRowFactory=r([i(1,u.ICharacterJoinerService),i(2,l.IOptionsService),i(3,u.ICoreBrowserService),i(4,l.ICoreService),i(5,l.IDecorationService),i(6,u.IThemeService)],f)},2550:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WidthCache=void 0,t.WidthCache=class{constructor(e){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=e.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const t=e.createElement("span"),n=e.createElement("span");n.style.fontWeight="bold";const r=e.createElement("span");r.style.fontStyle="italic";const i=e.createElement("span");i.style.fontWeight="bold",i.style.fontStyle="italic",this._measureElements=[t,n,r,i],this._container.appendChild(t),this._container.appendChild(n),this._container.appendChild(r),this._container.appendChild(i),e.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(e,t,n,r){e===this._font&&t===this._fontSize&&n===this._weight&&r===this._weightBold||(this._font=e,this._fontSize=t,this._weight=n,this._weightBold=r,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${n}`,this._measureElements[1].style.fontWeight=`${r}`,this._measureElements[2].style.fontWeight=`${n}`,this._measureElements[3].style.fontWeight=`${r}`,this.clear())}get(e,t,n){let r=0;if(!t&&!n&&1===e.length&&(r=e.charCodeAt(0))<256)return -9999!==this._flat[r]?this._flat[r]:this._flat[r]=this._measure(e,0);let i=e;t&&(i+="B"),n&&(i+="I");let s=this._holey.get(i);if(void 0===s){let r=0;t&&(r|=1),n&&(r|=2),s=this._measure(e,r),this._holey.set(i,s)}return s}_measure(e,t){let n=this._measureElements[t];return n.textContent=e.repeat(32),n.offsetWidth/32}}},2223:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_BASELINE=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0;let r=n(6114);t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.TEXT_BASELINE=r.isFirefox||r.isLegacyEdge?"bottom":"ideographic"},6171:(e,t)=>{function n(e){return 57508<=e&&e<=57558}Object.defineProperty(t,"__esModule",{value:!0}),t.createRenderDimensions=t.excludeFromContrastRatioDemands=t.isRestrictedPowerlineGlyph=t.isPowerlineGlyph=t.throwIfFalsy=void 0,t.throwIfFalsy=function(e){if(!e)throw Error("value must not be falsy");return e},t.isPowerlineGlyph=n,t.isRestrictedPowerlineGlyph=function(e){return 57520<=e&&e<=57527},t.excludeFromContrastRatioDemands=function(e){return n(e)||9472<=e&&e<=9631},t.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionModel=void 0,t.SelectionModel=class{constructor(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){let e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?e%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)-1]:[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){let e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[Math.max(e,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){let e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])}handleTrim(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharSizeService=void 0;let s=n(2585),a=n(8460),o=n(844),l=t.CharSizeService=class extends o.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(e,t,n){super(),this._optionsService=n,this.width=0,this.height=0,this._onCharSizeChange=this.register(new a.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new c(e,t,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){let e=this._measureStrategy.measure();e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())}};t.CharSizeService=l=r([i(2,s.IOptionsService)],l);class c{constructor(e,t,n){this._document=e,this._parentElement=t,this._optionsService=n,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;let e={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return 0!==e.width&&0!==e.height&&(this._result.width=e.width/32,this._result.height=Math.ceil(e.height)),this._result}}},4269:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerService=t.JoinedCellData=void 0;let s=n(3734),a=n(643),o=n(511),l=n(2585);class c extends s.AttributeData{constructor(e,t,n){super(),this.content=0,this.combinedData="",this.fg=e.fg,this.bg=e.bg,this.combinedData=t,this._width=n}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(e){throw Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.JoinedCellData=c;let u=t.CharacterJoinerService=class e{constructor(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new o.CellData}register(e){let t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id}deregister(e){for(let t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1}getJoinedCharacters(e){if(0===this._characterJoiners.length)return[];let t=this._bufferService.buffer.lines.get(e);if(!t||0===t.length)return[];let n=[],r=t.translateToString(!0),i=0,s=0,o=0,l=t.getFg(0),c=t.getBg(0);for(let e=0;e<t.getTrimmedLength();e++)if(t.loadCell(e,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==l||this._workCell.bg!==c){if(e-i>1){let e=this._getJoinedRanges(r,o,s,t,i);for(let t=0;t<e.length;t++)n.push(e[t])}i=e,o=s,l=this._workCell.fg,c=this._workCell.bg}s+=this._workCell.getChars().length||a.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-i>1){let e=this._getJoinedRanges(r,o,s,t,i);for(let t=0;t<e.length;t++)n.push(e[t])}return n}_getJoinedRanges(t,n,r,i,s){let a=t.substring(n,r),o=[];try{o=this._characterJoiners[0].handler(a)}catch(e){console.error(e)}for(let t=1;t<this._characterJoiners.length;t++)try{let n=this._characterJoiners[t].handler(a);for(let t=0;t<n.length;t++)e._mergeRanges(o,n[t])}catch(e){console.error(e)}return this._stringRangesToCellRanges(o,i,s),o}_stringRangesToCellRanges(e,t,n){let r=0,i=!1,s=0,o=e[0];if(o){for(let l=n;l<this._bufferService.cols;l++){let n=t.getWidth(l),c=t.getString(l).length||a.WHITESPACE_CELL_CHAR.length;if(0!==n){if(!i&&o[0]<=s&&(o[0]=l,i=!0),o[1]<=s){if(o[1]=l,!(o=e[++r]))break;o[0]<=s?(o[0]=l,i=!0):i=!1}s+=c}}o&&(o[1]=this._bufferService.cols)}}static _mergeRanges(e,t){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];if(n){if(t[1]<=i[0])return e[r-1][1]=t[1],e;if(t[1]<=i[1])return e[r-1][1]=Math.max(t[1],i[1]),e.splice(r,1),e;e.splice(r,1),r--}else{if(t[1]<=i[0])return e.splice(r,0,t),e;if(t[1]<=i[1])return i[0]=Math.min(t[0],i[0]),e;t[0]<i[1]&&(i[0]=Math.min(t[0],i[0]),n=!0)}}return n?e[e.length-1][1]=t[1]:e.push(t),e}};t.CharacterJoinerService=r([i(0,l.IBufferService)],u)},5114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreBrowserService=void 0,t.CoreBrowserService=class{constructor(e,t){this._textarea=e,this.window=t,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseService=void 0;let s=n(4725),a=n(9806),o=t.MouseService=class{constructor(e,t){this._renderService=e,this._charSizeService=t}getCoords(e,t,n,r,i){return(0,a.getCoords)(window,e,t,n,r,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,i)}getMouseReportCoords(e,t){let n=(0,a.getCoordsRelativeToElement)(window,e,t);if(this._charSizeService.hasValidSize)return n[0]=Math.min(Math.max(n[0],0),this._renderService.dimensions.css.canvas.width-1),n[1]=Math.min(Math.max(n[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(n[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(n[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(n[0]),y:Math.floor(n[1])}}};t.MouseService=r([i(0,s.IRenderService),i(1,s.ICharSizeService)],o)},3230:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderService=void 0;let s=n(3656),a=n(6193),o=n(5596),l=n(4725),c=n(8460),u=n(844),p=n(7226),h=n(2585),_=t.RenderService=class extends u.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(e,t,n,r,i,l,h,_){if(super(),this._rowCount=e,this._charSizeService=r,this._renderer=this.register(new u.MutableDisposable),this._pausedResizeTask=new p.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new c.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new c.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new c.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new c.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new a.RenderDebouncer(h.window,(e,t)=>this._renderRows(e,t)),this.register(this._renderDebouncer),this._screenDprMonitor=new o.ScreenDprMonitor(h.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(l.onResize(()=>this._fullRefresh())),this.register(l.buffers.onBufferActivate(()=>{var e;return null==(e=this._renderer.value)?void 0:e.clear()})),this.register(n.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(i.onDecorationRegistered(()=>this._fullRefresh())),this.register(i.onDecorationRemoved(()=>this._fullRefresh())),this.register(n.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(l.cols,l.rows),this._fullRefresh()})),this.register(n.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(l.buffer.y,l.buffer.y,!0))),this.register((0,s.addDisposableDomListener)(h.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(_.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in h.window){const e=new h.window.IntersectionObserver(e=>this._handleIntersectionChange(e[e.length-1]),{threshold:0});e.observe(t),this.register({dispose:()=>e.disconnect()})}}_handleIntersectionChange(e){this._isPaused=void 0===e.isIntersecting?0===e.intersectionRatio:!e.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(e,t,n=!1){this._isPaused?this._needsFullRefresh=!0:(n||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount))}_renderRows(e,t){this._renderer.value&&(e=Math.min(e,this._rowCount-1),t=Math.min(t,this._rowCount-1),this._renderer.value.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:e,end:t}),this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0)}resize(e,t){this._rowCount=t,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(e){this._renderer.value=e,this._renderer.value.onRequestRedraw(e=>this.refreshRows(e.start,e.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(e){return this._renderDebouncer.addRefreshCallback(e)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var e,t;this._renderer.value&&(null==(t=(e=this._renderer.value).clearTextureAtlas)||t.call(e),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(e,t){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(e,t)):this._renderer.value.handleResize(e,t),this._fullRefresh())}handleCharSizeChanged(){var e;null==(e=this._renderer.value)||e.handleCharSizeChanged()}handleBlur(){var e;null==(e=this._renderer.value)||e.handleBlur()}handleFocus(){var e;null==(e=this._renderer.value)||e.handleFocus()}handleSelectionChanged(e,t,n){var r;this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=n,null==(r=this._renderer.value)||r.handleSelectionChanged(e,t,n)}handleCursorMove(){var e;null==(e=this._renderer.value)||e.handleCursorMove()}clear(){var e;null==(e=this._renderer.value)||e.clear()}};t.RenderService=r([i(2,h.IOptionsService),i(3,l.ICharSizeService),i(4,h.IDecorationService),i(5,h.IBufferService),i(6,l.ICoreBrowserService),i(7,l.IThemeService)],_)},9312:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionService=void 0;let s=n(9806),a=n(9504),o=n(456),l=n(4725),c=n(8460),u=n(844),p=n(6114),h=n(4841),_=n(511),f=n(2585),d=RegExp(String.fromCharCode(160),"g"),g=t.SelectionService=class extends u.Disposable{constructor(e,t,n,r,i,s,a,l,p){super(),this._element=e,this._screenElement=t,this._linkifier=n,this._bufferService=r,this._coreService=i,this._mouseService=s,this._optionsService=a,this._renderService=l,this._coreBrowserService=p,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new _.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new c.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new c.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new c.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new c.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=e=>this._handleMouseMove(e),this._mouseUpListener=e=>this._handleMouseUp(e),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(e=>this._handleTrim(e)),this.register(this._bufferService.buffers.onBufferActivate(e=>this._handleBufferActivate(e))),this.enable(),this._model=new o.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,u.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t||e[0]===t[0]&&e[1]===t[1])}get selectionText(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";let n=this._bufferService.buffer,r=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return"";let i=e[0]<t[0]?e[0]:t[0],s=e[0]<t[0]?t[0]:e[0];for(let a=e[1];a<=t[1];a++){let e=n.translateBufferLineToString(a,!0,i,s);r.push(e)}}else{let i=e[1]===t[1]?t[0]:void 0;r.push(n.translateBufferLineToString(e[1],!0,e[0],i));for(let i=e[1]+1;i<=t[1]-1;i++){let e=n.lines.get(i),t=n.translateBufferLineToString(i,!0);(null==e?void 0:e.isWrapped)?r[r.length-1]+=t:r.push(t)}if(e[1]!==t[1]){let e=n.lines.get(t[1]),i=n.translateBufferLineToString(t[1],!0,0,t[0]);e&&e.isWrapped?r[r.length-1]+=i:r.push(i)}}return r.map(e=>e.replace(d," ")).join(p.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(e){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),p.isLinux&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(e){let t=this._getMouseBufferCoords(e),n=this._model.finalSelectionStart,r=this._model.finalSelectionEnd;return!!(n&&r&&t)&&this._areCoordsInSelection(t,n,r)}isCellInSelection(e,t){let n=this._model.finalSelectionStart,r=this._model.finalSelectionEnd;return!(!n||!r)&&this._areCoordsInSelection([e,t],n,r)}_areCoordsInSelection(e,t,n){return e[1]>t[1]&&e[1]<n[1]||t[1]===n[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<n[0]||t[1]<n[1]&&e[1]===n[1]&&e[0]<n[0]||t[1]<n[1]&&e[1]===t[1]&&e[0]>=t[0]}_selectWordAtCursor(e,t){var n,r;let i=null==(r=null==(n=this._linkifier.currentLink)?void 0:n.link)?void 0:r.range;if(i)return this._model.selectionStart=[i.start.x-1,i.start.y-1],this._model.selectionStartLength=(0,h.getRangeLength)(i,this._bufferService.cols),this._model.selectionEnd=void 0,!0;let s=this._getMouseBufferCoords(e);return!!s&&(this._selectWordAt(s,t),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()}_handleTrim(e){this._model.handleTrim(e)&&this.refresh()}_getMouseBufferCoords(e){let t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t}_getMouseEventScrollAmount(e){let t=(0,s.getCoordsRelativeToElement)(this._coreBrowserService.window,e,this._screenElement)[1],n=this._renderService.dimensions.css.canvas.height;return t>=0&&t<=n?0:(t>n&&(t-=n),(t=Math.min(Math.max(t,-50),50)/50)/Math.abs(t)+Math.round(14*t))}shouldForceSelection(e){return p.isMac?e.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:e.shiftKey}handleMouseDown(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._handleIncrementalClick(e):1===e.detail?this._handleSingleClick(e):2===e.detail?this._handleDoubleClick(e):3===e.detail&&this._handleTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))}_handleSingleClick(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=3*!!this.shouldColumnSelect(e),this._model.selectionStart=this._getMouseBufferCoords(e),!this._model.selectionStart)return;this._model.selectionEnd=void 0;let t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&0===t.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(e){this._selectWordAtCursor(e,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(e){let t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))}shouldColumnSelect(e){return e.altKey&&!(p.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(e){if(e.stopImmediatePropagation(),!this._model.selectionStart)return;let t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));let n=this._bufferService.buffer;if(this._model.selectionEnd[1]<n.lines.length){let e=n.lines.get(this._model.selectionEnd[1]);e&&0===e.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});let e=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}}_handleMouseUp(e){let t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500&&e.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){let t=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(t&&void 0!==t[0]&&void 0!==t[1]){let e=(0,a.moveToCellSequence)(t[0]-1,t[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(e,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd,n=!(!e||!t||e[0]===t[0]&&e[1]===t[1]);n?e&&t&&(this._oldSelectionStart&&this._oldSelectionEnd&&e[0]===this._oldSelectionStart[0]&&e[1]===this._oldSelectionStart[1]&&t[0]===this._oldSelectionEnd[0]&&t[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(e,t,n)):this._oldHasSelection&&this._fireOnSelectionChange(e,t,n)}_fireOnSelectionChange(e,t,n){this._oldSelectionStart=e,this._oldSelectionEnd=t,this._oldHasSelection=n,this._onSelectionChange.fire()}_handleBufferActivate(e){this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim(e=>this._handleTrim(e))}_convertViewportColToCharacterIndex(e,t){let n=t;for(let r=0;t>=r;r++){let i=e.loadCell(r,this._workCell).getChars().length;0===this._workCell.getWidth()?n--:i>1&&t!==r&&(n+=i-1)}return n}setSelection(e,t,n){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=n,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(e){this._isClickInSelection(e)||(this._selectWordAtCursor(e,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(e,t,n=!0,r=!0){if(e[0]>=this._bufferService.cols)return;let i=this._bufferService.buffer,s=i.lines.get(e[1]);if(!s)return;let a=i.translateBufferLineToString(e[1],!1),o=this._convertViewportColToCharacterIndex(s,e[0]),l=o,c=e[0]-o,u=0,p=0,h=0,_=0;if(" "===a.charAt(o)){for(;o>0&&" "===a.charAt(o-1);)o--;for(;l<a.length&&" "===a.charAt(l+1);)l++}else{let t=e[0],n=e[0];0===s.getWidth(t)&&(u++,t--),2===s.getWidth(n)&&(p++,n++);let r=s.getString(n).length;for(r>1&&(_+=r-1,l+=r-1);t>0&&o>0&&!this._isCharWordSeparator(s.loadCell(t-1,this._workCell));){s.loadCell(t-1,this._workCell);let e=this._workCell.getChars().length;0===this._workCell.getWidth()?(u++,t--):e>1&&(h+=e-1,o-=e-1),o--,t--}for(;n<s.length&&l+1<a.length&&!this._isCharWordSeparator(s.loadCell(n+1,this._workCell));){s.loadCell(n+1,this._workCell);let e=this._workCell.getChars().length;2===this._workCell.getWidth()?(p++,n++):e>1&&(_+=e-1,l+=e-1),l++,n++}}l++;let f=o+c-u+h,d=Math.min(this._bufferService.cols,l-o+u+p-h-_);if(t||""!==a.slice(o,l).trim()){if(n&&0===f&&32!==s.getCodePoint(0)){let t=i.lines.get(e[1]-1);if(t&&s.isWrapped&&32!==t.getCodePoint(this._bufferService.cols-1)){let t=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(t){let e=this._bufferService.cols-t.start;f-=e,d+=e}}}if(r&&f+d===this._bufferService.cols&&32!==s.getCodePoint(this._bufferService.cols-1)){let t=i.lines.get(e[1]+1);if((null==t?void 0:t.isWrapped)&&32!==t.getCodePoint(0)){let t=this._getWordAt([0,e[1]+1],!1,!1,!0);t&&(d+=t.length)}}return{start:f,length:d}}}_selectWordAt(e,t){let n=this._getWordAt(e,t);if(n){for(;n.start<0;)n.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[n.start,e[1]],this._model.selectionStartLength=n.length}}_selectToWordAt(e){let t=this._getWordAt(e,!0);if(t){let n=e[1];for(;t.start<0;)t.start+=this._bufferService.cols,n--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,n++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,n]}}_isCharWordSeparator(e){return 0!==e.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars())>=0}_selectLineAt(e){let t=this._bufferService.buffer.getWrappedRangeForLine(e),n={start:{x:0,y:t.first},end:{x:this._bufferService.cols-1,y:t.last}};this._model.selectionStart=[0,t.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,h.getRangeLength)(n,this._bufferService.cols)}};t.SelectionService=r([i(3,f.IBufferService),i(4,f.ICoreService),i(5,l.IMouseService),i(6,f.IOptionsService),i(7,l.IRenderService),i(8,l.ICoreBrowserService)],g)},4725:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IThemeService=t.ICharacterJoinerService=t.ISelectionService=t.IRenderService=t.IMouseService=t.ICoreBrowserService=t.ICharSizeService=void 0;let r=n(8343);t.ICharSizeService=(0,r.createDecorator)("CharSizeService"),t.ICoreBrowserService=(0,r.createDecorator)("CoreBrowserService"),t.IMouseService=(0,r.createDecorator)("MouseService"),t.IRenderService=(0,r.createDecorator)("RenderService"),t.ISelectionService=(0,r.createDecorator)("SelectionService"),t.ICharacterJoinerService=(0,r.createDecorator)("CharacterJoinerService"),t.IThemeService=(0,r.createDecorator)("ThemeService")},6731:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeService=t.DEFAULT_ANSI_COLORS=void 0;let s=n(7239),a=n(8055),o=n(8460),l=n(844),c=n(2585),u=a.css.toColor("#ffffff"),p=a.css.toColor("#000000"),h=a.css.toColor("#ffffff"),_=a.css.toColor("#000000"),f={css:"rgba(255, 255, 255, 0.3)",rgba:0xffffff4d};t.DEFAULT_ANSI_COLORS=Object.freeze((()=>{let e=[a.css.toColor("#2e3436"),a.css.toColor("#cc0000"),a.css.toColor("#4e9a06"),a.css.toColor("#c4a000"),a.css.toColor("#3465a4"),a.css.toColor("#75507b"),a.css.toColor("#06989a"),a.css.toColor("#d3d7cf"),a.css.toColor("#555753"),a.css.toColor("#ef2929"),a.css.toColor("#8ae234"),a.css.toColor("#fce94f"),a.css.toColor("#729fcf"),a.css.toColor("#ad7fa8"),a.css.toColor("#34e2e2"),a.css.toColor("#eeeeec")],t=[0,95,135,175,215,255];for(let n=0;n<216;n++){let r=t[n/36%6|0],i=t[n/6%6|0],s=t[n%6];e.push({css:a.channels.toCss(r,i,s),rgba:a.channels.toRgba(r,i,s)})}for(let t=0;t<24;t++){let n=8+10*t;e.push({css:a.channels.toCss(n,n,n),rgba:a.channels.toRgba(n,n,n)})}return e})());let d=t.ThemeService=class extends l.Disposable{get colors(){return this._colors}constructor(e){super(),this._optionsService=e,this._contrastCache=new s.ColorContrastCache,this._halfContrastCache=new s.ColorContrastCache,this._onChangeColors=this.register(new o.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:u,background:p,cursor:h,cursorAccent:_,selectionForeground:void 0,selectionBackgroundTransparent:f,selectionBackgroundOpaque:a.color.blend(p,f),selectionInactiveBackgroundTransparent:f,selectionInactiveBackgroundOpaque:a.color.blend(p,f),ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(e={}){let n=this._colors;if(n.foreground=g(e.foreground,u),n.background=g(e.background,p),n.cursor=g(e.cursor,h),n.cursorAccent=g(e.cursorAccent,_),n.selectionBackgroundTransparent=g(e.selectionBackground,f),n.selectionBackgroundOpaque=a.color.blend(n.background,n.selectionBackgroundTransparent),n.selectionInactiveBackgroundTransparent=g(e.selectionInactiveBackground,n.selectionBackgroundTransparent),n.selectionInactiveBackgroundOpaque=a.color.blend(n.background,n.selectionInactiveBackgroundTransparent),n.selectionForeground=e.selectionForeground?g(e.selectionForeground,a.NULL_COLOR):void 0,n.selectionForeground===a.NULL_COLOR&&(n.selectionForeground=void 0),a.color.isOpaque(n.selectionBackgroundTransparent)&&(n.selectionBackgroundTransparent=a.color.opacity(n.selectionBackgroundTransparent,.3)),a.color.isOpaque(n.selectionInactiveBackgroundTransparent)&&(n.selectionInactiveBackgroundTransparent=a.color.opacity(n.selectionInactiveBackgroundTransparent,.3)),n.ansi=t.DEFAULT_ANSI_COLORS.slice(),n.ansi[0]=g(e.black,t.DEFAULT_ANSI_COLORS[0]),n.ansi[1]=g(e.red,t.DEFAULT_ANSI_COLORS[1]),n.ansi[2]=g(e.green,t.DEFAULT_ANSI_COLORS[2]),n.ansi[3]=g(e.yellow,t.DEFAULT_ANSI_COLORS[3]),n.ansi[4]=g(e.blue,t.DEFAULT_ANSI_COLORS[4]),n.ansi[5]=g(e.magenta,t.DEFAULT_ANSI_COLORS[5]),n.ansi[6]=g(e.cyan,t.DEFAULT_ANSI_COLORS[6]),n.ansi[7]=g(e.white,t.DEFAULT_ANSI_COLORS[7]),n.ansi[8]=g(e.brightBlack,t.DEFAULT_ANSI_COLORS[8]),n.ansi[9]=g(e.brightRed,t.DEFAULT_ANSI_COLORS[9]),n.ansi[10]=g(e.brightGreen,t.DEFAULT_ANSI_COLORS[10]),n.ansi[11]=g(e.brightYellow,t.DEFAULT_ANSI_COLORS[11]),n.ansi[12]=g(e.brightBlue,t.DEFAULT_ANSI_COLORS[12]),n.ansi[13]=g(e.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),n.ansi[14]=g(e.brightCyan,t.DEFAULT_ANSI_COLORS[14]),n.ansi[15]=g(e.brightWhite,t.DEFAULT_ANSI_COLORS[15]),e.extendedAnsi){let r=Math.min(n.ansi.length-16,e.extendedAnsi.length);for(let i=0;i<r;i++)n.ansi[i+16]=g(e.extendedAnsi[i],t.DEFAULT_ANSI_COLORS[i+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(e){this._restoreColor(e),this._onChangeColors.fire(this.colors)}_restoreColor(e){if(void 0!==e)switch(e){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[e]=this._restoreColors.ansi[e]}else for(let e=0;e<this._restoreColors.ansi.length;++e)this._colors.ansi[e]=this._restoreColors.ansi[e]}modifyColors(e){e(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function g(e,t){if(void 0!==e)try{return a.css.toColor(e)}catch(e){}return t}t.ThemeService=r([i(0,c.IOptionsService)],d)},6349:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CircularList=void 0;let r=n(8460),i=n(844);class s extends i.Disposable{constructor(e){super(),this._maxLength=e,this.onDeleteEmitter=this.register(new r.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new r.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new r.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(e){if(this._maxLength===e)return;let t=Array(e);for(let n=0;n<Math.min(e,this.length);n++)t[n]=this._array[this._getCyclicIndex(n)];this._array=t,this._maxLength=e,this._startIndex=0}get length(){return this._length}set length(e){if(e>this._length)for(let t=this._length;t<e;t++)this._array[t]=void 0;this._length=e}get(e){return this._array[this._getCyclicIndex(e)]}set(e,t){this._array[this._getCyclicIndex(e)]=t}push(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(e,t,...n){if(t){for(let n=e;n<this._length-t;n++)this._array[this._getCyclicIndex(n)]=this._array[this._getCyclicIndex(n+t)];this._length-=t,this.onDeleteEmitter.fire({index:e,amount:t})}for(let t=this._length-1;t>=e;t--)this._array[this._getCyclicIndex(t+n.length)]=this._array[this._getCyclicIndex(t)];for(let t=0;t<n.length;t++)this._array[this._getCyclicIndex(e+t)]=n[t];if(n.length&&this.onInsertEmitter.fire({index:e,amount:n.length}),this._length+n.length>this._maxLength){let e=this._length+n.length-this._maxLength;this._startIndex+=e,this._length=this._maxLength,this.onTrimEmitter.fire(e)}else this._length+=n.length}trimStart(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)}shiftElements(e,t,n){if(!(t<=0)){if(e<0||e>=this._length)throw Error("start argument out of range");if(e+n<0)throw Error("Cannot shift elements in list beyond index 0");if(n>0){for(let r=t-1;r>=0;r--)this.set(e+r+n,this.get(e+r));let r=e+t+n-this._length;if(r>0)for(this._length+=r;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let r=0;r<t;r++)this.set(e+r+n,this.get(e+r))}}_getCyclicIndex(e){return(this._startIndex+e)%this._maxLength}}t.CircularList=s},1439:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t,n=5){if("object"!=typeof t)return t;let r=Array.isArray(t)?[]:{};for(let i in t)r[i]=n<=1?t[i]:t[i]&&e(t[i],n-1);return r}},8055:(e,t,n)=>{var r,i,s,a,o,l;Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=t.NULL_COLOR=void 0;let c=n(6114),u=0,p=0,h=0,_=0;function f(e){let t=e.toString(16);return t.length<2?"0"+t:t}function d(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}t.NULL_COLOR={css:"#00000000",rgba:0},(l=r||(t.channels=r={})).toCss=function(e,t,n,r){return void 0!==r?`#${f(e)}${f(t)}${f(n)}${f(r)}`:`#${f(e)}${f(t)}${f(n)}`},l.toRgba=function(e,t,n,r=255){return(e<<24|t<<16|n<<8|r)>>>0},function(e){function t(e,t){return _=Math.round(255*t),[u,p,h]=o.toChannels(e.rgba),{css:r.toCss(u,p,h,_),rgba:r.toRgba(u,p,h,_)}}e.blend=function(e,t){if(1==(_=(255&t.rgba)/255))return{css:t.css,rgba:t.rgba};let n=t.rgba>>24&255,i=t.rgba>>16&255,s=t.rgba>>8&255,a=e.rgba>>24&255,o=e.rgba>>16&255,l=e.rgba>>8&255;return u=a+Math.round((n-a)*_),p=o+Math.round((i-o)*_),h=l+Math.round((s-l)*_),{css:r.toCss(u,p,h),rgba:r.toRgba(u,p,h)}},e.isOpaque=function(e){return 255==(255&e.rgba)},e.ensureContrastRatio=function(e,t,n){let r=o.ensureContrastRatio(e.rgba,t.rgba,n);if(r)return o.toColor(r>>24&255,r>>16&255,r>>8&255)},e.opaque=function(e){let t=(255|e.rgba)>>>0;return[u,p,h]=o.toChannels(t),{css:r.toCss(u,p,h),rgba:t}},e.opacity=t,e.multiplyOpacity=function(e,n){return _=255&e.rgba,t(e,_*n/255)},e.toColorRGB=function(e){return[e.rgba>>24&255,e.rgba>>16&255,e.rgba>>8&255]}}(i||(t.color=i={})),function(e){let t,n;if(!c.isNode){let e=document.createElement("canvas");e.width=1,e.height=1;let r=e.getContext("2d",{willReadFrequently:!0});r&&((t=r).globalCompositeOperation="copy",n=t.createLinearGradient(0,0,1,1))}e.toColor=function(e){if(e.match(/#[\da-f]{3,8}/i))switch(e.length){case 4:return u=parseInt(e.slice(1,2).repeat(2),16),p=parseInt(e.slice(2,3).repeat(2),16),h=parseInt(e.slice(3,4).repeat(2),16),o.toColor(u,p,h);case 5:return u=parseInt(e.slice(1,2).repeat(2),16),p=parseInt(e.slice(2,3).repeat(2),16),h=parseInt(e.slice(3,4).repeat(2),16),_=parseInt(e.slice(4,5).repeat(2),16),o.toColor(u,p,h,_);case 7:return{css:e,rgba:(parseInt(e.slice(1),16)<<8|255)>>>0};case 9:return{css:e,rgba:parseInt(e.slice(1),16)>>>0}}let i=e.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(i)return u=parseInt(i[1]),p=parseInt(i[2]),h=parseInt(i[3]),_=Math.round(255*(void 0===i[5]?1:parseFloat(i[5]))),o.toColor(u,p,h,_);if(!t||!n||(t.fillStyle=n,t.fillStyle=e,"string"!=typeof t.fillStyle)||(t.fillRect(0,0,1,1),[u,p,h,_]=t.getImageData(0,0,1,1).data,255!==_))throw Error("css.toColor: Unsupported css format");return{rgba:r.toRgba(u,p,h,_),css:e}}}(s||(t.css=s={})),function(e){function t(e,t,n){let r=e/255,i=t/255,s=n/255;return .2126*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.7152*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.0722*(s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))}e.relativeLuminance=function(e){return t(e>>16&255,e>>8&255,255&e)},e.relativeLuminance2=t}(a||(t.rgb=a={})),function(e){function t(e,t,n){let r=e>>24&255,i=e>>16&255,s=e>>8&255,o=t>>24&255,l=t>>16&255,c=t>>8&255,u=d(a.relativeLuminance2(o,l,c),a.relativeLuminance2(r,i,s));for(;u<n&&(o>0||l>0||c>0);)o-=Math.max(0,Math.ceil(.1*o)),l-=Math.max(0,Math.ceil(.1*l)),c-=Math.max(0,Math.ceil(.1*c)),u=d(a.relativeLuminance2(o,l,c),a.relativeLuminance2(r,i,s));return(o<<24|l<<16|c<<8|255)>>>0}function n(e,t,n){let r=e>>24&255,i=e>>16&255,s=e>>8&255,o=t>>24&255,l=t>>16&255,c=t>>8&255,u=d(a.relativeLuminance2(o,l,c),a.relativeLuminance2(r,i,s));for(;u<n&&(o<255||l<255||c<255);)o=Math.min(255,o+Math.ceil(.1*(255-o))),l=Math.min(255,l+Math.ceil(.1*(255-l))),c=Math.min(255,c+Math.ceil(.1*(255-c))),u=d(a.relativeLuminance2(o,l,c),a.relativeLuminance2(r,i,s));return(o<<24|l<<16|c<<8|255)>>>0}e.ensureContrastRatio=function(e,r,i){let s=a.relativeLuminance(e>>8),o=a.relativeLuminance(r>>8);if(d(s,o)<i){if(o<s){let o=t(e,r,i),l=d(s,a.relativeLuminance(o>>8));if(l<i){let t=n(e,r,i);return l>d(s,a.relativeLuminance(t>>8))?o:t}return o}let l=n(e,r,i),c=d(s,a.relativeLuminance(l>>8));if(c<i){let n=t(e,r,i);return c>d(s,a.relativeLuminance(n>>8))?l:n}return l}},e.reduceLuminance=t,e.increaseLuminance=n,e.toChannels=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},e.toColor=function(e,t,n,i){return{css:r.toCss(e,t,n,i),rgba:r.toRgba(e,t,n,i)}}}(o||(t.rgba=o={})),t.toPaddedHex=f,t.contrastRatio=d},8969:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreTerminal=void 0;let r=n(844),i=n(2585),s=n(4348),a=n(7866),o=n(744),l=n(7302),c=n(6975),u=n(8460),p=n(1753),h=n(1480),_=n(7994),f=n(9282),d=n(5435),g=n(5981),m=n(2660),v=!1;class b extends r.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new u.EventEmitter),this._onScroll.event(e=>{var t;null==(t=this._onScrollApi)||t.fire(e.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(e){for(let t in e)this.optionsService.options[t]=e[t]}constructor(e){super(),this._windowsWrappingHeuristics=this.register(new r.MutableDisposable),this._onBinary=this.register(new u.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new u.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new u.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new u.EventEmitter),this._instantiationService=new s.InstantiationService,this.optionsService=this.register(new l.OptionsService(e)),this._instantiationService.setService(i.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(o.BufferService)),this._instantiationService.setService(i.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(a.LogService)),this._instantiationService.setService(i.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(c.CoreService)),this._instantiationService.setService(i.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(p.CoreMouseService)),this._instantiationService.setService(i.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(h.UnicodeService)),this._instantiationService.setService(i.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(_.CharsetService),this._instantiationService.setService(i.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(m.OscLinkService),this._instantiationService.setService(i.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new d.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,u.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,u.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,u.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,u.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(e=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(e=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new g.WriteBuffer((e,t)=>this._inputHandler.parse(e,t))),this.register((0,u.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(e,t){this._writeBuffer.write(e,t)}writeSync(e,t){this._logService.logLevel<=i.LogLevelEnum.WARN&&!v&&(this._logService.warn("writeSync is unreliable and will be removed soon."),v=!0),this._writeBuffer.writeSync(e,t)}resize(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,o.MINIMUM_COLS),t=Math.max(t,o.MINIMUM_ROWS),this._bufferService.resize(e,t))}scroll(e,t=!1){this._bufferService.scroll(e,t)}scrollLines(e,t,n){this._bufferService.scrollLines(e,t,n)}scrollPages(e){this.scrollLines(e*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(e){let t=e-this._bufferService.buffer.ydisp;0!==t&&this.scrollLines(t)}registerEscHandler(e,t){return this._inputHandler.registerEscHandler(e,t)}registerDcsHandler(e,t){return this._inputHandler.registerDcsHandler(e,t)}registerCsiHandler(e,t){return this._inputHandler.registerCsiHandler(e,t)}registerOscHandler(e,t){return this._inputHandler.registerOscHandler(e,t)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let e=!1,t=this.optionsService.rawOptions.windowsPty;t&&void 0!==t.buildNumber&&void 0!==t.buildNumber?e=!!("conpty"===t.backend&&t.buildNumber<21376):this.optionsService.rawOptions.windowsMode&&(e=!0),e?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){let e=[];e.push(this.onLineFeed(f.updateWindowsModeWrappedState.bind(null,this._bufferService))),e.push(this.registerCsiHandler({final:"H"},()=>((0,f.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,r.toDisposable)(()=>{for(let t of e)t.dispose()})}}}t.CoreTerminal=b},8460:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0,t.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=e=>(this._listeners.push(e),{dispose:()=>{if(!this._disposed){for(let t=0;t<this._listeners.length;t++)if(this._listeners[t]===e)return void this._listeners.splice(t,1)}}})),this._event}fire(e,t){let n=[];for(let e=0;e<this._listeners.length;e++)n.push(this._listeners[e]);for(let r=0;r<n.length;r++)n[r].call(void 0,e,t)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},t.forwardEvent=function(e,t){return e(e=>t.fire(e))}},5435:function(e,t,n){var r,i,s=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.WindowsOptionsReportType=void 0;let o=n(2584),l=n(7116),c=n(2015),u=n(844),p=n(482),h=n(8437),_=n(8460),f=n(643),d=n(511),g=n(3734),m=n(2585),v=n(6242),b=n(6351),y=n(5941),$={"(":0,")":1,"*":2,"+":3,"-":1,".":2};function x(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}(r=i||(t.WindowsOptionsReportType=i={}))[r.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",r[r.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";let S=0;class A extends u.Disposable{getAttrData(){return this._curAttrData}constructor(e,t,n,r,i,s,a,u,f=new c.EscapeSequenceParser){for(const c in super(),this._bufferService=e,this._charsetService=t,this._coreService=n,this._logService=r,this._optionsService=i,this._oscLinkService=s,this._coreMouseService=a,this._unicodeService=u,this._parser=f,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new p.StringToUtf32,this._utf8Decoder=new p.Utf8ToUtf32,this._workCell=new d.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new _.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new _.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new _.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new _.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new _.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new _.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new _.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new _.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new _.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new _.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new _.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new _.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new _.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new w(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(e=>this._activeBuffer=e.activeBuffer)),this._parser.setCsiHandlerFallback((e,t)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(e),params:t.toArray()})}),this._parser.setEscHandlerFallback(e=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(e)})}),this._parser.setExecuteHandlerFallback(e=>{this._logService.debug("Unknown EXECUTE code: ",{code:e})}),this._parser.setOscHandlerFallback((e,t,n)=>{this._logService.debug("Unknown OSC code: ",{identifier:e,action:t,data:n})}),this._parser.setDcsHandlerFallback((e,t,n)=>{"HOOK"===t&&(n=n.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(e),action:t,payload:n})}),this._parser.setPrintHandler((e,t,n)=>this.print(e,t,n)),this._parser.registerCsiHandler({final:"@"},e=>this.insertChars(e)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},e=>this.scrollLeft(e)),this._parser.registerCsiHandler({final:"A"},e=>this.cursorUp(e)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},e=>this.scrollRight(e)),this._parser.registerCsiHandler({final:"B"},e=>this.cursorDown(e)),this._parser.registerCsiHandler({final:"C"},e=>this.cursorForward(e)),this._parser.registerCsiHandler({final:"D"},e=>this.cursorBackward(e)),this._parser.registerCsiHandler({final:"E"},e=>this.cursorNextLine(e)),this._parser.registerCsiHandler({final:"F"},e=>this.cursorPrecedingLine(e)),this._parser.registerCsiHandler({final:"G"},e=>this.cursorCharAbsolute(e)),this._parser.registerCsiHandler({final:"H"},e=>this.cursorPosition(e)),this._parser.registerCsiHandler({final:"I"},e=>this.cursorForwardTab(e)),this._parser.registerCsiHandler({final:"J"},e=>this.eraseInDisplay(e,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},e=>this.eraseInDisplay(e,!0)),this._parser.registerCsiHandler({final:"K"},e=>this.eraseInLine(e,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},e=>this.eraseInLine(e,!0)),this._parser.registerCsiHandler({final:"L"},e=>this.insertLines(e)),this._parser.registerCsiHandler({final:"M"},e=>this.deleteLines(e)),this._parser.registerCsiHandler({final:"P"},e=>this.deleteChars(e)),this._parser.registerCsiHandler({final:"S"},e=>this.scrollUp(e)),this._parser.registerCsiHandler({final:"T"},e=>this.scrollDown(e)),this._parser.registerCsiHandler({final:"X"},e=>this.eraseChars(e)),this._parser.registerCsiHandler({final:"Z"},e=>this.cursorBackwardTab(e)),this._parser.registerCsiHandler({final:"`"},e=>this.charPosAbsolute(e)),this._parser.registerCsiHandler({final:"a"},e=>this.hPositionRelative(e)),this._parser.registerCsiHandler({final:"b"},e=>this.repeatPrecedingCharacter(e)),this._parser.registerCsiHandler({final:"c"},e=>this.sendDeviceAttributesPrimary(e)),this._parser.registerCsiHandler({prefix:">",final:"c"},e=>this.sendDeviceAttributesSecondary(e)),this._parser.registerCsiHandler({final:"d"},e=>this.linePosAbsolute(e)),this._parser.registerCsiHandler({final:"e"},e=>this.vPositionRelative(e)),this._parser.registerCsiHandler({final:"f"},e=>this.hVPosition(e)),this._parser.registerCsiHandler({final:"g"},e=>this.tabClear(e)),this._parser.registerCsiHandler({final:"h"},e=>this.setMode(e)),this._parser.registerCsiHandler({prefix:"?",final:"h"},e=>this.setModePrivate(e)),this._parser.registerCsiHandler({final:"l"},e=>this.resetMode(e)),this._parser.registerCsiHandler({prefix:"?",final:"l"},e=>this.resetModePrivate(e)),this._parser.registerCsiHandler({final:"m"},e=>this.charAttributes(e)),this._parser.registerCsiHandler({final:"n"},e=>this.deviceStatus(e)),this._parser.registerCsiHandler({prefix:"?",final:"n"},e=>this.deviceStatusPrivate(e)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},e=>this.softReset(e)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},e=>this.setCursorStyle(e)),this._parser.registerCsiHandler({final:"r"},e=>this.setScrollRegion(e)),this._parser.registerCsiHandler({final:"s"},e=>this.saveCursor(e)),this._parser.registerCsiHandler({final:"t"},e=>this.windowOptions(e)),this._parser.registerCsiHandler({final:"u"},e=>this.restoreCursor(e)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},e=>this.insertColumns(e)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},e=>this.deleteColumns(e)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},e=>this.selectProtected(e)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},e=>this.requestMode(e,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},e=>this.requestMode(e,!1)),this._parser.setExecuteHandler(o.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(o.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(o.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(o.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(o.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(o.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(o.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(o.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(o.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(o.C1.IND,()=>this.index()),this._parser.setExecuteHandler(o.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(o.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new v.OscHandler(e=>(this.setTitle(e),this.setIconName(e),!0))),this._parser.registerOscHandler(1,new v.OscHandler(e=>this.setIconName(e))),this._parser.registerOscHandler(2,new v.OscHandler(e=>this.setTitle(e))),this._parser.registerOscHandler(4,new v.OscHandler(e=>this.setOrReportIndexedColor(e))),this._parser.registerOscHandler(8,new v.OscHandler(e=>this.setHyperlink(e))),this._parser.registerOscHandler(10,new v.OscHandler(e=>this.setOrReportFgColor(e))),this._parser.registerOscHandler(11,new v.OscHandler(e=>this.setOrReportBgColor(e))),this._parser.registerOscHandler(12,new v.OscHandler(e=>this.setOrReportCursorColor(e))),this._parser.registerOscHandler(104,new v.OscHandler(e=>this.restoreIndexedColor(e))),this._parser.registerOscHandler(110,new v.OscHandler(e=>this.restoreFgColor(e))),this._parser.registerOscHandler(111,new v.OscHandler(e=>this.restoreBgColor(e))),this._parser.registerOscHandler(112,new v.OscHandler(e=>this.restoreCursorColor(e))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset()),l.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:c},()=>this.selectCharset("("+c)),this._parser.registerEscHandler({intermediates:")",final:c},()=>this.selectCharset(")"+c)),this._parser.registerEscHandler({intermediates:"*",final:c},()=>this.selectCharset("*"+c)),this._parser.registerEscHandler({intermediates:"+",final:c},()=>this.selectCharset("+"+c)),this._parser.registerEscHandler({intermediates:"-",final:c},()=>this.selectCharset("-"+c)),this._parser.registerEscHandler({intermediates:".",final:c},()=>this.selectCharset("."+c)),this._parser.registerEscHandler({intermediates:"/",final:c},()=>this.selectCharset("/"+c));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(e=>(this._logService.error("Parsing error: ",e),e)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new b.DcsHandler((e,t)=>this.requestStatusString(e,t)))}_preserveStack(e,t,n,r){this._parseStack.paused=!0,this._parseStack.cursorStartX=e,this._parseStack.cursorStartY=t,this._parseStack.decodedLength=n,this._parseStack.position=r}_logSlowResolvingAsync(e){this._logService.logLevel<=m.LogLevelEnum.WARN&&Promise.race([e,new Promise((e,t)=>setTimeout(()=>t("#SLOW_TIMEOUT"),5e3))]).catch(e=>{if("#SLOW_TIMEOUT"!==e)throw e;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(e,t){let n,r=this._activeBuffer.x,i=this._activeBuffer.y,s=0,a=this._parseStack.paused;if(a){if(n=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,t))return this._logSlowResolvingAsync(n),n;r=this._parseStack.cursorStartX,i=this._parseStack.cursorStartY,this._parseStack.paused=!1,e.length>131072&&(s=this._parseStack.position+131072)}if(this._logService.logLevel<=m.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof e?` "${e}"`:` "${Array.prototype.map.call(e,e=>String.fromCharCode(e)).join("")}"`),"string"==typeof e?e.split("").map(e=>e.charCodeAt(0)):e),this._parseBuffer.length<e.length&&this._parseBuffer.length<131072&&(this._parseBuffer=new Uint32Array(Math.min(e.length,131072))),a||this._dirtyRowTracker.clearRange(),e.length>131072)for(let t=s;t<e.length;t+=131072){let s=t+131072<e.length?t+131072:e.length,a="string"==typeof e?this._stringDecoder.decode(e.substring(t,s),this._parseBuffer):this._utf8Decoder.decode(e.subarray(t,s),this._parseBuffer);if(n=this._parser.parse(this._parseBuffer,a))return this._preserveStack(r,i,a,t),this._logSlowResolvingAsync(n),n}else if(!a){let t="string"==typeof e?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer);if(n=this._parser.parse(this._parseBuffer,t))return this._preserveStack(r,i,t,0),this._logSlowResolvingAsync(n),n}this._activeBuffer.x===r&&this._activeBuffer.y===i||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(e,t,n){let r,i,s=this._charsetService.charset,a=this._optionsService.rawOptions.screenReaderMode,o=this._bufferService.cols,l=this._coreService.decPrivateModes.wraparound,c=this._coreService.modes.insertMode,u=this._curAttrData,h=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&n-t>0&&2===h.getWidth(this._activeBuffer.x-1)&&h.setCellFromCodePoint(this._activeBuffer.x-1,0,1,u.fg,u.bg,u.extended);for(let _=t;_<n;++_){if(r=e[_],i=this._unicodeService.wcwidth(r),r<127&&s){let e=s[String.fromCharCode(r)];e&&(r=e.charCodeAt(0))}if(a&&this._onA11yChar.fire((0,p.stringFromCodePoint)(r)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),i||!this._activeBuffer.x){if(this._activeBuffer.x+i-1>=o){if(l){for(;this._activeBuffer.x<o;)h.setCellFromCodePoint(this._activeBuffer.x++,0,1,u.fg,u.bg,u.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),h=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=o-1,2===i)continue}if(c&&(h.insertCells(this._activeBuffer.x,i,this._activeBuffer.getNullCell(u),u),2===h.getWidth(o-1)&&h.setCellFromCodePoint(o-1,f.NULL_CELL_CODE,f.NULL_CELL_WIDTH,u.fg,u.bg,u.extended)),h.setCellFromCodePoint(this._activeBuffer.x++,r,i,u.fg,u.bg,u.extended),i>0)for(;--i;)h.setCellFromCodePoint(this._activeBuffer.x++,0,0,u.fg,u.bg,u.extended)}else h.getWidth(this._activeBuffer.x-1)?h.addCodepointToCell(this._activeBuffer.x-1,r):h.addCodepointToCell(this._activeBuffer.x-2,r)}n-t>0&&(h.loadCell(this._activeBuffer.x-1,this._workCell),2===this._workCell.getWidth()||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<o&&n-t>0&&0===h.getWidth(this._activeBuffer.x)&&!h.hasContent(this._activeBuffer.x)&&h.setCellFromCodePoint(this._activeBuffer.x,0,1,u.fg,u.bg,u.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(e,t){return"t"!==e.final||e.prefix||e.intermediates?this._parser.registerCsiHandler(e,t):this._parser.registerCsiHandler(e,e=>!x(e.params[0],this._optionsService.rawOptions.windowOptions)||t(e))}registerDcsHandler(e,t){return this._parser.registerDcsHandler(e,new b.DcsHandler(t))}registerEscHandler(e,t){return this._parser.registerEscHandler(e,t)}registerOscHandler(e,t){return this._parser.registerOscHandler(e,new v.OscHandler(t))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var e;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null==(e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))?void 0:e.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;let e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);e.hasWidth(this._activeBuffer.x)&&!e.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let e=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-e),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(e=this._bufferService.cols-1){this._activeBuffer.x=Math.min(e,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(e,t){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=e,this._activeBuffer.y=this._activeBuffer.scrollTop+t):(this._activeBuffer.x=e,this._activeBuffer.y=t),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(e,t){this._restrictCursor(),this._setCursor(this._activeBuffer.x+e,this._activeBuffer.y+t)}cursorUp(e){let t=this._activeBuffer.y-this._activeBuffer.scrollTop;return t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1)),!0}cursorDown(e){let t=this._activeBuffer.scrollBottom-this._activeBuffer.y;return t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1),!0}cursorForward(e){return this._moveCursor(e.params[0]||1,0),!0}cursorBackward(e){return this._moveCursor(-(e.params[0]||1),0),!0}cursorNextLine(e){return this.cursorDown(e),this._activeBuffer.x=0,!0}cursorPrecedingLine(e){return this.cursorUp(e),this._activeBuffer.x=0,!0}cursorCharAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(e){return this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1),!0}charPosAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(e){return this._moveCursor(e.params[0]||1,0),!0}linePosAbsolute(e){return this._setCursor(this._activeBuffer.x,(e.params[0]||1)-1),!0}vPositionRelative(e){return this._moveCursor(0,e.params[0]||1),!0}hVPosition(e){return this.cursorPosition(e),!0}tabClear(e){let t=e.params[0];return 0===t?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===t&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(e){let t=e.params[0];return 1===t&&(this._curAttrData.bg|=0x20000000),2!==t&&0!==t||(this._curAttrData.bg&=-0x20000001),!0}_eraseInBufferLine(e,t,n,r=!1,i=!1){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);s.replaceCells(t,n,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),i),r&&(s.isWrapped=!1)}_resetBufferLine(e,t=!1){let n=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);n&&(n.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),t),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+e),n.isWrapped=!1)}eraseInDisplay(e,t=!1){let n;switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:for(n=this._activeBuffer.y,this._dirtyRowTracker.markDirty(n),this._eraseInBufferLine(n++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,t);n<this._bufferService.rows;n++)this._resetBufferLine(n,t);this._dirtyRowTracker.markDirty(n);break;case 1:for(n=this._activeBuffer.y,this._dirtyRowTracker.markDirty(n),this._eraseInBufferLine(n,0,this._activeBuffer.x+1,!0,t),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(n+1).isWrapped=!1);n--;)this._resetBufferLine(n,t);this._dirtyRowTracker.markDirty(0);break;case 2:for(n=this._bufferService.rows,this._dirtyRowTracker.markDirty(n-1);n--;)this._resetBufferLine(n,t);this._dirtyRowTracker.markDirty(0);break;case 3:let r=this._activeBuffer.lines.length-this._bufferService.rows;r>0&&(this._activeBuffer.lines.trimStart(r),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-r,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-r,0),this._onScroll.fire(0))}return!0}eraseInLine(e,t=!1){switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,t);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,t);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,t)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let n=this._activeBuffer.ybase+this._activeBuffer.y,r=this._bufferService.rows-1-this._activeBuffer.scrollBottom,i=this._bufferService.rows-1+this._activeBuffer.ybase-r+1;for(;t--;)this._activeBuffer.lines.splice(i-1,1),this._activeBuffer.lines.splice(n,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(e){let t;this._restrictCursor();let n=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let r=this._activeBuffer.ybase+this._activeBuffer.y;for(t=this._bufferService.rows-1-this._activeBuffer.scrollBottom,t=this._bufferService.rows-1+this._activeBuffer.ybase-t;n--;)this._activeBuffer.lines.splice(r,1),this._activeBuffer.lines.splice(t,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.insertCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.deleteCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(h.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let e=this._activeBuffer.scrollTop;e<=this._activeBuffer.scrollBottom;++e){let n=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);n.deleteCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),n.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let e=this._activeBuffer.scrollTop;e<=this._activeBuffer.scrollBottom;++e){let n=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);n.insertCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),n.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let e=this._activeBuffer.scrollTop;e<=this._activeBuffer.scrollBottom;++e){let n=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);n.insertCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),n.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let e=this._activeBuffer.scrollTop;e<=this._activeBuffer.scrollBottom;++e){let n=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);n.deleteCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),n.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(e.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(e){if(!this._parser.precedingCodepoint)return!0;let t=e.params[0]||1,n=new Uint32Array(t);for(let e=0;e<t;++e)n[e]=this._parser.precedingCodepoint;return this.print(n,0,n.length),!0}sendDeviceAttributesPrimary(e){return e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(o.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(o.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(e){return e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(o.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(o.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(o.C0.ESC+"[>83;40003;0c")),!0}_is(e){return 0===(this._optionsService.rawOptions.termName+"").indexOf(e)}setMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,l.DEFAULT_CHARSET),this._charsetService.setgCharset(1,l.DEFAULT_CHARSET),this._charsetService.setgCharset(2,l.DEFAULT_CHARSET),this._charsetService.setgCharset(3,l.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===e.params[t]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(e,t){var n;let r=this._coreService.decPrivateModes,{activeProtocol:i,activeEncoding:s}=this._coreMouseService,a=this._coreService,{buffers:l,cols:c}=this._bufferService,{active:u,alt:p}=l,h=this._optionsService.rawOptions,_=e=>e?1:2,f=e.params[0];return n=t?2===f?4:4===f?_(a.modes.insertMode):12===f?3:20===f?_(h.convertEol):0:1===f?_(r.applicationCursorKeys):3===f?h.windowOptions.setWinLines?80===c?2:+(132===c):0:6===f?_(r.origin):7===f?_(r.wraparound):8===f?3:9===f?_("X10"===i):12===f?_(h.cursorBlink):25===f?_(!a.isCursorHidden):45===f?_(r.reverseWraparound):66===f?_(r.applicationKeypad):67===f?4:1e3===f?_("VT200"===i):1002===f?_("DRAG"===i):1003===f?_("ANY"===i):1004===f?_(r.sendFocus):1005===f?4:1006===f?_("SGR"===s):1015===f?4:1016===f?_("SGR_PIXELS"===s):1048===f?1:47===f||1047===f||1049===f?_(u===p):2004===f?_(r.bracketedPasteMode):0,a.triggerDataEvent(`${o.C0.ESC}[${t?"":"?"}${f};${n}$y`),!0}_updateAttrColor(e,t,n,r,i){return 2===t?(e|=0x3000000,e&=-0x1000000,e|=g.AttributeData.fromColorRGB([n,r,i])):5===t&&(e&=-0x3000100,e|=0x2000000|255&n),e}_extractColor(e,t,n){let r=[0,0,-1,0,0,0],i=0,s=0;do{if(r[s+i]=e.params[t+s],e.hasSubParams(t+s)){let n=e.getSubParams(t+s),a=0;do 5===r[1]&&(i=1),r[s+a+1+i]=n[a];while(++a<n.length&&a+s+1+i<r.length)break}if(5===r[1]&&s+i>=2||2===r[1]&&s+i>=5)break;r[1]&&(i=1)}while(++s+t<e.length&&s+i<r.length)for(let e=2;e<r.length;++e)-1===r[e]&&(r[e]=0);switch(r[0]){case 38:n.fg=this._updateAttrColor(n.fg,r[1],r[3],r[4],r[5]);break;case 48:n.bg=this._updateAttrColor(n.bg,r[1],r[3],r[4],r[5]);break;case 58:n.extended=n.extended.clone(),n.extended.underlineColor=this._updateAttrColor(n.extended.underlineColor,r[1],r[3],r[4],r[5])}return s}_processUnderline(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=0x10000000,0===e&&(t.fg&=-0x10000001),t.updateExtended()}_processSGR0(e){e.fg=h.DEFAULT_ATTR_DATA.fg,e.bg=h.DEFAULT_ATTR_DATA.bg,e.extended=e.extended.clone(),e.extended.underlineStyle=0,e.extended.underlineColor&=-0x4000000,e.updateExtended()}charAttributes(e){let t;if(1===e.length&&0===e.params[0])return this._processSGR0(this._curAttrData),!0;let n=e.length,r=this._curAttrData;for(let i=0;i<n;i++)(t=e.params[i])>=30&&t<=37?(r.fg&=-0x3000100,r.fg|=0x1000000|t-30):t>=40&&t<=47?(r.bg&=-0x3000100,r.bg|=0x1000000|t-40):t>=90&&t<=97?(r.fg&=-0x3000100,r.fg|=0x1000008|t-90):t>=100&&t<=107?(r.bg&=-0x3000100,r.bg|=0x1000008|t-100):0===t?this._processSGR0(r):1===t?r.fg|=0x8000000:3===t?r.bg|=0x4000000:4===t?(r.fg|=0x10000000,this._processUnderline(e.hasSubParams(i)?e.getSubParams(i)[0]:1,r)):5===t?r.fg|=0x20000000:7===t?r.fg|=0x4000000:8===t?r.fg|=0x40000000:9===t?r.fg|=0x80000000:2===t?r.bg|=0x8000000:21===t?this._processUnderline(2,r):22===t?(r.fg&=-0x8000001,r.bg&=-0x8000001):23===t?r.bg&=-0x4000001:24===t?(r.fg&=-0x10000001,this._processUnderline(0,r)):25===t?r.fg&=-0x20000001:27===t?r.fg&=-0x4000001:28===t?r.fg&=-0x40000001:29===t?r.fg&=0x7fffffff:39===t?(r.fg&=-0x4000000,r.fg|=0xffffff&h.DEFAULT_ATTR_DATA.fg):49===t?(r.bg&=-0x4000000,r.bg|=0xffffff&h.DEFAULT_ATTR_DATA.bg):38===t||48===t||58===t?i+=this._extractColor(e,i,r):53===t?r.bg|=0x40000000:55===t?r.bg&=-0x40000001:59===t?(r.extended=r.extended.clone(),r.extended.underlineColor=-1,r.updateExtended()):100===t?(r.fg&=-0x4000000,r.fg|=0xffffff&h.DEFAULT_ATTR_DATA.fg,r.bg&=-0x4000000,r.bg|=0xffffff&h.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",t);return!0}deviceStatus(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(`${o.C0.ESC}[0n`);break;case 6:let t=this._activeBuffer.y+1,n=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${o.C0.ESC}[${t};${n}R`)}return!0}deviceStatusPrivate(e){if(6===e.params[0]){let e=this._activeBuffer.y+1,t=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${o.C0.ESC}[?${e};${t}R`)}return!0}softReset(e){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(e){let t=e.params[0]||1;switch(t){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=t%2==1,!0}setScrollRegion(e){let t,n=e.params[0]||1;return(e.length<2||(t=e.params[1])>this._bufferService.rows||0===t)&&(t=this._bufferService.rows),t>n&&(this._activeBuffer.scrollTop=n-1,this._activeBuffer.scrollBottom=t-1,this._setCursor(0,0)),!0}windowOptions(e){if(!x(e.params[0],this._optionsService.rawOptions.windowOptions))return!0;let t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:2!==t&&this._onRequestWindowsOptionsReport.fire(i.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(i.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${o.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:0!==t&&2!==t||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==t&&1!==t||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==t&&2!==t||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==t&&1!==t||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(e){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(e){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(e){return this._windowTitle=e,this._onTitleChange.fire(e),!0}setIconName(e){return this._iconName=e,!0}setOrReportIndexedColor(e){let t=[],n=e.split(";");for(;n.length>1;){let e=n.shift(),r=n.shift();if(/^\d+$/.exec(e)){let n=parseInt(e);if(E(n))if("?"===r)t.push({type:0,index:n});else{let e=(0,y.parseColor)(r);e&&t.push({type:1,index:n,color:e})}}}return t.length&&this._onColor.fire(t),!0}setHyperlink(e){let t=e.split(";");return!(t.length<2)&&(t[1]?this._createHyperlink(t[0],t[1]):!t[0]&&this._finishHyperlink())}_createHyperlink(e,t){let n;this._getCurrentLinkId()&&this._finishHyperlink();let r=e.split(":"),i=r.findIndex(e=>e.startsWith("id="));return -1!==i&&(n=r[i].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:n,uri:t}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(e,t){let n=e.split(";");for(let e=0;e<n.length&&!(t>=this._specialColors.length);++e,++t)if("?"===n[e])this._onColor.fire([{type:0,index:this._specialColors[t]}]);else{let r=(0,y.parseColor)(n[e]);r&&this._onColor.fire([{type:1,index:this._specialColors[t],color:r}])}return!0}setOrReportFgColor(e){return this._setOrReportSpecialColor(e,0)}setOrReportBgColor(e){return this._setOrReportSpecialColor(e,1)}setOrReportCursorColor(e){return this._setOrReportSpecialColor(e,2)}restoreIndexedColor(e){if(!e)return this._onColor.fire([{type:2}]),!0;let t=[],n=e.split(";");for(let e=0;e<n.length;++e)if(/^\d+$/.exec(n[e])){let r=parseInt(n[e]);E(r)&&t.push({type:2,index:r})}return t.length&&this._onColor.fire(t),!0}restoreFgColor(e){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(e){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(e){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,l.DEFAULT_CHARSET),!0}selectCharset(e){return 2!==e.length?this.selectDefaultCharset():"/"===e[0]||this._charsetService.setgCharset($[e[0]],l.CHARSETS[e[1]]||l.DEFAULT_CHARSET),!0}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){let e=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,e,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-0x4000000,this._eraseAttrDataInternal.bg|=0x3ffffff&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(e){return this._charsetService.setgLevel(e),!0}screenAlignmentPattern(){let e=new d.CellData;e.content=4194373,e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg,this._setCursor(0,0);for(let t=0;t<this._bufferService.rows;++t){let n=this._activeBuffer.ybase+this._activeBuffer.y+t,r=this._activeBuffer.lines.get(n);r&&(r.fill(e),r.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(e,t){let n,r=this._bufferService.buffer,i=this._optionsService.rawOptions;return n='"q'===e?`P1$r${+!!this._curAttrData.isProtected()}"q`:'"p'===e?'P1$r61;1"p':"r"===e?`P1$r${r.scrollTop+1};${r.scrollBottom+1}r`:"m"===e?"P1$r0m":" q"===e?`P1$r${({block:2,underline:4,bar:6})[i.cursorStyle]-!!i.cursorBlink} q`:"P0$r",this._coreService.triggerDataEvent(`${o.C0.ESC}${n}${o.C0.ESC}\\`),!0}markRangeDirty(e,t){this._dirtyRowTracker.markRangeDirty(e,t)}}t.InputHandler=A;let w=class{constructor(e){this._bufferService=e,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(e){e<this.start?this.start=e:e>this.end&&(this.end=e)}markRangeDirty(e,t){e>t&&(S=e,e=t,t=S),e<this.start&&(this.start=e),t>this.end&&(this.end=t)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function E(e){return 0<=e&&e<256}w=s([a(0,m.IBufferService)],w)},844:(e,t)=>{function n(e){for(let t of e)t.dispose();e.length=0}Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.toDisposable=t.MutableDisposable=t.Disposable=void 0,t.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){for(let e of(this._isDisposed=!0,this._disposables))e.dispose();this._disposables.length=0}register(e){return this._disposables.push(e),e}unregister(e){let t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)}},t.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||(null==(t=this._value)||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,null==(e=this._value)||e.dispose(),this._value=void 0}},t.toDisposable=function(e){return{dispose:e}},t.disposeArray=n,t.getDisposeArrayDisposable=function(e){return{dispose:()=>n(e)}}},1505:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FourKeyMap=t.TwoKeyMap=void 0;class n{constructor(){this._data={}}set(e,t,n){this._data[e]||(this._data[e]={}),this._data[e][t]=n}get(e,t){return this._data[e]?this._data[e][t]:void 0}clear(){this._data={}}}t.TwoKeyMap=n,t.FourKeyMap=class{constructor(){this._data=new n}set(e,t,r,i,s){this._data.get(e,t)||this._data.set(e,t,new n),this._data.get(e,t).set(r,i,s)}get(e,t,n,r){var i;return null==(i=this._data.get(e,t))?void 0:i.get(n,r)}clear(){this._data.clear()}}},6114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isChromeOS=t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.getSafariVersion=t.isSafari=t.isLegacyEdge=t.isFirefox=t.isNode=void 0,t.isNode="undefined"==typeof navigator;let n=t.isNode?"node":navigator.userAgent,r=t.isNode?"node":navigator.platform;t.isFirefox=n.includes("Firefox"),t.isLegacyEdge=n.includes("Edge"),t.isSafari=/^((?!chrome|android).)*safari/i.test(n),t.getSafariVersion=function(){if(!t.isSafari)return 0;let e=n.match(/Version\/(\d+)/);return null===e||e.length<2?0:parseInt(e[1])},t.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(r),t.isIpad="iPad"===r,t.isIphone="iPhone"===r,t.isWindows=["Windows","Win16","Win32","WinCE"].includes(r),t.isLinux=r.indexOf("Linux")>=0,t.isChromeOS=/\bCrOS\b/.test(n)},6106:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SortedList=void 0;let n=0;t.SortedList=class{constructor(e){this._getKey=e,this._array=[]}clear(){this._array.length=0}insert(e){0!==this._array.length?(n=this._search(this._getKey(e)),this._array.splice(n,0,e)):this._array.push(e)}delete(e){if(0===this._array.length)return!1;let t=this._getKey(e);if(void 0===t||-1===(n=this._search(t))||this._getKey(this._array[n])!==t)return!1;do if(this._array[n]===e)return this._array.splice(n,1),!0;while(++n<this._array.length&&this._getKey(this._array[n])===t)return!1}*getKeyIterator(e){if(0!==this._array.length&&!((n=this._search(e))<0||n>=this._array.length)&&this._getKey(this._array[n])===e)do yield this._array[n];while(++n<this._array.length&&this._getKey(this._array[n])===e)}forEachByKey(e,t){if(0!==this._array.length&&!((n=this._search(e))<0||n>=this._array.length)&&this._getKey(this._array[n])===e)do t(this._array[n]);while(++n<this._array.length&&this._getKey(this._array[n])===e)}values(){return[...this._array].values()}_search(e){let t=0,n=this._array.length-1;for(;n>=t;){let r=t+n>>1,i=this._getKey(this._array[r]);if(i>e)n=r-1;else{if(!(i<e)){for(;r>0&&this._getKey(this._array[r-1])===e;)r--;return r}t=r+1}}return t}}},7226:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DebouncedIdleTask=t.IdleTaskQueue=t.PriorityTaskQueue=void 0;let r=n(6114);class i{constructor(){this._tasks=[],this._i=0}enqueue(e){this._tasks.push(e),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(e){this._idleCallback=void 0;let t=0,n=0,r=e.timeRemaining(),i=0;for(;this._i<this._tasks.length;){if(t=Date.now(),this._tasks[this._i]()||this._i++,1.5*(n=Math.max(t=Math.max(1,Date.now()-t),n))>(i=e.timeRemaining()))return r-t<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(r-t))}ms`),void this._start();r=i}this.clear()}}class s extends i{_requestCallback(e){return setTimeout(()=>e(this._createDeadline(16)))}_cancelCallback(e){clearTimeout(e)}_createDeadline(e){let t=Date.now()+e;return{timeRemaining:()=>Math.max(0,t-Date.now())}}}t.PriorityTaskQueue=s,t.IdleTaskQueue=!r.isNode&&"requestIdleCallback"in window?class extends i{_requestCallback(e){return requestIdleCallback(e)}_cancelCallback(e){cancelIdleCallback(e)}}:s,t.DebouncedIdleTask=class{constructor(){this._queue=new t.IdleTaskQueue}set(e){this._queue.clear(),this._queue.enqueue(e)}flush(){this._queue.flush()}}},9282:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateWindowsModeWrappedState=void 0;let r=n(643);t.updateWindowsModeWrappedState=function(e){let t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1),n=null==t?void 0:t.get(e.cols-1),i=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);i&&n&&(i.isWrapped=n[r.CHAR_DATA_CODE_INDEX]!==r.NULL_CELL_CODE&&n[r.CHAR_DATA_CODE_INDEX]!==r.WHITESPACE_CELL_CODE)}},3734:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;class n{constructor(){this.fg=0,this.bg=0,this.extended=new r}static toColorRGB(e){return[e>>>16&255,e>>>8&255,255&e]}static fromColorRGB(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]}clone(){let e=new n;return e.fg=this.fg,e.bg=this.bg,e.extended=this.extended.clone(),e}isInverse(){return 0x4000000&this.fg}isBold(){return 0x8000000&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:0x10000000&this.fg}isBlink(){return 0x20000000&this.fg}isInvisible(){return 0x40000000&this.fg}isItalic(){return 0x4000000&this.bg}isDim(){return 0x8000000&this.bg}isStrikethrough(){return 0x80000000&this.fg}isProtected(){return 0x20000000&this.bg}isOverline(){return 0x40000000&this.bg}getFgColorMode(){return 0x3000000&this.fg}getBgColorMode(){return 0x3000000&this.bg}isFgRGB(){return 0x3000000==(0x3000000&this.fg)}isBgRGB(){return 0x3000000==(0x3000000&this.bg)}isFgPalette(){return 0x1000000==(0x3000000&this.fg)||0x2000000==(0x3000000&this.fg)}isBgPalette(){return 0x1000000==(0x3000000&this.bg)||0x2000000==(0x3000000&this.bg)}isFgDefault(){return 0==(0x3000000&this.fg)}isBgDefault(){return 0==(0x3000000&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(0x3000000&this.fg){case 0x1000000:case 0x2000000:return 255&this.fg;case 0x3000000:return 0xffffff&this.fg;default:return -1}}getBgColor(){switch(0x3000000&this.bg){case 0x1000000:case 0x2000000:return 255&this.bg;case 0x3000000:return 0xffffff&this.bg;default:return -1}}hasExtendedAttrs(){return 0x10000000&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-0x10000001:this.bg|=0x10000000}getUnderlineColor(){if(0x10000000&this.bg&&~this.extended.underlineColor)switch(0x3000000&this.extended.underlineColor){case 0x1000000:case 0x2000000:return 255&this.extended.underlineColor;case 0x3000000:return 0xffffff&this.extended.underlineColor}return this.getFgColor()}getUnderlineColorMode(){return 0x10000000&this.bg&&~this.extended.underlineColor?0x3000000&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 0x10000000&this.bg&&~this.extended.underlineColor?0x3000000==(0x3000000&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 0x10000000&this.bg&&~this.extended.underlineColor?0x1000000==(0x3000000&this.extended.underlineColor)||0x2000000==(0x3000000&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 0x10000000&this.bg&&~this.extended.underlineColor?0==(0x3000000&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 0x10000000&this.fg?0x10000000&this.bg?this.extended.underlineStyle:1:0}}t.AttributeData=n;class r{get ext(){return this._urlId?-0x1c000001&this._ext|this.underlineStyle<<26:this._ext}set ext(e){this._ext=e}get underlineStyle(){return this._urlId?5:(0x1c000000&this._ext)>>26}set underlineStyle(e){this._ext&=-0x1c000001,this._ext|=e<<26&0x1c000000}get underlineColor(){return 0x3ffffff&this._ext}set underlineColor(e){this._ext&=-0x4000000,this._ext|=0x3ffffff&e}get urlId(){return this._urlId}set urlId(e){this._urlId=e}constructor(e=0,t=0){this._ext=0,this._urlId=0,this._ext=e,this._urlId=t}clone(){return new r(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}t.ExtendedAttrs=r},9092:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Buffer=t.MAX_BUFFER_SIZE=void 0;let r=n(6349),i=n(7226),s=n(3734),a=n(8437),o=n(4634),l=n(511),c=n(643),u=n(4863),p=n(7116);t.MAX_BUFFER_SIZE=0xffffffff,t.Buffer=class{constructor(e,t,n){this._hasScrollback=e,this._optionsService=t,this._bufferService=n,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=a.DEFAULT_ATTR_DATA.clone(),this.savedCharset=p.DEFAULT_CHARSET,this.markers=[],this._nullCell=l.CellData.fromCharData([0,c.NULL_CELL_CHAR,c.NULL_CELL_WIDTH,c.NULL_CELL_CODE]),this._whitespaceCell=l.CellData.fromCharData([0,c.WHITESPACE_CELL_CHAR,c.WHITESPACE_CELL_WIDTH,c.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new i.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new r.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new s.ExtendedAttrs),this._nullCell}getWhitespaceCell(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new s.ExtendedAttrs),this._whitespaceCell}getBlankLine(e,t){return new a.BufferLine(this._bufferService.cols,this.getNullCell(e),t)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){let e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows}_getCorrectBufferLength(e){if(!this._hasScrollback)return e;let n=e+this._optionsService.rawOptions.scrollback;return n>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:n}fillViewportRows(e){if(0===this.lines.length){void 0===e&&(e=a.DEFAULT_ATTR_DATA);let t=this._rows;for(;t--;)this.lines.push(this.getBlankLine(e))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new r.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(e,t){let n=this.getNullCell(a.DEFAULT_ATTR_DATA),r=0,i=this._getCorrectBufferLength(t);if(i>this.lines.maxLength&&(this.lines.maxLength=i),this.lines.length>0){if(this._cols<e)for(let t=0;t<this.lines.length;t++)r+=+this.lines.get(t).resize(e,n);let s=0;if(this._rows<t)for(let r=this._rows;r<t;r++)this.lines.length<t+this.ybase&&(this._optionsService.rawOptions.windowsMode||void 0!==this._optionsService.rawOptions.windowsPty.backend||void 0!==this._optionsService.rawOptions.windowsPty.buildNumber?this.lines.push(new a.BufferLine(e,n)):this.ybase>0&&this.lines.length<=this.ybase+this.y+s+1?(this.ybase--,s++,this.ydisp>0&&this.ydisp--):this.lines.push(new a.BufferLine(e,n)));else for(let e=this._rows;e>t;e--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(i<this.lines.maxLength){let e=this.lines.length-i;e>0&&(this.lines.trimStart(e),this.ybase=Math.max(this.ybase-e,0),this.ydisp=Math.max(this.ydisp-e,0),this.savedY=Math.max(this.savedY-e,0)),this.lines.maxLength=i}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),s&&(this.y+=s),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(let t=0;t<this.lines.length;t++)r+=+this.lines.get(t).resize(e,n);this._cols=e,this._rows=t,this._memoryCleanupQueue.clear(),r>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let e=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,e=!1);let t=0;for(;this._memoryCleanupPosition<this.lines.length;)if((t+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory())>100)return!0;return e}get _isReflowEnabled(){let e=this._optionsService.rawOptions.windowsPty;return e&&e.buildNumber?this._hasScrollback&&"conpty"===e.backend&&e.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))}_reflowLarger(e,t){let n=(0,o.reflowLargerGetLinesToRemove)(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(a.DEFAULT_ATTR_DATA));if(n.length>0){let r=(0,o.reflowLargerCreateNewLayout)(this.lines,n);(0,o.reflowLargerApplyNewLayout)(this.lines,r.layout),this._reflowLargerAdjustViewport(e,t,r.countRemoved)}}_reflowLargerAdjustViewport(e,t,n){let r=this.getNullCell(a.DEFAULT_ATTR_DATA),i=n;for(;i-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new a.BufferLine(e,r))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-n,0)}_reflowSmaller(e,t){let n=this.getNullCell(a.DEFAULT_ATTR_DATA),r=[],i=0;for(let s=this.lines.length-1;s>=0;s--){let l,c=this.lines.get(s);if(!c||!c.isWrapped&&c.getTrimmedLength()<=e)continue;let u=[c];for(;c.isWrapped&&s>0;)c=this.lines.get(--s),u.unshift(c);let p=this.ybase+this.y;if(p>=s&&p<s+u.length)continue;let h=u[u.length-1].getTrimmedLength(),_=(0,o.reflowSmallerGetNewLineLengths)(u,this._cols,e),f=_.length-u.length;l=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+f):Math.max(0,this.lines.length-this.lines.maxLength+f);let d=[];for(let e=0;e<f;e++){let e=this.getBlankLine(a.DEFAULT_ATTR_DATA,!0);d.push(e)}d.length>0&&(r.push({start:s+u.length+i,newLines:d}),i+=d.length),u.push(...d);let g=_.length-1,m=_[g];0===m&&(m=_[--g]);let v=u.length-f-1,b=h;for(;v>=0;){let e=Math.min(b,m);if(void 0===u[g])break;if(u[g].copyCellsFrom(u[v],b-e,m-e,e,!0),0==(m-=e)&&(m=_[--g]),0==(b-=e)){let e=Math.max(--v,0);b=(0,o.getWrappedLineTrimmedLength)(u,e,this._cols)}}for(let t=0;t<u.length;t++)_[t]<e&&u[t].setCell(_[t],n);let y=f-l;for(;y-- >0;)0===this.ybase?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+i)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+f,this.ybase+t-1)}if(r.length>0){let e=[],t=[];for(let e=0;e<this.lines.length;e++)t.push(this.lines.get(e));let n=this.lines.length,s=n-1,a=0,o=r[0];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+i);let l=0;for(let c=Math.min(this.lines.maxLength-1,n+i-1);c>=0;c--)if(o&&o.start>s+l){for(let e=o.newLines.length-1;e>=0;e--)this.lines.set(c--,o.newLines[e]);c++,e.push({index:s+1,amount:o.newLines.length}),l+=o.newLines.length,o=r[++a]}else this.lines.set(c,t[s--]);let c=0;for(let t=e.length-1;t>=0;t--)e[t].index+=c,this.lines.onInsertEmitter.fire(e[t]),c+=e[t].amount;let u=Math.max(0,n+i-this.lines.maxLength);u>0&&this.lines.onTrimEmitter.fire(u)}}translateBufferLineToString(e,t,n=0,r){let i=this.lines.get(e);return i?i.translateToString(t,n,r):""}getWrappedRangeForLine(e){let t=e,n=e;for(;t>0&&this.lines.get(t).isWrapped;)t--;for(;n+1<this.lines.length&&this.lines.get(n+1).isWrapped;)n++;return{first:t,last:n}}setupTabStops(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.rawOptions.tabStopWidth)this.tabs[e]=!0}prevStop(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e}nextStop(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e}clearMarkers(e){this._isClearing=!0;for(let t=0;t<this.markers.length;t++)this.markers[t].line===e&&(this.markers[t].dispose(),this.markers.splice(t--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let e=0;e<this.markers.length;e++)this.markers[e].dispose(),this.markers.splice(e--,1);this._isClearing=!1}addMarker(e){let t=new u.Marker(e);return this.markers.push(t),t.register(this.lines.onTrim(e=>{t.line-=e,t.line<0&&t.dispose()})),t.register(this.lines.onInsert(e=>{t.line>=e.index&&(t.line+=e.amount)})),t.register(this.lines.onDelete(e=>{t.line>=e.index&&t.line<e.index+e.amount&&t.dispose(),t.line>e.index&&(t.line-=e.amount)})),t.register(t.onDispose(()=>this._removeMarker(t))),t}_removeMarker(e){this._isClearing||this.markers.splice(this.markers.indexOf(e),1)}}},8437:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLine=t.DEFAULT_ATTR_DATA=void 0;let r=n(3734),i=n(511),s=n(643),a=n(482);t.DEFAULT_ATTR_DATA=Object.freeze(new r.AttributeData);let o=0;class l{constructor(e,t,n=!1){this.isWrapped=n,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*e);const r=t||i.CellData.fromCharData([0,s.NULL_CELL_CHAR,s.NULL_CELL_WIDTH,s.NULL_CELL_CODE]);for(let t=0;t<e;++t)this.setCell(t,r);this.length=e}get(e){let t=this._data[3*e+0],n=2097151&t;return[this._data[3*e+1],2097152&t?this._combined[e]:n?(0,a.stringFromCodePoint)(n):"",t>>22,2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):n]}set(e,t){this._data[3*e+1]=t[s.CHAR_DATA_ATTR_INDEX],t[s.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[e]=t[1],this._data[3*e+0]=2097152|e|t[s.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*e+0]=t[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[s.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(e){return this._data[3*e+0]>>22}hasWidth(e){return 0xc00000&this._data[3*e+0]}getFg(e){return this._data[3*e+1]}getBg(e){return this._data[3*e+2]}hasContent(e){return 4194303&this._data[3*e+0]}getCodePoint(e){let t=this._data[3*e+0];return 2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&t}isCombined(e){return 2097152&this._data[3*e+0]}getString(e){let t=this._data[3*e+0];return 2097152&t?this._combined[e]:2097151&t?(0,a.stringFromCodePoint)(2097151&t):""}isProtected(e){return 0x20000000&this._data[3*e+2]}loadCell(e,t){return o=3*e,t.content=this._data[o+0],t.fg=this._data[o+1],t.bg=this._data[o+2],2097152&t.content&&(t.combinedData=this._combined[e]),0x10000000&t.bg&&(t.extended=this._extendedAttrs[e]),t}setCell(e,t){2097152&t.content&&(this._combined[e]=t.combinedData),0x10000000&t.bg&&(this._extendedAttrs[e]=t.extended),this._data[3*e+0]=t.content,this._data[3*e+1]=t.fg,this._data[3*e+2]=t.bg}setCellFromCodePoint(e,t,n,r,i,s){0x10000000&i&&(this._extendedAttrs[e]=s),this._data[3*e+0]=t|n<<22,this._data[3*e+1]=r,this._data[3*e+2]=i}addCodepointToCell(e,t){let n=this._data[3*e+0];2097152&n?this._combined[e]+=(0,a.stringFromCodePoint)(t):(2097151&n?(this._combined[e]=(0,a.stringFromCodePoint)(2097151&n)+(0,a.stringFromCodePoint)(t),n&=-2097152,n|=2097152):n=4194304|t,this._data[3*e+0]=n)}insertCells(e,t,n,s){if((e%=this.length)&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==s?void 0:s.fg)||0,(null==s?void 0:s.bg)||0,(null==s?void 0:s.extended)||new r.ExtendedAttrs),t<this.length-e){let r=new i.CellData;for(let n=this.length-e-t-1;n>=0;--n)this.setCell(e+t+n,this.loadCell(e+n,r));for(let r=0;r<t;++r)this.setCell(e+r,n)}else for(let t=e;t<this.length;++t)this.setCell(t,n);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==s?void 0:s.fg)||0,(null==s?void 0:s.bg)||0,(null==s?void 0:s.extended)||new r.ExtendedAttrs)}deleteCells(e,t,n,s){if(e%=this.length,t<this.length-e){let r=new i.CellData;for(let n=0;n<this.length-e-t;++n)this.setCell(e+n,this.loadCell(e+t+n,r));for(let e=this.length-t;e<this.length;++e)this.setCell(e,n)}else for(let t=e;t<this.length;++t)this.setCell(t,n);e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==s?void 0:s.fg)||0,(null==s?void 0:s.bg)||0,(null==s?void 0:s.extended)||new r.ExtendedAttrs),0!==this.getWidth(e)||this.hasContent(e)||this.setCellFromCodePoint(e,0,1,(null==s?void 0:s.fg)||0,(null==s?void 0:s.bg)||0,(null==s?void 0:s.extended)||new r.ExtendedAttrs)}replaceCells(e,t,n,i,s=!1){if(s)for(e&&2===this.getWidth(e-1)&&!this.isProtected(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new r.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&!this.isProtected(t)&&this.setCellFromCodePoint(t,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new r.ExtendedAttrs);e<t&&e<this.length;)this.isProtected(e)||this.setCell(e,n),e++;else for(e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new r.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&this.setCellFromCodePoint(t,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new r.ExtendedAttrs);e<t&&e<this.length;)this.setCell(e++,n)}resize(e,t){if(e===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;let n=3*e;if(e>this.length){if(this._data.buffer.byteLength>=4*n)this._data=new Uint32Array(this._data.buffer,0,n);else{let e=new Uint32Array(n);e.set(this._data),this._data=e}for(let n=this.length;n<e;++n)this.setCell(n,t)}else{this._data=this._data.subarray(0,n);let t=Object.keys(this._combined);for(let n=0;n<t.length;n++){let r=parseInt(t[n],10);r>=e&&delete this._combined[r]}let r=Object.keys(this._extendedAttrs);for(let t=0;t<r.length;t++){let n=parseInt(r[t],10);n>=e&&delete this._extendedAttrs[n]}}return this.length=e,4*n*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){let e=new Uint32Array(this._data.length);return e.set(this._data),this._data=e,1}return 0}fill(e,t=!1){if(t)for(let t=0;t<this.length;++t)this.isProtected(t)||this.setCell(t,e);else{this._combined={},this._extendedAttrs={};for(let t=0;t<this.length;++t)this.setCell(t,e)}}copyFrom(e){for(let t in this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={},e._combined)this._combined[t]=e._combined[t];for(let t in this._extendedAttrs={},e._extendedAttrs)this._extendedAttrs[t]=e._extendedAttrs[t];this.isWrapped=e.isWrapped}clone(){let e=new l(0);for(let t in e._data=new Uint32Array(this._data),e.length=this.length,this._combined)e._combined[t]=this._combined[t];for(let t in this._extendedAttrs)e._extendedAttrs[t]=this._extendedAttrs[t];return e.isWrapped=this.isWrapped,e}getTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0])return e+(this._data[3*e+0]>>22);return 0}getNoBgTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0]||0x3000000&this._data[3*e+2])return e+(this._data[3*e+0]>>22);return 0}copyCellsFrom(e,t,n,r,i){let s=e._data;if(i)for(let i=r-1;i>=0;i--){for(let e=0;e<3;e++)this._data[3*(n+i)+e]=s[3*(t+i)+e];0x10000000&s[3*(t+i)+2]&&(this._extendedAttrs[n+i]=e._extendedAttrs[t+i])}else for(let i=0;i<r;i++){for(let e=0;e<3;e++)this._data[3*(n+i)+e]=s[3*(t+i)+e];0x10000000&s[3*(t+i)+2]&&(this._extendedAttrs[n+i]=e._extendedAttrs[t+i])}let a=Object.keys(e._combined);for(let r=0;r<a.length;r++){let i=parseInt(a[r],10);i>=t&&(this._combined[i-t+n]=e._combined[i])}}translateToString(e=!1,t=0,n=this.length){e&&(n=Math.min(n,this.getTrimmedLength()));let r="";for(;t<n;){let e=this._data[3*t+0],n=2097151&e;r+=2097152&e?this._combined[t]:n?(0,a.stringFromCodePoint)(n):s.WHITESPACE_CELL_CHAR,t+=e>>22||1}return r}}t.BufferLine=l},4841:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRangeLength=void 0,t.getRangeLength=function(e,t){if(e.start.y>e.end.y)throw Error(`Buffer range end (${e.end.x}, ${e.end.y}) cannot be before start (${e.start.x}, ${e.start.y})`);return t*(e.end.y-e.start.y)+(e.end.x-e.start.x+1)}},4634:(e,t)=>{function n(e,t,n){if(t===e.length-1)return e[t].getTrimmedLength();let r=!e[t].hasContent(n-1)&&1===e[t].getWidth(n-1),i=2===e[t+1].getWidth(0);return r&&i?n-1:n}Object.defineProperty(t,"__esModule",{value:!0}),t.getWrappedLineTrimmedLength=t.reflowSmallerGetNewLineLengths=t.reflowLargerApplyNewLayout=t.reflowLargerCreateNewLayout=t.reflowLargerGetLinesToRemove=void 0,t.reflowLargerGetLinesToRemove=function(e,t,r,i,s){let a=[];for(let o=0;o<e.length-1;o++){let l=o,c=e.get(++l);if(!c.isWrapped)continue;let u=[e.get(o)];for(;l<e.length&&c.isWrapped;)u.push(c),c=e.get(++l);if(i>=o&&i<l){o+=u.length-1;continue}let p=0,h=n(u,0,t),_=1,f=0;for(;_<u.length;){let e=n(u,_,t),i=Math.min(e-f,r-h);u[p].copyCellsFrom(u[_],f,h,i,!1),(h+=i)===r&&(p++,h=0),(f+=i)===e&&(_++,f=0),0===h&&0!==p&&2===u[p-1].getWidth(r-1)&&(u[p].copyCellsFrom(u[p-1],r-1,h++,1,!1),u[p-1].setCell(r-1,s))}u[p].replaceCells(h,r,s);let d=0;for(let e=u.length-1;e>0&&(e>p||0===u[e].getTrimmedLength());e--)d++;d>0&&(a.push(o+u.length-d),a.push(d)),o+=u.length-1}return a},t.reflowLargerCreateNewLayout=function(e,t){let n=[],r=0,i=t[0],s=0;for(let a=0;a<e.length;a++)if(i===a){let n=t[++r];e.onDeleteEmitter.fire({index:a-s,amount:n}),a+=n-1,s+=n,i=t[++r]}else n.push(a);return{layout:n,countRemoved:s}},t.reflowLargerApplyNewLayout=function(e,t){let n=[];for(let r=0;r<t.length;r++)n.push(e.get(t[r]));for(let t=0;t<n.length;t++)e.set(t,n[t]);e.length=t.length},t.reflowSmallerGetNewLineLengths=function(e,t,r){let i=[],s=e.map((r,i)=>n(e,i,t)).reduce((e,t)=>e+t),a=0,o=0,l=0;for(;l<s;){if(s-l<r){i.push(s-l);break}a+=r;let c=n(e,o,t);a>c&&(a-=c,o++);let u=2===e[o].getWidth(a-1);u&&a--;let p=u?r-1:r;i.push(p),l+=p}return i},t.getWrappedLineTrimmedLength=n},5295:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSet=void 0;let r=n(8460),i=n(844),s=n(9092);class a extends i.Disposable{constructor(e,t){super(),this._optionsService=e,this._bufferService=t,this._onBufferActivate=this.register(new r.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new s.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new s.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(e,t){this._normal.resize(e,t),this._alt.resize(e,t),this.setupTabStops(e)}setupTabStops(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)}}t.BufferSet=a},511:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;let r=n(482),i=n(643),s=n(3734);class a extends s.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new s.ExtendedAttrs,this.combinedData=""}static fromCharData(e){let t=new a;return t.setFromCharData(e),t}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,r.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(e){this.fg=e[i.CHAR_DATA_ATTR_INDEX],this.bg=0;let t=!1;if(e[i.CHAR_DATA_CHAR_INDEX].length>2)t=!0;else if(2===e[i.CHAR_DATA_CHAR_INDEX].length){let n=e[i.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=n&&n<=56319){let r=e[i.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=r&&r<=57343?this.content=1024*(n-55296)+r-56320+65536|e[i.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[i.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[i.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[i.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[i.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.CellData=a},643:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_EXT=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=0,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.DEFAULT_EXT=0,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},4863:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;let r=n(8460),i=n(844);class s{get id(){return this._id}constructor(e){this.line=e,this.isDisposed=!1,this._disposables=[],this._id=s._nextId++,this._onDispose=this.register(new r.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,i.disposeArray)(this._disposables),this._disposables.length=0)}register(e){return this._disposables.push(e),e}}t.Marker=s,s._nextId=1},7116:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARSET=t.CHARSETS=void 0,t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"â",a:"â",b:"â",c:"â",d:"â",e:"â",f:"Â°",g:"Â±",h:"â¤",i:"â",j:"â",k:"â",l:"â",m:"â",n:"â¼",o:"âº",p:"â»",q:"â",r:"â¼",s:"â½",t:"â",u:"â¤",v:"â´",w:"â¬",x:"â",y:"â¤",z:"â¥","{":"Ï","|":"â ","}":"Â£","~":"Â·"},t.CHARSETS.A={"#":"Â£"},t.CHARSETS.B=void 0,t.CHARSETS[4]={"#":"Â£","@":"Â¾","[":"ij","\\":"Â½","]":"|","{":"Â¨","|":"f","}":"Â¼","~":"Â´"},t.CHARSETS.C=t.CHARSETS[5]={"[":"Ã","\\":"Ã","]":"Ã","^":"Ã","`":"Ã©","{":"Ã¤","|":"Ã¶","}":"Ã¥","~":"Ã¼"},t.CHARSETS.R={"#":"Â£","@":"Ã ","[":"Â°","\\":"Ã§","]":"Â§","{":"Ã©","|":"Ã¹","}":"Ã¨","~":"Â¨"},t.CHARSETS.Q={"@":"Ã ","[":"Ã¢","\\":"Ã§","]":"Ãª","^":"Ã®","`":"Ã´","{":"Ã©","|":"Ã¹","}":"Ã¨","~":"Ã»"},t.CHARSETS.K={"@":"Â§","[":"Ã","\\":"Ã","]":"Ã","{":"Ã¤","|":"Ã¶","}":"Ã¼","~":"Ã"},t.CHARSETS.Y={"#":"Â£","@":"Â§","[":"Â°","\\":"Ã§","]":"Ã©","`":"Ã¹","{":"Ã ","|":"Ã²","}":"Ã¨","~":"Ã¬"},t.CHARSETS.E=t.CHARSETS[6]={"@":"Ã","[":"Ã","\\":"Ã","]":"Ã","^":"Ã","`":"Ã¤","{":"Ã¦","|":"Ã¸","}":"Ã¥","~":"Ã¼"},t.CHARSETS.Z={"#":"Â£","@":"Â§","[":"Â¡","\\":"Ã","]":"Â¿","{":"Â°","|":"Ã±","}":"Ã§"},t.CHARSETS.H=t.CHARSETS[7]={"@":"Ã","[":"Ã","\\":"Ã","]":"Ã","^":"Ã","`":"Ã©","{":"Ã¤","|":"Ã¶","}":"Ã¥","~":"Ã¼"},t.CHARSETS["="]={"#":"Ã¹","@":"Ã ","[":"Ã©","\\":"Ã§","]":"Ãª","^":"Ã®",_:"Ã¨","`":"Ã´","{":"Ã¤","|":"Ã¶","}":"Ã¼","~":"Ã»"}},2584:(e,t)=>{var n,r,i,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.C1_ESCAPED=t.C1=t.C0=void 0,(s=n||(t.C0=n={})).NUL="\0",s.SOH="\x01",s.STX="\x02",s.ETX="\x03",s.EOT="\x04",s.ENQ="\x05",s.ACK="\x06",s.BEL="\x07",s.BS="\b",s.HT="	",s.LF="\n",s.VT="\v",s.FF="\f",s.CR="\r",s.SO="\x0e",s.SI="\x0f",s.DLE="\x10",s.DC1="\x11",s.DC2="\x12",s.DC3="\x13",s.DC4="\x14",s.NAK="\x15",s.SYN="\x16",s.ETB="\x17",s.CAN="\x18",s.EM="\x19",s.SUB="\x1a",s.ESC="\x1b",s.FS="\x1c",s.GS="\x1d",s.RS="\x1e",s.US="\x1f",s.SP=" ",s.DEL="",(a=r||(t.C1=r={})).PAD="Â",a.HOP="Â",a.BPH="Â",a.NBH="Â",a.IND="Â",a.NEL="Â",a.SSA="Â",a.ESA="Â",a.HTS="Â",a.HTJ="Â",a.VTS="Â",a.PLD="Â",a.PLU="Â",a.RI="Â",a.SS2="Â",a.SS3="Â",a.DCS="Â",a.PU1="Â",a.PU2="Â",a.STS="Â",a.CCH="Â",a.MW="Â",a.SPA="Â",a.EPA="Â",a.SOS="Â",a.SGCI="Â",a.SCI="Â",a.CSI="Â",a.ST="Â",a.OSC="Â",a.PM="Â",a.APC="Â",(i||(t.C1_ESCAPED=i={})).ST=`${n.ESC}\\`},7399:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateKeyboardEvent=void 0;let r=n(2584),i={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(e,t,n,s){let a={type:0,cancel:!1,key:void 0},o=!!e.shiftKey|2*!!e.altKey|4*!!e.ctrlKey|8*!!e.metaKey;switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?a.key=t?r.C0.ESC+"OA":r.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?a.key=t?r.C0.ESC+"OD":r.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?a.key=t?r.C0.ESC+"OC":r.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(a.key=t?r.C0.ESC+"OB":r.C0.ESC+"[B");break;case 8:if(e.altKey){a.key=r.C0.ESC+r.C0.DEL;break}a.key=r.C0.DEL;break;case 9:if(e.shiftKey){a.key=r.C0.ESC+"[Z";break}a.key=r.C0.HT,a.cancel=!0;break;case 13:a.key=e.altKey?r.C0.ESC+r.C0.CR:r.C0.CR,a.cancel=!0;break;case 27:a.key=r.C0.ESC,e.altKey&&(a.key=r.C0.ESC+r.C0.ESC),a.cancel=!0;break;case 37:if(e.metaKey)break;o?(a.key=r.C0.ESC+"[1;"+(o+1)+"D",a.key===r.C0.ESC+"[1;3D"&&(a.key=r.C0.ESC+(n?"b":"[1;5D"))):a.key=t?r.C0.ESC+"OD":r.C0.ESC+"[D";break;case 39:if(e.metaKey)break;o?(a.key=r.C0.ESC+"[1;"+(o+1)+"C",a.key===r.C0.ESC+"[1;3C"&&(a.key=r.C0.ESC+(n?"f":"[1;5C"))):a.key=t?r.C0.ESC+"OC":r.C0.ESC+"[C";break;case 38:if(e.metaKey)break;o?(a.key=r.C0.ESC+"[1;"+(o+1)+"A",n||a.key!==r.C0.ESC+"[1;3A"||(a.key=r.C0.ESC+"[1;5A")):a.key=t?r.C0.ESC+"OA":r.C0.ESC+"[A";break;case 40:if(e.metaKey)break;o?(a.key=r.C0.ESC+"[1;"+(o+1)+"B",n||a.key!==r.C0.ESC+"[1;3B"||(a.key=r.C0.ESC+"[1;5B")):a.key=t?r.C0.ESC+"OB":r.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(a.key=r.C0.ESC+"[2~");break;case 46:a.key=o?r.C0.ESC+"[3;"+(o+1)+"~":r.C0.ESC+"[3~";break;case 36:a.key=o?r.C0.ESC+"[1;"+(o+1)+"H":t?r.C0.ESC+"OH":r.C0.ESC+"[H";break;case 35:a.key=o?r.C0.ESC+"[1;"+(o+1)+"F":t?r.C0.ESC+"OF":r.C0.ESC+"[F";break;case 33:e.shiftKey?a.type=2:e.ctrlKey?a.key=r.C0.ESC+"[5;"+(o+1)+"~":a.key=r.C0.ESC+"[5~";break;case 34:e.shiftKey?a.type=3:e.ctrlKey?a.key=r.C0.ESC+"[6;"+(o+1)+"~":a.key=r.C0.ESC+"[6~";break;case 112:a.key=o?r.C0.ESC+"[1;"+(o+1)+"P":r.C0.ESC+"OP";break;case 113:a.key=o?r.C0.ESC+"[1;"+(o+1)+"Q":r.C0.ESC+"OQ";break;case 114:a.key=o?r.C0.ESC+"[1;"+(o+1)+"R":r.C0.ESC+"OR";break;case 115:a.key=o?r.C0.ESC+"[1;"+(o+1)+"S":r.C0.ESC+"OS";break;case 116:a.key=o?r.C0.ESC+"[15;"+(o+1)+"~":r.C0.ESC+"[15~";break;case 117:a.key=o?r.C0.ESC+"[17;"+(o+1)+"~":r.C0.ESC+"[17~";break;case 118:a.key=o?r.C0.ESC+"[18;"+(o+1)+"~":r.C0.ESC+"[18~";break;case 119:a.key=o?r.C0.ESC+"[19;"+(o+1)+"~":r.C0.ESC+"[19~";break;case 120:a.key=o?r.C0.ESC+"[20;"+(o+1)+"~":r.C0.ESC+"[20~";break;case 121:a.key=o?r.C0.ESC+"[21;"+(o+1)+"~":r.C0.ESC+"[21~";break;case 122:a.key=o?r.C0.ESC+"[23;"+(o+1)+"~":r.C0.ESC+"[23~";break;case 123:a.key=o?r.C0.ESC+"[24;"+(o+1)+"~":r.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(n&&!s||!e.altKey||e.metaKey)!n||e.altKey||e.ctrlKey||e.shiftKey||!e.metaKey?!e.key||e.ctrlKey||e.altKey||e.metaKey||!(e.keyCode>=48)||1!==e.key.length?e.key&&e.ctrlKey&&("_"===e.key&&(a.key=r.C0.US),"@"===e.key&&(a.key=r.C0.NUL)):a.key=e.key:65===e.keyCode&&(a.type=1);else{let t=i[e.keyCode],n=null==t?void 0:t[+!!e.shiftKey];if(n)a.key=r.C0.ESC+n;else if(e.keyCode>=65&&e.keyCode<=90){let t=String.fromCharCode(e.ctrlKey?e.keyCode-64:e.keyCode+32);e.shiftKey&&(t=t.toUpperCase()),a.key=r.C0.ESC+t}else if(32===e.keyCode)a.key=r.C0.ESC+(e.ctrlKey?r.C0.NUL:" ");else if("Dead"===e.key&&e.code.startsWith("Key")){let t=e.code.slice(3,4);e.shiftKey||(t=t.toLowerCase()),a.key=r.C0.ESC+t,a.cancel=!0}}else e.keyCode>=65&&e.keyCode<=90?a.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?a.key=r.C0.NUL:e.keyCode>=51&&e.keyCode<=55?a.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?a.key=r.C0.DEL:219===e.keyCode?a.key=r.C0.ESC:220===e.keyCode?a.key=r.C0.FS:221===e.keyCode&&(a.key=r.C0.GS)}return a}},482:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(e){return e>65535?String.fromCharCode(55296+((e-=65536)>>10))+String.fromCharCode(e%1024+56320):String.fromCharCode(e)},t.utf32ToString=function(e,t=0,n=e.length){let r="";for(let i=t;i<n;++i){let t=e[i];t>65535?(t-=65536,r+=String.fromCharCode(55296+(t>>10))+String.fromCharCode(t%1024+56320)):r+=String.fromCharCode(t)}return r},t.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(e,t){let n=e.length;if(!n)return 0;let r=0,i=0;if(this._interim){let n=e.charCodeAt(i++);56320<=n&&n<=57343?t[r++]=1024*(this._interim-55296)+n-56320+65536:(t[r++]=this._interim,t[r++]=n),this._interim=0}for(let s=i;s<n;++s){let i=e.charCodeAt(s);if(55296<=i&&i<=56319){if(++s>=n)return this._interim=i,r;let a=e.charCodeAt(s);56320<=a&&a<=57343?t[r++]=1024*(i-55296)+a-56320+65536:(t[r++]=i,t[r++]=a)}else 65279!==i&&(t[r++]=i)}return r}},t.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(e,t){let n=e.length;if(!n)return 0;let r,i,s,a,o=0,l=0,c=0;if(this.interim[0]){let r=!1,i=this.interim[0];i&=192==(224&i)?31:224==(240&i)?15:7;let s,a=0;for(;(s=63&this.interim[++a])&&a<4;)i<<=6,i|=s;let l=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,u=l-a;for(;c<u;){if(c>=n)return 0;if(128!=(192&(s=e[c++]))){c--,r=!0;break}this.interim[a++]=s,i<<=6,i|=63&s}r||(2===l?i<128?c--:t[o++]=i:3===l?i<2048||i>=55296&&i<=57343||65279===i||(t[o++]=i):i<65536||i>1114111||(t[o++]=i)),this.interim.fill(0)}let u=n-4,p=c;for(;p<n;){for(;!(!(p<u)||128&(r=e[p])||128&(i=e[p+1])||128&(s=e[p+2])||128&(a=e[p+3]));)t[o++]=r,t[o++]=i,t[o++]=s,t[o++]=a,p+=4;if((r=e[p++])<128)t[o++]=r;else if(192==(224&r)){if(p>=n)return this.interim[0]=r,o;if(128!=(192&(i=e[p++]))||(l=(31&r)<<6|63&i)<128){p--;continue}t[o++]=l}else if(224==(240&r)){if(p>=n)return this.interim[0]=r,o;if(128!=(192&(i=e[p++]))){p--;continue}if(p>=n)return this.interim[0]=r,this.interim[1]=i,o;if(128!=(192&(s=e[p++]))){p--;continue}if((l=(15&r)<<12|(63&i)<<6|63&s)<2048||l>=55296&&l<=57343||65279===l)continue;t[o++]=l}else if(240==(248&r)){if(p>=n)return this.interim[0]=r,o;if(128!=(192&(i=e[p++]))){p--;continue}if(p>=n)return this.interim[0]=r,this.interim[1]=i,o;if(128!=(192&(s=e[p++]))){p--;continue}if(p>=n)return this.interim[0]=r,this.interim[1]=i,this.interim[2]=s,o;if(128!=(192&(a=e[p++]))){p--;continue}if((l=(7&r)<<18|(63&i)<<12|(63&s)<<6|63&a)<65536||l>1114111)continue;t[o++]=l}}return o}}},225:(e,t)=>{let n;Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;let r=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],i=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];t.UnicodeV6=class{constructor(){if(this.version="6",!n){(n=new Uint8Array(65536)).fill(1),n[0]=0,n.fill(0,1,32),n.fill(0,127,160),n.fill(2,4352,4448),n[9001]=2,n[9002]=2,n.fill(2,11904,42192),n[12351]=1,n.fill(2,44032,55204),n.fill(2,63744,64256),n.fill(2,65040,65050),n.fill(2,65072,65136),n.fill(2,65280,65377),n.fill(2,65504,65511);for(let e=0;e<r.length;++e)n.fill(0,r[e][0],r[e][1]+1)}}wcwidth(e){return e<32?0:e<127?1:e<65536?n[e]:!function(e,t){let n,r=0,i=t.length-1;if(e<t[0][0]||e>t[i][1])return!1;for(;i>=r;)if(e>t[n=r+i>>1][1])r=n+1;else{if(!(e<t[n][0]))return!0;i=n-1}return!1}(e,i)?e>=131072&&e<=196605||e>=196608&&e<=262141?2:1:0}}},5981:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBuffer=void 0;let r=n(8460),i=n(844);class s extends i.Disposable{constructor(e){super(),this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new r.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(e,t){let n;if(void 0!==t&&this._syncCalls>t)return void(this._syncCalls=0);if(this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){for(this._isSyncWriting=!0;n=this._writeBuffer.shift();){this._action(n);let e=this._callbacks.shift();e&&e()}this._pendingData=0,this._bufferOffset=0x7fffffff,this._isSyncWriting=!1,this._syncCalls=0}}write(e,t){if(this._pendingData>5e7)throw Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)}_innerWrite(e=0,t=!0){let n=e||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){let e=this._writeBuffer[this._bufferOffset],r=this._action(e,t);if(r){let e=e=>Date.now()-n>=12?setTimeout(()=>this._innerWrite(0,e)):this._innerWrite(n,e);return void r.catch(e=>(queueMicrotask(()=>{throw e}),Promise.resolve(!1))).then(e)}let i=this._callbacks[this._bufferOffset];if(i&&i(),this._bufferOffset++,this._pendingData-=e.length,Date.now()-n>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}t.WriteBuffer=s},5941:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toRgbString=t.parseColor=void 0;let n=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,r=/^[\da-f]+$/;function i(e,t){let n=e.toString(16),r=n.length<2?"0"+n:n;switch(t){case 4:return n[0];case 8:return r;case 12:return(r+r).slice(0,3);default:return r+r}}t.parseColor=function(e){if(!e)return;let t=e.toLowerCase();if(0===t.indexOf("rgb:")){t=t.slice(4);let e=n.exec(t);if(e){let t=e[1]?15:e[4]?255:e[7]?4095:65535;return[Math.round(parseInt(e[1]||e[4]||e[7]||e[10],16)/t*255),Math.round(parseInt(e[2]||e[5]||e[8]||e[11],16)/t*255),Math.round(parseInt(e[3]||e[6]||e[9]||e[12],16)/t*255)]}}else if(0===t.indexOf("#")&&(t=t.slice(1),r.exec(t)&&[3,6,9,12].includes(t.length))){let e=t.length/3,n=[0,0,0];for(let r=0;r<3;++r){let i=parseInt(t.slice(e*r,e*r+e),16);n[r]=1===e?i<<4:2===e?i:3===e?i>>4:i>>8}return n}},t.toRgbString=function(e,t=16){let[n,r,s]=e;return`rgb:${i(n,t)}/${i(r,t)}/${i(s,t)}`}},5770:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=void 0,t.PAYLOAD_LIMIT=1e7},6351:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DcsHandler=t.DcsParser=void 0;let r=n(482),i=n(8742),s=n(5770),a=[];t.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=a,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=a}registerHandler(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);let n=this._handlers[e];return n.push(t),{dispose:()=>{let e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}reset(){if(this._active.length)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].unhook(!1);this._stack.paused=!1,this._active=a,this._ident=0}hook(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||a,this._active.length)for(let e=this._active.length-1;e>=0;e--)this._active[e].hook(t);else this._handlerFb(this._ident,"HOOK",t)}put(e,t,n){if(this._active.length)for(let r=this._active.length-1;r>=0;r--)this._active[r].put(e,t,n);else this._handlerFb(this._ident,"PUT",(0,r.utf32ToString)(e,t,n))}unhook(e,t=!0){if(this._active.length){let n=!1,r=this._active.length-1,i=!1;if(this._stack.paused&&(r=this._stack.loopPosition-1,n=t,i=this._stack.fallThrough,this._stack.paused=!1),!i&&!1===n){for(;r>=0&&!0!==(n=this._active[r].unhook(e));r--)if(n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=r,this._stack.fallThrough=!1,n;r--}for(;r>=0;r--)if((n=this._active[r].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=r,this._stack.fallThrough=!0,n}else this._handlerFb(this._ident,"UNHOOK",e);this._active=a,this._ident=0}};let o=new i.Params;o.addParam(0),t.DcsHandler=class{constructor(e){this._handler=e,this._data="",this._params=o,this._hitLimit=!1}hook(e){this._params=e.length>1||e.params[0]?e.clone():o,this._data="",this._hitLimit=!1}put(e,t,n){this._hitLimit||(this._data+=(0,r.utf32ToString)(e,t,n),this._data.length>s.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data,this._params))instanceof Promise)return t.then(e=>(this._params=o,this._data="",this._hitLimit=!1,e));return this._params=o,this._data="",this._hitLimit=!1,t}}},2015:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EscapeSequenceParser=t.VT500_TRANSITION_TABLE=t.TransitionTable=void 0;let r=n(844),i=n(8742),s=n(6242),a=n(6351);class o{constructor(e){this.table=new Uint8Array(e)}setDefault(e,t){this.table.fill(e<<4|t)}add(e,t,n,r){this.table[t<<8|e]=n<<4|r}addMany(e,t,n,r){for(let i=0;i<e.length;i++)this.table[t<<8|e[i]]=n<<4|r}}t.TransitionTable=o,t.VT500_TRANSITION_TABLE=function(){let e,t=new o(4095),n=Array.apply(null,Array(256)).map((e,t)=>t),r=(e,t)=>n.slice(e,t),i=r(32,127),s=r(0,24);s.push(25),s.push.apply(s,r(28,32));let a=r(0,14);for(e in t.setDefault(1,0),t.addMany(i,0,2,0),a)t.addMany([24,26,153,154],e,3,0),t.addMany(r(128,144),e,3,0),t.addMany(r(144,152),e,3,0),t.add(156,e,0,0),t.add(27,e,11,1),t.add(157,e,4,8),t.addMany([152,158,159],e,0,7),t.add(155,e,11,3),t.add(144,e,11,9);return t.addMany(s,0,3,0),t.addMany(s,1,3,1),t.add(127,1,0,1),t.addMany(s,8,0,8),t.addMany(s,3,3,3),t.add(127,3,0,3),t.addMany(s,4,3,4),t.add(127,4,0,4),t.addMany(s,6,3,6),t.addMany(s,5,3,5),t.add(127,5,0,5),t.addMany(s,2,3,2),t.add(127,2,0,2),t.add(93,1,4,8),t.addMany(i,8,5,8),t.add(127,8,5,8),t.addMany([156,27,24,26,7],8,6,0),t.addMany(r(28,32),8,0,8),t.addMany([88,94,95],1,0,7),t.addMany(i,7,0,7),t.addMany(s,7,0,7),t.add(156,7,0,0),t.add(127,7,0,7),t.add(91,1,11,3),t.addMany(r(64,127),3,7,0),t.addMany(r(48,60),3,8,4),t.addMany([60,61,62,63],3,9,4),t.addMany(r(48,60),4,8,4),t.addMany(r(64,127),4,7,0),t.addMany([60,61,62,63],4,0,6),t.addMany(r(32,64),6,0,6),t.add(127,6,0,6),t.addMany(r(64,127),6,0,0),t.addMany(r(32,48),3,9,5),t.addMany(r(32,48),5,9,5),t.addMany(r(48,64),5,0,6),t.addMany(r(64,127),5,7,0),t.addMany(r(32,48),4,9,5),t.addMany(r(32,48),1,9,2),t.addMany(r(32,48),2,9,2),t.addMany(r(48,127),2,10,0),t.addMany(r(48,80),1,10,0),t.addMany(r(81,88),1,10,0),t.addMany([89,90,92],1,10,0),t.addMany(r(96,127),1,10,0),t.add(80,1,11,9),t.addMany(s,9,0,9),t.add(127,9,0,9),t.addMany(r(28,32),9,0,9),t.addMany(r(32,48),9,9,12),t.addMany(r(48,60),9,8,10),t.addMany([60,61,62,63],9,9,10),t.addMany(s,11,0,11),t.addMany(r(32,128),11,0,11),t.addMany(r(28,32),11,0,11),t.addMany(s,10,0,10),t.add(127,10,0,10),t.addMany(r(28,32),10,0,10),t.addMany(r(48,60),10,8,10),t.addMany([60,61,62,63],10,0,11),t.addMany(r(32,48),10,9,12),t.addMany(s,12,0,12),t.add(127,12,0,12),t.addMany(r(28,32),12,0,12),t.addMany(r(32,48),12,9,12),t.addMany(r(48,64),12,0,11),t.addMany(r(64,127),12,12,13),t.addMany(r(64,127),10,12,13),t.addMany(r(64,127),9,12,13),t.addMany(s,13,13,13),t.addMany(i,13,13,13),t.add(127,13,0,13),t.addMany([27,156,24,26],13,14,0),t.add(160,0,2,0),t.add(160,8,5,8),t.add(160,6,0,6),t.add(160,11,0,11),t.add(160,13,13,13),t}();class l extends r.Disposable{constructor(e=t.VT500_TRANSITION_TABLE){super(),this._transitions=e,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new i.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(e,t,n)=>{},this._executeHandlerFb=e=>{},this._csiHandlerFb=(e,t)=>{},this._escHandlerFb=e=>{},this._errorHandlerFb=e=>e,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,r.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new s.OscParser),this._dcsParser=this.register(new a.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(e,t=[64,126]){let n=0;if(e.prefix){if(e.prefix.length>1)throw Error("only one byte as prefix supported");if((n=e.prefix.charCodeAt(0))&&60>n||n>63)throw Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw Error("only two bytes as intermediates are supported");for(let t=0;t<e.intermediates.length;++t){let r=e.intermediates.charCodeAt(t);if(32>r||r>47)throw Error("intermediate must be in range 0x20 .. 0x2f");n<<=8,n|=r}}if(1!==e.final.length)throw Error("final must be a single byte");let r=e.final.charCodeAt(0);if(t[0]>r||r>t[1])throw Error(`final must be in range ${t[0]} .. ${t[1]}`);return n<<=8,n|=r}identToString(e){let t=[];for(;e;)t.push(String.fromCharCode(255&e)),e>>=8;return t.reverse().join("")}setPrintHandler(e){this._printHandler=e}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(e,t){let n=this._identifier(e,[48,126]);void 0===this._escHandlers[n]&&(this._escHandlers[n]=[]);let r=this._escHandlers[n];return r.push(t),{dispose:()=>{let e=r.indexOf(t);-1!==e&&r.splice(e,1)}}}clearEscHandler(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]}setEscHandlerFallback(e){this._escHandlerFb=e}setExecuteHandler(e,t){this._executeHandlers[e.charCodeAt(0)]=t}clearExecuteHandler(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]}setExecuteHandlerFallback(e){this._executeHandlerFb=e}registerCsiHandler(e,t){let n=this._identifier(e);void 0===this._csiHandlers[n]&&(this._csiHandlers[n]=[]);let r=this._csiHandlers[n];return r.push(t),{dispose:()=>{let e=r.indexOf(t);-1!==e&&r.splice(e,1)}}}clearCsiHandler(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]}setCsiHandlerFallback(e){this._csiHandlerFb=e}registerDcsHandler(e,t){return this._dcsParser.registerHandler(this._identifier(e),t)}clearDcsHandler(e){this._dcsParser.clearHandler(this._identifier(e))}setDcsHandlerFallback(e){this._dcsParser.setHandlerFallback(e)}registerOscHandler(e,t){return this._oscParser.registerHandler(e,t)}clearOscHandler(e){this._oscParser.clearHandler(e)}setOscHandlerFallback(e){this._oscParser.setHandlerFallback(e)}setErrorHandler(e){this._errorHandler=e}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(e,t,n,r,i){this._parseStack.state=e,this._parseStack.handlers=t,this._parseStack.handlerPos=n,this._parseStack.transition=r,this._parseStack.chunkPos=i}parse(e,t,n){let r,i=0,s=0,a=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,a=this._parseStack.chunkPos+1;else{if(void 0===n||1===this._parseStack.state)throw this._parseStack.state=1,Error("improper continuation due to previous async handler, giving up parsing");let t=this._parseStack.handlers,s=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===n&&s>-1){for(;s>=0&&!0!==(r=t[s](this._params));s--)if(r instanceof Promise)return this._parseStack.handlerPos=s,r}this._parseStack.handlers=[];break;case 4:if(!1===n&&s>-1){for(;s>=0&&!0!==(r=t[s]());s--)if(r instanceof Promise)return this._parseStack.handlerPos=s,r}this._parseStack.handlers=[];break;case 6:if(i=e[this._parseStack.chunkPos],r=this._dcsParser.unhook(24!==i&&26!==i,n))return r;27===i&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(i=e[this._parseStack.chunkPos],r=this._oscParser.end(24!==i&&26!==i,n))return r;27===i&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,a=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let n=a;n<t;++n){switch(i=e[n],(s=this._transitions.table[this.currentState<<8|(i<160?i:160)])>>4){case 2:for(let r=n+1;;++r)if(r>=t||(i=e[r])<32||i>126&&i<160||++r>=t||(i=e[r])<32||i>126&&i<160||++r>=t||(i=e[r])<32||i>126&&i<160||++r>=t||(i=e[r])<32||i>126&&i<160){this._printHandler(e,n,r),n=r-1;break}break;case 3:this._executeHandlers[i]?this._executeHandlers[i]():this._executeHandlerFb(i),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:n,code:i,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:let a=this._csiHandlers[this._collect<<8|i],o=a?a.length-1:-1;for(;o>=0&&!0!==(r=a[o](this._params));o--)if(r instanceof Promise)return this._preserveStack(3,a,o,s,n),r;o<0&&this._csiHandlerFb(this._collect<<8|i,this._params),this.precedingCodepoint=0;break;case 8:do switch(i){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(i-48)}while(++n<t&&(i=e[n])>47&&i<60)n--;break;case 9:this._collect<<=8,this._collect|=i;break;case 10:let l=this._escHandlers[this._collect<<8|i],c=l?l.length-1:-1;for(;c>=0&&!0!==(r=l[c]());c--)if(r instanceof Promise)return this._preserveStack(4,l,c,s,n),r;c<0&&this._escHandlerFb(this._collect<<8|i),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|i,this._params);break;case 13:for(let r=n+1;;++r)if(r>=t||24===(i=e[r])||26===i||27===i||i>127&&i<160){this._dcsParser.put(e,n,r),n=r-1;break}break;case 14:if(r=this._dcsParser.unhook(24!==i&&26!==i))return this._preserveStack(6,[],0,s,n),r;27===i&&(s|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let r=n+1;;r++)if(r>=t||(i=e[r])<32||i>127&&i<160){this._oscParser.put(e,n,r),n=r-1;break}break;case 6:if(r=this._oscParser.end(24!==i&&26!==i))return this._preserveStack(5,[],0,s,n),r;27===i&&(s|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&s}}}t.EscapeSequenceParser=l},6242:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OscHandler=t.OscParser=void 0;let r=n(5770),i=n(482),s=[];t.OscParser=class{constructor(){this._state=0,this._active=s,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);let n=this._handlers[e];return n.push(t),{dispose:()=>{let e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=s}reset(){if(2===this._state)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].end(!1);this._stack.paused=!1,this._active=s,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||s,this._active.length)for(let e=this._active.length-1;e>=0;e--)this._active[e].start();else this._handlerFb(this._id,"START")}_put(e,t,n){if(this._active.length)for(let r=this._active.length-1;r>=0;r--)this._active[r].put(e,t,n);else this._handlerFb(this._id,"PUT",(0,i.utf32ToString)(e,t,n))}start(){this.reset(),this._state=1}put(e,t,n){if(3!==this._state){if(1===this._state)for(;t<n;){let n=e[t++];if(59===n){this._state=2,this._start();break}if(n<48||57<n)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+n-48}2===this._state&&n-t>0&&this._put(e,t,n)}}end(e,t=!0){if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let n=!1,r=this._active.length-1,i=!1;if(this._stack.paused&&(r=this._stack.loopPosition-1,n=t,i=this._stack.fallThrough,this._stack.paused=!1),!i&&!1===n){for(;r>=0&&!0!==(n=this._active[r].end(e));r--)if(n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=r,this._stack.fallThrough=!1,n;r--}for(;r>=0;r--)if((n=this._active[r].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=r,this._stack.fallThrough=!0,n}else this._handlerFb(this._id,"END",e);this._active=s,this._id=-1,this._state=0}}},t.OscHandler=class{constructor(e){this._handler=e,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(e,t,n){this._hitLimit||(this._data+=(0,i.utf32ToString)(e,t,n),this._data.length>r.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data))instanceof Promise)return t.then(e=>(this._data="",this._hitLimit=!1,e));return this._data="",this._hitLimit=!1,t}}},8742:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0;class n{static fromArray(e){let t=new n;if(!e.length)return t;for(let n=+!!Array.isArray(e[0]);n<e.length;++n){let r=e[n];if(Array.isArray(r))for(let e=0;e<r.length;++e)t.addSubParam(r[e]);else t.addParam(r)}return t}constructor(e=32,t=32){if(this.maxLength=e,this.maxSubParamsLength=t,t>256)throw Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(t),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){let e=new n(this.maxLength,this.maxSubParamsLength);return e.params.set(this.params),e.length=this.length,e._subParams.set(this._subParams),e._subParamsLength=this._subParamsLength,e._subParamsIdx.set(this._subParamsIdx),e._rejectDigits=this._rejectDigits,e._rejectSubDigits=this._rejectSubDigits,e._digitIsSub=this._digitIsSub,e}toArray(){let e=[];for(let t=0;t<this.length;++t){e.push(this.params[t]);let n=this._subParamsIdx[t]>>8,r=255&this._subParamsIdx[t];r-n>0&&e.push(Array.prototype.slice.call(this._subParams,n,r))}return e}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(e){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(e<-1)throw Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>0x7fffffff?0x7fffffff:e}}addSubParam(e){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(e<-1)throw Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>0x7fffffff?0x7fffffff:e,this._subParamsIdx[this.length-1]++}}hasSubParams(e){return(255&this._subParamsIdx[e])-(this._subParamsIdx[e]>>8)>0}getSubParams(e){let t=this._subParamsIdx[e]>>8,n=255&this._subParamsIdx[e];return n-t>0?this._subParams.subarray(t,n):null}getSubParamsAll(){let e={};for(let t=0;t<this.length;++t){let n=this._subParamsIdx[t]>>8,r=255&this._subParamsIdx[t];r-n>0&&(e[t]=this._subParams.slice(n,r))}return e}addDigit(e){let t;if(this._rejectDigits||!(t=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;let n=this._digitIsSub?this._subParams:this.params,r=n[t-1];n[t-1]=~r?Math.min(10*r+e,0x7fffffff):e}}t.Params=n},5741:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddonManager=void 0,t.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()}loadAddon(e,t){let n={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(n),t.dispose=()=>this._wrappedAddonDispose(n),t.activate(e)}_wrappedAddonDispose(e){if(e.isDisposed)return;let t=-1;for(let n=0;n<this._addons.length;n++)if(this._addons[n]===e){t=n;break}if(-1===t)throw Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}}},8771:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferApiView=void 0;let r=n(3785),i=n(511);t.BufferApiView=class{constructor(e,t){this._buffer=e,this.type=t}init(e){return this._buffer=e,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(e){let t=this._buffer.lines.get(e);if(t)return new r.BufferLineApiView(t)}getNullCell(){return new i.CellData}}},3785:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLineApiView=void 0;let r=n(511);t.BufferLineApiView=class{constructor(e){this._line=e}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new r.CellData)}translateToString(e,t,n){return this._line.translateToString(e,t,n)}}},8285:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferNamespaceApi=void 0;let r=n(8771),i=n(8460),s=n(844);class a extends s.Disposable{constructor(e){super(),this._core=e,this._onBufferChange=this.register(new i.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new r.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new r.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}t.BufferNamespaceApi=a},7975:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ParserApi=void 0,t.ParserApi=class{constructor(e){this._core=e}registerCsiHandler(e,t){return this._core.registerCsiHandler(e,e=>t(e.toArray()))}addCsiHandler(e,t){return this.registerCsiHandler(e,t)}registerDcsHandler(e,t){return this._core.registerDcsHandler(e,(e,n)=>t(e,n.toArray()))}addDcsHandler(e,t){return this.registerDcsHandler(e,t)}registerEscHandler(e,t){return this._core.registerEscHandler(e,t)}addEscHandler(e,t){return this.registerEscHandler(e,t)}registerOscHandler(e,t){return this._core.registerOscHandler(e,t)}addOscHandler(e,t){return this.registerOscHandler(e,t)}}},7090:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeApi=void 0,t.UnicodeApi=class{constructor(e){this._core=e}register(e){this._core.unicodeService.register(e)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(e){this._core.unicodeService.activeVersion=e}}},744:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferService=t.MINIMUM_ROWS=t.MINIMUM_COLS=void 0;let s=n(8460),a=n(844),o=n(5295),l=n(2585);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;let c=t.BufferService=class extends a.Disposable{get buffer(){return this.buffers.active}constructor(e){super(),this.isUserScrolling=!1,this._onResize=this.register(new s.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new s.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(e.rawOptions.cols||0,t.MINIMUM_COLS),this.rows=Math.max(e.rawOptions.rows||0,t.MINIMUM_ROWS),this.buffers=this.register(new o.BufferSet(e,this))}resize(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this._onResize.fire({cols:e,rows:t})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(e,t=!1){let n,r=this.buffer;(n=this._cachedBlankLine)&&n.length===this.cols&&n.getFg(0)===e.fg&&n.getBg(0)===e.bg||(n=r.getBlankLine(e,t),this._cachedBlankLine=n),n.isWrapped=t;let i=r.ybase+r.scrollTop,s=r.ybase+r.scrollBottom;if(0===r.scrollTop){let e=r.lines.isFull;s===r.lines.length-1?e?r.lines.recycle().copyFrom(n):r.lines.push(n.clone()):r.lines.splice(s+1,0,n.clone()),e?this.isUserScrolling&&(r.ydisp=Math.max(r.ydisp-1,0)):(r.ybase++,this.isUserScrolling||r.ydisp++)}else{let e=s-i+1;r.lines.shiftElements(i+1,e-1,-1),r.lines.set(s,n.clone())}this.isUserScrolling||(r.ydisp=r.ybase),this._onScroll.fire(r.ydisp)}scrollLines(e,t,n){let r=this.buffer;if(e<0){if(0===r.ydisp)return;this.isUserScrolling=!0}else e+r.ydisp>=r.ybase&&(this.isUserScrolling=!1);let i=r.ydisp;r.ydisp=Math.max(Math.min(r.ydisp+e,r.ybase),0),i!==r.ydisp&&(t||this._onScroll.fire(r.ydisp))}};t.BufferService=r([i(0,l.IOptionsService)],c)},7994:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharsetService=void 0,t.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(e){this.glevel=e,this.charset=this._charsets[e]}setgCharset(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)}}},1753:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreMouseService=void 0;let s=n(2585),a=n(8460),o=n(844),l={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:e=>4!==e.button&&1===e.action&&(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)},VT200:{events:19,restrict:e=>32!==e.action},DRAG:{events:23,restrict:e=>32!==e.action||3!==e.button},ANY:{events:31,restrict:e=>!0}};function c(e,t){let n=16*!!e.ctrl|4*!!e.shift|8*!!e.alt;return 4===e.button?(n|=64,n|=e.action):(n|=3&e.button,4&e.button&&(n|=64),8&e.button&&(n|=128),32===e.action?n|=32:0!==e.action||t||(n|=3)),n}let u=String.fromCharCode,p={DEFAULT:e=>{let t=[c(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":`[M${u(t[0])}${u(t[1])}${u(t[2])}`},SGR:e=>{let t=0===e.action&&4!==e.button?"m":"M";return`[<${c(e,!0)};${e.col};${e.row}${t}`},SGR_PIXELS:e=>{let t=0===e.action&&4!==e.button?"m":"M";return`[<${c(e,!0)};${e.x};${e.y}${t}`}},h=t.CoreMouseService=class extends o.Disposable{constructor(e,t){for(const n of(super(),this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new a.EventEmitter),this.onProtocolChange=this._onProtocolChange.event,Object.keys(l)))this.addProtocol(n,l[n]);for(const e of Object.keys(p))this.addEncoding(e,p[e]);this.reset()}addProtocol(e,t){this._protocols[e]=t}addEncoding(e,t){this._encodings[e]=t}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(e){if(!this._protocols[e])throw Error(`unknown protocol "${e}"`);this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(e){if(!this._encodings[e])throw Error(`unknown encoding "${e}"`);this._activeEncoding=e}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows||4===e.button&&32===e.action||3===e.button&&32!==e.action||4!==e.button&&(2===e.action||3===e.action)||(e.col++,e.row++,32===e.action&&this._lastEvent&&this._equalEvents(this._lastEvent,e,"SGR_PIXELS"===this._activeEncoding))||!this._protocols[this._activeProtocol].restrict(e))return!1;let t=this._encodings[this._activeEncoding](e);return t&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0}explainEvents(e){return{down:!!(1&e),up:!!(2&e),drag:!!(4&e),move:!!(8&e),wheel:!!(16&e)}}_equalEvents(e,t,n){if(n){if(e.x!==t.x||e.y!==t.y)return!1}else if(e.col!==t.col||e.row!==t.row)return!1;return e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift}};t.CoreMouseService=r([i(0,s.IBufferService),i(1,s.ICoreService)],h)},6975:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreService=void 0;let s=n(1439),a=n(8460),o=n(844),l=n(2585),c=Object.freeze({insertMode:!1}),u=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),p=t.CoreService=class extends o.Disposable{constructor(e,t,n){super(),this._bufferService=e,this._logService=t,this._optionsService=n,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new a.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new a.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new a.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new a.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,s.clone)(c),this.decPrivateModes=(0,s.clone)(u)}reset(){this.modes=(0,s.clone)(c),this.decPrivateModes=(0,s.clone)(u)}triggerDataEvent(e,t=!1){if(this._optionsService.rawOptions.disableStdin)return;let n=this._bufferService.buffer;t&&this._optionsService.rawOptions.scrollOnUserInput&&n.ybase!==n.ydisp&&this._onRequestScrollToBottom.fire(),t&&this._onUserInput.fire(),this._logService.debug(`sending data "${e}"`,()=>e.split("").map(e=>e.charCodeAt(0))),this._onData.fire(e)}triggerBinaryEvent(e){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${e}"`,()=>e.split("").map(e=>e.charCodeAt(0))),this._onBinary.fire(e))}};t.CoreService=r([i(0,l.IBufferService),i(1,l.ILogService),i(2,l.IOptionsService)],p)},9074:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DecorationService=void 0;let r=n(8055),i=n(8460),s=n(844),a=n(6106),o=0,l=0;class c extends s.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new a.SortedList(e=>null==e?void 0:e.marker.line),this._onDecorationRegistered=this.register(new i.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new i.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,s.toDisposable)(()=>this.reset()))}registerDecoration(e){if(e.marker.isDisposed)return;let t=new u(e);if(t){let e=t.marker.onDispose(()=>t.dispose());t.onDispose(()=>{t&&(this._decorations.delete(t)&&this._onDecorationRemoved.fire(t),e.dispose())}),this._decorations.insert(t),this._onDecorationRegistered.fire(t)}return t}reset(){for(let e of this._decorations.values())e.dispose();this._decorations.clear()}*getDecorationsAtCell(e,t,n){var r,i,s;let a=0,o=0;for(let l of this._decorations.getKeyIterator(t))o=(a=null!=(r=l.options.x)?r:0)+(null!=(i=l.options.width)?i:1),e>=a&&e<o&&(!n||(null!=(s=l.options.layer)?s:"bottom")===n)&&(yield l)}forEachDecorationAtCell(e,t,n,r){this._decorations.forEachByKey(t,t=>{var i,s,a;l=(o=null!=(i=t.options.x)?i:0)+(null!=(s=t.options.width)?s:1),e>=o&&e<l&&(!n||(null!=(a=t.options.layer)?a:"bottom")===n)&&r(t)})}}t.DecorationService=c;class u extends s.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return null===this._cachedBg&&(this.options.backgroundColor?this._cachedBg=r.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this.options.foregroundColor?this._cachedFg=r.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(e){super(),this.options=e,this.onRenderEmitter=this.register(new i.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new i.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=e.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=t.ServiceCollection=void 0;let r=n(2585),i=n(8343);class s{constructor(...e){for(const[t,n]of(this._entries=new Map,e))this.set(t,n)}set(e,t){let n=this._entries.get(e);return this._entries.set(e,t),n}forEach(e){for(let[t,n]of this._entries.entries())e(t,n)}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}t.ServiceCollection=s,t.InstantiationService=class{constructor(){this._services=new s,this._services.set(r.IInstantiationService,this)}setService(e,t){this._services.set(e,t)}getService(e){return this._services.get(e)}createInstance(e,...t){let n=(0,i.getServiceDependencies)(e).sort((e,t)=>e.index-t.index),r=[];for(let t of n){let n=this._services.get(t.id);if(!n)throw Error(`[createInstance] ${e.name} depends on UNKNOWN service ${t.id}.`);r.push(n)}let s=n.length>0?n[0].index:t.length;if(t.length!==s)throw Error(`[createInstance] First service dependency of ${e.name} at position ${s+1} conflicts with ${t.length} static arguments`);return new e(...[...t,...r])}}},7866:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.traceCall=t.setTraceLogger=t.LogService=void 0;let s=n(844),a=n(2585),o={trace:a.LogLevelEnum.TRACE,debug:a.LogLevelEnum.DEBUG,info:a.LogLevelEnum.INFO,warn:a.LogLevelEnum.WARN,error:a.LogLevelEnum.ERROR,off:a.LogLevelEnum.OFF},l,c=t.LogService=class extends s.Disposable{get logLevel(){return this._logLevel}constructor(e){super(),this._optionsService=e,this._logLevel=a.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),l=this}_updateLogLevel(){this._logLevel=o[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(e){for(let t=0;t<e.length;t++)"function"==typeof e[t]&&(e[t]=e[t]())}_log(e,t,n){this._evalLazyOptionalParams(n),e.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+t,...n)}trace(e,...t){var n,r;this._logLevel<=a.LogLevelEnum.TRACE&&this._log(null!=(r=null==(n=this._optionsService.options.logger)?void 0:n.trace.bind(this._optionsService.options.logger))?r:console.log,e,t)}debug(e,...t){var n,r;this._logLevel<=a.LogLevelEnum.DEBUG&&this._log(null!=(r=null==(n=this._optionsService.options.logger)?void 0:n.debug.bind(this._optionsService.options.logger))?r:console.log,e,t)}info(e,...t){var n,r;this._logLevel<=a.LogLevelEnum.INFO&&this._log(null!=(r=null==(n=this._optionsService.options.logger)?void 0:n.info.bind(this._optionsService.options.logger))?r:console.info,e,t)}warn(e,...t){var n,r;this._logLevel<=a.LogLevelEnum.WARN&&this._log(null!=(r=null==(n=this._optionsService.options.logger)?void 0:n.warn.bind(this._optionsService.options.logger))?r:console.warn,e,t)}error(e,...t){var n,r;this._logLevel<=a.LogLevelEnum.ERROR&&this._log(null!=(r=null==(n=this._optionsService.options.logger)?void 0:n.error.bind(this._optionsService.options.logger))?r:console.error,e,t)}};t.LogService=c=r([i(0,a.IOptionsService)],c),t.setTraceLogger=function(e){l=e},t.traceCall=function(e,t,n){if("function"!=typeof n.value)throw Error("not supported");let r=n.value;n.value=function(...e){if(l.logLevel!==a.LogLevelEnum.TRACE)return r.apply(this,e);l.trace(`GlyphRenderer#${r.name}(${e.map(e=>JSON.stringify(e)).join(", ")})`);let t=r.apply(this,e);return l.trace(`GlyphRenderer#${r.name} return`,t),t}}},7302:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsService=t.DEFAULT_OPTIONS=void 0;let r=n(8460),i=n(844);t.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:n(6114).isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};let s=["normal","bold","100","200","300","400","500","600","700","800","900"];class a extends i.Disposable{constructor(e){super(),this._onOptionChange=this.register(new r.EventEmitter),this.onOptionChange=this._onOptionChange.event;const n=Object.assign({},t.DEFAULT_OPTIONS);for(const t in e)if(t in n)try{const r=e[t];n[t]=this._sanitizeAndValidateOption(t,r)}catch(e){console.error(e)}this.rawOptions=n,this.options=Object.assign({},n),this._setupOptions()}onSpecificOptionChange(e,t){return this.onOptionChange(n=>{n===e&&t(this.rawOptions[e])})}onMultipleOptionChange(e,t){return this.onOptionChange(n=>{-1!==e.indexOf(n)&&t()})}_setupOptions(){let e=e=>{if(!(e in t.DEFAULT_OPTIONS))throw Error(`No option with key "${e}"`);return this.rawOptions[e]},n=(e,n)=>{if(!(e in t.DEFAULT_OPTIONS))throw Error(`No option with key "${e}"`);n=this._sanitizeAndValidateOption(e,n),this.rawOptions[e]!==n&&(this.rawOptions[e]=n,this._onOptionChange.fire(e))};for(let t in this.rawOptions){let r={get:e.bind(this,t),set:n.bind(this,t)};Object.defineProperty(this.options,t,r)}}_sanitizeAndValidateOption(e,n){switch(e){case"cursorStyle":var r;if(n||(n=t.DEFAULT_OPTIONS[e]),"block"!==(r=n)&&"underline"!==r&&"bar"!==r)throw Error(`"${n}" is not a valid value for ${e}`);break;case"wordSeparator":n||(n=t.DEFAULT_OPTIONS[e]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof n&&1<=n&&n<=1e3)break;n=s.includes(n)?n:t.DEFAULT_OPTIONS[e];break;case"cursorWidth":n=Math.floor(n);case"lineHeight":case"tabStopWidth":if(n<1)throw Error(`${e} cannot be less than 1, value: ${n}`);break;case"minimumContrastRatio":n=Math.max(1,Math.min(21,Math.round(10*n)/10));break;case"scrollback":if((n=Math.min(n,0xffffffff))<0)throw Error(`${e} cannot be less than 0, value: ${n}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(n<=0)throw Error(`${e} cannot be less than or equal to 0, value: ${n}`);break;case"rows":case"cols":if(!n&&0!==n)throw Error(`${e} must be numeric, value: ${n}`);break;case"windowsPty":n=null!=n?n:{}}return n}}t.OptionsService=a},2660:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkService=void 0;let s=n(2585),a=t.OscLinkService=class{constructor(e){this._bufferService=e,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(e){let t=this._bufferService.buffer;if(void 0===e.id){let n=t.addMarker(t.ybase+t.y),r={data:e,id:this._nextId++,lines:[n]};return n.onDispose(()=>this._removeMarkerFromLink(r,n)),this._dataByLinkId.set(r.id,r),r.id}let n=this._getEntryIdKey(e),r=this._entriesWithId.get(n);if(r)return this.addLineToLink(r.id,t.ybase+t.y),r.id;let i=t.addMarker(t.ybase+t.y),s={id:this._nextId++,key:this._getEntryIdKey(e),data:e,lines:[i]};return i.onDispose(()=>this._removeMarkerFromLink(s,i)),this._entriesWithId.set(s.key,s),this._dataByLinkId.set(s.id,s),s.id}addLineToLink(e,t){let n=this._dataByLinkId.get(e);if(n&&n.lines.every(e=>e.line!==t)){let e=this._bufferService.buffer.addMarker(t);n.lines.push(e),e.onDispose(()=>this._removeMarkerFromLink(n,e))}}getLinkData(e){var t;return null==(t=this._dataByLinkId.get(e))?void 0:t.data}_getEntryIdKey(e){return`${e.id};;${e.uri}`}_removeMarkerFromLink(e,t){let n=e.lines.indexOf(t);-1!==n&&(e.lines.splice(n,1),0===e.lines.length&&(void 0!==e.data.id&&this._entriesWithId.delete(e.key),this._dataByLinkId.delete(e.id)))}};t.OscLinkService=r([i(0,s.IBufferService)],a)},8343:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0;let n="di$target",r="di$dependencies";t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e[r]||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);let i=function(e,t,s){if(3!=arguments.length)throw Error("@IServiceName-decorator can only be used to decorate a parameter");e[n]===e?e[r].push({id:i,index:s}):(e[r]=[{id:i,index:s}],e[n]=e)};return i.toString=()=>e,t.serviceRegistry.set(e,i),i}},2585:(e,t,n)=>{var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.IDecorationService=t.IUnicodeService=t.IOscLinkService=t.IOptionsService=t.ILogService=t.LogLevelEnum=t.IInstantiationService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;let s=n(8343);t.IBufferService=(0,s.createDecorator)("BufferService"),t.ICoreMouseService=(0,s.createDecorator)("CoreMouseService"),t.ICoreService=(0,s.createDecorator)("CoreService"),t.ICharsetService=(0,s.createDecorator)("CharsetService"),t.IInstantiationService=(0,s.createDecorator)("InstantiationService"),(i=r||(t.LogLevelEnum=r={}))[i.TRACE=0]="TRACE",i[i.DEBUG=1]="DEBUG",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.OFF=5]="OFF",t.ILogService=(0,s.createDecorator)("LogService"),t.IOptionsService=(0,s.createDecorator)("OptionsService"),t.IOscLinkService=(0,s.createDecorator)("OscLinkService"),t.IUnicodeService=(0,s.createDecorator)("UnicodeService"),t.IDecorationService=(0,s.createDecorator)("DecorationService")},1480:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;let r=n(8460),i=n(225);t.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new r.EventEmitter,this.onChange=this._onChange.event;const e=new i.UnicodeV6;this.register(e),this._active=e.version,this._activeProvider=e}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(e){if(!this._providers[e])throw Error(`unknown Unicode version "${e}"`);this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)}register(e){this._providers[e.version]=e}wcwidth(e){return this._activeProvider.wcwidth(e)}getStringCellWidth(e){let t=0,n=e.length;for(let r=0;r<n;++r){let i=e.charCodeAt(r);if(55296<=i&&i<=56319){if(++r>=n)return t+this.wcwidth(i);let s=e.charCodeAt(r);56320<=s&&s<=57343?i=1024*(i-55296)+s-56320+65536:t+=this.wcwidth(s)}t+=this.wcwidth(i)}return t}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}var r={};return(()=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Terminal=void 0;let e=n(9042),t=n(3236),i=n(844),s=n(5741),a=n(8285),o=n(7975),l=n(7090),c=["cols","rows"];class u extends i.Disposable{constructor(e){super(),this._core=this.register(new t.Terminal(e)),this._addonManager=this.register(new s.AddonManager),this._publicOptions=Object.assign({},this._core.options);const n=e=>this._core.options[e],r=(e,t)=>{this._checkReadonlyOptions(e),this._core.options[e]=t};for(const e in this._core.options){const t={get:n.bind(this,e),set:r.bind(this,e)};Object.defineProperty(this._publicOptions,e,t)}}_checkReadonlyOptions(e){if(c.includes(e))throw Error(`Option "${e}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new o.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new l.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new a.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){let e=this._core.coreService.decPrivateModes,t="none";switch(this._core.coreMouseService.activeProtocol){case"X10":t="x10";break;case"VT200":t="vt200";break;case"DRAG":t="drag";break;case"ANY":t="any"}return{applicationCursorKeysMode:e.applicationCursorKeys,applicationKeypadMode:e.applicationKeypad,bracketedPasteMode:e.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:t,originMode:e.origin,reverseWraparoundMode:e.reverseWraparound,sendFocusMode:e.sendFocus,wraparoundMode:e.wraparound}}get options(){return this._publicOptions}set options(e){for(let t in e)this._publicOptions[t]=e[t]}blur(){this._core.blur()}focus(){this._core.focus()}resize(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)}open(e){this._core.open(e)}attachCustomKeyEventHandler(e){this._core.attachCustomKeyEventHandler(e)}registerLinkProvider(e){return this._core.registerLinkProvider(e)}registerCharacterJoiner(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)}deregisterCharacterJoiner(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)}registerMarker(e=0){return this._verifyIntegers(e),this._core.registerMarker(e)}registerDecoration(e){var t,n,r;return this._checkProposedApi(),this._verifyPositiveIntegers(null!=(t=e.x)?t:0,null!=(n=e.width)?n:0,null!=(r=e.height)?r:0),this._core.registerDecoration(e)}hasSelection(){return this._core.hasSelection()}select(e,t,n){this._verifyIntegers(e,t,n),this._core.select(e,t,n)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)}dispose(){super.dispose()}scrollLines(e){this._verifyIntegers(e),this._core.scrollLines(e)}scrollPages(e){this._verifyIntegers(e),this._core.scrollPages(e)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(e){this._verifyIntegers(e),this._core.scrollToLine(e)}clear(){this._core.clear()}write(e,t){this._core.write(e,t)}writeln(e,t){this._core.write(e),this._core.write("\r\n",t)}paste(e){this._core.paste(e)}refresh(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(e){this._addonManager.loadAddon(this,e)}static get strings(){return e}_verifyIntegers(...e){for(let t of e)if(t===1/0||isNaN(t)||t%1!=0)throw Error("This API only accepts integers")}_verifyPositiveIntegers(...e){for(let t of e)if(t&&(t===1/0||isNaN(t)||t%1!=0||t<0))throw Error("This API only accepts positive integers")}}r.Terminal=u})(),r})()},70965,(e,t,n)=>{self,t.exports=(()=>{"use strict";var e={};return Object.defineProperty(e,"__esModule",{value:!0}),e.FitAddon=void 0,e.FitAddon=class{activate(e){this._terminal=e}dispose(){}fit(){let e=this.proposeDimensions();if(!e||!this._terminal||isNaN(e.cols)||isNaN(e.rows))return;let t=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;let e=this._terminal._core,t=e._renderService.dimensions;if(0===t.css.cell.width||0===t.css.cell.height)return;let n=0===this._terminal.options.scrollback?0:e.viewport.scrollBarWidth,r=window.getComputedStyle(this._terminal.element.parentElement),i=parseInt(r.getPropertyValue("height")),s=Math.max(0,parseInt(r.getPropertyValue("width"))),a=window.getComputedStyle(this._terminal.element),o=i-(parseInt(a.getPropertyValue("padding-top"))+parseInt(a.getPropertyValue("padding-bottom")));return{cols:Math.max(2,Math.floor((s-(parseInt(a.getPropertyValue("padding-right"))+parseInt(a.getPropertyValue("padding-left")))-n)/t.css.cell.width)),rows:Math.max(1,Math.floor(o/t.css.cell.height))}}},e})()},176,(e,t,n)=>{self,t.exports=(()=>{"use strict";var e={6:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LinkComputer=t.WebLinkProvider=void 0,t.WebLinkProvider=class{constructor(e,t,n,r={}){this._terminal=e,this._regex=t,this._handler=n,this._options=r}provideLinks(e,t){let r=n.computeLink(e,this._regex,this._terminal,this._handler);t(this._addCallbacks(r))}_addCallbacks(e){return e.map(e=>(e.leave=this._options.leave,e.hover=(t,n)=>{if(this._options.hover){let{range:r}=e;this._options.hover(t,n,r)}},e))}};class n{static computeLink(e,t,r,i){let s,a=RegExp(t.source,(t.flags||"")+"g"),[o,l]=n._getWindowedLineStrings(e-1,r),c=o.join(""),u=[];for(;s=a.exec(c);){let e=s[0];try{let t=new URL(e),n=decodeURI(t.toString());if(e!==n&&e+"/"!==n)continue}catch(e){continue}let[t,a]=n._mapStrIdx(r,l,0,s.index),[o,c]=n._mapStrIdx(r,t,a,e.length);if(-1===t||-1===a||-1===o||-1===c)continue;let p={start:{x:a+1,y:t+1},end:{x:c,y:o+1}};u.push({range:p,text:e,activate:i})}return u}static _getWindowedLineStrings(e,t){let n,r=e,i=e,s=0,a="",o=[];if(n=t.buffer.active.getLine(e)){let e=n.translateToString(!0);if(n.isWrapped&&" "!==e[0]){for(s=0;(n=t.buffer.active.getLine(--r))&&s<2048&&(s+=(a=n.translateToString(!0)).length,o.push(a),n.isWrapped&&-1===a.indexOf(" ")););o.reverse()}for(o.push(e),s=0;(n=t.buffer.active.getLine(++i))&&n.isWrapped&&s<2048&&(s+=(a=n.translateToString(!0)).length,o.push(a),-1===a.indexOf(" ")););}return[o,r]}static _mapStrIdx(e,t,n,r){let i=e.buffer.active,s=i.getNullCell(),a=n;for(;r;){let e=i.getLine(t);if(!e)return[-1,-1];for(let n=a;n<e.length;++n){e.getCell(n,s);let a=s.getChars();if(s.getWidth()&&(r-=a.length||1,n===e.length-1&&""===a)){let e=i.getLine(t+1);e&&e.isWrapped&&(e.getCell(0,s),2===s.getWidth()&&(r+=1))}if(r<0)return[t,n]}t++,a=0}return[t,a]}}t.LinkComputer=n}},t={},n={};return(()=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WebLinksAddon=void 0;let r=function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(6),i=/https?:[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function s(e,t){let n=window.open();if(n){try{n.opener=null}catch(e){}n.location.href=t}else console.warn("Opening link blocked as opener could not be cleared")}n.WebLinksAddon=class{constructor(e=s,t={}){this._handler=e,this._options=t}activate(e){this._terminal=e;let t=this._options,n=t.urlRegex||i;this._linkProvider=this._terminal.registerLinkProvider(new r.WebLinkProvider(this._terminal,n,this._handler,t))}dispose(){var e;null==(e=this._linkProvider)||e.dispose()}}})(),n})()},38773,(e,t,n)=>{var r={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return(n+r)*3/4-r},t.toByteArray=function(e){var t,n,s=l(e),a=s[0],o=s[1],c=new i((a+o)*3/4-o),u=0,p=o>0?a-4:a;for(n=0;n<p;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===o&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===o&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],a=0,o=r-i;a<o;a+=16383)s.push(function(e,t,r){for(var i,s=[],a=t;a<r;a+=3)i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[i>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}(e,a,a+16383>o?o:a+16383));return 1===i?s.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&s.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),s.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=s.length;a<o;++a)n[a]=s[a],r[s.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}r[45]=62,r[95]=63},72:function(e,t,n){"use strict";var r=n(675),i=n(783),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e){var r=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!o.isEncoding(i))throw TypeError("Unknown encoding: "+i);var s=0|_(r,i),l=a(s),c=l.write(r,i);return c!==s&&(l=l.slice(0,c)),l}if(ArrayBuffer.isView(e))return p(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(O(e,ArrayBuffer)||e&&O(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(O(e,SharedArrayBuffer)||e&&O(e.buffer,SharedArrayBuffer)))return function(e,t,n){var r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),o.prototype),r}(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var u=e.valueOf&&e.valueOf();if(null!=u&&u!==e)return o.from(u,t,n);var f=function(e){if(o.isBuffer(e)){var t=0|h(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(f)return f;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),a(e<0?0:0|h(e))}function p(e){for(var t=e.length<0?0:0|h(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,n){return(c(e),e<=0)?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)};function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function _(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||O(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return w(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return k(e).length;default:if(i)return r?-1:w(e).length;t=(""+t).toLowerCase(),i=!0}}function f(e,t,n){var i,s,a,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=t;s<n;++s)i+=R[e[s]];return i}(this,t,n);case"utf8":case"utf-8":return v(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":return i=this,s=t,a=n,0===s&&a===i.length?r.fromByteArray(i):r.fromByteArray(i.slice(s,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}(this,t,n);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function d(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){var s;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),(s=n*=1)!=s&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length)if(i)return -1;else n=e.length-1;else if(n<0)if(!i)return -1;else n=0;if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,n);else return Uint8Array.prototype.lastIndexOf.call(e,t,n);return m(e,[t],n,r,i)}throw TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var s,a=1,o=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;a=2,o/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(s=n;s<o;s++)if(c(e,s)===c(t,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===l)return u*a}else -1!==u&&(s-=s-u),u=-1}else for(n+l>o&&(n=o-l),s=n;s>=0;s--){for(var p=!0,h=0;h<l;h++)if(c(e,s+h)!==c(t,h)){p=!1;break}if(p)return s}return -1}o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(O(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),O(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:+(r<n)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;var n,r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(O(s,Uint8Array)&&(s=o.from(s)),!o.isBuffer(s))throw TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},o.byteLength=_,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):f.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},s&&(o.prototype[s]=o.prototype.inspect),o.prototype.compare=function(e,t,n,r,i){if(O(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var s=i-r,a=n-t,l=Math.min(s,a),c=this.slice(r,i),u=e.slice(t,n),p=0;p<l;++p)if(c[p]!==u[p]){s=c[p],a=u[p];break}return s<a?-1:+(a<s)},o.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)};function v(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var s,a,o,l,c=e[i],u=null,p=c>239?4:c>223?3:c>191?2:1;if(i+p<=n)switch(p){case 1:c<128&&(u=c);break;case 2:(192&(s=e[i+1]))==128&&(l=(31&c)<<6|63&s)>127&&(u=l);break;case 3:s=e[i+1],a=e[i+2],(192&s)==128&&(192&a)==128&&(l=(15&c)<<12|(63&s)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:s=e[i+1],a=e[i+2],o=e[i+3],(192&s)==128&&(192&a)==128&&(192&o)==128&&(l=(15&c)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&l<1114112&&(u=l)}null===u?(u=65533,p=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=p}var h=r,_=h.length;if(_<=4096)return String.fromCharCode.apply(String,h);for(var f="",d=0;d<_;)f+=String.fromCharCode.apply(String,h.slice(d,d+=4096));return f}function b(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function y(e,t,n,r,i,s){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function $(e,t,n,r,i,s){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function x(e,t,n,r,s){return t*=1,n>>>=0,s||$(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function S(e,t,n,r,s){return t*=1,n>>>=0,s||$(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,s,a,o,l,c,u,p,h=this.length-t;if((void 0===n||n>h)&&(n=h),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var _=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=t.length;r>s/2&&(r=s/2);for(var a=0;a<r;++a){var o,l=parseInt(t.substr(2*a,2),16);if((o=l)!=o)break;e[n+a]=l}return a}(this,e,t,n);case"utf8":case"utf-8":return i=t,s=n,C(w(e,this.length-i),this,i,s);case"ascii":return a=t,o=n,C(E(e),this,a,o);case"latin1":case"binary":return function(e,t,n,r){return C(E(t),e,n,r)}(this,e,t,n);case"base64":return l=t,c=n,C(k(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=t,p=n,C(function(e,t){for(var n,r,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i.push(n%256),i.push(r);return i}(e,this.length-u),this,u,p);default:if(_)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),_=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,o.prototype),r},o.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r},o.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);for(var r=t,i=1,s=this[e+--r];r>0&&(i*=256);)s+=this[e+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?0xffff0000|n:n},o.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?0xffff0000|n:n},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;y(this,e,t,n,i,0)}var s=1,a=0;for(this[t]=255&e;++a<n&&(s*=256);)this[t+a]=e/s&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;y(this,e,t,n,i,0)}var s=n-1,a=1;for(this[t+s]=255&e;--s>=0&&(a*=256);)this[t+s]=e/a&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e*=1,t>>>=0,!r){var i=Math.pow(2,8*n-1);y(this,e,t,n,i-1,-i)}var s=0,a=1,o=0;for(this[t]=255&e;++s<n&&(a*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/a|0)-o&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e*=1,t>>>=0,!r){var i=Math.pow(2,8*n-1);y(this,e,t,n,i-1,-i)}var s=n-1,a=1,o=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/a|0)-o&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,n){return x(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return x(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return S(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return S(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var s=i-1;s>=0;--s)e[s+t]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){var i,s=e.charCodeAt(0);("utf8"===r&&s<128||"latin1"===r)&&(e=s)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=o.isBuffer(e)?e:o.from(e,r),l=a.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%l]}return this};var A=/[^+/0-9A-Za-z-_]/g;function w(e,t){t=t||1/0;for(var n,r=e.length,i=null,s=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319||a+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return s}function E(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function k(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(A,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function C(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function O(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var R=function(){for(var e="0123456789abcdef",t=Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},783:function(e,t){t.read=function(e,t,n,r,i){var s,a,o=8*i-r-1,l=(1<<o)-1,c=l>>1,u=-7,p=n?i-1:0,h=n?-1:1,_=e[t+p];for(p+=h,s=_&(1<<-u)-1,_>>=-u,u+=o;u>0;s=256*s+e[t+p],p+=h,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=r;u>0;a=256*a+e[t+p],p+=h,u-=8);if(0===s)s=1-c;else{if(s===l)return a?NaN:1/0*(_?-1:1);a+=Math.pow(2,r),s-=c}return(_?-1:1)*a*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var a,o,l,c=8*s-i-1,u=(1<<c)-1,p=u>>1,h=5960464477539062e-23*(23===i),_=r?0:s-1,f=r?1:-1,d=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+p>=1?t+=h/l:t+=h*Math.pow(2,1-p),t*l>=2&&(a++,l/=2),a+p>=u?(o=0,a=u):a+p>=1?(o=(t*l-1)*Math.pow(2,i),a+=p):(o=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+_]=255&o,_+=f,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;e[n+_]=255&a,_+=f,a/=256,c-=8);e[n+_-f]|=128*d}}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}},a=!0;try{r[e](n,n.exports,s),a=!1}finally{a&&delete i[e]}return n.exports}s.ab="/ROOT/parseArger/docs/node_modules/next/dist/compiled/buffer/",t.exports=s(72)},67162,(e,t,n)=>{!function(){"use strict";var t=/[^T]/,r=/[^v]/,i=/[diefg]/,s=/[bcdiefguxX]/,a=/[j]/,o=/^[^\x25]+/,l=/^\x25{2}/,c=/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,u=/^([a-z_][a-z_\d]*)/i,p=/^\.([a-z_][a-z_\d]*)/i,h=/^\[(\d+)\]/,_=/^[+-]/;function f(e){return function(e,n){var o,l,c,u,p,h,d,g,m,v=1,b=e.length,y="";for(l=0;l<b;l++)if("string"==typeof e[l])y+=e[l];else if("object"==typeof e[l]){if((u=e[l]).keys)for(c=0,o=n[v];c<u.keys.length;c++){if(void 0==o)throw Error(f('[sprintf] Cannot access property "%s" of undefined value "%s"',u.keys[c],u.keys[c-1]));o=o[u.keys[c]]}else o=u.param_no?n[u.param_no]:n[v++];if(t.test(u.type)&&r.test(u.type)&&o instanceof Function&&(o=o()),s.test(u.type)&&"number"!=typeof o&&isNaN(o))throw TypeError(f("[sprintf] expecting number but found %T",o));switch(i.test(u.type)&&(g=o>=0),u.type){case"b":o=parseInt(o,10).toString(2);break;case"c":o=String.fromCharCode(parseInt(o,10));break;case"d":case"i":o=parseInt(o,10);break;case"j":o=JSON.stringify(o,null,u.width?parseInt(u.width):0);break;case"e":o=u.precision?parseFloat(o).toExponential(u.precision):parseFloat(o).toExponential();break;case"f":o=u.precision?parseFloat(o).toFixed(u.precision):parseFloat(o);break;case"g":o=u.precision?String(Number(o.toPrecision(u.precision))):parseFloat(o);break;case"o":o=(parseInt(o,10)>>>0).toString(8);break;case"s":o=String(o),o=u.precision?o.substring(0,u.precision):o;break;case"t":o=String(!!o),o=u.precision?o.substring(0,u.precision):o;break;case"T":o=Object.prototype.toString.call(o).slice(8,-1).toLowerCase(),o=u.precision?o.substring(0,u.precision):o;break;case"u":o=parseInt(o,10)>>>0;break;case"v":o=o.valueOf(),o=u.precision?o.substring(0,u.precision):o;break;case"x":o=(parseInt(o,10)>>>0).toString(16);break;case"X":o=(parseInt(o,10)>>>0).toString(16).toUpperCase()}a.test(u.type)?y+=o:(i.test(u.type)&&(!g||u.sign)?(m=g?"+":"-",o=o.toString().replace(_,"")):m="",h=u.pad_char?"0"===u.pad_char?"0":u.pad_char.charAt(1):" ",d=u.width-(m+o).length,p=u.width&&d>0?h.repeat(d):"",y+=u.align?m+o+p:"0"===h?m+p+o:p+m+o)}return y}(function(e){if(g[e])return g[e];for(var t,n=e,r=[],i=0;n;){if(null!==(t=o.exec(n)))r.push(t[0]);else if(null!==(t=l.exec(n)))r.push("%");else if(null!==(t=c.exec(n))){if(t[2]){i|=1;var s=[],a=t[2],_=[];if(null!==(_=u.exec(a)))for(s.push(_[1]);""!==(a=a.substring(_[0].length));)if(null!==(_=p.exec(a)))s.push(_[1]);else if(null!==(_=h.exec(a)))s.push(_[1]);else throw SyntaxError("[sprintf] failed to parse named argument key");else throw SyntaxError("[sprintf] failed to parse named argument key");t[2]=s}else i|=2;if(3===i)throw Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}else throw SyntaxError("[sprintf] unexpected placeholder");n=n.substring(t[0].length)}return g[e]=r}(e),arguments)}function d(e,t){return f.apply(null,[e].concat(t||[]))}var g=Object.create(null);(n.sprintf=f,n.vsprintf=d,"undefined"!=typeof window)&&(window.sprintf=f,window.vsprintf=d,"function"==typeof define&&define.amd&&(e.r,e.v({sprintf:f,vsprintf:d})))}()},83519,(e,t,n)=>{var r=e.i(71719),i=e.i(38773),s={8992:function(e){e.exports=function(e,n,r){if(e.filter)return e.filter(n,r);if(null==e||"function"!=typeof n)throw TypeError();for(var i=[],s=0;s<e.length;s++)if(t.call(e,s)){var a=e[s];n.call(r,a,s,e)&&i.push(a)}return i};var t=Object.prototype.hasOwnProperty},2167:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s,a,o=n(2023).codes,l=o.ERR_AMBIGUOUS_ARGUMENT,c=o.ERR_INVALID_ARG_TYPE,u=o.ERR_INVALID_ARG_VALUE,p=o.ERR_INVALID_RETURN_VALUE,h=o.ERR_MISSING_ARGS,_=n(942),f=n(8177).inspect,d=n(8177).types,g=d.isPromise,m=d.isRegExp,v=Object.assign,b=Object.is?Object.is:n(3256);function y(){var e=n(176);s=e.isDeepEqual,a=e.isDeepStrictEqual}var $=!1,x=e.exports=E,S={};function A(e){if(e.message instanceof Error)throw e.message;throw new _(e)}function w(e,t,n,r){if(!n){var i=!1;if(0===t)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var s=new _({actual:n,expected:!0,message:r,operator:"==",stackStartFn:e});throw s.generatedMessage=i,s}}function E(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];w.apply(void 0,[E,t.length].concat(t))}x.fail=function e(t,n,i,s,a){var o,l=arguments.length;if(0===l?o="Failed":1===l?(i=t,t=void 0):(!1===$&&($=!0,(r.default.emitWarning?r.default.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===l&&(s="!=")),i instanceof Error)throw i;var c={actual:t,expected:n,operator:void 0===s?"fail":s,stackStartFn:a||e};void 0!==i&&(c.message=i);var u=new _(c);throw o&&(u.message=o,u.generatedMessage=!0),u},x.AssertionError=_,x.ok=E,x.equal=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");t!=n&&A({actual:t,expected:n,message:r,operator:"==",stackStartFn:e})},x.notEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");t==n&&A({actual:t,expected:n,message:r,operator:"!=",stackStartFn:e})},x.deepEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===s&&y(),s(t,n)||A({actual:t,expected:n,message:r,operator:"deepEqual",stackStartFn:e})},x.notDeepEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===s&&y(),s(t,n)&&A({actual:t,expected:n,message:r,operator:"notDeepEqual",stackStartFn:e})},x.deepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===s&&y(),a(t,n)||A({actual:t,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:e})},x.notDeepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===s&&y(),a(t,n)&&A({actual:t,expected:n,message:r,operator:"notDeepStrictEqual",stackStartFn:e})},x.strictEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");b(t,n)||A({actual:t,expected:n,message:r,operator:"strictEqual",stackStartFn:e})},x.notStrictEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");b(t,n)&&A({actual:t,expected:n,message:r,operator:"notStrictEqual",stackStartFn:e})};var k=function e(t,n,r){var i=this;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");n.forEach(function(e){e in t&&(void 0!==r&&"string"==typeof r[e]&&m(t[e])&&t[e].test(r[e])?i[e]=r[e]:i[e]=t[e])})};function C(e,t,n,r){if("function"!=typeof t){if(m(t))return t.test(e);if(2==arguments.length)throw new c("expected",["Function","RegExp"],t);if("object"!==i(e)||null===e){var o=new _({actual:e,expected:t,message:n,operator:"deepStrictEqual",stackStartFn:r});throw o.operator=r.name,o}var l=Object.keys(t);if(t instanceof Error)l.push("name","message");else if(0===l.length)throw new u("error",t,"may not be an empty object");return void 0===s&&y(),l.forEach(function(i){if(!("string"==typeof e[i]&&m(t[i])&&t[i].test(e[i]))&&(!(i in e)||!a(e[i],t[i]))){if(!n){var s=new _({actual:new k(e,l),expected:new k(t,l,e),operator:"deepStrictEqual",stackStartFn:r});throw s.actual=e,s.expected=t,s.operator=r.name,s}A({actual:e,expected:t,message:n,operator:r.name,stackStartFn:r})}}),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function O(e){if("function"!=typeof e)throw new c("fn","Function",e);try{e()}catch(e){return e}return S}function R(e){return g(e)||null!==e&&"object"===i(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function T(e){return Promise.resolve().then(function(){var t;if("function"==typeof e){if(!R(t=e()))throw new p("instance of Promise","promiseFn",t)}else if(R(e))t=e;else throw new c("promiseFn",["Function","Promise"],e);return Promise.resolve().then(function(){return t}).then(function(){return S}).catch(function(e){return e})})}function N(e,t,n,r){if("string"==typeof n){if(4==arguments.length)throw new c("error",["Object","Error","Function","RegExp"],n);if("object"===i(t)&&null!==t){if(t.message===n)throw new l("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===n)throw new l("error/message",'The error "'.concat(t,'" is identical to the message.'));r=n,n=void 0}else if(null!=n&&"object"!==i(n)&&"function"!=typeof n)throw new c("error",["Object","Error","Function","RegExp"],n);if(t===S){var s="";n&&n.name&&(s+=" (".concat(n.name,")")),s+=r?": ".concat(r):".";var a="rejects"===e.name?"rejection":"exception";A({actual:void 0,expected:n,operator:e.name,message:"Missing expected ".concat(a).concat(s),stackStartFn:e})}if(n&&!C(t,n,r,e))throw t}function P(e,t,n,r){if(t!==S){if("string"==typeof n&&(r=n,n=void 0),!n||C(t,n)){var i=r?": ".concat(r):".",s="doesNotReject"===e.name?"rejection":"exception";A({actual:t,expected:n,operator:e.name,message:"Got unwanted ".concat(s).concat(i,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function L(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];w.apply(void 0,[L,t.length].concat(t))}x.throws=function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];N.apply(void 0,[e,O(t)].concat(r))},x.rejects=function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return T(t).then(function(t){return N.apply(void 0,[e,t].concat(r))})},x.doesNotThrow=function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];P.apply(void 0,[e,O(t)].concat(r))},x.doesNotReject=function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return T(t).then(function(t){return P.apply(void 0,[e,t].concat(r))})},x.ifError=function e(t){if(null!=t){var n="ifError got unwanted exception: ";"object"===i(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?n+=t.constructor.name:n+=t.message:n+=f(t);var r=new _({actual:t,expected:null,operator:"ifError",message:n,stackStartFn:e}),s=t.stack;if("string"==typeof s){var a=s.split("\n");a.shift();for(var o=r.stack.split("\n"),l=0;l<a.length;l++){var c=o.indexOf(a[l]);if(-1!==c){o=o.slice(0,c);break}}r.stack="".concat(o.join("\n"),"\n").concat(a.join("\n"))}throw r}},x.strict=v(L,x,{equal:x.strictEqual,deepEqual:x.deepStrictEqual,notEqual:x.notStrictEqual,notDeepEqual:x.notDeepStrictEqual}),x.strict.strict=x.strict},942:function(e,t,n){"use strict";function i(e,t){return t&&("object"===u(t)||"function"==typeof t)?t:s(e)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){var n;if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)})(e)}function o(e,t,n){return(o=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l(i,n.prototype),i}:Reflect.construct).apply(null,arguments)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=n(8177).inspect,h=n(2023).codes.ERR_INVALID_ARG_TYPE;function _(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}var f="",d="",g="",m="",v={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function b(e){var t=Object.keys(e),n=Object.create(Object.getPrototypeOf(e));return t.forEach(function(t){n[t]=e[t]}),Object.defineProperty(n,"message",{value:e.message}),n}function y(e){return p(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}e.exports=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function n(e){if(!(this instanceof n))throw TypeError("Cannot call a class as a function");if("object"!==u(e)||null===e)throw new h("options","Object",e);var t,a=e.message,o=e.operator,l=e.stackStartFn,p=e.actual,$=e.expected,x=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=a)t=i(this,c(n).call(this,String(a)));else if(r.default.stderr&&r.default.stderr.isTTY&&(r.default.stderr&&r.default.stderr.getColorDepth&&1!==r.default.stderr.getColorDepth()?(f="\x1b[34m",d="\x1b[32m",m="\x1b[39m",g="\x1b[31m"):(f="",d="",m="",g="")),"object"===u(p)&&null!==p&&"object"===u($)&&null!==$&&"stack"in p&&p instanceof Error&&"stack"in $&&$ instanceof Error&&(p=b(p),$=b($)),"deepStrictEqual"===o||"strictEqual"===o)t=i(this,c(n).call(this,function(e,t,n){var i="",s="",a=0,o="",l=!1,c=y(e),p=c.split("\n"),h=y(t).split("\n"),b=0,$="";if("strictEqual"===n&&"object"===u(e)&&"object"===u(t)&&null!==e&&null!==t&&(n="strictEqualObject"),1===p.length&&1===h.length&&p[0]!==h[0]){var x=p[0].length+h[0].length;if(x<=10){if(("object"!==u(e)||null===e)&&("object"!==u(t)||null===t)&&(0!==e||0!==t))return"".concat(v[n],"\n\n")+"".concat(p[0]," !== ").concat(h[0],"\n")}else if("strictEqualObject"!==n&&x<(r.default.stderr&&r.default.stderr.isTTY?r.default.stderr.columns:80)){for(;p[0][b]===h[0][b];)b++;b>2&&($="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var n=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,n-e.length)}(" ",b),"^"),b=0)}}for(var S=p[p.length-1],A=h[h.length-1];S===A&&(b++<2?o="\n  ".concat(S).concat(o):i=S,p.pop(),h.pop(),0!==p.length&&0!==h.length);)S=p[p.length-1],A=h[h.length-1];var w=Math.max(p.length,h.length);if(0===w){var E=c.split("\n");if(E.length>30)for(E[26]="".concat(f,"...").concat(m);E.length>27;)E.pop();return"".concat(v.notIdentical,"\n\n").concat(E.join("\n"),"\n")}b>3&&(o="\n".concat(f,"...").concat(m).concat(o),l=!0),""!==i&&(o="\n  ".concat(i).concat(o),i="");var k=0,C=v[n]+"\n".concat(d,"+ actual").concat(m," ").concat(g,"- expected").concat(m),O=" ".concat(f,"...").concat(m," Lines skipped");for(b=0;b<w;b++){var R=b-a;if(p.length<b+1)R>1&&b>2&&(R>4?(s+="\n".concat(f,"...").concat(m),l=!0):R>3&&(s+="\n  ".concat(h[b-2]),k++),s+="\n  ".concat(h[b-1]),k++),a=b,i+="\n".concat(g,"-").concat(m," ").concat(h[b]),k++;else if(h.length<b+1)R>1&&b>2&&(R>4?(s+="\n".concat(f,"...").concat(m),l=!0):R>3&&(s+="\n  ".concat(p[b-2]),k++),s+="\n  ".concat(p[b-1]),k++),a=b,s+="\n".concat(d,"+").concat(m," ").concat(p[b]),k++;else{var T=h[b],N=p[b],P=N!==T&&(!_(N,",")||N.slice(0,-1)!==T);P&&_(T,",")&&T.slice(0,-1)===N&&(P=!1,N+=","),P?(R>1&&b>2&&(R>4?(s+="\n".concat(f,"...").concat(m),l=!0):R>3&&(s+="\n  ".concat(p[b-2]),k++),s+="\n  ".concat(p[b-1]),k++),a=b,s+="\n".concat(d,"+").concat(m," ").concat(N),i+="\n".concat(g,"-").concat(m," ").concat(T),k+=2):(s+=i,i="",(1===R||0===b)&&(s+="\n  ".concat(N),k++))}if(k>20&&b<w-2)return"".concat(C).concat(O,"\n").concat(s,"\n").concat(f,"...").concat(m).concat(i,"\n")+"".concat(f,"...").concat(m)}return"".concat(C).concat(l?O:"","\n").concat(s).concat(i).concat(o).concat($)}(p,$,o)));else if("notDeepStrictEqual"===o||"notStrictEqual"===o){var S=v[o],A=y(p).split("\n");if("notStrictEqual"===o&&"object"===u(p)&&null!==p&&(S=v.notStrictEqualObject),A.length>30)for(A[26]="".concat(f,"...").concat(m);A.length>27;)A.pop();t=1===A.length?i(this,c(n).call(this,"".concat(S," ").concat(A[0]))):i(this,c(n).call(this,"".concat(S,"\n\n").concat(A.join("\n"),"\n")))}else{var w=y(p),E="",k=v[o];"notDeepEqual"===o||"notEqual"===o?(w="".concat(v[o],"\n\n").concat(w)).length>1024&&(w="".concat(w.slice(0,1021),"...")):(E="".concat(y($)),w.length>512&&(w="".concat(w.slice(0,509),"...")),E.length>512&&(E="".concat(E.slice(0,509),"...")),"deepEqual"===o||"equal"===o?w="".concat(k,"\n\n").concat(w,"\n\nshould equal\n\n"):E=" ".concat(o," ").concat(E)),t=i(this,c(n).call(this,"".concat(w).concat(E)))}return Error.stackTraceLimit=x,t.generatedMessage=!a,Object.defineProperty(s(t),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),t.code="ERR_ASSERTION",t.actual=p,t.expected=$,t.operator=o,Error.captureStackTrace&&Error.captureStackTrace(s(t),l),t.stack,t.name="AssertionError",i(t)}return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&l(n,e),t=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:p.custom,value:function(e,t){return p(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r,i,s;r=e,i=t,s=n[t],i in r?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s})}return e}({},t,{customInspect:!1,depth:0}))}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,t),n}(a(Error))},2023:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a,o,l={};function c(e,t,n){n||(n=Error);var a=function(n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");function a(n,s,o){var l,c;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");return(l=(c=i(a).call(this,"string"==typeof t?t:t(n,s,o)))&&("object"===r(c)||"function"==typeof c)?c:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)).code=e,l}return a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),n&&s(a,n),a}(n);l[e]=a}function u(e,t){if(!Array.isArray(e))return"of ".concat(t," ").concat(String(e));var n=e.length;return(e=e.map(function(e){return String(e)}),n>2)?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}c("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),c("ERR_INVALID_ARG_TYPE",function(e,t,i){if((void 0===a&&(a=n(2167)),a("string"==typeof e,"'name' must be a string"),"string"==typeof t&&(s="not ",t.substr(0,s.length)===s))?(p="must not be",t=t.replace(/^not /,"")):p="must be",o=" argument",(void 0===l||l>e.length)&&(l=e.length),e.substring(l-o.length,l)===o)h="The ".concat(e," ").concat(p," ").concat(u(t,"type"));else{var s,o,l,c,p,h,_=("number"!=typeof c&&(c=0),c+1>e.length||-1===e.indexOf(".",c))?"argument":"property";h='The "'.concat(e,'" ').concat(_," ").concat(p," ").concat(u(t,"type"))}return h+". Received type ".concat(r(i))},TypeError),c("ERR_INVALID_ARG_VALUE",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===o&&(o=n(8177));var i=o.inspect(t);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(r,". Received ").concat(i)},TypeError,RangeError),c("ERR_INVALID_RETURN_VALUE",function(e,t,n){var i;return i=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(r(n)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(i,".")},TypeError),c("ERR_MISSING_ARGS",function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];void 0===a&&(a=n(2167)),a(t.length>0,"At least one arg needs to be specified");var i="The ",s=t.length;switch(t=t.map(function(e){return'"'.concat(e,'"')}),s){case 1:i+="".concat(t[0]," argument");break;case 2:i+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:i+=t.slice(0,s-1).join(", "),i+=", and ".concat(t[s-1]," arguments")}return"".concat(i," must be specified")},TypeError),e.exports.codes=l},176:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}return n}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=void 0!==/a/g.flags,a=function(e){var t=[];return e.forEach(function(e){return t.push(e)}),t},o=function(e){var t=[];return e.forEach(function(e,n){return t.push([n,e])}),t},l=Object.is?Object.is:n(3256),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},u=Number.isNaN?Number.isNaN:n(1992);function p(e){return e.call.bind(e)}var h=p(Object.prototype.hasOwnProperty),_=p(Object.prototype.propertyIsEnumerable),f=p(Object.prototype.toString),d=n(8177).types,g=d.isAnyArrayBuffer,m=d.isArrayBufferView,v=d.isDate,b=d.isMap,y=d.isRegExp,$=d.isSet,x=d.isNativeError,S=d.isBoxedPrimitive,A=d.isNumberObject,w=d.isStringObject,E=d.isBooleanObject,k=d.isBigIntObject,C=d.isSymbolObject,O=d.isFloat32Array,R=d.isFloat64Array;function T(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<48||n>57)return!0}return 10===e.length&&e>=0x100000000}function N(e){return Object.keys(e).filter(T).concat(c(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function P(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:+(r<n)}var L=void 0;function I(e,t,n,r){if(e===t)return 0!==e||!n||l(e,t);if(n){if("object"!==i(e))return"number"==typeof e&&u(e)&&u(t);if("object"!==i(t)||null===e||null===t||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==i(e))return(null===t||"object"!==i(t))&&e==t;if(null===t||"object"!==i(t))return!1}var a=f(e);if(a!==f(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var o=N(e,L),c=N(t,L);return o.length===c.length&&M(e,t,n,r,1,o)}if("[object Object]"===a&&(!b(e)&&b(t)||!$(e)&&$(t)))return!1;if(v(e)){if(!v(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(y(e)){if(!y(t)||(s?e.source!==t.source||e.flags!==t.flags:RegExp.prototype.toString.call(e)!==RegExp.prototype.toString.call(t)))return!1}else if(x(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else if(m(e)){if(!n&&(O(e)||R(e))){if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}(e,t))return!1}else if(e.byteLength!==t.byteLength||0!==P(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength)))return!1;var p=N(e,L),h=N(t,L);return p.length===h.length&&M(e,t,n,r,0,p)}else if($(e))return!!$(t)&&e.size===t.size&&M(e,t,n,r,2);else if(b(e))return!!b(t)&&e.size===t.size&&M(e,t,n,r,3);else if(g(e)){if(e.byteLength!==t.byteLength||0!==P(new Uint8Array(e),new Uint8Array(t)))return!1}else if(S(e)&&(A(e)?!(A(t)&&l(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t))):w(e)?!w(t)||String.prototype.valueOf.call(e)!==String.prototype.valueOf.call(t):E(e)?!E(t)||Boolean.prototype.valueOf.call(e)!==Boolean.prototype.valueOf.call(t):k(e)?!k(t)||BigInt.prototype.valueOf.call(e)!==BigInt.prototype.valueOf.call(t):!C(t)||Symbol.prototype.valueOf.call(e)!==Symbol.prototype.valueOf.call(t)))return!1;return M(e,t,n,r,0)}function D(e,t){return t.filter(function(t){return _(e,t)})}function M(e,t,n,s,l,u){if(5==arguments.length){u=Object.keys(e);var p=Object.keys(t);if(u.length!==p.length)return!1}for(var f=0;f<u.length;f++)if(!h(t,u[f]))return!1;if(n&&5==arguments.length){var d=c(e);if(0!==d.length){var g=0;for(f=0;f<d.length;f++){var m=d[f];if(_(e,m)){if(!_(t,m))return!1;u.push(m),g++}else if(_(t,m))return!1}var v=c(t);if(d.length!==v.length&&D(t,v).length!==g)return!1}else{var b=c(t);if(0!==b.length&&0!==D(t,b).length)return!1}}if(0===u.length&&(0===l||1===l&&0===e.length||0===e.size))return!0;if(void 0===s)s={val1:new Map,val2:new Map,position:0};else{var y=s.val1.get(e);if(void 0!==y){var $=s.val2.get(t);if(void 0!==$)return y===$}s.position++}s.val1.set(e,s.position),s.val2.set(t,s.position);var x=function(e,t,n,s,l,c){var u=0;if(2===c){if(!function(e,t,n,r){for(var s=null,o=a(e),l=0;l<o.length;l++){var c=o[l];if("object"===i(c)&&null!==c)null===s&&(s=new Set),s.add(c);else if(!t.has(c)){if(n||!function(e,t,n){var r=B(n);return null!=r?r:t.has(r)&&!e.has(r)}(e,t,c))return!1;null===s&&(s=new Set),s.add(c)}}if(null!==s){for(var u=a(t),p=0;p<u.length;p++){var h=u[p];if("object"===i(h)&&null!==h){if(!F(s,h,n,r))return!1}else if(!n&&!e.has(h)&&!F(s,h,n,r))return!1}return 0===s.size}return!0}(e,t,n,l))return!1}else if(3===c){if(!function(e,t,n,s){for(var a=null,l=o(e),c=0;c<l.length;c++){var u=r(l[c],2),p=u[0],h=u[1];if("object"===i(p)&&null!==p)null===a&&(a=new Set),a.add(p);else{var _=t.get(p);if(void 0===_&&!t.has(p)||!I(h,_,n,s)){if(n||!function(e,t,n,r,i){var s=B(n);if(null!=s)return s;var a=t.get(s);return(void 0!==a||!!t.has(s))&&!!I(r,a,!1,i)&&!e.has(s)&&I(r,a,!1,i)}(e,t,p,h,s))return!1;null===a&&(a=new Set),a.add(p)}}}if(null!==a){for(var f=o(t),d=0;d<f.length;d++){var g=r(f[d],2),p=g[0],m=g[1];if("object"===i(p)&&null!==p){if(!H(a,e,p,m,n,s))return!1}else if(!n&&(!e.has(p)||!I(e.get(p),m,!1,s))&&!H(a,e,p,m,!1,s))return!1}return 0===a.size}return!0}(e,t,n,l))return!1}else if(1===c)for(;u<e.length;u++)if(h(e,u)){if(!h(t,u)||!I(e[u],t[u],n,l))return!1}else{if(h(t,u))return!1;for(var p=Object.keys(e);u<p.length;u++){var _=p[u];if(!h(t,_)||!I(e[_],t[_],n,l))return!1}if(p.length!==Object.keys(t).length)return!1;return!0}for(u=0;u<s.length;u++){var f=s[u];if(!I(e[f],t[f],n,l))return!1}return!0}(e,t,n,u,s,l);return s.val1.delete(e),s.val2.delete(t),x}function F(e,t,n,r){for(var i=a(e),s=0;s<i.length;s++){var o=i[s];if(I(t,o,n,r))return e.delete(o),!0}return!1}function B(e){switch(i(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e*=1;case"number":if(u(e))return!1}return!0}function H(e,t,n,r,i,s){for(var o=a(e),l=0;l<o.length;l++){var c=o[l];if(I(n,c,i,s)&&I(r,t.get(c),i,s))return e.delete(c),!0}return!1}e.exports={isDeepEqual:function(e,t){return I(e,t,!1)},isDeepStrictEqual:function(e,t){return I(e,t,!0)}}},5555:function(e,t,n){"use strict";var r=n(1212),i=n(1909),s=n(8737);e.exports=n(8772)||r.call(s,i)},9905:function(e,t,n){"use strict";var r=n(1212),i=n(1909),s=n(5555);e.exports=function(){return s(r,i,arguments)}},1909:function(e){"use strict";e.exports=Function.prototype.apply},8737:function(e){"use strict";e.exports=Function.prototype.call},7152:function(e,t,n){"use strict";var r=n(1212),i=n(8202),s=n(8737),a=n(5555);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return a(r,s,e)}},8772:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},7139:function(e,t,n){"use strict";var r=n(1212),i=n(3197),s=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),o=i("%Reflect.apply%",!0)||r.call(a,s),l=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),u=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=o(r,a,arguments);return l&&c&&l(t,"length").configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))}),t};var p=function(){return o(r,s,arguments)};c?c(e.exports,"apply",{value:p}):e.exports.apply=p},516:function(e,t,n){"use strict";var r=n(3197),i=n(9042),s=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&s(e,".prototype.")>-1?i(n):n}},9042:function(e,t,n){"use strict";var r=n(3143),i=n(446),s=n(7152),a=n(9905);e.exports=function(e){var t=s(arguments),n=e.length-(arguments.length-1);return r(t,1+(n>0?n:0),!0)},i?i(e.exports,"apply",{value:a}):e.exports.apply=a},819:function(e,t,n){"use strict";var r=n(446),i=n(5182),s=n(8202),a=n(3990);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new s("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new s("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],p=!!a&&a(e,t);if(r)r(e,t,{configurable:null===c&&p?p.configurable:!c,enumerable:null===o&&p?p.enumerable:!o,value:n,writable:null===l&&p?p.writable:!l});else if(!u&&(o||l||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else e[t]=n}},3069:function(e,t,n){"use strict";var r=n(4935),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),s=Object.prototype.toString,a=Array.prototype.concat,o=Object.defineProperty,l=o&&function(){var e={};try{for(var t in o(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,n,r){(!(t in e)||"function"==typeof r&&"[object Function]"===s.call(r)&&r())&&(l?o(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},u=function(e,t){var n=arguments.length>2?arguments[2]:{},s=r(t);i&&(s=a.call(s,Object.getOwnPropertySymbols(t)));for(var o=0;o<s.length;o+=1)c(e,s[o],t[s[o]],n[s[o]])};u.supportsDescriptors=!!l,e.exports=u},6211:function(e,t,n){"use strict";var r,i=n(7152),s=n(3990);try{r=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var a=!!r&&s&&s(Object.prototype,"__proto__"),o=Object,l=o.getPrototypeOf;e.exports=a&&"function"==typeof a.get?i([a.get]):"function"==typeof l&&function(e){return l(null==e?e:o(e))}},446:function(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},7181:function(e){"use strict";e.exports=EvalError},1545:function(e){"use strict";e.exports=Error},22:function(e){"use strict";e.exports=RangeError},2803:function(e){"use strict";e.exports=ReferenceError},5182:function(e){"use strict";e.exports=SyntaxError},8202:function(e){"use strict";e.exports=TypeError},3284:function(e){"use strict";e.exports=URIError},2811:function(e){"use strict";e.exports=Object},7604:function(e){"use strict";e.exports={assign:function(e,t){if(null==e)throw TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var s=Object.keys(Object(i)),a=0,o=s.length;a<o;a++){var l=s[a],c=Object.getOwnPropertyDescriptor(i,l);void 0!==c&&c.enumerable&&(n[l]=i[l])}}return n},polyfill:function(){}}},6144:function(e){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString;e.exports=function(e,r,i){if("[object Function]"!==n.call(r))throw TypeError("iterator must be a function");var s=e.length;if(s===+s)for(var a=0;a<s;a++)r.call(i,e[a],a,e);else for(var o in e)t.call(e,o)&&r.call(i,e[o],o,e)}},3136:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n},i=function(e,t){for(var n=[],r=t||0,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n},s=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};e.exports=function(e){var a,o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw TypeError("Function.prototype.bind called on incompatible "+o);for(var l=i(arguments,1),c=n(0,o.length-l.length),u=[],p=0;p<c;p++)u[p]="$"+p;if(a=Function("binder","return function ("+s(u,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof a){var t=o.apply(this,r(l,arguments));return Object(t)===t?t:this}return o.apply(e,r(l,arguments))}),o.prototype){var h=function(){};h.prototype=o.prototype,a.prototype=new h,h.prototype=null}return a}},1212:function(e,t,n){"use strict";var r=n(3136);e.exports=Function.prototype.bind||r},3197:function(e,t,n){"use strict";var r,i=n(2811),s=n(1545),a=n(7181),o=n(22),l=n(2803),c=n(5182),u=n(8202),p=n(3284),h=n(7173),_=n(847),f=n(2916),d=n(9882),g=n(3291),m=n(553),v=n(8629),b=Function,y=function(e){try{return b('"use strict"; return ('+e+").constructor;")()}catch(e){}},$=n(3990),x=n(446),S=function(){throw new u},A=$?function(){try{return arguments.callee,S}catch(e){try{return $(arguments,"callee").get}catch(e){return S}}}():S,w=n(4871)(),E=n(699),k=n(7823),C=n(7904),O=n(1909),R=n(8737),T={},N="undefined"!=typeof Uint8Array&&E?E(Uint8Array):r,P={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":w&&E?E([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":s,"%eval%":eval,"%EvalError%":a,"%Float16Array%":"undefined"==typeof Float16Array?r:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":T,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":w&&E?E(E([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&w&&E?E((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":$,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":o,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&w&&E?E((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":w&&E?E(""[Symbol.iterator]()):r,"%Symbol%":w?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":A,"%TypedArray%":N,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":p,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%Function.prototype.call%":R,"%Function.prototype.apply%":O,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":k,"%Math.abs%":h,"%Math.floor%":_,"%Math.max%":f,"%Math.min%":d,"%Math.pow%":g,"%Math.round%":m,"%Math.sign%":v,"%Reflect.getPrototypeOf%":C};if(E)try{null.error}catch(e){var L=E(E(e));P["%Error.prototype%"]=L}var I=function e(t){var n;if("%AsyncFunction%"===t)n=y("async function () {}");else if("%GeneratorFunction%"===t)n=y("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=y("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&E&&(n=E(i.prototype))}return P[t]=n,n},D={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=n(1212),F=n(3270),B=M.call(R,Array.prototype.concat),H=M.call(O,Array.prototype.splice),U=M.call(R,String.prototype.replace),j=M.call(R,String.prototype.slice),W=M.call(R,RegExp.prototype.exec),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,z=/\\(\\)?/g,G=function(e){var t=j(e,0,1),n=j(e,-1);if("%"===t&&"%"!==n)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var r=[];return U(e,q,function(e,t,n,i){r[r.length]=n?U(i,z,"$1"):t||e}),r},V=function(e,t){var n,r=e;if(F(D,r)&&(r="%"+(n=D[r])[0]+"%"),F(P,r)){var i=P[r];if(i===T&&(i=I(r)),void 0===i&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===W(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=G(e),r=n.length>0?n[0]:"",i=V("%"+r+"%",t),s=i.name,a=i.value,o=!1,l=i.alias;l&&(r=l[0],H(n,B([0,1],l)));for(var p=1,h=!0;p<n.length;p+=1){var _=n[p],f=j(_,0,1),d=j(_,-1);if(('"'===f||"'"===f||"`"===f||'"'===d||"'"===d||"`"===d)&&f!==d)throw new c("property names with quotes must have matching quotes");if("constructor"!==_&&h||(o=!0),r+="."+_,F(P,s="%"+r+"%"))a=P[s];else if(null!=a){if(!(_ in a)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if($&&p+1>=n.length){var g=$(a,_);a=(h=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[_]}else h=F(a,_),a=a[_];h&&!o&&(P[s]=a)}}return a}},7823:function(e,t,n){"use strict";e.exports=n(2811).getPrototypeOf||null},7904:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},699:function(e,t,n){"use strict";var r=n(7904),i=n(7823),s=n(6211);e.exports=r?function(e){return r(e)}:i?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("getProto: not an object");return i(e)}:s?function(e){return s(e)}:null},4596:function(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},3990:function(e,t,n){"use strict";var r=n(4596);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},7122:function(e,t,n){"use strict";var r=n(446),i=function(){return!!r};i.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},9942:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(3773);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},3773:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},4871:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(5960);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},5960:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(42!==s.value||!0!==s.enumerable)return!1}return!0}},3270:function(e,t,n){"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty;e.exports=n(1212).call(r,i)},3782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},5157:function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,n=Object.prototype.toString,r=function(e){return(!t||!e||"object"!=typeof e||!(Symbol.toStringTag in e))&&"[object Arguments]"===n.call(e)},i=function(e){return!!r(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==n.call(e)&&"[object Function]"===n.call(e.callee)},s=function(){return r(arguments)}();r.isLegacyArguments=i,e.exports=s?r:i},3391:function(e){"use strict";var t=Object.prototype.toString,n=Function.prototype.toString,r=/^\s*(?:function)?\*/,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,s=Object.getPrototypeOf,a=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch(e){}}(),o=a?s(a):{};e.exports=function(e){return"function"==typeof e&&(!!r.test(n.call(e))||(i?s(e)===o:"[object GeneratorFunction]"===t.call(e)))}},460:function(e){"use strict";e.exports=function(e){return e!=e}},1992:function(e,t,n){"use strict";var r=n(7139),i=n(3069),s=n(460),a=n(773),o=n(4171),l=r(a(),Number);i(l,{getPolyfill:a,implementation:s,shim:o}),e.exports=l},773:function(e,t,n){"use strict";var r=n(460);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},4171:function(e,t,n){"use strict";var r=n(3069),i=n(773);e.exports=function(){var e=i();return r(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},994:function(t,n,r){"use strict";var i=r(6144),s=r(1349),a=r(516),o=a("Object.prototype.toString"),l=r(9942)()&&"symbol"==typeof Symbol.toStringTag,c=s(),u=a("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return -1},p=a("String.prototype.slice"),h={},_=r(2154),f=Object.getPrototypeOf;l&&_&&f&&i(c,function(t){var n=new e.g[t];if(!(Symbol.toStringTag in n))throw EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=f(n),i=_(r,Symbol.toStringTag);i||(i=_(f(r),Symbol.toStringTag)),h[t]=i.get});var d=function(e){var t=!1;return i(h,function(n,r){if(!t)try{t=n.call(e)===r}catch(e){}}),t};t.exports=function(e){return!!e&&"object"==typeof e&&(l?!!_&&d(e):u(c,p(o(e),8,-1))>-1)}},7173:function(e){"use strict";e.exports=Math.abs},847:function(e){"use strict";e.exports=Math.floor},219:function(e){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},2916:function(e){"use strict";e.exports=Math.max},9882:function(e){"use strict";e.exports=Math.min},3291:function(e){"use strict";e.exports=Math.pow},553:function(e){"use strict";e.exports=Math.round},8629:function(e,t,n){"use strict";var r=n(219);e.exports=function(e){return r(e)||0===e?e:e<0?-1:1}},3256:function(e){"use strict";var t=function(e){return e!=e};e.exports=function(e,n){return 0===e&&0===n?1/e==1/n:!!(e===n||t(e)&&t(n))}},8579:function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=n(8412),o=Object.prototype.propertyIsEnumerable,l=!o.call({toString:null},"toString"),c=o.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},_=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),f=function(e){if("undefined"==typeof window||!_)return p(e);try{return p(e)}catch(e){return!1}};r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===s.call(e),r=a(e),o=t&&"[object String]"===s.call(e),p=[];if(!t&&!n&&!r)throw TypeError("Object.keys called on a non-object");var h=c&&n;if(o&&e.length>0&&!i.call(e,0))for(var _=0;_<e.length;++_)p.push(String(_));if(r&&e.length>0)for(var d=0;d<e.length;++d)p.push(String(d));else for(var g in e)!(h&&"prototype"===g)&&i.call(e,g)&&p.push(String(g));if(l)for(var m=f(e),v=0;v<u.length;++v)!(m&&"constructor"===u[v])&&i.call(e,u[v])&&p.push(u[v]);return p}}e.exports=r},4935:function(e,t,n){"use strict";var r=Array.prototype.slice,i=n(8412),s=Object.keys,a=s?function(e){return s(e)}:n(8579),o=Object.keys;a.shim=function(){return Object.keys?!function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)&&(Object.keys=function(e){return i(e)?o(r.call(e)):o(e)}):Object.keys=a,Object.keys||a},e.exports=a},8412:function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},3143:function(e,t,n){"use strict";var r=n(3197),i=n(819),s=n(7122)(),a=n(3990),o=n(8202),l=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new o("`fn` is not a function");if("number"!=typeof t||t<0||t>0xffffffff||l(t)!==t)throw new o("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,c=!0;if("length"in e&&a){var u=a(e,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(c=!1)}return(r||c||!n)&&(s?i(e,"length",t,!0,!0):i(e,"length",t)),e}},2369:function(e){e.exports=function(e){return e instanceof i.Buffer}},5584:function(e,t,n){"use strict";var r=n(5157),i=n(3391),s=n(1490),a=n(994);function o(e){return e.call.bind(e)}var l="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,u=o(Object.prototype.toString),p=o(Number.prototype.valueOf),h=o(String.prototype.valueOf),_=o(Boolean.prototype.valueOf);if(l)var f=o(BigInt.prototype.valueOf);if(c)var d=o(Symbol.prototype.valueOf);function g(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function m(e){return"[object Map]"===u(e)}function v(e){return"[object Set]"===u(e)}function b(e){return"[object WeakMap]"===u(e)}function y(e){return"[object WeakSet]"===u(e)}function $(e){return"[object ArrayBuffer]"===u(e)}function x(e){return"undefined"!=typeof ArrayBuffer&&($.working?$(e):e instanceof ArrayBuffer)}function S(e){return"[object DataView]"===u(e)}function A(e){return"undefined"!=typeof DataView&&(S.working?S(e):e instanceof DataView)}t.isArgumentsObject=r,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||A(e)},t.isUint8Array=function(e){return"Uint8Array"===s(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===s(e)},t.isUint16Array=function(e){return"Uint16Array"===s(e)},t.isUint32Array=function(e){return"Uint32Array"===s(e)},t.isInt8Array=function(e){return"Int8Array"===s(e)},t.isInt16Array=function(e){return"Int16Array"===s(e)},t.isInt32Array=function(e){return"Int32Array"===s(e)},t.isFloat32Array=function(e){return"Float32Array"===s(e)},t.isFloat64Array=function(e){return"Float64Array"===s(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===s(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===s(e)},m.working="undefined"!=typeof Map&&m(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(m.working?m(e):e instanceof Map)},v.working="undefined"!=typeof Set&&v(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(v.working?v(e):e instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(b.working?b(e):e instanceof WeakMap)},y.working="undefined"!=typeof WeakSet&&y(new WeakSet),t.isWeakSet=function(e){return y(e)},$.working="undefined"!=typeof ArrayBuffer&&$(new ArrayBuffer),t.isArrayBuffer=x,S.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&S(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=A;var w="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function E(e){return"[object SharedArrayBuffer]"===u(e)}function k(e){return void 0!==w&&(void 0===E.working&&(E.working=E(new w)),E.working?E(e):e instanceof w)}function C(e){return g(e,p)}function O(e){return g(e,h)}function R(e){return g(e,_)}function T(e){return l&&g(e,f)}function N(e){return c&&g(e,d)}t.isSharedArrayBuffer=k,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===u(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===u(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===u(e)},t.isGeneratorObject=function(e){return"[object Generator]"===u(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===u(e)},t.isNumberObject=C,t.isStringObject=O,t.isBooleanObject=R,t.isBigIntObject=T,t.isSymbolObject=N,t.isBoxedPrimitive=function(e){return C(e)||O(e)||R(e)||T(e)||N(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(x(e)||k(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw Error(e+" is not supported in userland")}})})},8177:function(e,t,n){var i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},s=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(e).replace(s,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),o=r[n];n<i;o=r[++n])m(o)||!x(o)?a+=" "+o:a+=" "+c(o);return a},t.deprecate=function(e,n){if(void 0!==r.default&&!0===r.default.noDeprecation)return e;if(void 0===r.default)return function(){return t.deprecate(e,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(r.default.throwDeprecation)throw Error(n);r.default.traceDeprecation?console.trace(n):console.error(n),i=!0}return e.apply(this,arguments)}};var a={},o=/^$/;if(r.default.env.NODE_DEBUG){var l=r.default.env.NODE_DEBUG;o=RegExp("^"+(l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase())+"$","i")}function c(e,n){var r={seen:[],stylize:p};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),h(r,e,r.depth)}function u(e,t){var n=c.styles[t];return n?"\x1b["+c.colors[n][0]+"m"+e+"\x1b["+c.colors[n][1]+"m":e}function p(e,t){return e}function h(e,n,r){if(e.customInspect&&n&&w(n.inspect)&&n.inspect!==t.inspect&&!(n.constructor&&n.constructor.prototype===n)){var i,s,a,o,l,c,u=n.inspect(r,e);return b(u)||(u=h(e,u,r)),u}var p=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(p)return p;var x=Object.keys(n),E=(l={},x.forEach(function(e,t){l[e]=!0}),l);if(e.showHidden&&(x=Object.getOwnPropertyNames(n)),A(n)&&(x.indexOf("message")>=0||x.indexOf("description")>=0))return _(n);if(0===x.length){if(w(n)){var k=n.name?": "+n.name:"";return e.stylize("[Function"+k+"]","special")}if($(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(A(n))return _(n)}var C="",R=!1,T=["{","}"];if(d(n)&&(R=!0,T=["[","]"]),w(n)&&(C=" [Function"+(n.name?": "+n.name:"")+"]"),$(n)&&(C=" "+RegExp.prototype.toString.call(n)),S(n)&&(C=" "+Date.prototype.toUTCString.call(n)),A(n)&&(C=" "+_(n)),0===x.length&&(!R||0==n.length))return T[0]+C+T[1];if(r<0)if($(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");else return e.stylize("[Object]","special");return e.seen.push(n),c=R?function(e,t,n,r,i){for(var s=[],a=0,o=t.length;a<o;++a)O(t,String(a))?s.push(f(e,t,n,r,String(a),!0)):s.push("");return i.forEach(function(i){i.match(/^\d+$/)||s.push(f(e,t,n,r,i,!0))}),s}(e,n,r,E,x):x.map(function(t){return f(e,n,r,E,t,R)}),e.seen.pop(),i=c,s=C,a=T,o=0,i.reduce(function(e,t){return o++,t.indexOf("\n")>=0&&o++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?a[0]+(""===s?"":s+"\n ")+" "+i.join(",\n  ")+" "+a[1]:a[0]+s+" "+i.join(", ")+" "+a[1]}function _(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,s){var a,o,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?o=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(o=e.stylize("[Setter]","special")),O(r,i)||(a="["+i+"]"),!o&&(0>e.seen.indexOf(l.value)?(o=m(n)?h(e,l.value,null):h(e,l.value,n-1)).indexOf("\n")>-1&&(o=s?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n")):o=e.stylize("[Circular]","special")),y(a)){if(s&&i.match(/^\d+$/))return o;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function d(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function b(e){return"string"==typeof e}function y(e){return void 0===e}function $(e){return x(e)&&"[object RegExp]"===E(e)}function x(e){return"object"==typeof e&&null!==e}function S(e){return x(e)&&"[object Date]"===E(e)}function A(e){return x(e)&&("[object Error]"===E(e)||e instanceof Error)}function w(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(!a[e=e.toUpperCase()])if(o.test(e)){var n=r.default.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=n(5584),t.isArray=d,t.isBoolean=g,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=$,t.types.isRegExp=$,t.isObject=x,t.isDate=S,t.types.isDate=S,t.isError=A,t.types.isNativeError=A,t.isFunction=w,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(2369);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(n=[k((e=new Date).getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":"),[e.getDate(),C[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(3782),t._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var n=Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');if(R&&e[R]){var t=e[R];if("function"!=typeof t)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push(function(e,r){e?n(e):t(r)});try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),R&&Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=R,t.callbackify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var i=t.pop();if("function"!=typeof i)throw TypeError("The last argument must be of type Function");var s=this,a=function(){return i.apply(s,arguments)};e.apply(this,t).then(function(e){r.default.nextTick(a.bind(null,null,e))},function(e){r.default.nextTick(T.bind(null,e,a))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,i(e)),t}},1490:function(t,n,r){"use strict";var i=r(6144),s=r(1349),a=r(516),o=a("Object.prototype.toString"),l=r(9942)()&&"symbol"==typeof Symbol.toStringTag,c=s(),u=a("String.prototype.slice"),p={},h=r(2154),_=Object.getPrototypeOf;l&&h&&_&&i(c,function(t){if("function"==typeof e.g[t]){var n=new e.g[t];if(!(Symbol.toStringTag in n))throw EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=_(n),i=h(r,Symbol.toStringTag);i||(i=h(_(r),Symbol.toStringTag)),p[t]=i.get}});var f=function(e){var t=!1;return i(p,function(n,r){if(!t)try{var i=n.call(e);i===r&&(t=i)}catch(e){}}),t},d=r(994);t.exports=function(e){return!!d(e)&&(l?f(e):u(o(e),8,-1))}},1349:function(t,n,r){"use strict";var i=r(8992);t.exports=function(){return i(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(t){return"function"==typeof e.g[t]})}},2154:function(e,t,n){"use strict";e.exports=n(3990)}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}},r=!0;try{s[e](n,n.exports,o),r=!1}finally{r&&delete a[e]}return n.exports}o.ab="/ROOT/parseArger/docs/node_modules/next/dist/compiled/assert/",t.exports=o(2167)},22770,(e,t,n)=>{"use strict";n.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return(n+r)*3/4-r},n.toByteArray=function(e){var t,n,r=c(e),a=r[0],o=r[1],l=new s((a+o)*3/4-o),u=0,p=o>0?a-4:a;for(n=0;n<p;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===o&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===o&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],a=0,o=n-i;a<o;a+=16383)s.push(function(e,t,n){for(var i,s=[],a=t;a<n;a+=3)i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}(e,a,a+16383>o?o:a+16383));return 1===i?s.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&s.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")};for(var r=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=a.length;o<l;++o)r[o]=a[o],i[a.charCodeAt(o)]=o;function c(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}i[45]=62,i[95]=63},58062,(e,t,n)=>{n.read=function(e,t,n,r,i){var s,a,o=8*i-r-1,l=(1<<o)-1,c=l>>1,u=-7,p=n?i-1:0,h=n?-1:1,_=e[t+p];for(p+=h,s=_&(1<<-u)-1,_>>=-u,u+=o;u>0;s=256*s+e[t+p],p+=h,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=r;u>0;a=256*a+e[t+p],p+=h,u-=8);if(0===s)s=1-c;else{if(s===l)return a?NaN:1/0*(_?-1:1);a+=Math.pow(2,r),s-=c}return(_?-1:1)*a*Math.pow(2,s-r)},n.write=function(e,t,n,r,i,s){var a,o,l,c=8*s-i-1,u=(1<<c)-1,p=u>>1,h=5960464477539062e-23*(23===i),_=r?0:s-1,f=r?1:-1,d=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+p>=1?t+=h/l:t+=h*Math.pow(2,1-p),t*l>=2&&(a++,l/=2),a+p>=u?(o=0,a=u):a+p>=1?(o=(t*l-1)*Math.pow(2,i),a+=p):(o=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+_]=255&o,_+=f,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;e[n+_]=255&a,_+=f,a/=256,c-=8);e[n+_-f]|=128*d}},47667,(e,t,n)=>{"use strict";var r=e.r(22770),i=e.r(58062),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e){var r=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!o.isEncoding(i))throw TypeError("Unknown encoding: "+i);var s=0|f(r,i),l=a(s),c=l.write(r,i);return c!==s&&(l=l.slice(0,c)),l}if(ArrayBuffer.isView(e)){var u=e;if(O(u,Uint8Array)){var d=new Uint8Array(u);return h(d.buffer,d.byteOffset,d.byteLength)}return p(u)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(O(e,ArrayBuffer)||e&&O(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(O(e,SharedArrayBuffer)||e&&O(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var g=e.valueOf&&e.valueOf();if(null!=g&&g!==e)return o.from(g,t,n);var m=function(e){if(o.isBuffer(e)){var t=0|_(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(m)return m;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),a(e<0?0:0|_(e))}function p(e){for(var t=e.length<0?0:0|_(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){var r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),o.prototype),r}function _(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||O(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return E(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return k(e).length;default:if(i)return r?-1:E(e).length;t=(""+t).toLowerCase(),i=!0}}function d(e,t,n){var i,s,a,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=t;s<n;++s)i+=R[e[s]];return i}(this,t,n);case"utf8":case"utf-8":return b(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":return i=this,s=t,a=n,0===s&&a===i.length?r.fromByteArray(i):r.fromByteArray(i.slice(s,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length-1;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}(this,t,n);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){var s;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),(s=n*=1)!=s&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length)if(i)return -1;else n=e.length-1;else if(n<0)if(!i)return -1;else n=0;if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,n);else return Uint8Array.prototype.lastIndexOf.call(e,t,n);return v(e,[t],n,r,i)}throw TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var s,a=1,o=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;a=2,o/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(s=n;s<o;s++)if(c(e,s)===c(t,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===l)return u*a}else -1!==u&&(s-=s-u),u=-1}else for(n+l>o&&(n=o-l),s=n;s>=0;s--){for(var p=!0,h=0;h<l;h++)if(c(e,s+h)!==c(t,h)){p=!1;break}if(p)return s}return -1}function b(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var s,a,o,l,c=e[i],u=null,p=c>239?4:c>223?3:c>191?2:1;if(i+p<=n)switch(p){case 1:c<128&&(u=c);break;case 2:(192&(s=e[i+1]))==128&&(l=(31&c)<<6|63&s)>127&&(u=l);break;case 3:s=e[i+1],a=e[i+2],(192&s)==128&&(192&a)==128&&(l=(15&c)<<12|(63&s)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:s=e[i+1],a=e[i+2],o=e[i+3],(192&s)==128&&(192&a)==128&&(192&o)==128&&(l=(15&c)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&l<1114112&&(u=l)}null===u?(u=65533,p=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=p}var h=r,_=h.length;if(_<=4096)return String.fromCharCode.apply(String,h);for(var f="",d=0;d<_;)f+=String.fromCharCode.apply(String,h.slice(d,d+=4096));return f}function y(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function $(e,t,n,r,i,s){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function x(e,t,n,r,i,s){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function S(e,t,n,r,s){return t*=1,n>>>=0,s||x(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function A(e,t,n,r,s){return t*=1,n>>>=0,s||x(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}n.Buffer=o,n.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},n.INSPECT_MAX_BYTES=50,n.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,n){return(c(e),e<=0)?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(O(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),O(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:+(r<n)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;var n,r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(O(s,Uint8Array))i+s.length>r.length?o.from(s).copy(r,i):Uint8Array.prototype.set.call(r,s,i);else if(o.isBuffer(s))s.copy(r,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=s.length}return r},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):d.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s&&(o.prototype[s]=o.prototype.inspect),o.prototype.compare=function(e,t,n,r,i){if(O(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var s=i-r,a=n-t,l=Math.min(s,a),c=this.slice(r,i),u=e.slice(t,n),p=0;p<l;++p)if(c[p]!==u[p]){s=c[p],a=u[p];break}return s<a?-1:+(a<s)},o.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,s,a,o,l,c,u,p,h=this.length-t;if((void 0===n||n>h)&&(n=h),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var _=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=t.length;r>s/2&&(r=s/2);for(var a=0;a<r;++a){var o,l=parseInt(t.substr(2*a,2),16);if((o=l)!=o)break;e[n+a]=l}return a}(this,e,t,n);case"utf8":case"utf-8":return i=t,s=n,C(E(e,this.length-i),this,i,s);case"ascii":case"latin1":case"binary":return a=t,o=n,C(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,a,o);case"base64":return l=t,c=n,C(k(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=t,p=n,C(function(e,t){for(var n,r,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i.push(n%256),i.push(r);return i}(e,this.length-u),this,u,p);default:if(_)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),_=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,o.prototype),r},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||y(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||y(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||y(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||y(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||y(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||y(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||y(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||y(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||y(e,t,this.length);for(var r=t,i=1,s=this[e+--r];r>0&&(i*=256);)s+=this[e+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return(e>>>=0,t||y(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||y(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?0xffff0000|n:n},o.prototype.readInt16BE=function(e,t){e>>>=0,t||y(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?0xffff0000|n:n},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||y(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||y(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||y(e,4,this.length),i.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||y(e,4,this.length),i.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||y(e,8,this.length),i.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||y(e,8,this.length),i.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;$(this,e,t,n,i,0)}var s=1,a=0;for(this[t]=255&e;++a<n&&(s*=256);)this[t+a]=e/s&255;return t+n},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;$(this,e,t,n,i,0)}var s=n-1,a=1;for(this[t+s]=255&e;--s>=0&&(a*=256);)this[t+s]=e/a&255;return t+n},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,n){return e*=1,t>>>=0,n||$(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,n){return e*=1,t>>>=0,n||$(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,n){return e*=1,t>>>=0,n||$(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,n){return e*=1,t>>>=0,n||$(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,n){return e*=1,t>>>=0,n||$(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e*=1,t>>>=0,!r){var i=Math.pow(2,8*n-1);$(this,e,t,n,i-1,-i)}var s=0,a=1,o=0;for(this[t]=255&e;++s<n&&(a*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/a|0)-o&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e*=1,t>>>=0,!r){var i=Math.pow(2,8*n-1);$(this,e,t,n,i-1,-i)}var s=n-1,a=1,o=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/a|0)-o&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e*=1,t>>>=0,n||$(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e*=1,t>>>=0,n||$(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,n){return e*=1,t>>>=0,n||$(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,n){return e*=1,t>>>=0,n||$(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,n){return e*=1,t>>>=0,n||$(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,n){return S(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return S(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return A(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return A(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){var i,s=e.charCodeAt(0);("utf8"===r&&s<128||"latin1"===r)&&(e=s)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=o.isBuffer(e)?e:o.from(e,r),l=a.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%l]}return this};var w=/[^+/0-9A-Za-z-_]/g;function E(e,t){t=t||1/0;for(var n,r=e.length,i=null,s=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319||a+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return s}function k(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(w,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function C(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function O(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var R=function(){for(var e="0123456789abcdef",t=Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},61632,(e,t,n)=>{!function(){"use strict";var e={864:function(e){var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(n,r){var i,s,a;function o(n){e.removeListener(t,l),r(n)}function l(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}d(e,t,l,{once:!0}),"error"!==t&&(i=e,s=o,a={once:!0},"function"==typeof i.on&&d(i,"error",s,a))})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){if(o(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),a=s[t]),void 0===a)a=s[t]=n,++e._eventsCount;else if("function"==typeof a?a=s[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var i,s,a,c=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):f(i,i.length)}function _(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function d(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(s){r.once&&e.removeEventListener(t,i),n(s)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,o=Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var l=s[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else for(var c=l.length,u=f(l,c),n=0;n<c;++n)r(u[n],this,t);return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){return o(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,s,a;if(o(t),void 0===(r=this._events)||void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){a=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0==arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):_.call(e,t)},s.prototype.listenerCount=_,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var s=n[t]={exports:{}},a=!0;try{e[t](s,s.exports,r),a=!1}finally{a&&delete n[t]}return s.exports}r.ab="/ROOT/parseArger/docs/node_modules/next/dist/compiled/events/",t.exports=r(864)}()},46488,(e,t,n)=>{var r=e.i(38773),i=e.i(71719),s={8992:function(e){e.exports=function(e,n,r){if(e.filter)return e.filter(n,r);if(null==e||"function"!=typeof n)throw TypeError();for(var i=[],s=0;s<e.length;s++)if(t.call(e,s)){var a=e[s];n.call(r,a,s,e)&&i.push(a)}return i};var t=Object.prototype.hasOwnProperty},5555:function(e,t,n){"use strict";var r=n(1212),i=n(1909),s=n(8737);e.exports=n(8772)||r.call(s,i)},9905:function(e,t,n){"use strict";var r=n(1212),i=n(1909),s=n(5555);e.exports=function(){return s(r,i,arguments)}},1909:function(e){"use strict";e.exports=Function.prototype.apply},8737:function(e){"use strict";e.exports=Function.prototype.call},7152:function(e,t,n){"use strict";var r=n(1212),i=n(8202),s=n(8737),a=n(5555);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return a(r,s,e)}},8772:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},516:function(e,t,n){"use strict";var r=n(3197),i=n(9042),s=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&s(e,".prototype.")>-1?i(n):n}},9042:function(e,t,n){"use strict";var r=n(3143),i=n(446),s=n(7152),a=n(9905);e.exports=function(e){var t=s(arguments),n=e.length-(arguments.length-1);return r(t,1+(n>0?n:0),!0)},i?i(e.exports,"apply",{value:a}):e.exports.apply=a},819:function(e,t,n){"use strict";var r=n(446),i=n(5182),s=n(8202),a=n(3990);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new s("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new s("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],p=!!a&&a(e,t);if(r)r(e,t,{configurable:null===c&&p?p.configurable:!c,enumerable:null===o&&p?p.enumerable:!o,value:n,writable:null===l&&p?p.writable:!l});else if(!u&&(o||l||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else e[t]=n}},6211:function(e,t,n){"use strict";var r,i=n(7152),s=n(3990);try{r=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var a=!!r&&s&&s(Object.prototype,"__proto__"),o=Object,l=o.getPrototypeOf;e.exports=a&&"function"==typeof a.get?i([a.get]):"function"==typeof l&&function(e){return l(null==e?e:o(e))}},446:function(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},7181:function(e){"use strict";e.exports=EvalError},1545:function(e){"use strict";e.exports=Error},22:function(e){"use strict";e.exports=RangeError},2803:function(e){"use strict";e.exports=ReferenceError},5182:function(e){"use strict";e.exports=SyntaxError},8202:function(e){"use strict";e.exports=TypeError},3284:function(e){"use strict";e.exports=URIError},2811:function(e){"use strict";e.exports=Object},6144:function(e){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString;e.exports=function(e,r,i){if("[object Function]"!==n.call(r))throw TypeError("iterator must be a function");var s=e.length;if(s===+s)for(var a=0;a<s;a++)r.call(i,e[a],a,e);else for(var o in e)t.call(e,o)&&r.call(i,e[o],o,e)}},3136:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n},i=function(e,t){for(var n=[],r=t||0,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n},s=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};e.exports=function(e){var a,o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw TypeError("Function.prototype.bind called on incompatible "+o);for(var l=i(arguments,1),c=n(0,o.length-l.length),u=[],p=0;p<c;p++)u[p]="$"+p;if(a=Function("binder","return function ("+s(u,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof a){var t=o.apply(this,r(l,arguments));return Object(t)===t?t:this}return o.apply(e,r(l,arguments))}),o.prototype){var h=function(){};h.prototype=o.prototype,a.prototype=new h,h.prototype=null}return a}},1212:function(e,t,n){"use strict";var r=n(3136);e.exports=Function.prototype.bind||r},3197:function(e,t,n){"use strict";var r,i=n(2811),s=n(1545),a=n(7181),o=n(22),l=n(2803),c=n(5182),u=n(8202),p=n(3284),h=n(7173),_=n(847),f=n(2916),d=n(9882),g=n(3291),m=n(553),v=n(8629),b=Function,y=function(e){try{return b('"use strict"; return ('+e+").constructor;")()}catch(e){}},$=n(3990),x=n(446),S=function(){throw new u},A=$?function(){try{return arguments.callee,S}catch(e){try{return $(arguments,"callee").get}catch(e){return S}}}():S,w=n(4871)(),E=n(699),k=n(7823),C=n(7904),O=n(1909),R=n(8737),T={},N="undefined"!=typeof Uint8Array&&E?E(Uint8Array):r,P={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":w&&E?E([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":s,"%eval%":eval,"%EvalError%":a,"%Float16Array%":"undefined"==typeof Float16Array?r:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":T,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":w&&E?E(E([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&w&&E?E((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":$,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":o,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&w&&E?E((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":w&&E?E(""[Symbol.iterator]()):r,"%Symbol%":w?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":A,"%TypedArray%":N,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":p,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%Function.prototype.call%":R,"%Function.prototype.apply%":O,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":k,"%Math.abs%":h,"%Math.floor%":_,"%Math.max%":f,"%Math.min%":d,"%Math.pow%":g,"%Math.round%":m,"%Math.sign%":v,"%Reflect.getPrototypeOf%":C};if(E)try{null.error}catch(e){var L=E(E(e));P["%Error.prototype%"]=L}var I=function e(t){var n;if("%AsyncFunction%"===t)n=y("async function () {}");else if("%GeneratorFunction%"===t)n=y("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=y("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&E&&(n=E(i.prototype))}return P[t]=n,n},D={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=n(1212),F=n(3270),B=M.call(R,Array.prototype.concat),H=M.call(O,Array.prototype.splice),U=M.call(R,String.prototype.replace),j=M.call(R,String.prototype.slice),W=M.call(R,RegExp.prototype.exec),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,z=/\\(\\)?/g,G=function(e){var t=j(e,0,1),n=j(e,-1);if("%"===t&&"%"!==n)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var r=[];return U(e,q,function(e,t,n,i){r[r.length]=n?U(i,z,"$1"):t||e}),r},V=function(e,t){var n,r=e;if(F(D,r)&&(r="%"+(n=D[r])[0]+"%"),F(P,r)){var i=P[r];if(i===T&&(i=I(r)),void 0===i&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===W(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=G(e),r=n.length>0?n[0]:"",i=V("%"+r+"%",t),s=i.name,a=i.value,o=!1,l=i.alias;l&&(r=l[0],H(n,B([0,1],l)));for(var p=1,h=!0;p<n.length;p+=1){var _=n[p],f=j(_,0,1),d=j(_,-1);if(('"'===f||"'"===f||"`"===f||'"'===d||"'"===d||"`"===d)&&f!==d)throw new c("property names with quotes must have matching quotes");if("constructor"!==_&&h||(o=!0),r+="."+_,F(P,s="%"+r+"%"))a=P[s];else if(null!=a){if(!(_ in a)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if($&&p+1>=n.length){var g=$(a,_);a=(h=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[_]}else h=F(a,_),a=a[_];h&&!o&&(P[s]=a)}}return a}},7823:function(e,t,n){"use strict";e.exports=n(2811).getPrototypeOf||null},7904:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},699:function(e,t,n){"use strict";var r=n(7904),i=n(7823),s=n(6211);e.exports=r?function(e){return r(e)}:i?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("getProto: not an object");return i(e)}:s?function(e){return s(e)}:null},4596:function(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},3990:function(e,t,n){"use strict";var r=n(4596);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},7122:function(e,t,n){"use strict";var r=n(446),i=function(){return!!r};i.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},9942:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(3773);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},3773:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},4871:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(5960);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},5960:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(42!==s.value||!0!==s.enumerable)return!1}return!0}},3270:function(e,t,n){"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty;e.exports=n(1212).call(r,i)},3782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},5157:function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,n=Object.prototype.toString,r=function(e){return(!t||!e||"object"!=typeof e||!(Symbol.toStringTag in e))&&"[object Arguments]"===n.call(e)},i=function(e){return!!r(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==n.call(e)&&"[object Function]"===n.call(e.callee)},s=function(){return r(arguments)}();r.isLegacyArguments=i,e.exports=s?r:i},3391:function(e){"use strict";var t=Object.prototype.toString,n=Function.prototype.toString,r=/^\s*(?:function)?\*/,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,s=Object.getPrototypeOf,a=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch(e){}}(),o=a?s(a):{};e.exports=function(e){return"function"==typeof e&&(!!r.test(n.call(e))||(i?s(e)===o:"[object GeneratorFunction]"===t.call(e)))}},994:function(t,n,r){"use strict";var i=r(6144),s=r(1349),a=r(516),o=a("Object.prototype.toString"),l=r(9942)()&&"symbol"==typeof Symbol.toStringTag,c=s(),u=a("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return -1},p=a("String.prototype.slice"),h={},_=r(2154),f=Object.getPrototypeOf;l&&_&&f&&i(c,function(t){var n=new e.g[t];if(!(Symbol.toStringTag in n))throw EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=f(n),i=_(r,Symbol.toStringTag);i||(i=_(f(r),Symbol.toStringTag)),h[t]=i.get});var d=function(e){var t=!1;return i(h,function(n,r){if(!t)try{t=n.call(e)===r}catch(e){}}),t};t.exports=function(e){return!!e&&"object"==typeof e&&(l?!!_&&d(e):u(c,p(o(e),8,-1))>-1)}},7173:function(e){"use strict";e.exports=Math.abs},847:function(e){"use strict";e.exports=Math.floor},219:function(e){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},2916:function(e){"use strict";e.exports=Math.max},9882:function(e){"use strict";e.exports=Math.min},3291:function(e){"use strict";e.exports=Math.pow},553:function(e){"use strict";e.exports=Math.round},8629:function(e,t,n){"use strict";var r=n(219);e.exports=function(e){return r(e)||0===e?e:e<0?-1:1}},3143:function(e,t,n){"use strict";var r=n(3197),i=n(819),s=n(7122)(),a=n(3990),o=n(8202),l=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new o("`fn` is not a function");if("number"!=typeof t||t<0||t>0xffffffff||l(t)!==t)throw new o("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,c=!0;if("length"in e&&a){var u=a(e,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(c=!1)}return(r||c||!n)&&(s?i(e,"length",t,!0,!0):i(e,"length",t)),e}},2369:function(e){e.exports=function(e){return e instanceof r.Buffer}},5584:function(e,t,n){"use strict";var r=n(5157),i=n(3391),s=n(1490),a=n(994);function o(e){return e.call.bind(e)}var l="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,u=o(Object.prototype.toString),p=o(Number.prototype.valueOf),h=o(String.prototype.valueOf),_=o(Boolean.prototype.valueOf);if(l)var f=o(BigInt.prototype.valueOf);if(c)var d=o(Symbol.prototype.valueOf);function g(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function m(e){return"[object Map]"===u(e)}function v(e){return"[object Set]"===u(e)}function b(e){return"[object WeakMap]"===u(e)}function y(e){return"[object WeakSet]"===u(e)}function $(e){return"[object ArrayBuffer]"===u(e)}function x(e){return"undefined"!=typeof ArrayBuffer&&($.working?$(e):e instanceof ArrayBuffer)}function S(e){return"[object DataView]"===u(e)}function A(e){return"undefined"!=typeof DataView&&(S.working?S(e):e instanceof DataView)}t.isArgumentsObject=r,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||A(e)},t.isUint8Array=function(e){return"Uint8Array"===s(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===s(e)},t.isUint16Array=function(e){return"Uint16Array"===s(e)},t.isUint32Array=function(e){return"Uint32Array"===s(e)},t.isInt8Array=function(e){return"Int8Array"===s(e)},t.isInt16Array=function(e){return"Int16Array"===s(e)},t.isInt32Array=function(e){return"Int32Array"===s(e)},t.isFloat32Array=function(e){return"Float32Array"===s(e)},t.isFloat64Array=function(e){return"Float64Array"===s(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===s(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===s(e)},m.working="undefined"!=typeof Map&&m(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(m.working?m(e):e instanceof Map)},v.working="undefined"!=typeof Set&&v(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(v.working?v(e):e instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(b.working?b(e):e instanceof WeakMap)},y.working="undefined"!=typeof WeakSet&&y(new WeakSet),t.isWeakSet=function(e){return y(e)},$.working="undefined"!=typeof ArrayBuffer&&$(new ArrayBuffer),t.isArrayBuffer=x,S.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&S(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=A;var w="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function E(e){return"[object SharedArrayBuffer]"===u(e)}function k(e){return void 0!==w&&(void 0===E.working&&(E.working=E(new w)),E.working?E(e):e instanceof w)}function C(e){return g(e,p)}function O(e){return g(e,h)}function R(e){return g(e,_)}function T(e){return l&&g(e,f)}function N(e){return c&&g(e,d)}t.isSharedArrayBuffer=k,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===u(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===u(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===u(e)},t.isGeneratorObject=function(e){return"[object Generator]"===u(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===u(e)},t.isNumberObject=C,t.isStringObject=O,t.isBooleanObject=R,t.isBigIntObject=T,t.isSymbolObject=N,t.isBoxedPrimitive=function(e){return C(e)||O(e)||R(e)||T(e)||N(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(x(e)||k(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw Error(e+" is not supported in userland")}})})},8177:function(e,t,n){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},s=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(e).replace(s,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),o=r[n];n<i;o=r[++n])m(o)||!x(o)?a+=" "+o:a+=" "+c(o);return a},t.deprecate=function(e,n){if(void 0!==i.default&&!0===i.default.noDeprecation)return e;if(void 0===i.default)return function(){return t.deprecate(e,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(i.default.throwDeprecation)throw Error(n);i.default.traceDeprecation?console.trace(n):console.error(n),r=!0}return e.apply(this,arguments)}};var a={},o=/^$/;if(i.default.env.NODE_DEBUG){var l=i.default.env.NODE_DEBUG;o=RegExp("^"+(l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase())+"$","i")}function c(e,n){var r={seen:[],stylize:p};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),h(r,e,r.depth)}function u(e,t){var n=c.styles[t];return n?"\x1b["+c.colors[n][0]+"m"+e+"\x1b["+c.colors[n][1]+"m":e}function p(e,t){return e}function h(e,n,r){if(e.customInspect&&n&&w(n.inspect)&&n.inspect!==t.inspect&&!(n.constructor&&n.constructor.prototype===n)){var i,s,a,o,l,c,u=n.inspect(r,e);return b(u)||(u=h(e,u,r)),u}var p=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(p)return p;var x=Object.keys(n),E=(l={},x.forEach(function(e,t){l[e]=!0}),l);if(e.showHidden&&(x=Object.getOwnPropertyNames(n)),A(n)&&(x.indexOf("message")>=0||x.indexOf("description")>=0))return _(n);if(0===x.length){if(w(n)){var k=n.name?": "+n.name:"";return e.stylize("[Function"+k+"]","special")}if($(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(A(n))return _(n)}var C="",R=!1,T=["{","}"];if(d(n)&&(R=!0,T=["[","]"]),w(n)&&(C=" [Function"+(n.name?": "+n.name:"")+"]"),$(n)&&(C=" "+RegExp.prototype.toString.call(n)),S(n)&&(C=" "+Date.prototype.toUTCString.call(n)),A(n)&&(C=" "+_(n)),0===x.length&&(!R||0==n.length))return T[0]+C+T[1];if(r<0)if($(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");else return e.stylize("[Object]","special");return e.seen.push(n),c=R?function(e,t,n,r,i){for(var s=[],a=0,o=t.length;a<o;++a)O(t,String(a))?s.push(f(e,t,n,r,String(a),!0)):s.push("");return i.forEach(function(i){i.match(/^\d+$/)||s.push(f(e,t,n,r,i,!0))}),s}(e,n,r,E,x):x.map(function(t){return f(e,n,r,E,t,R)}),e.seen.pop(),i=c,s=C,a=T,o=0,i.reduce(function(e,t){return o++,t.indexOf("\n")>=0&&o++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?a[0]+(""===s?"":s+"\n ")+" "+i.join(",\n  ")+" "+a[1]:a[0]+s+" "+i.join(", ")+" "+a[1]}function _(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,s){var a,o,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?o=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(o=e.stylize("[Setter]","special")),O(r,i)||(a="["+i+"]"),!o&&(0>e.seen.indexOf(l.value)?(o=m(n)?h(e,l.value,null):h(e,l.value,n-1)).indexOf("\n")>-1&&(o=s?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n")):o=e.stylize("[Circular]","special")),y(a)){if(s&&i.match(/^\d+$/))return o;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function d(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function b(e){return"string"==typeof e}function y(e){return void 0===e}function $(e){return x(e)&&"[object RegExp]"===E(e)}function x(e){return"object"==typeof e&&null!==e}function S(e){return x(e)&&"[object Date]"===E(e)}function A(e){return x(e)&&("[object Error]"===E(e)||e instanceof Error)}function w(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(!a[e=e.toUpperCase()])if(o.test(e)){var n=i.default.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=n(5584),t.isArray=d,t.isBoolean=g,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=$,t.types.isRegExp=$,t.isObject=x,t.isDate=S,t.types.isDate=S,t.isError=A,t.types.isNativeError=A,t.isFunction=w,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(2369);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(n=[k((e=new Date).getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":"),[e.getDate(),C[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(3782),t._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var n=Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');if(R&&e[R]){var t=e[R];if("function"!=typeof t)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push(function(e,r){e?n(e):t(r)});try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),R&&Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=R,t.callbackify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var r=t.pop();if("function"!=typeof r)throw TypeError("The last argument must be of type Function");var s=this,a=function(){return r.apply(s,arguments)};e.apply(this,t).then(function(e){i.default.nextTick(a.bind(null,null,e))},function(e){i.default.nextTick(T.bind(null,e,a))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,r(e)),t}},1490:function(t,n,r){"use strict";var i=r(6144),s=r(1349),a=r(516),o=a("Object.prototype.toString"),l=r(9942)()&&"symbol"==typeof Symbol.toStringTag,c=s(),u=a("String.prototype.slice"),p={},h=r(2154),_=Object.getPrototypeOf;l&&h&&_&&i(c,function(t){if("function"==typeof e.g[t]){var n=new e.g[t];if(!(Symbol.toStringTag in n))throw EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=_(n),i=h(r,Symbol.toStringTag);i||(i=h(_(r),Symbol.toStringTag)),p[t]=i.get}});var f=function(e){var t=!1;return i(p,function(n,r){if(!t)try{var i=n.call(e);i===r&&(t=i)}catch(e){}}),t},d=r(994);t.exports=function(e){return!!d(e)&&(l?f(e):u(o(e),8,-1))}},1349:function(t,n,r){"use strict";var i=r(8992);t.exports=function(){return i(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(t){return"function"==typeof e.g[t]})}},2154:function(e,t,n){"use strict";e.exports=n(3990)}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}},r=!0;try{s[e](n,n.exports,o),r=!1}finally{r&&delete a[e]}return n.exports}o.ab="/ROOT/parseArger/docs/node_modules/next/dist/compiled/util/",t.exports=o(8177)},80909,(e,t,n)=>{var r=e.i(71719),i={782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},646:function(e){"use strict";let t={};function n(e,n,r){r||(r=Error);class i extends r{constructor(e,t,r){super("string"==typeof n?n:n(e,t,r))}}i.prototype.name=r.name,i.prototype.code=e,t[e]=i}function r(e,t){if(!Array.isArray(e))return`of ${t} ${String(e)}`;{let n=e.length;return(e=e.map(e=>String(e)),n>2)?`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(e,t,n){var i,s,a,o;let l,c;if("string"==typeof t&&(i="not ",t.substr(0,i.length)===i)?(l="must not be",t=t.replace(/^not /,"")):l="must be",s=" argument",(void 0===a||a>e.length)&&(a=e.length),e.substring(a-s.length,a)===s)c=`The ${e} ${l} ${r(t,"type")}`;else{let n=("number"!=typeof o&&(o=0),o+1>e.length||-1===e.indexOf(".",o))?"argument":"property";c=`The "${e}" ${n} ${l} ${r(t,"type")}`}return c+`. Received type ${typeof n}`},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},403:function(e,t,n){"use strict";var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var s=n(709),a=n(337);n(782)(u,s);for(var o=i(a.prototype),l=0;l<o.length;l++){var c=o[l];u.prototype[c]||(u.prototype[c]=a.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",p)))}function p(){this._writableState.ended||r.default.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},889:function(e,t,n){"use strict";e.exports=i;var r=n(170);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(782)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},709:function(t,n,i){"use strict";t.exports=E,E.ReadableState=w,i(361).EventEmitter;var s,a,o,l,c,u=function(e,t){return e.listeners(t).length},p=i(678),h=i(300).Buffer,_=e.g.Uint8Array||function(){},f=i(837);a=f&&f.debuglog?f.debuglog("stream"):function(){};var d=i(379),g=i(25),m=i(776).getHighWaterMark,v=i(646).q,b=v.ERR_INVALID_ARG_TYPE,y=v.ERR_STREAM_PUSH_AFTER_EOF,$=v.ERR_METHOD_NOT_IMPLEMENTED,x=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(782)(E,p);var S=g.errorOrDestroy,A=["error","close","destroy","pause","resume"];function w(e,t,n){s=s||i(403),e=e||{},"boolean"!=typeof n&&(n=t instanceof s),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",n),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(o||(o=i(704).s),this.decoder=new o(e.encoding),this.encoding=e.encoding)}function E(e){if(s=s||i(403),!(this instanceof E))return new E(e);var t=this instanceof s;this._readableState=new w(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),p.call(this)}function k(e,t,n,r,i){a("readableAddChunk",t);var s,o,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}}(e,l);else if(i||(o=function(e,t){var n;return h.isBuffer(t)||t instanceof _||"string"==typeof t||void 0===t||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t)),n}(l,t)),o)S(e,o);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===h.prototype||(s=t,t=h.from(s)),r)l.endEmitted?S(e,new x):C(e,l,t,!0);else if(l.ended)S(e,new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!n?(t=l.decoder.write(t),l.objectMode||0!==t.length?C(e,l,t,!1):N(e,l)):C(e,l,t,!1)}else r||(l.reading=!1,N(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function C(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&R(e)),N(e,t)}function O(e,t){var n;if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length;return(e>t.highWaterMark&&((n=e)>=0x40000000?n=0x40000000:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),t.highWaterMark=n),e<=t.length)?e:t.ended?t.length:(t.needReadable=!0,0)}function R(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,r.default.nextTick(T,e))}function T(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function N(e,t){t.readingMore||(t.readingMore=!0,r.default.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(a("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function I(e){a("readable nexttick read 0"),e.read(0)}function D(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function F(e,t){var n;return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n)}function B(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.default.nextTick(H,t,e))}function H(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function U(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return -1}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=g.destroy,E.prototype._undestroy=g.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=h.from(e,t),t=""),n=!0),k(this,e,t,!1,n)},E.prototype.unshift=function(e){return k(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){o||(o=i(704).s);var t=new o(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this},E.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t,n=this._readableState,r=e;if(0!==e&&(n.emittedReadable=!1),0===e&&n.needReadable&&((0!==n.highWaterMark?n.length>=n.highWaterMark:n.length>0)||n.ended))return a("read: emitReadable",n.length,n.ended),0===n.length&&n.ended?B(this):R(this),null;if(0===(e=O(e,n))&&n.ended)return 0===n.length&&B(this),null;var i=n.needReadable;return a("need readable",i),(0===n.length||n.length-e<n.highWaterMark)&&a("length less than watermark",i=!0),n.ended||n.reading?a("reading or ended",i=!1):i&&(a("do read"),n.reading=!0,n.sync=!0,0===n.length&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,n.reading||(e=O(r,n))),null===(t=e>0?F(e,n):null)?(n.needReadable=n.length<=n.highWaterMark,e=0):(n.length-=e,n.awaitDrain=0),0===n.length&&(n.ended||(n.needReadable=!0),r!==e&&n.ended&&B(this)),null!==t&&this.emit("data",t),t},E.prototype._read=function(e){S(this,new $("_read()"))},E.prototype.pipe=function(e,t){var n,i=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,a("pipe count=%d opts=%j",s.pipesCount,t);var o=t&&!1===t.end||e===r.default.stdout||e===r.default.stderr?g:l;function l(){a("onend"),e.end()}s.endEmitted?r.default.nextTick(o):i.once("end",o),e.on("unpipe",function t(n,r){a("onunpipe"),n===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,a("cleanup"),e.removeListener("close",f),e.removeListener("finish",d),e.removeListener("drain",c),e.removeListener("error",_),e.removeListener("unpipe",t),i.removeListener("end",l),i.removeListener("end",g),i.removeListener("data",h),p=!0,s.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c())});var c=(n=i,function(){var e=n._readableState;a("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&u(n,"data")&&(e.flowing=!0,M(n))});e.on("drain",c);var p=!1;function h(t){a("ondata");var n=e.write(t);a("dest.write",n),!1===n&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==U(s.pipes,e))&&!p&&(a("false write response, pause",s.awaitDrain),s.awaitDrain++),i.pause())}function _(t){a("onerror",t),g(),e.removeListener("error",_),0===u(e,"error")&&S(e,t)}function f(){e.removeListener("finish",d),g()}function d(){a("onfinish"),e.removeListener("close",f),g()}function g(){a("unpipe"),i.unpipe(e)}return i.on("data",h),!function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",_),e.once("close",f),e.once("finish",d),e.emit("pipe",i),s.flowing||(a("pipe resume"),i.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=U(t.pipes,e);return -1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},E.prototype.on=function(e,t){var n=p.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"!==e||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,a("on readable",i.length,i.reading),i.length?R(this):i.reading||r.default.nextTick(I,this)),n},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var n=p.prototype.removeListener.call(this,e,t);return"readable"===e&&r.default.nextTick(L,this),n},E.prototype.removeAllListeners=function(e){var t=p.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&r.default.nextTick(L,this),t},E.prototype.resume=function(){var e,t,n=this._readableState;return n.flowing||(a("resume"),n.flowing=!n.readableListening,e=this,(t=n).resumeScheduled||(t.resumeScheduled=!0,r.default.nextTick(D,e,t))),n.paused=!1,this},E.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(a("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){a("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<A.length;s++)e.on(A[s],this.emit.bind(this,A[s]));return this._read=function(t){a("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=i(871)),l(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=F,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(e,t){return void 0===c&&(c=i(727)),c(E,e,t)})},170:function(e,t,n){"use strict";e.exports=u;var r=n(646).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=r.ERR_TRANSFORM_WITH_LENGTH_0,l=n(403);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new s);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",p)}function p(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(t,n){h(e,t,n)})}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new o;if(e._transformState.transforming)throw new a;return e.push(null)}n(782)(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new i("_transform()"))},u.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})}},337:function(t,n,i){"use strict";function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){var n=t,r=e,i=n.entry;for(n.entry=null;i;){var s=i.callback;r.pendingcb--,s(void 0),i=i.next}r.corkedRequestsFree.next=n}}t.exports=E,E.WritableState=w;var a,o,l={deprecate:i(769)},c=i(678),u=i(300).Buffer,p=e.g.Uint8Array||function(){},h=i(25),_=i(776).getHighWaterMark,f=i(646).q,d=f.ERR_INVALID_ARG_TYPE,g=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,v=f.ERR_STREAM_CANNOT_PIPE,b=f.ERR_STREAM_DESTROYED,y=f.ERR_STREAM_NULL_VALUES,$=f.ERR_STREAM_WRITE_AFTER_END,x=f.ERR_UNKNOWN_ENCODING,S=h.errorOrDestroy;function A(){}function w(e,t,n){a=a||i(403),e=e||{},"boolean"!=typeof n&&(n=t instanceof a),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=_(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,s=n.writecb;if("function"!=typeof s)throw new m;if(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t)--n.pendingcb,i?(r.default.nextTick(s,t),r.default.nextTick(N,e,n),e._writableState.errorEmitted=!0,S(e,t)):(s(t),e._writableState.errorEmitted=!0,S(e,t),N(e,n));else{var a=R(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||O(e,n),i?r.default.nextTick(C,e,n,a,s):C(e,n,a,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}i(782)(E,c),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t};try{Object.defineProperty(w.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}function E(e){var t=this instanceof(a=a||i(403));if(!t&&!o.call(E,this))return new E(e);this._writableState=new w(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function k(e,t,n,r,i,s,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function C(e,t,n,r){var i,s;n||(i=e,0===(s=t).length&&s.needDrain&&(s.needDrain=!1,i.emit("drain"))),t.pendingcb--,r(),N(e,t)}function O(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=n;for(var a=0,o=!0;n;)r[a]=n,n.isBuf||(o=!1),n=n.next,a+=1;r.allBuffers=o,k(e,t,!0,t.length,r,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,u=n.callback,p=t.objectMode?1:l.length;if(k(e,t,!1,p,l,c,u),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function R(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final(function(n){t.pendingcb--,n&&S(e,n),t.prefinished=!0,e.emit("prefinish"),N(e,t)})}function N(e,t){var n=R(t);if(n&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.default.nextTick(T,e,t))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===E&&e&&e._writableState instanceof w}})):o=function(e){return e instanceof this},E.prototype.pipe=function(){S(this,new v)},E.prototype.write=function(e,t,n){var i,s,a,o,l,c,h,_=this._writableState,f=!1,g=!_.objectMode&&(i=e,u.isBuffer(i)||i instanceof p);return(g&&!u.isBuffer(e)&&(s=e,e=u.from(s)),"function"==typeof t&&(n=t,t=null),g?t="buffer":t||(t=_.defaultEncoding),"function"!=typeof n&&(n=A),_.ending)?(a=n,S(this,o=new $),r.default.nextTick(a,o)):(g||(l=e,c=n,null===l?h=new y:"string"==typeof l||_.objectMode||(h=new d("chunk",["string","Buffer"],l)),!h||(S(this,h),r.default.nextTick(c,h),0)))&&(_.pendingcb++,f=function(e,t,n,r,i,s){if(!n){var a,o,l=(a=r,o=i,t.objectMode||!1===t.decodeStrings||"string"!=typeof a||(a=u.from(a,o)),a);r!==l&&(n=!0,i="buffer",r=l)}var c=t.objectMode?1:r.length;t.length+=c;var p=t.length<t.highWaterMark;if(p||(t.needDrain=!0),t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,c,r,i,s);return p}(this,_,g,e,t,n)),f},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||O(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new x(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,n){n(new g("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,n){var i,s,a,o=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||(i=this,s=o,a=n,s.ending=!0,N(i,s),a&&(s.finished?r.default.nextTick(a):i.once("finish",a)),s.ended=!0,i.writable=!1),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=h.destroy,E.prototype._undestroy=h.undestroy,E.prototype._destroy=function(e,t){t(e)}},871:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s,a=n(698),o=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),p=Symbol("lastPromise"),h=Symbol("handlePromise"),_=Symbol("stream");function f(e,t){return{value:e,done:t}}function d(e){var t=e[o];if(null!==t){var n=e[_].read();null!==n&&(e[p]=null,e[o]=null,e[l]=null,t(f(n,!1)))}}function g(e){r.default.nextTick(d,e)}var m=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((i(s={get stream(){return this[_]},next:function(){var e,t,n=this,i=this[c];if(null!==i)return Promise.reject(i);if(this[u])return Promise.resolve(f(void 0,!0));if(this[_].destroyed)return new Promise(function(e,t){r.default.nextTick(function(){n[c]?t(n[c]):e(f(void 0,!0))})});var s=this[p];if(s)t=new Promise((e=this,function(t,n){s.then(function(){e[u]?t(f(void 0,!0)):e[h](t,n)},n)}));else{var a=this[_].read();if(null!==a)return Promise.resolve(f(a,!1));t=new Promise(this[h])}return this[p]=t,t}},Symbol.asyncIterator,function(){return this}),i(s,"return",function(){var e=this;return new Promise(function(t,n){e[_].destroy(null,function(e){e?n(e):t(f(void 0,!0))})})}),s),m);e.exports=function(e){var t,n=Object.create(v,(i(t={},_,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var r=n[_].read();r?(n[p]=null,n[o]=null,n[l]=null,e(f(r,!1))):(n[o]=e,n[l]=t)},writable:!0}),t));return n[p]=null,a(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[l];null!==t&&(n[p]=null,n[o]=null,n[l]=null,t(e)),n[c]=e;return}var r=n[o];null!==r&&(n[p]=null,n[o]=null,n[l]=null,r(f(void 0,!0))),n[u]=!0}),e.on("readable",g.bind(null,n)),n}},379:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var i=n(300).Buffer,s=n(837).inspect,a=s&&s.custom||"inspect";e.exports=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this.head=null,this.tail=null,this.length=0}return e=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return i.alloc(0);for(var t,n,r=i.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=a,i.prototype.copy.call(t,r,n),a+=s.data.length,s=s.next;return r}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?r+=i:r+=i.slice(0,e),0==(e-=s)){s===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=i.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var s=n.data,a=e>s.length?s.length:e;if(s.copy(t,t.length-e,0,a),0==(e-=a)){a===s.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(a));break}++r}return this.length-=r,t}},{key:a,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r,i,s;r=e,i=t,s=n[t],i in r?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{depth:0,customInspect:!1}))}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}()},25:function(e){"use strict";function t(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,s){var a=this,o=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return o||l?s?s(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.default.nextTick(i,this,e)):r.default.nextTick(i,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!s&&e?a._writableState?a._writableState.errorEmitted?r.default.nextTick(n,a):(a._writableState.errorEmitted=!0,r.default.nextTick(t,a,e)):r.default.nextTick(t,a,e):s?(r.default.nextTick(n,a),s(e)):r.default.nextTick(n,a)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},698:function(e,t,n){"use strict";var r=n(646).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,s){if("function"==typeof n)return e(t,null,n);n||(n={}),a=s||i,o=!1,s=function(){if(!o){o=!0;for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.apply(this,t)}};var a,o,l=n.readable||!1!==n.readable&&t.readable,c=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||h()},p=t._writableState&&t._writableState.finished,h=function(){c=!1,p=!0,l||s.call(t)},_=t._readableState&&t._readableState.endEmitted,f=function(){l=!1,_=!0,c||s.call(t)},d=function(e){s.call(t,e)},g=function(){var e;return l&&!_?(t._readableState&&t._readableState.ended||(e=new r),s.call(t,e)):c&&!p?(t._writableState&&t._writableState.ended||(e=new r),s.call(t,e)):void 0},m=function(){t.req.on("finish",h)};return t.setHeader&&"function"==typeof t.abort?(t.on("complete",h),t.on("abort",g),t.req?m():t.on("request",m)):c&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",f),t.on("finish",h),!1!==n.error&&t.on("error",d),t.on("close",g),function(){t.removeListener("complete",h),t.removeListener("abort",g),t.removeListener("request",m),t.req&&t.req.removeListener("finish",h),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",h),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",g)}}},727:function(e,t,n){"use strict";function r(e,t,n,r,i,s,a){try{var o=e[s](a),l=o.value}catch(e){n(e);return}o.done?t(l):Promise.resolve(l).then(r,i)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var s=n(646).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,n){if(t&&"function"==typeof t.next)a=t;else if(t&&t[Symbol.asyncIterator])a=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])a=t[Symbol.iterator]();else throw new s("iterable",["Iterable"],t);var a,o=new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i,s;r=e,i=t,s=n[t],i in r?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({objectMode:!0},n)),l=!1;function c(){return u.apply(this,arguments)}function u(){var e;return e=function*(){try{var e=yield a.next(),t=e.value;e.done?o.push(null):o.push((yield t))?c():l=!1}catch(e){o.destroy(e)}},(u=function(){var t=this,n=arguments;return new Promise(function(i,s){var a=e.apply(t,n);function o(e){r(a,i,s,o,l,"next",e)}function l(e){r(a,i,s,o,l,"throw",e)}o(void 0)})}).apply(this,arguments)}return o._read=function(){l||(l=!0,c())},o}},442:function(e,t,n){"use strict";var r,i=n(646).q,s=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function l(e){e()}function c(e,t){return e.pipe(t)}e.exports=function(){for(var e,t,i=arguments.length,u=Array(i),p=0;p<i;p++)u[p]=arguments[p];var h=(e=u).length&&"function"==typeof e[e.length-1]?e.pop():o;if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new s("streams");var _=u.map(function(e,i){var s,o,c,p,f,d,g=i<u.length-1;return s=i>0,c=o=function(e){t||(t=e),e&&_.forEach(l),g||(_.forEach(l),h(t))},p=!1,o=function(){p||(p=!0,c.apply(void 0,arguments))},f=!1,e.on("close",function(){f=!0}),void 0===r&&(r=n(698)),r(e,{readable:g,writable:s},function(e){if(e)return o(e);f=!0,o()}),d=!1,function(t){if(!f&&!d){if(d=!0,e.setHeader&&"function"==typeof e.abort)return e.abort();if("function"==typeof e.destroy)return e.destroy();o(t||new a("pipe"))}}});return u.reduce(c)}},776:function(e,t,n){"use strict";var r=n(646).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var s=null!=t.highWaterMark?t.highWaterMark:i?t[n]:null;if(null!=s){if(!(isFinite(s)&&Math.floor(s)===s)||s<0)throw new r(i?n:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},678:function(e,t,n){e.exports=n(781)},55:function(e,t,n){var r=n(300),i=r.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),s(i,a),a.from=function(e,t,n){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r.SlowBuffer(e)}},173:function(e,t,n){e.exports=i;var r=n(361).EventEmitter;function i(){r.call(this)}n(782)(i,r),i.Readable=n(709),i.Writable=n(337),i.Duplex=n(403),i.Transform=n(170),i.PassThrough=n(889),i.finished=n(698),i.pipeline=n(442),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function s(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",s),e._isStdio||t&&!1===t.end||(n.on("end",o),n.on("close",l));var a=!1;function o(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",i),e.removeListener("drain",s),n.removeListener("end",o),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",c),e.on("error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},704:function(e,t,n){"use strict";var r=n(55).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=u,this.end=p,t=3;break;default:this.write=h,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if((192&t[0])!=128)return e.lastNeed=0,"ï¿½";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"ï¿½";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"ï¿½"}}(this,e,0);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function _(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){var t,n;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½":t},s.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},769:function(t){t.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}};function n(t){try{if(!e.g.localStorage)return!1}catch(e){return!1}var n=e.g.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}},300:function(t){"use strict";t.exports=e.r(47667)},361:function(t){"use strict";t.exports=e.r(61632)},781:function(t){"use strict";t.exports=e.r(61632).EventEmitter},837:function(t){"use strict";t.exports=e.r(46488)}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}},r=!0;try{i[e](n,n.exports,a),r=!1}finally{r&&delete s[e]}return n.exports}a.ab="/ROOT/parseArger/docs/node_modules/next/dist/compiled/stream-browserify/",t.exports=a(173)},84120,(e,t,n)=>{var r=e.i(38773),i=e.i(71719);!function(){"use strict";var n={742:function(e,t,n){var s=n(491),a=n(562),o=n(450),l=n(324),c=n(320);for(var u in c)t[u]=c[u];function p(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,p.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,s(this.init_done,"close before init"),s(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?o.deflateEnd(this.strm):(this.mode===t.INFLATE||this.mode===t.GUNZIP||this.mode===t.INFLATERAW||this.mode===t.UNZIP)&&l.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null},p.prototype.write=function(e,t,n,r,i,s,a){return this._write(!0,e,t,n,r,i,s,a)},p.prototype.writeSync=function(e,t,n,r,i,s,a){return this._write(!1,e,t,n,r,i,s,a)},p.prototype._write=function(e,n,a,o,l,c,u,p){if(s.equal(arguments.length,8),s(this.init_done,"write before init"),s(this.mode!==t.NONE,"already finalized"),s.equal(!1,this.write_in_progress,"write already in progress"),s.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,s.equal(!1,void 0===n,"must provide flush value"),this.write_in_progress=!0,n!==t.Z_NO_FLUSH&&n!==t.Z_PARTIAL_FLUSH&&n!==t.Z_SYNC_FLUSH&&n!==t.Z_FULL_FLUSH&&n!==t.Z_FINISH&&n!==t.Z_BLOCK)throw Error("Invalid flush value");if(null==a&&(a=r.Buffer.alloc(0),l=0,o=0),this.strm.avail_in=l,this.strm.input=a,this.strm.next_in=o,this.strm.avail_out=p,this.strm.output=c,this.strm.next_out=u,this.flush=n,!e)return(this._process(),this._checkError())?this._afterSync():void 0;var h=this;return i.default.nextTick(function(){h._process(),h._after()}),this},p.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},p.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31===this.strm.input[e]){if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break}else{this.mode=t.INFLATE;break}case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=l.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=l.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=l.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=l.inflate(this.strm,this.flush);break;default:throw Error("Unknown mode "+this.mode)}},p.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},p.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},p.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},p.prototype.init=function(e,n,r,i,a){s(4==arguments.length||5==arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),s(e>=8&&e<=15,"invalid windowBits"),s(n>=-1&&n<=9,"invalid compression level"),s(r>=1&&r<=9,"invalid memlevel"),s(i===t.Z_FILTERED||i===t.Z_HUFFMAN_ONLY||i===t.Z_RLE||i===t.Z_FIXED||i===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,r,i,a),this._setDictionary()},p.prototype.params=function(){throw Error("deflateParams Not supported")},p.prototype.reset=function(){this._reset(),this._setDictionary()},p.prototype._init=function(e,n,r,i,s){switch(this.level=e,this.windowBits=n,this.memLevel=r,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,(this.mode===t.GZIP||this.mode===t.GUNZIP)&&(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),(this.mode===t.DEFLATERAW||this.mode===t.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=l.inflateInit2(this.strm,this.windowBits);break;default:throw Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=s,this.write_in_progress=!1,this.init_done=!0},p.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},p.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=o.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=l.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=p},23:function(e,t,n){var r=n(300).Buffer,s=n(781).Transform,a=n(742),o=n(837),l=n(491).ok,c=n(300).kMaxLength,u="Cannot create final Buffer. It would be larger than 0x"+c.toString(16)+" bytes";a.Z_MIN_WINDOWBITS=8,a.Z_MAX_WINDOWBITS=15,a.Z_DEFAULT_WINDOWBITS=15,a.Z_MIN_CHUNK=64,a.Z_MAX_CHUNK=1/0,a.Z_DEFAULT_CHUNK=16384,a.Z_MIN_MEMLEVEL=1,a.Z_MAX_MEMLEVEL=9,a.Z_DEFAULT_MEMLEVEL=8,a.Z_MIN_LEVEL=-1,a.Z_MAX_LEVEL=9,a.Z_DEFAULT_LEVEL=a.Z_DEFAULT_COMPRESSION;for(var p=Object.keys(a),h=0;h<p.length;h++){var _=p[h];_.match(/^Z/)&&Object.defineProperty(t,_,{enumerable:!0,value:a[_],writable:!1})}for(var f={Z_OK:a.Z_OK,Z_STREAM_END:a.Z_STREAM_END,Z_NEED_DICT:a.Z_NEED_DICT,Z_ERRNO:a.Z_ERRNO,Z_STREAM_ERROR:a.Z_STREAM_ERROR,Z_DATA_ERROR:a.Z_DATA_ERROR,Z_MEM_ERROR:a.Z_MEM_ERROR,Z_BUF_ERROR:a.Z_BUF_ERROR,Z_VERSION_ERROR:a.Z_VERSION_ERROR},d=Object.keys(f),g=0;g<d.length;g++){var m=d[g];f[f[m]]=m}function v(e,t,n){var i=[],s=0;function a(){for(var t;null!==(t=e.read());)i.push(t),s+=t.length;e.once("readable",a)}function o(){var t,a=null;s>=c?a=RangeError(u):t=r.concat(i,s),i=[],e.close(),n(a,t)}e.on("error",function(t){e.removeListener("end",o),e.removeListener("readable",a),n(t)}),e.on("end",o),e.end(t),a()}function b(e,t){if("string"==typeof t&&(t=r.from(t)),!r.isBuffer(t))throw TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function y(e){if(!(this instanceof y))return new y(e);C.call(this,e,a.DEFLATE)}function $(e){if(!(this instanceof $))return new $(e);C.call(this,e,a.INFLATE)}function x(e){if(!(this instanceof x))return new x(e);C.call(this,e,a.GZIP)}function S(e){if(!(this instanceof S))return new S(e);C.call(this,e,a.GUNZIP)}function A(e){if(!(this instanceof A))return new A(e);C.call(this,e,a.DEFLATERAW)}function w(e){if(!(this instanceof w))return new w(e);C.call(this,e,a.INFLATERAW)}function E(e){if(!(this instanceof E))return new E(e);C.call(this,e,a.UNZIP)}function k(e){return e===a.Z_NO_FLUSH||e===a.Z_PARTIAL_FLUSH||e===a.Z_SYNC_FLUSH||e===a.Z_FULL_FLUSH||e===a.Z_FINISH||e===a.Z_BLOCK}function C(e,n){var i=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,s.call(this,e),e.flush&&!k(e.flush))throw Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!k(e.finishFlush))throw Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||a.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:a.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw Error("Invalid dictionary: it should be a Buffer instance");this._handle=new a.Zlib(n);var o=this;this._hadError=!1,this._handle.onerror=function(e,n){O(o),o._hadError=!0;var r=Error(e);r.errno=n,r.code=t.codes[n],o.emit("error",r)};var l=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(l=e.level);var c=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(c=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,l,e.memLevel||t.Z_DEFAULT_MEMLEVEL,c,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!i._handle},configurable:!0,enumerable:!0})}function O(e,t){t&&i.default.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}function R(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(f),writable:!1}),t.Deflate=y,t.Inflate=$,t.Gzip=x,t.Gunzip=S,t.DeflateRaw=A,t.InflateRaw=w,t.Unzip=E,t.createDeflate=function(e){return new y(e)},t.createInflate=function(e){return new $(e)},t.createDeflateRaw=function(e){return new A(e)},t.createInflateRaw=function(e){return new w(e)},t.createGzip=function(e){return new x(e)},t.createGunzip=function(e){return new S(e)},t.createUnzip=function(e){return new E(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new y(t),e,n)},t.deflateSync=function(e,t){return b(new y(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new x(t),e,n)},t.gzipSync=function(e,t){return b(new x(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new A(t),e,n)},t.deflateRawSync=function(e,t){return b(new A(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new E(t),e,n)},t.unzipSync=function(e,t){return b(new E(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new $(t),e,n)},t.inflateSync=function(e,t){return b(new $(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new S(t),e,n)},t.gunzipSync=function(e,t){return b(new S(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new w(t),e,n)},t.inflateRawSync=function(e,t){return b(new w(t),e)},o.inherits(C,s),C.prototype.params=function(e,n,r){if(e<t.Z_MIN_LEVEL||e>t.Z_MAX_LEVEL)throw RangeError("Invalid compression level: "+e);if(n!=t.Z_FILTERED&&n!=t.Z_HUFFMAN_ONLY&&n!=t.Z_RLE&&n!=t.Z_FIXED&&n!=t.Z_DEFAULT_STRATEGY)throw TypeError("Invalid strategy: "+n);if(this._level!==e||this._strategy!==n){var s=this;this.flush(a.Z_SYNC_FLUSH,function(){l(s._handle,"zlib binding closed"),s._handle.params(e,n),!s._hadError&&(s._level=e,s._strategy=n,r&&r())})}else i.default.nextTick(r)},C.prototype.reset=function(){return l(this._handle,"zlib binding closed"),this._handle.reset()},C.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},C.prototype.flush=function(e,t){var n=this,s=this._writableState;"function"!=typeof e&&(void 0!==e||t)||(t=e,e=a.Z_FULL_FLUSH),s.ended?t&&i.default.nextTick(t):s.ending?t&&this.once("end",t):s.needDrain?t&&this.once("drain",function(){return n.flush(e,t)}):(this._flushFlag=e,this.write(r.alloc(0),"",t))},C.prototype.close=function(e){O(this,e),i.default.nextTick(R,this)},C.prototype._transform=function(e,t,n){var i,s=this._writableState,o=(s.ending||s.ended)&&(!e||s.length===e.length);return null===e||r.isBuffer(e)?this._handle?void(o?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=s.length&&(this._flushFlag=this._opts.flush||a.Z_NO_FLUSH)),this._processChunk(e,i,n)):n(Error("zlib binding closed")):n(Error("invalid input"))},C.prototype._processChunk=function(e,t,n){var i=e&&e.length,s=this._chunkSize-this._offset,a=0,o=this,p="function"==typeof n;if(!p){var h,_=[],f=0;this.on("error",function(e){h=e}),l(this._handle,"zlib binding closed");do var d=this._handle.writeSync(t,e,a,i,this._buffer,this._offset,s);while(!this._hadError&&v(d[0],d[1]))if(this._hadError)throw h;if(f>=c)throw O(this),RangeError(u);var g=r.concat(_,f);return O(this),g}l(this._handle,"zlib binding closed");var m=this._handle.write(t,e,a,i,this._buffer,this._offset,s);function v(c,u){if(this&&(this.buffer=null,this.callback=null),!o._hadError){var h=s-u;if(l(h>=0,"have should not go down"),h>0){var d=o._buffer.slice(o._offset,o._offset+h);o._offset+=h,p?o.push(d):(_.push(d),f+=d.length)}if((0===u||o._offset>=o._chunkSize)&&(s=o._chunkSize,o._offset=0,o._buffer=r.allocUnsafe(o._chunkSize)),0===u){if(a+=i-c,i=c,!p)return!0;var g=o._handle.write(t,e,a,i,o._buffer,o._offset,o._chunkSize);return g.callback=v,void(g.buffer=e)}if(!p)return!1;n()}}m.buffer=e,m.callback=v},o.inherits(y,C),o.inherits($,C),o.inherits(x,C),o.inherits(S,C),o.inherits(A,C),o.inherits(w,C),o.inherits(E,C)},380:function(e,t){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw TypeError(n+"must be non-object");for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+r),i);for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){var t,n,r,i,s,a;for(t=0,r=0,n=e.length;t<n;t++)r+=e[t].length;for(t=0,a=new Uint8Array(r),i=0,n=e.length;t<n;t++)s=e[t],a.set(s,i),i+=s.length;return a}},i={arraySet:function(e,t,n,r,i){for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(n)},496:function(e){e.exports=function(e,t,n,r){for(var i=65535&e,s=e>>>16&65535,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do s=s+(i=i+t[r++]|0)|0;while(--a)i%=65521,s%=65521}return i|s<<16}},320:function(e){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},307:function(e){var t=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?0xedb88320^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,n,r,i){var s=i+r;e^=-1;for(var a=i;a<s;a++)e=e>>>8^t[(e^n[a])&255];return -1^e}},450:function(e,t,n){var r,i=n(380),s=n(842),a=n(496),o=n(307),l=n(31),c=573;function u(e,t){return e.msg=l[t],t}function p(e){return(e<<1)-9*(e>4)}function h(e){for(var t=e.length;--t>=0;)e[t]=0}function _(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function f(e,t){s._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,_(e.strm)}function d(e,t){e.pending_buf[e.pending++]=t}function g(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function m(e,t){var n,r,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,u=e.w_mask,p=e.prev,h=e.strstart+258,_=c[s+a-1],f=c[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(c[(n=t)+a]!==f||c[n+a-1]!==_||c[n]!==c[s]||c[++n]!==c[s+1])continue;s+=2,n++;do;while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<h)if(r=258-(h-s),s=h-258,r>a){if(e.match_start=t,a=r,r>=o)break;_=c[s+a-1],f=c[s+a]}}while((t=p[t&u])>l&&0!=--i)return a<=e.lookahead?a:e.lookahead}function v(e){var t,n,r,s,l,c=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=c+(c-262)){i.arraySet(e.window,e.window,c,c,0),e.match_start-=c,e.strstart-=c,e.block_start-=c,t=n=e.hash_size;do r=e.head[--t],e.head[t]=r>=c?r-c:0;while(--n)t=n=c;do r=e.prev[--t],e.prev[t]=r>=c?r-c:0;while(--n)s+=c}if(0===e.strm.avail_in)break;if(n=function(e,t,n,r){var s=e.avail_in;return(s>r&&(s=r),0===s)?0:(e.avail_in-=s,i.arraySet(t,e.input,e.next_in,s,n),1===e.state.wrap?e.adler=a(e.adler,t,s,n):2===e.state.wrap&&(e.adler=o(e.adler,t,s,n)),e.next_in+=s,e.total_in+=s,s)}(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function b(e,t){for(var n,r;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=m(e,n)),e.match_length>=3)if(r=s._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length)e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(f(e,!1),0===e.strm.avail_out))return 1}return(e.insert=e.strstart<2?e.strstart:2,4===t)?(f(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(f(e,!1),0===e.strm.avail_out)?1:2}function y(e,t){for(var n,r,i;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=m(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length)if(e.match_available=0,e.match_length=2,e.strstart++,r&&(f(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=s._tr_tally(e,0,e.window[e.strstart-1]))&&f(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return(e.match_available&&(r=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t)?(f(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(f(e,!1),0===e.strm.avail_out)?1:2}function $(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*c),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function S(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=+(2!==t.wrap),t.last_flush=0,s._tr_init(t),0):u(e,-2)}function A(e){var t,n=S(e);return 0===n&&((t=e.state).window_size=2*t.w_size,h(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function w(e,t,n,r,s,a){if(!e)return -2;var o=1;if(-1===t&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),s<1||s>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return u(e,-2);8===r&&(r=9);var l=new x;return e.state=l,l.strm=e,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=+l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,A(e)}r=[new $(0,0,0,0,function(e,t){var n=65535;for(65535>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(v(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,f(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-262&&(f(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(f(e,!0),0===e.strm.avail_out)?3:4:(e.strstart>e.block_start&&(f(e,!1),e.strm.avail_out),1)}),new $(4,4,8,4,b),new $(4,5,16,8,b),new $(4,6,32,32,b),new $(4,4,16,16,y),new $(8,16,32,32,y),new $(8,16,128,128,y),new $(8,32,128,256,y),new $(32,128,258,1024,y),new $(32,258,258,4096,y)],t.deflateInit=function(e,t){return w(e,t,8,15,8,0)},t.deflateInit2=w,t.deflateReset=A,t.deflateResetKeep=S,t.deflateSetHeader=function(e,t){return e&&e.state&&2===e.state.wrap?(e.state.gzhead=t,0):-2},t.deflate=function(e,t){if(!e||!e.state||t>5||t<0)return e?u(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return u(e,0===e.avail_out?-5:-2);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,d(i,31),d(i,139),d(i,8),i.gzhead?(d(i,+!!i.gzhead.text+2*!!i.gzhead.hcrc+4*!!i.gzhead.extra+8*!!i.gzhead.name+16*!!i.gzhead.comment),d(i,255&i.gzhead.time),d(i,i.gzhead.time>>8&255),d(i,i.gzhead.time>>16&255),d(i,i.gzhead.time>>24&255),d(i,9===i.level?2:4*(i.strategy>=2||i.level<2)),d(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(d(i,255&i.gzhead.extra.length),d(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=o(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(d(i,0),d(i,0),d(i,0),d(i,0),d(i,0),d(i,9===i.level?2:4*(i.strategy>=2||i.level<2)),d(i,3),i.status=113);else{var n,i,a,l,c=8+(i.w_bits-8<<4)<<8;c|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(c|=32),c+=31-c%31,i.status=113,g(i,c),0!==i.strstart&&(g(i,e.adler>>>16),g(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),_(e),a=i.pending,i.pending!==i.pending_buf_size));)d(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),_(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,d(i,l)}while(0!==l)i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),_(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,d(i,l)}while(0!==l)i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&_(e),i.pending+2<=i.pending_buf_size&&(d(i,255&e.adler),d(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(_(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&p(t)<=p(n)&&4!==t)return u(e,-5);if(666===i.status&&0!==e.avail_in)return u(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var m=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(v(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(f(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(f(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(f(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,o=e.window;;){if(e.lookahead<=258){if(v(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=o[i=e.strstart-1])===o[++i]&&r===o[++i]&&r===o[++i]){a=e.strstart+258;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a)e.match_length=258-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=s._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(f(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(f(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(f(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if((3===m||4===m)&&(i.status=666),1===m||3===m)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===m&&(1===t?s._tr_align(i):5!==t&&(s._tr_stored_block(i,0,0,!1),3===t&&(h(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),_(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(d(i,255&e.adler),d(i,e.adler>>8&255),d(i,e.adler>>16&255),d(i,e.adler>>24&255),d(i,255&e.total_in),d(i,e.total_in>>8&255),d(i,e.total_in>>16&255),d(i,e.total_in>>24&255)):(g(i,e.adler>>>16),g(i,65535&e.adler)),_(e),i.wrap>0&&(i.wrap=-i.wrap),+(0===i.pending))},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?u(e,-2):(e.state=null,113===t?u(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,r,s,o,l,c,u,p,_=t.length;if(!e||!e.state||2===(o=(n=e.state).wrap)||1===o&&42!==n.status||n.lookahead)return -2;for(1===o&&(e.adler=a(e.adler,t,_,0)),n.wrap=0,_>=n.w_size&&(0===o&&(h(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new i.Buf8(n.w_size),i.arraySet(p,t,_-n.w_size,n.w_size,0),t=p,_=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=_,e.next_in=0,e.input=t,v(n);n.lookahead>=3;){r=n.strstart,s=n.lookahead-2;do n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++;while(--s)n.strstart=r,n.lookahead=2,v(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=o,0},t.deflateInfo="pako deflate (from Nodeca project)"},333:function(e){e.exports=function(e,t){var n,r,i,s,a,o,l,c,u,p,h,_,f,d,g,m,v,b,y,$,x,S,A,w,E;n=e.state,r=e.next_in,w=e.input,i=r+(e.avail_in-5),s=e.next_out,E=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,p=n.wnext,h=n.window,_=n.hold,f=n.bits,d=n.lencode,g=n.distcode,m=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do for(f<15&&(_+=w[r++]<<f,f+=8,_+=w[r++]<<f,f+=8),b=d[_&m];;){if(_>>>=y=b>>>24,f-=y,0==(y=b>>>16&255))E[s++]=65535&b;else if(16&y)for($=65535&b,(y&=15)&&(f<y&&(_+=w[r++]<<f,f+=8),$+=_&(1<<y)-1,_>>>=y,f-=y),f<15&&(_+=w[r++]<<f,f+=8,_+=w[r++]<<f,f+=8),b=g[_&v];;){if(_>>>=y=b>>>24,f-=y,16&(y=b>>>16&255)){if(x=65535&b,f<(y&=15)&&(_+=w[r++]<<f,(f+=8)<y&&(_+=w[r++]<<f,f+=8)),(x+=_&(1<<y)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(_>>>=y,f-=y,x>(y=s-a)){if((y=x-y)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=0,A=h,0===p){if(S+=c-y,y<$){$-=y;do E[s++]=h[S++];while(--y)S=s-x,A=E}}else if(p<y){if(S+=c+p-y,(y-=p)<$){$-=y;do E[s++]=h[S++];while(--y)if(S=0,p<$){$-=y=p;do E[s++]=h[S++];while(--y)S=s-x,A=E}}}else if(S+=p-y,y<$){$-=y;do E[s++]=h[S++];while(--y)S=s-x,A=E}for(;$>2;)E[s++]=A[S++],E[s++]=A[S++],E[s++]=A[S++],$-=3;$&&(E[s++]=A[S++],$>1&&(E[s++]=A[S++]))}else{S=s-x;do E[s++]=E[S++],E[s++]=E[S++],E[s++]=E[S++],$-=3;while($>2)$&&(E[s++]=E[S++],$>1&&(E[s++]=E[S++]))}}else if((64&y)==0){b=g[(65535&b)+(_&(1<<y)-1)];continue}else{e.msg="invalid distance code",n.mode=30;break e}break}else if((64&y)==0){b=d[(65535&b)+(_&(1<<y)-1)];continue}else if(32&y){n.mode=12;break e}else{e.msg="invalid literal/length code",n.mode=30;break e}break}while(r<i&&s<o)r-=$=f>>3,f-=$<<3,_&=(1<<f)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),n.hold=_,n.bits=f}},324:function(e,t,n){var r,i,s=n(380),a=n(496),o=n(307),l=n(333),c=n(19);function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new s.Buf32(852),t.distcode=t.distdyn=new s.Buf32(592),t.sane=1,t.back=-1,0):-2}function _(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):-2}function f(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,_(e)):-2}function d(e,t){var n,r;return e?(e.state=r=new p,r.window=null,0!==(n=f(e,t))&&(e.state=null),n):-2}var g=!0;function m(e,t,n,r){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new s.Buf8(a.wsize)),r>=a.wsize?(s.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>r&&(i=r),s.arraySet(a.window,t,n-r,i,a.wnext),(r-=i)?(s.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}t.inflateReset=_,t.inflateReset2=f,t.inflateResetKeep=h,t.inflateInit=function(e){return d(e,15)},t.inflateInit2=d,t.inflate=function(e,t){var n,p,h,_,f,d,v,b,y,$,x,S,A,w,E,k,C,O,R,T,N,P,L,I,D=0,M=new s.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return -2;12===(n=e.state).mode&&(n.mode=13),f=e.next_out,h=e.output,v=e.avail_out,_=e.next_in,p=e.input,d=e.avail_in,b=n.hold,y=n.bits,$=d,x=v,P=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;y<16;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}if(2&n.wrap&&35615===b){n.check=0,M[0]=255&b,M[1]=b>>>8&255,n.check=o(n.check,M,2,0),b=0,y=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){e.msg="incorrect header check",n.mode=30;break}if((15&b)!=8){e.msg="unknown compression method",n.mode=30;break}if(b>>>=4,y-=4,N=(15&b)+8,0===n.wbits)n.wbits=N;else if(N>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<N,e.adler=n.check=1,n.mode=512&b?10:12,b=0,y=0;break;case 2:for(;y<16;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}if(n.flags=b,(255&n.flags)!=8){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(M[0]=255&b,M[1]=b>>>8&255,n.check=o(n.check,M,2,0)),b=0,y=0,n.mode=3;case 3:for(;y<32;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}n.head&&(n.head.time=b),512&n.flags&&(M[0]=255&b,M[1]=b>>>8&255,M[2]=b>>>16&255,M[3]=b>>>24&255,n.check=o(n.check,M,4,0)),b=0,y=0,n.mode=4;case 4:for(;y<16;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(M[0]=255&b,M[1]=b>>>8&255,n.check=o(n.check,M,2,0)),b=0,y=0,n.mode=5;case 5:if(1024&n.flags){for(;y<16;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(M[0]=255&b,M[1]=b>>>8&255,n.check=o(n.check,M,2,0)),b=0,y=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((S=n.length)>d&&(S=d),S&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=Array(n.head.extra_len)),s.arraySet(n.head.extra,p,_,S,N)),512&n.flags&&(n.check=o(n.check,p,S,_)),d-=S,_+=S,n.length-=S),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===d)break e;S=0;do N=p[_+S++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N));while(N&&S<d)if(512&n.flags&&(n.check=o(n.check,p,S,_)),d-=S,_+=S,N)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===d)break e;S=0;do N=p[_+S++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N));while(N&&S<d)if(512&n.flags&&(n.check=o(n.check,p,S,_)),d-=S,_+=S,N)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;y<16;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}if(b!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}b=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;y<32;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}e.adler=n.check=u(b),b=0,y=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=f,e.avail_out=v,e.next_in=_,e.avail_in=d,n.hold=b,n.bits=y,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){b>>>=7&y,y-=7&y,n.mode=27;break}for(;y<3;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}switch(n.last=1&b,y-=1,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(!function(e){if(g){var t;for(r=new s.Buf32(512),i=new s.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(c(1,e.lens,0,288,r,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;c(2,e.lens,0,32,i,0,e.work,{bits:5}),g=!1}e.lencode=r,e.lenbits=9,e.distcode=i,e.distbits=5}(n),n.mode=20,6===t){b>>>=2,y-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}b>>>=2,y-=2;break;case 14:for(b>>>=7&y,y-=7&y;y<32;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}if((65535&b)!=(b>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&b,b=0,y=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(S=n.length){if(S>d&&(S=d),S>v&&(S=v),0===S)break e;s.arraySet(h,p,_,S,f),d-=S,_+=S,v-=S,f+=S,n.length-=S;break}n.mode=12;break;case 17:for(;y<14;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}if(n.nlen=(31&b)+257,y-=5,n.ndist=(31&(b>>>=5))+1,y-=5,n.ncode=(15&(b>>>=5))+4,b>>>=4,y-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;y<3;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}n.lens[F[n.have++]]=7&b,b>>>=3,y-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},P=c(0,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,P){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=(D=n.lencode[b&(1<<n.lenbits)-1])>>>24,k=D>>>16&255,C=65535&D,!(E<=y);){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}if(C<16)b>>>=E,y-=E,n.lens[n.have++]=C;else{if(16===C){for(I=E+2;y<I;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}if(b>>>=E,y-=E,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}N=n.lens[n.have-1],S=3+(3&b),b>>>=2,y-=2}else if(17===C){for(I=E+3;y<I;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}b>>>=E,y-=E,N=0,S=3+(7&b),b>>>=3,y-=3}else{for(I=E+7;y<I;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}b>>>=E,y-=E,N=0,S=11+(127&b),b>>>=7,y-=7}if(n.have+S>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;S--;)n.lens[n.have++]=N}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,L={bits:n.lenbits},P=c(1,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,P){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},P=c(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,P){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(d>=6&&v>=258){e.next_out=f,e.avail_out=v,e.next_in=_,e.avail_in=d,n.hold=b,n.bits=y,l(e,x),f=e.next_out,h=e.output,v=e.avail_out,_=e.next_in,p=e.input,d=e.avail_in,b=n.hold,y=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;E=(D=n.lencode[b&(1<<n.lenbits)-1])>>>24,k=D>>>16&255,C=65535&D,!(E<=y);){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}if(k&&(240&k)==0){for(O=E,R=k,T=C;E=(D=n.lencode[T+((b&(1<<O+R)-1)>>O)])>>>24,k=D>>>16&255,C=65535&D,!(O+E<=y);){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}b>>>=O,y-=O,n.back+=O}if(b>>>=E,y-=E,n.back+=E,n.length=C,0===k){n.mode=26;break}if(32&k){n.back=-1,n.mode=12;break}if(64&k){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&k,n.mode=22;case 22:if(n.extra){for(I=n.extra;y<I;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=(D=n.distcode[b&(1<<n.distbits)-1])>>>24,k=D>>>16&255,C=65535&D,!(E<=y);){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}if((240&k)==0){for(O=E,R=k,T=C;E=(D=n.distcode[T+((b&(1<<O+R)-1)>>O)])>>>24,k=D>>>16&255,C=65535&D,!(O+E<=y);){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}b>>>=O,y-=O,n.back+=O}if(b>>>=E,y-=E,n.back+=E,64&k){e.msg="invalid distance code",n.mode=30;break}n.offset=C,n.extra=15&k,n.mode=24;case 24:if(n.extra){for(I=n.extra;y<I;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===v)break e;if(S=x-v,n.offset>S){if((S=n.offset-S)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}S>n.wnext?(S-=n.wnext,A=n.wsize-S):A=n.wnext-S,S>n.length&&(S=n.length),w=n.window}else w=h,A=f-n.offset,S=n.length;S>v&&(S=v),v-=S,n.length-=S;do h[f++]=w[A++];while(--S)0===n.length&&(n.mode=21);break;case 26:if(0===v)break e;h[f++]=n.length,v--,n.mode=21;break;case 27:if(n.wrap){for(;y<32;){if(0===d)break e;d--,b|=p[_++]<<y,y+=8}if(x-=v,e.total_out+=x,n.total+=x,x&&(e.adler=n.check=n.flags?o(n.check,h,x,f-x):a(n.check,h,x,f-x)),x=v,(n.flags?b:u(b))!==n.check){e.msg="incorrect data check",n.mode=30;break}b=0,y=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;y<32;){if(0===d)break e;d--,b+=p[_++]<<y,y+=8}if(b!==(0|n.total)){e.msg="incorrect length check",n.mode=30;break}b=0,y=0}n.mode=29;case 29:P=1;break e;case 30:P=-3;break e;case 31:return -4;default:return -2}return e.next_out=f,e.avail_out=v,e.next_in=_,e.avail_in=d,n.hold=b,n.bits=y,(n.wsize||x!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&m(e,e.output,e.next_out,x-e.avail_out),$-=e.avail_in,x-=e.avail_out,e.total_in+=$,e.total_out+=x,n.total+=x,n.wrap&&x&&(e.adler=n.check=n.flags?o(n.check,h,x,e.next_out-x):a(n.check,h,x,e.next_out-x)),e.data_type=n.bits+64*!!n.last+128*(12===n.mode)+256*(20===n.mode||15===n.mode),(0===$&&0===x||4===t)&&0===P&&(P=-5),P},t.inflateEnd=function(e){if(!e||!e.state)return -2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state&&(2&(n=e.state).wrap)!=0?(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state&&(0===(n=e.state).wrap||11===n.mode)?11===n.mode&&a(1,t,r,0)!==n.check?-3:m(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},19:function(e,t,n){var r=n(380),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,u,p,h){var _,f,d,g,m,v,b,y,$,x=h.bits,S=0,A=0,w=0,E=0,k=0,C=0,O=0,R=0,T=0,N=0,P=null,L=0,I=new r.Buf16(16),D=new r.Buf16(16),M=null,F=0;for(S=0;S<=15;S++)I[S]=0;for(A=0;A<l;A++)I[t[n+A]]++;for(E=15,k=x;E>=1&&0===I[E];E--);if(k>E&&(k=E),0===E)return c[u++]=0x1400000,c[u++]=0x1400000,h.bits=1,0;for(w=1;w<E&&0===I[w];w++);for(k<w&&(k=w),R=1,S=1;S<=15;S++)if(R<<=1,(R-=I[S])<0)return -1;if(R>0&&(0===e||1!==E))return -1;for(S=1,D[1]=0;S<15;S++)D[S+1]=D[S]+I[S];for(A=0;A<l;A++)0!==t[n+A]&&(p[D[t[n+A]]++]=A);if(0===e?(P=M=p,v=19):1===e?(P=i,L-=257,M=s,F-=257,v=256):(P=a,M=o,v=-1),N=0,A=0,S=w,m=u,C=k,O=0,d=-1,g=(T=1<<k)-1,1===e&&T>852||2===e&&T>592)return 1;for(;;){b=S-O,p[A]<v?(y=0,$=p[A]):p[A]>v?(y=M[F+p[A]],$=P[L+p[A]]):(y=96,$=0),_=1<<S-O,w=f=1<<C;do c[m+(N>>O)+(f-=_)]=b<<24|y<<16|$;while(0!==f)for(_=1<<S-1;N&_;)_>>=1;if(0!==_?(N&=_-1,N+=_):N=0,A++,0==--I[S]){if(S===E)break;S=t[n+p[A]]}if(S>k&&(N&g)!==d){for(0===O&&(O=k),m+=w,R=1<<(C=S-O);C+O<E&&!((R-=I[C+O])<=0);)C++,R<<=1;if(T+=1<<C,1===e&&T>852||2===e&&T>592)return 1;c[d=N&g]=k<<24|C<<16|m-u}}return 0!==N&&(c[m+N]=S-O<<24|4194304),h.bits=k,0}},31:function(e){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},842:function(e,t,n){var r,i,s,a=n(380);function o(e){for(var t=e.length;--t>=0;)e[t]=0}var l=573,c=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=Array(576);o(_);var f=Array(60);o(f);var d=Array(512);o(d);var g=Array(256);o(g);var m=Array(29);o(m);var v=Array(30);function b(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function y(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function $(e){return e<256?d[e]:d[256+(e>>>7)]}function x(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function S(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,x(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function A(e,t,n){S(e,n[2*t],n[2*t+1])}function w(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0)return n>>>1}function E(e,t,n){var r,i,s=Array(16),a=0;for(r=1;r<=15;r++)s[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=w(s[o]++,o))}}function k(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function C(e){e.bi_valid>8?x(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function O(e,t,n,r){var i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]}function R(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&O(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!O(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function T(e,t,n){var r,i,s,a,o=0;if(0!==e.last_lit)do r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===r?A(e,i,t):(A(e,(s=g[i])+256+1,t),0!==(a=c[s])&&S(e,i-=m[s],a),A(e,s=$(--r),n),0!==(a=u[s])&&S(e,r-=v[s],a));while(o<e.last_lit)A(e,256,t)}function N(e,t){var n,r,i,s=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(n=0,e.heap_len=0,e.heap_max=l;n<c;n++)0!==s[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):s[2*n+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)R(e,s,n);i=c;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],R(e,s,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,s[2*i]=s[2*n]+s[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,s[2*n+1]=s[2*r+1]=i,e.heap[1]=i++,R(e,s,1);while(e.heap_len>=2)e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,s,a,o,c=t.dyn_tree,u=t.max_code,p=t.stat_desc.static_tree,h=t.stat_desc.has_stree,_=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,d=t.stat_desc.max_length,g=0;for(s=0;s<=15;s++)e.bl_count[s]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<l;n++)(s=c[2*c[2*(r=e.heap[n])+1]+1]+1)>d&&(s=d,g++),c[2*r+1]=s,!(r>u)&&(e.bl_count[s]++,a=0,r>=f&&(a=_[r-f]),o=c[2*r],e.opt_len+=o*(s+a),h&&(e.static_len+=o*(p[2*r+1]+a)));if(0!==g){do{for(s=d-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[d]--,g-=2}while(g>0)for(s=d;0!==s;s--)for(r=e.bl_count[s];0!==r;)!((i=e.heap[--n])>u)&&(c[2*i+1]!==s&&(e.opt_len+=(s-c[2*i+1])*c[2*i],c[2*i+1]=s),r--)}}(e,t),E(s,u,e.bl_count)}function P(e,t,n){var r,i,s=-1,a=t[1],o=0,l=7,c=4;for(0===a&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=a,a=t[(r+1)*2+1],++o<l&&i===a||(o<c?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,s=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))}function L(e,t,n){var r,i,s=-1,a=t[1],o=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(i=a,a=t[(r+1)*2+1],!(++o<l)||i!==a){if(o<c)do A(e,i,e.bl_tree);while(0!=--o)else 0!==i?(i!==s&&(A(e,i,e.bl_tree),o--),A(e,16,e.bl_tree),S(e,o-3,2)):o<=10?(A(e,17,e.bl_tree),S(e,o-3,3)):(A(e,18,e.bl_tree),S(e,o-11,7));o=0,s=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}}o(v);var I=!1;function D(e,t,n,r){S(e,0+ +!!r,3),C(e),x(e,n),x(e,~n),a.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}t._tr_init=function(e){I||(!function(){var e,t,n,a,o,l=Array(16);for(a=0,n=0;a<28;a++)for(e=0,m[a]=n;e<1<<c[a];e++)g[n++]=a;for(g[n-1]=a,o=0,a=0;a<16;a++)for(e=0,v[a]=o;e<1<<u[a];e++)d[o++]=a;for(o>>=7;a<30;a++)for(e=0,v[a]=o<<7;e<1<<u[a]-7;e++)d[256+o++]=a;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)_[2*e+1]=8,e++,l[8]++;for(;e<=255;)_[2*e+1]=9,e++,l[9]++;for(;e<=279;)_[2*e+1]=7,e++,l[7]++;for(;e<=287;)_[2*e+1]=8,e++,l[8]++;for(E(_,287,l),e=0;e<30;e++)f[2*e+1]=5,f[2*e]=w(e,5);r=new b(_,c,257,286,15),i=new b(f,u,0,30,15),s=new b([],p,0,19,7)}(),I=!0),e.l_desc=new y(e.dyn_ltree,r),e.d_desc=new y(e.dyn_dtree,i),e.bl_desc=new y(e.bl_tree,s),e.bi_buf=0,e.bi_valid=0,k(e)},t._tr_stored_block=D,t._tr_flush_block=function(e,t,n,r){var i,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=0xf3ffc07f;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),N(e,e.l_desc),N(e,e.d_desc),a=function(e){var t;for(P(e,e.dyn_ltree,e.l_desc.max_code),P(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==t?D(e,t,n,r):4===e.strategy||s===i?(S(e,2+ +!!r,3),T(e,_,f)):(S(e,4+ +!!r,3),function(e,t,n,r){var i;for(S(e,t-257,5),S(e,n-1,5),S(e,r-4,4),i=0;i<r;i++)S(e,e.bl_tree[2*h[i]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),T(e,e.dyn_ltree,e.dyn_dtree)),k(e),r&&C(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[(g[n]+256+1)*2]++,e.dyn_dtree[2*$(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){S(e,2,3),A(e,256,_),16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},562:function(e){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},491:function(t){t.exports=e.r(83519)},300:function(t){t.exports=e.r(47667)},781:function(t){t.exports=e.r(80909)},837:function(t){t.exports=e.r(46488)}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}},i=!0;try{n[e](r,r.exports,a),i=!1}finally{i&&delete s[e]}return r.exports}a.ab="/ROOT/parseArger/docs/node_modules/next/dist/compiled/browserify-zlib/",t.exports=a(23)}()},91913,e=>{"use strict";var t=e.i(12220),n=e.i(25684),r=e.i(22537),i=e.i(70965),s=e.i(176),a=e.i(38773),o=e.i(71719),l=e.i(67162);let c=(e,t,n)=>{let r=e instanceof RegExp?u(e,n):e,i=t instanceof RegExp?u(t,n):t,s=null!==r&&null!=i&&p(r,i,n);return s&&{start:s[0],end:s[1],pre:n.slice(0,s[0]),body:n.slice(s[0]+r.length,s[1]),post:n.slice(s[1]+i.length)}},u=(e,t)=>{let n=t.match(e);return n?n[0]:null},p=(e,t,n)=>{let r,i,s,a,o,l=n.indexOf(e),c=n.indexOf(t,l+1),u=l;if(l>=0&&c>0){if(e===t)return[l,c];for(r=[],s=n.length;u>=0&&!o;){if(u===l)r.push(u),l=n.indexOf(e,u+1);else if(1===r.length){let e=r.pop();void 0!==e&&(o=[e,c])}else void 0!==(i=r.pop())&&i<s&&(s=i,a=c),c=n.indexOf(t,u+1);u=l<c&&l>=0?l:c}r.length&&void 0!==a&&(o=[s,a])}return o},h="\0SLASH"+Math.random()+"\0",_="\0OPEN"+Math.random()+"\0",f="\0CLOSE"+Math.random()+"\0",d="\0COMMA"+Math.random()+"\0",g="\0PERIOD"+Math.random()+"\0",m=RegExp(h,"g"),v=RegExp(_,"g"),b=RegExp(f,"g"),y=RegExp(d,"g"),$=RegExp(g,"g"),x=/\\\\/g,S=/\\{/g,A=/\\}/g,w=/\\,/g,E=/\\./g;function k(e){return isNaN(e)?e.charCodeAt(0):parseInt(e,10)}function C(e){return e.replace(m,"\\").replace(v,"{").replace(b,"}").replace(y,",").replace($,".")}function O(e){return"{"+e+"}"}function R(e){return/^-?0\d/.test(e)}function T(e,t){return e<=t}function N(e,t){return e>=t}let P=e=>{if("string"!=typeof e)throw TypeError("invalid pattern");if(e.length>65536)throw TypeError("pattern is too long")},L={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},I=e=>e.replace(/[[\]\\-]/g,"\\$&"),D=(e,t)=>{if("["!==e.charAt(t))throw Error("not in a brace expression");let n=[],r=[],i=t+1,s=!1,a=!1,o=!1,l=!1,c=t,u="";t:for(;i<e.length;){let p=e.charAt(i);if(("!"===p||"^"===p)&&i===t+1){l=!0,i++;continue}if("]"===p&&s&&!o){c=i+1;break}if(s=!0,"\\"===p&&!o){o=!0,i++;continue}if("["===p&&!o){for(let[s,[o,l,c]]of Object.entries(L))if(e.startsWith(s,i)){if(u)return["$.",!1,e.length-t,!0];i+=s.length,c?r.push(o):n.push(o),a=a||l;continue t}}if(o=!1,u){p>u?n.push(I(u)+"-"+I(p)):p===u&&n.push(I(p)),u="",i++;continue}if(e.startsWith("-]",i+1)){n.push(I(p+"-")),i+=2;continue}if(e.startsWith("-",i+1)){u=p,i+=2;continue}n.push(I(p)),i++}if(c<i)return["",!1,0,!1];if(!n.length&&!r.length)return["$.",!1,e.length-t,!0];if(0===r.length&&1===n.length&&/^\\?.$/.test(n[0])&&!l)return[(2===n[0].length?n[0].slice(-1):n[0]).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),!1,c-t,!1];let p="["+(l?"^":"")+n.join("")+"]",h="["+(l?"":"^")+r.join("")+"]";return[n.length&&r.length?"("+p+"|"+h+")":n.length?p:h,a,c-t,!0]},M=(e,{windowsPathsNoEscape:t=!1,magicalBraces:n=!0}={})=>n?t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"):t?e.replace(/\[([^\/\\{}])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\{}])\]/g,"$1$2").replace(/\\([^\/{}])/g,"$1"),F=new Set(["!","?","+","*","@"]),B=e=>F.has(e),H="(?!\\.)",U=new Set(["[","."]),j=new Set(["..","."]),W=new Set("().*{}+?[]^$\\!"),q=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),z="[^/]",G=z+"*?",V=z+"+?";class Z{type;#e;#t;#n=!1;#r=[];#i;#s;#a;#o=!1;#l;#c;#u=!1;constructor(e,t,n={}){this.type=e,e&&(this.#t=!0),this.#i=t,this.#e=this.#i?this.#i.#e:this,this.#l=this.#e===this?n:this.#e.#l,this.#a=this.#e===this?[]:this.#e.#a,"!"!==e||this.#e.#o||this.#a.push(this),this.#s=this.#i?this.#i.#r.length:0}get hasMagic(){if(void 0!==this.#t)return this.#t;for(let e of this.#r)if("string"!=typeof e&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return void 0!==this.#c?this.#c:this.type?this.#c=this.type+"("+this.#r.map(e=>String(e)).join("|")+")":this.#c=this.#r.map(e=>String(e)).join("")}#p(){let e;if(this!==this.#e)throw Error("should only call on root");if(this.#o)return this;for(this.toString(),this.#o=!0;e=this.#a.pop();){if("!"!==e.type)continue;let t=e,n=t.#i;for(;n;){for(let r=t.#s+1;!n.type&&r<n.#r.length;r++)for(let t of e.#r){if("string"==typeof t)throw Error("string part in extglob AST??");t.copyIn(n.#r[r])}n=(t=n).#i}}return this}push(...e){for(let t of e)if(""!==t){if("string"!=typeof t&&!(t instanceof Z&&t.#i===this))throw Error("invalid part: "+t);this.#r.push(t)}}toJSON(){let e=null===this.type?this.#r.slice().map(e=>"string"==typeof e?e:e.toJSON()):[this.type,...this.#r.map(e=>e.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#o&&this.#i?.type==="!")&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#i?.isStart())return!1;if(0===this.#s)return!0;let e=this.#i;for(let t=0;t<this.#s;t++){let n=e.#r[t];if(!(n instanceof Z&&"!"===n.type))return!1}return!0}isEnd(){if(this.#e===this||this.#i?.type==="!")return!0;if(!this.#i?.isEnd())return!1;if(!this.type)return this.#i?.isEnd();let e=this.#i?this.#i.#r.length:0;return this.#s===e-1}copyIn(e){"string"==typeof e?this.push(e):this.push(e.clone(this))}clone(e){let t=new Z(this.type,e);for(let e of this.#r)t.copyIn(e);return t}static #h(e,t,n,r){let i=!1,s=!1,a=-1,o=!1;if(null===t.type){let l=n,c="";for(;l<e.length;){let n=e.charAt(l++);if(i||"\\"===n){i=!i,c+=n;continue}if(s){l===a+1?("^"===n||"!"===n)&&(o=!0):"]"!==n||l===a+2&&o||(s=!1),c+=n;continue}if("["===n){s=!0,a=l,o=!1,c+=n;continue}if(!r.noext&&B(n)&&"("===e.charAt(l)){t.push(c),c="";let i=new Z(n,t);l=Z.#h(e,i,l,r),t.push(i);continue}c+=n}return t.push(c),l}let l=n+1,c=new Z(null,t),u=[],p="";for(;l<e.length;){let n=e.charAt(l++);if(i||"\\"===n){i=!i,p+=n;continue}if(s){l===a+1?("^"===n||"!"===n)&&(o=!0):"]"!==n||l===a+2&&o||(s=!1),p+=n;continue}if("["===n){s=!0,a=l,o=!1,p+=n;continue}if(B(n)&&"("===e.charAt(l)){c.push(p),p="";let t=new Z(n,c);c.push(t),l=Z.#h(e,t,l,r);continue}if("|"===n){c.push(p),p="",u.push(c),c=new Z(null,t);continue}if(")"===n)return""===p&&0===t.#r.length&&(t.#u=!0),c.push(p),p="",t.push(...u,c),l;p+=n}return t.type=null,t.#t=void 0,t.#r=[e.substring(n-1)],l}static fromGlob(e,t={}){let n=new Z(null,void 0,t);return Z.#h(e,n,0,t),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let e=this.toString(),[t,n,r,i]=this.toRegExpSource();return r||this.#t||this.#l.nocase&&!this.#l.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()?Object.assign(RegExp(`^${t}$`,(this.#l.nocase?"i":"")+(i?"u":"")),{_src:t,_glob:e}):n}get options(){return this.#l}toRegExpSource(e){let t=e??!!this.#l.dot;if(this.#e===this&&this.#p(),!this.type){let n=this.isStart()&&this.isEnd()&&!this.#r.some(e=>"string"!=typeof e),r=this.#r.map(t=>{let[r,i,s,a]="string"==typeof t?Z.#_(t,this.#t,n):t.toRegExpSource(e);return this.#t=this.#t||s,this.#n=this.#n||a,r}).join(""),i="";if(this.isStart()&&"string"==typeof this.#r[0]&&!(1===this.#r.length&&j.has(this.#r[0]))){let n=t&&U.has(r.charAt(0))||r.startsWith("\\.")&&U.has(r.charAt(2))||r.startsWith("\\.\\.")&&U.has(r.charAt(4)),s=!t&&!e&&U.has(r.charAt(0));i=n?"(?!(?:^|/)\\.\\.?(?:$|/))":s?H:""}let s="";return this.isEnd()&&this.#e.#o&&this.#i?.type==="!"&&(s="(?:$|\\/)"),[i+r+s,M(r),this.#t=!!this.#t,this.#n]}let n="*"===this.type||"+"===this.type,r="!"===this.type?"(?:(?!(?:":"(?:",i=this.#f(t);if(this.isStart()&&this.isEnd()&&!i&&"!"!==this.type){let e=this.toString();return this.#r=[e],this.type=null,this.#t=void 0,[e,M(this.toString()),!1,!1]}let s=!n||e||t||!H?"":this.#f(!0);s===i&&(s=""),s&&(i=`(?:${i})(?:${s})*?`);return["!"===this.type&&this.#u?(this.isStart()&&!t?H:"")+V:r+i+("!"===this.type?"))"+(!this.isStart()||t||e?"":H)+G+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&s?")":"*"===this.type&&s?")?":`)${this.type}`),M(i),this.#t=!!this.#t,this.#n]}#f(e){return this.#r.map(t=>{if("string"==typeof t)throw Error("string type in extglob ast??");let[n,r,i,s]=t.toRegExpSource(e);return this.#n=this.#n||s,n}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static #_(e,t,n=!1){let r=!1,i="",s=!1;for(let a=0;a<e.length;a++){let o=e.charAt(a);if(r){r=!1,i+=(W.has(o)?"\\":"")+o;continue}if("\\"===o){a===e.length-1?i+="\\\\":r=!0;continue}if("["===o){let[n,r,o,l]=D(e,a);if(o){i+=n,s=s||r,a+=o-1,t=t||l;continue}}if("*"===o){i+=n&&"*"===e?V:G,t=!0;continue}if("?"===o){i+=z,t=!0;continue}i+=q(o)}return[i,M(e),!!t,s]}}let K=(e,t,n={})=>(P(t),(!!n.nocomment||"#"!==t.charAt(0))&&new e_(t,n).match(e)),X=/^\*+([^+@!?\*\[\(]*)$/,Q=/^\*+\.\*+$/,J=e=>!e.startsWith(".")&&e.includes("."),Y=e=>"."!==e&&".."!==e&&e.includes("."),ee=/^\.\*+$/,et=e=>"."!==e&&".."!==e&&e.startsWith("."),en=/^\*+$/,er=e=>0!==e.length&&!e.startsWith("."),ei=e=>0!==e.length&&"."!==e&&".."!==e,es=/^\?+([^+@!?\*\[\(]*)?$/,ea=([e])=>{let t=e.length;return e=>e.length===t&&!e.startsWith(".")},eo=([e])=>{let t=e.length;return e=>e.length===t&&"."!==e&&".."!==e},el="object"==typeof o.default&&o.default?"object"==typeof o.default.env&&o.default.env&&o.default.env.__MINIMATCH_TESTING_PLATFORM__||o.default.platform:"posix";K.sep="win32"===el?"\\":"/";let ec=Symbol("globstar **");K.GLOBSTAR=ec;K.filter=(e,t={})=>n=>K(n,e,t);let eu=(e,t={})=>Object.assign({},e,t);K.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return K;let t=K;return Object.assign((n,r,i={})=>t(n,r,eu(e,i)),{Minimatch:class extends t.Minimatch{constructor(t,n={}){super(t,eu(e,n))}static defaults(n){return t.defaults(eu(e,n)).Minimatch}},AST:class extends t.AST{constructor(t,n,r={}){super(t,n,eu(e,r))}static fromGlob(n,r={}){return t.AST.fromGlob(n,eu(e,r))}},unescape:(n,r={})=>t.unescape(n,eu(e,r)),escape:(n,r={})=>t.escape(n,eu(e,r)),filter:(n,r={})=>t.filter(n,eu(e,r)),defaults:n=>t.defaults(eu(e,n)),makeRe:(n,r={})=>t.makeRe(n,eu(e,r)),braceExpand:(n,r={})=>t.braceExpand(n,eu(e,r)),match:(n,r,i={})=>t.match(n,r,eu(e,i)),sep:t.sep,GLOBSTAR:ec})};let ep=(e,t={})=>{if(P(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e))return[e];var n=e;return n?("{}"===n.slice(0,2)&&(n="\\{\\}"+n.slice(2)),(function e(t,n){let r=[],i=c("{","}",t);if(!i)return[t];let s=i.pre,a=i.post.length?e(i.post,!1):[""];if(/\$$/.test(i.pre))for(let e=0;e<a.length;e++){let t=s+"{"+i.body+"}"+a[e];r.push(t)}else{let o,l,u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),p=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),h=u||p,_=i.body.indexOf(",")>=0;if(!h&&!_)return i.post.match(/,(?!,).*\}/)?e(t=i.pre+"{"+i.body+f+i.post):[t];if(h)o=i.body.split(/\.\./);else if(1===(o=function e(t){if(!t)return[""];let n=[],r=c("{","}",t);if(!r)return t.split(",");let{pre:i,body:s,post:a}=r,o=i.split(",");o[o.length-1]+="{"+s+"}";let l=e(a);return a.length&&(o[o.length-1]+=l.shift(),o.push.apply(o,l)),n.push.apply(n,o),n}(i.body)).length&&void 0!==o[0]&&1===(o=e(o[0],!1).map(O)).length)return a.map(e=>i.pre+o[0]+e);if(h&&void 0!==o[0]&&void 0!==o[1]){let e=k(o[0]),t=k(o[1]),n=Math.max(o[0].length,o[1].length),r=3===o.length&&void 0!==o[2]?Math.abs(k(o[2])):1,i=T;t<e&&(r*=-1,i=N);let s=o.some(R);l=[];for(let a=e;i(a,t);a+=r){let e;if(p)"\\"===(e=String.fromCharCode(a))&&(e="");else if(e=String(a),s){let t=n-e.length;if(t>0){let n=Array(t+1).join("0");e=a<0?"-"+n+e.slice(1):n+e}}l.push(e)}}else{l=[];for(let t=0;t<o.length;t++)l.push.apply(l,e(o[t],!1))}for(let e=0;e<l.length;e++)for(let t=0;t<a.length;t++){let i=s+l[e]+a[t];(!n||h||i)&&r.push(i)}}return r})(n.replace(x,h).replace(S,_).replace(A,f).replace(w,d).replace(E,g),!0).map(C)):[]};K.braceExpand=ep,K.makeRe=(e,t={})=>new e_(e,t).makeRe(),K.match=(e,t,n={})=>{let r=new e_(t,n);return e=e.filter(e=>r.match(e)),r.options.nonull&&!e.length&&e.push(t),e};let eh=/[?*]|[+@!]\(.*?\)|\[|\]/;class e_{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){P(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||el,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==t.windowsNoMagicRoot?t.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let t of e)if("string"!=typeof t)return!0;return!1}debug(){}make(){let e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0)){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(e=>this.slashSplit(e));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let r=this.globParts.map((e,t,n)=>{if(this.isWindows&&this.windowsNoMagicRoot){let t=""===e[0]&&""===e[1]&&("?"===e[2]||!eh.test(e[2]))&&!eh.test(e[3]),n=/^[a-z]:/i.test(e[0]);if(t)return[...e.slice(0,4),...e.slice(4).map(e=>this.parse(e))];if(n)return[e[0],...e.slice(1).map(e=>this.parse(e))]}return e.map(e=>this.parse(e))});if(this.debug(this.pattern,r),this.set=r.filter(e=>-1===e.indexOf(!1)),this.isWindows)for(let e=0;e<this.set.length;e++){let t=this.set[e];""===t[0]&&""===t[1]&&"?"===this.globParts[e][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)"**"===e[t][n]&&(e[t][n]="*");let{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(e=>{let t=-1;for(;-1!==(t=e.indexOf("**",t+1));){let n=t;for(;"**"===e[n+1];)n++;n!==t&&e.splice(t,n-t)}return e})}levelOneOptimize(e){return e.map(e=>0===(e=e.reduce((e,t)=>{let n=e[e.length-1];return"**"===t&&"**"===n||(".."===t&&n&&".."!==n&&"."!==n&&"**"!==n?e.pop():e.push(t)),e},[])).length?[""]:e)}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let n=1;n<e.length-1;n++){let r=e[n];(1!==n||""!==r||""!==e[0])&&("."===r||""===r)&&(t=!0,e.splice(n,1),n--)}"."===e[0]&&2===e.length&&("."===e[1]||""===e[1])&&(t=!0,e.pop())}let n=0;for(;-1!==(n=e.indexOf("..",n+1));){let r=e[n-1];r&&"."!==r&&".."!==r&&"**"!==r&&(t=!0,e.splice(n-1,2),n-=2)}}while(t)return 0===e.length?[""]:e}firstPhasePreProcess(e){let t=!1;do for(let n of(t=!1,e)){let r=-1;for(;-1!==(r=n.indexOf("**",r+1));){let i=r;for(;"**"===n[i+1];)i++;i>r&&n.splice(r+1,i-r);let s=n[r+1],a=n[r+2],o=n[r+3];if(".."!==s||!a||"."===a||".."===a||!o||"."===o||".."===o)continue;t=!0,n.splice(r,1);let l=n.slice(0);l[r]="**",e.push(l),r--}if(!this.preserveMultipleSlashes){for(let e=1;e<n.length-1;e++){let r=n[e];(1!==e||""!==r||""!==n[0])&&("."===r||""===r)&&(t=!0,n.splice(e,1),e--)}"."===n[0]&&2===n.length&&("."===n[1]||""===n[1])&&(t=!0,n.pop())}let i=0;for(;-1!==(i=n.indexOf("..",i+1));){let e=n[i-1];if(e&&"."!==e&&".."!==e&&"**"!==e){t=!0;let e=1===i&&"**"===n[i+1]?["."]:[];n.splice(i-1,2,...e),0===n.length&&n.push(""),i-=2}}}while(t)return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){let r=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);if(r){e[t]=[],e[n]=r;break}}return e.filter(e=>e.length)}partsMatch(e,t,n=!1){let r=0,i=0,s=[],a="";for(;r<e.length&&i<t.length;)if(e[r]===t[i])s.push("b"===a?t[i]:e[r]),r++,i++;else if(n&&"**"===e[r]&&t[i]===e[r+1])s.push(e[r]),r++;else if(n&&"**"===t[i]&&e[r]===t[i+1])s.push(t[i]),i++;else if("*"===e[r]&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&"**"!==t[i]){if("b"===a)return!1;a="a",s.push(e[r]),r++,i++}else{if("*"!==t[i]||!e[r]||!this.options.dot&&e[r].startsWith(".")||"**"===e[r]||"a"===a)return!1;a="b",s.push(t[i]),r++,i++}return e.length===t.length&&s}parseNegate(){if(this.nonegate)return;let e=this.pattern,t=!1,n=0;for(let r=0;r<e.length&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,t,n=!1){let r=this.options;if(this.isWindows){let n="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),r=!n&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),i="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),s=!i&&""===t[0]&&""===t[1]&&"?"===t[2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3]),a=r?3:n?0:void 0,o=s?3:i?0:void 0;if("number"==typeof a&&"number"==typeof o){let[n,r]=[e[a],t[o]];n.toLowerCase()===r.toLowerCase()&&(t[o]=n,o>a?t=t.slice(o):a>o&&(e=e.slice(a)))}}let{optimizationLevel:i=1}=this.options;i>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,a=0,o=e.length,l=t.length;s<o&&a<l;s++,a++){let i;this.debug("matchOne loop");var c=t[a],u=e[s];if(this.debug(t,c,u),!1===c)return!1;if(c===ec){this.debug("GLOBSTAR",[t,c,u]);var p=s,h=a+1;if(h===l){for(this.debug("** at the end");s<o;s++)if("."===e[s]||".."===e[s]||!r.dot&&"."===e[s].charAt(0))return!1;return!0}for(;p<o;){var _=e[p];if(this.debug("\nglobstar while",e,p,t,h,_),this.matchOne(e.slice(p),t.slice(h),n))return this.debug("globstar found match!",p,o,_),!0;if("."===_||".."===_||!r.dot&&"."===_.charAt(0)){this.debug("dot detected!",e,p,t,h);break}this.debug("globstar swallow a segment, and continue"),p++}if(n&&(this.debug("\n>>> no match, partial?",e,p,t,h),p===o))return!0;return!1}if("string"==typeof c?(i=u===c,this.debug("string match",c,u,i)):(i=c.test(u),this.debug("pattern match",c,u,i)),!i)return!1}if(s===o&&a===l)return!0;if(s===o)return n;if(a===l)return s===o-1&&""===e[s];throw Error("wtf?")}braceExpand(){return ep(this.pattern,this.options)}parse(e){let t;P(e);let n=this.options;if("**"===e)return ec;if(""===e)return"";let r=null;(t=e.match(en))?r=n.dot?ei:er:(t=e.match(X))?r=(n.nocase?n.dot?e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)):e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)):n.dot?e=>t=>t.endsWith(e):e=>t=>!t.startsWith(".")&&t.endsWith(e))(t[1]):(t=e.match(es))?r=(n.nocase?n.dot?([e,t=""])=>{let n=eo([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n}:([e,t=""])=>{let n=ea([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n}:n.dot?([e,t=""])=>{let n=eo([e]);return t?e=>n(e)&&e.endsWith(t):n}:([e,t=""])=>{let n=ea([e]);return t?e=>n(e)&&e.endsWith(t):n})(t):(t=e.match(Q))?r=n.dot?Y:J:(t=e.match(ee))&&(r=et);let i=Z.fromGlob(e,this.options).toMMPattern();return r&&"object"==typeof i&&Reflect.defineProperty(i,"test",{value:r}),i}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=new Set(t.nocase?["i"]:[]),i=e.map(e=>{let t=e.map(e=>{if(e instanceof RegExp)for(let t of e.flags.split(""))r.add(t);return"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===ec?ec:e._src});t.forEach((e,r)=>{let i=t[r+1],s=t[r-1];e===ec&&s!==ec&&(void 0===s?void 0!==i&&i!==ec?t[r+1]="(?:\\/|"+n+"\\/)?"+i:t[r]=n:void 0===i?t[r-1]=s+"(?:\\/|\\/"+n+")?":i!==ec&&(t[r-1]=s+"(?:\\/|\\/"+n+"\\/)"+i,t[r+1]=ec))});let i=t.filter(e=>e!==ec);if(this.partial&&i.length>=1){let e=[];for(let t=1;t<=i.length;t++)e.push(i.slice(0,t).join("/"));return"(?:"+e.join("|")+")"}return i.join("/")}).join("|"),[s,a]=e.length>1?["(?:",")"]:["",""];i="^"+s+i+a+"$",this.partial&&(i="^(?:\\/|"+s+i.slice(1,-1)+a+")$"),this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...r].join(""))}catch(e){this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let r=this.slashSplit(e);this.debug(this.pattern,"split",r);let i=this.set;this.debug(this.pattern,"set",i);let s=r[r.length-1];if(!s)for(let e=r.length-2;!s&&e>=0;e--)s=r[e];for(let e=0;e<i.length;e++){let a=i[e],o=r;if(n.matchBase&&1===a.length&&(o=[s]),this.matchOne(o,a,t)){if(n.flipNegate)return!0;return!this.negate}}return!n.flipNegate&&this.negate}static defaults(e){return K.defaults(e).Minimatch}}K.AST=Z,K.Minimatch=e_,K.escape=(e,{windowsPathsNoEscape:t=!1,magicalBraces:n=!1}={})=>n?t?e.replace(/[?*()[\]{}]/g,"[$&]"):e.replace(/[?*()[\]\\{}]/g,"\\$&"):t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),K.unescape=M;var ef=e.i(84120);class ed{diff(e,t,n={}){let r;"function"==typeof n?(r=n,n={}):"callback"in n&&(r=n.callback);let i=this.castInput(e,n),s=this.castInput(t,n),a=this.removeEmpty(this.tokenize(i,n)),o=this.removeEmpty(this.tokenize(s,n));return this.diffWithOptionsObj(a,o,n,r)}diffWithOptionsObj(e,t,n,r){var i;let s=e=>(e=this.postProcess(e,n),r)?void setTimeout(function(){r(e)},0):e,a=t.length,o=e.length,l=1,c=a+o;null!=n.maxEditLength&&(c=Math.min(c,n.maxEditLength));let u=null!=(i=n.timeout)?i:1/0,p=Date.now()+u,h=[{oldPos:-1,lastComponent:void 0}],_=this.extractCommon(h[0],t,e,0,n);if(h[0].oldPos+1>=o&&_+1>=a)return s(this.buildValues(h[0].lastComponent,t,e));let f=-1/0,d=1/0,g=()=>{for(let r=Math.max(f,-l);r<=Math.min(d,l);r+=2){let i,l=h[r-1],c=h[r+1];l&&(h[r-1]=void 0);let u=!1;if(c){let e=c.oldPos-r;u=c&&0<=e&&e<a}let p=l&&l.oldPos+1<o;if(!u&&!p){h[r]=void 0;continue}if(i=!p||u&&l.oldPos<c.oldPos?this.addToPath(c,!0,!1,0,n):this.addToPath(l,!1,!0,1,n),_=this.extractCommon(i,t,e,r,n),i.oldPos+1>=o&&_+1>=a)return s(this.buildValues(i.lastComponent,t,e))||!0;h[r]=i,i.oldPos+1>=o&&(d=Math.min(d,r-1)),_+1>=a&&(f=Math.max(f,r+1))}l++};if(r)!function e(){setTimeout(function(){if(l>c||Date.now()>p)return r(void 0);g()||e()},0)}();else for(;l<=c&&Date.now()<=p;){let e=g();if(e)return e}}addToPath(e,t,n,r,i){let s=e.lastComponent;return s&&!i.oneChangePerToken&&s.added===t&&s.removed===n?{oldPos:e.oldPos+r,lastComponent:{count:s.count+1,added:t,removed:n,previousComponent:s.previousComponent}}:{oldPos:e.oldPos+r,lastComponent:{count:1,added:t,removed:n,previousComponent:s}}}extractCommon(e,t,n,r,i){let s=t.length,a=n.length,o=e.oldPos,l=o-r,c=0;for(;l+1<s&&o+1<a&&this.equals(n[o+1],t[l+1],i);)l++,o++,c++,i.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return c&&!i.oneChangePerToken&&(e.lastComponent={count:c,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=o,l}equals(e,t,n){return n.comparator?n.comparator(e,t):e===t||!!n.ignoreCase&&e.toLowerCase()===t.toLowerCase()}removeEmpty(e){let t=[];for(let n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}castInput(e,t){return e}tokenize(e,t){return Array.from(e)}join(e){return e.join("")}postProcess(e,t){return e}get useLongestToken(){return!1}buildValues(e,t,n){let r,i=[];for(;e;)i.push(e),r=e.previousComponent,delete e.previousComponent,e=r;i.reverse();let s=i.length,a=0,o=0,l=0;for(;a<s;a++){let e=i[a];if(e.removed)e.value=this.join(n.slice(l,l+e.count)),l+=e.count;else{if(!e.added&&this.useLongestToken){let r=t.slice(o,o+e.count);r=r.map(function(e,t){let r=n[l+t];return r.length>e.length?r:e}),e.value=this.join(r)}else e.value=this.join(t.slice(o,o+e.count));o+=e.count,e.added||(l+=e.count)}}return i}}let eg=new class extends ed{constructor(){super(...arguments),this.tokenize=em}equals(e,t,n){return n.ignoreWhitespace?(n.newlineIsToken&&e.includes("\n")||(e=e.trim()),n.newlineIsToken&&t.includes("\n")||(t=t.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(e.endsWith("\n")&&(e=e.slice(0,-1)),t.endsWith("\n")&&(t=t.slice(0,-1))),super.equals(e,t,n)}};function em(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,"\n"));let n=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(let e=0;e<r.length;e++){let i=r[e];e%2&&!t.newlineIsToken?n[n.length-1]+=i:n.push(i)}return n}let ev={includeIndex:!0,includeUnderline:!0,includeFileHeaders:!0};function eb(e,t,n,r,i,s,a){var o;let l;void 0===(l=a?"function"==typeof a?{callback:a}:a:{}).context&&(l.context=4);let c=l.context;if(l.newlineIsToken)throw Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(!l.callback)return u(eg.diff(n,r,l));{let{callback:e}=l;o=Object.assign(Object.assign({},l),{callback:t=>{e(u(t))}}),eg.diff(n,r,o)}function u(n){if(!n)return;function r(e){return e.map(function(e){return" "+e})}n.push({value:"",lines:[]});let a=[],o=0,l=0,u=[],p=1,h=1;for(let e=0;e<n.length;e++){let t=n[e],i=t.lines||function(e){let t=e.endsWith("\n"),n=e.split("\n").map(e=>e+"\n");return t?n.pop():n.push(n.pop().slice(0,-1)),n}(t.value);if(t.lines=i,t.added||t.removed){if(!o){let t=n[e-1];o=p,l=h,t&&(o-=(u=c>0?r(t.lines.slice(-c)):[]).length,l-=u.length)}for(let e of i)u.push((t.added?"+":"-")+e);t.added?h+=i.length:p+=i.length}else{if(o)if(i.length<=2*c&&e<n.length-2)for(let e of r(i))u.push(e);else{let e=Math.min(i.length,c);for(let t of r(i.slice(0,e)))u.push(t);let t={oldStart:o,oldLines:p-o+e,newStart:l,newLines:h-l+e,lines:u};a.push(t),o=0,l=0,u=[]}p+=i.length,h+=i.length}}for(let e of a)for(let t=0;t<e.lines.length;t++)e.lines[t].endsWith("\n")?e.lines[t]=e.lines[t].slice(0,-1):(e.lines.splice(t+1,0,"\\ No newline at end of file"),t++);return{oldFileName:e,newFileName:t,oldHeader:i,newHeader:s,hunks:a}}}function ey(e,t){if(t||(t=ev),Array.isArray(e)){if(e.length>1&&!t.includeFileHeaders)throw Error("Cannot omit file headers on a multi-file patch. (The result would be unparseable; how would a tool trying to apply the patch know which changes are to which file?)");return e.map(e=>ey(e,t)).join("\n")}let n=[];t.includeIndex&&e.oldFileName==e.newFileName&&n.push("Index: "+e.oldFileName),t.includeUnderline&&n.push("==================================================================="),t.includeFileHeaders&&(n.push("--- "+e.oldFileName+(void 0===e.oldHeader?"":"	"+e.oldHeader)),n.push("+++ "+e.newFileName+(void 0===e.newHeader?"":"	"+e.newHeader)));for(let t=0;t<e.hunks.length;t++){let r=e.hunks[t];for(let e of(0===r.oldLines&&(r.oldStart-=1),0===r.newLines&&(r.newStart-=1),n.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),r.lines))n.push(e)}return n.join("\n")+"\n"}function e$(e,t){return Array(t+1).join(e)}function ex(e){return e.replace(/^\n*/,"")}function eS(e){for(var t=e.length;t>0&&"\n"===e[t-1];)t--;return e.substring(0,t)}var eA=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function ew(e){return eO(e,eA)}var eE=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function ek(e){return eO(e,eE)}var eC=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function eO(e,t){return t.indexOf(e.nodeName)>=0}function eR(e,t){return e.getElementsByTagName&&t.some(function(t){return e.getElementsByTagName(t).length})}var eT={};function eN(e){return e?e.replace(/(\n+\s*)+/g,"\n"):""}function eP(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function eL(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(function(e,t,n){var r=e.filter;if("string"==typeof r){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if("function"==typeof r){if(r.call(e,t,n))return!0}else throw TypeError("`filter` needs to be a string, array, or function")}(i,t,n))return i}}function eI(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function eD(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}eT.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},eT.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},eT.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if("setext"!==n.headingStyle||!(r<3))return"\n\n"+e$("#",r)+" "+e+"\n\n";var i=e$(1===r?"=":"-",e.length);return"\n\n"+e+"\n"+i+"\n\n"}},eT.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=eS(ex(e)).replace(/^/gm,"> "))+"\n\n"}},eT.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return"LI"===n.nodeName&&n.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},eT.listItem={filter:"li",replacement:function(e,t,n){var r=n.bulletListMarker+"   ",i=t.parentNode;if("OL"===i.nodeName){var s=i.getAttribute("start"),a=Array.prototype.indexOf.call(i.children,t);r=(s?Number(s)+a:a+1)+".  "}var o=/\n$/.test(e);return e=(e=eS(ex(e))+(o?"\n":"")).replace(/\n/gm,"\n"+" ".repeat(r.length)),r+e+(t.nextSibling?"\n":"")}},eT.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},eT.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){for(var r,i=((t.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],s=t.firstChild.textContent,a=n.fence.charAt(0),o=3,l=RegExp("^"+a+"{3,}","gm");r=l.exec(s);)r[0].length>=o&&(o=r[0].length+1);var c=e$(a,o);return"\n\n"+c+i+"\n"+s.replace(/\n$/,"")+"\n"+c+"\n\n"}},eT.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},eT.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var r=eN(t.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+e+"]("+n+r+")"}},eT.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var r,i,s=t.getAttribute("href"),a=eN(t.getAttribute("title"));switch(a&&(a=' "'+a+'"'),n.linkReferenceStyle){case"collapsed":r="["+e+"][]",i="["+e+"]: "+s+a;break;case"shortcut":r="["+e+"]",i="["+e+"]: "+s+a;break;default:var o=this.references.length+1;r="["+e+"]["+o+"]",i="["+o+"]: "+s+a}return this.references.push(i),r},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},eT.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},eT.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},eT.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];-1!==r.indexOf(n);)n+="`";return n+t+e+t+n}},eT.image={filter:"img",replacement:function(e,t){var n=eN(t.getAttribute("alt")),r=t.getAttribute("src")||"",i=eN(t.getAttribute("title"));return r?"!["+n+"]("+r+(i?' "'+i+'"':"")+")":""}},eP.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){var t;return e.isBlank?this.blankRule:(t=eL(this.array,e,this.options))||(t=eL(this._keep,e,this.options))||(t=eL(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var eM="undefined"!=typeof window?window:{},eF=!function(){var e=eM.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?(e8=function(){},!function(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){eM.ActiveXObject&&(e=!0)}return e}()?e8.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t}:e8.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t},e8):eM.DOMParser;function eB(e,t){var n;return!function(e){var t=e.element,n=e.isBlock,r=e.isVoid,i=e.isPre||function(e){return"PRE"===e.nodeName};if(!(!t.firstChild||i(t))){for(var s=null,a=!1,o=null,l=eD(null,t,i);l!==t;){if(3===l.nodeType||4===l.nodeType){var c=l.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!a&&" "===c[0]&&(c=c.substr(1)),!c){l=eI(l);continue}l.data=c,s=l}else if(1===l.nodeType)n(l)||"BR"===l.nodeName?(s&&(s.data=s.data.replace(/ $/,"")),s=null,a=!1):r(l)||i(l)?(s=null,a=!0):s&&(a=!1);else{l=eI(l);continue}var u=eD(o,l,i);o=l,l=u}s&&(s.data=s.data.replace(/ $/,""),s.data||eI(s))}}({element:n="string"==typeof e?(e9=e9||new eF).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):e.cloneNode(!0),isBlock:ew,isVoid:ek,isPre:t.preformattedCode?eH:null}),n}function eH(e){return"PRE"===e.nodeName||"CODE"===e.nodeName}function eU(e,t){var n;return e.isBlock=ew(e),e.isCode="CODE"===e.nodeName||e.parentNode.isCode,e.isBlank=!ek(n=e)&&!eO(n,eC)&&/^\s*$/i.test(n.textContent)&&!eR(n,eE)&&!eR(n,eC),e.flankingWhitespace=function(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n,r={leading:(n=e.textContent.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/))[1],leadingAscii:n[2],leadingNonAscii:n[3],trailing:n[4],trailingNonAscii:n[5],trailingAscii:n[6]};return r.leadingAscii&&ej("left",e,t)&&(r.leading=r.leadingNonAscii),r.trailingAscii&&ej("right",e,t)&&(r.trailing=r.trailingNonAscii),{leading:r.leading,trailing:r.trailing}}(e,t),e}function ej(e,t,n){var r,i,s;return"left"===e?(r=t.previousSibling,i=/ $/):(r=t.nextSibling,i=/^ /),r&&(3===r.nodeType?s=i.test(r.nodeValue):n.preformattedCode&&"CODE"===r.nodeName?s=!1:1!==r.nodeType||ew(r)||(s=i.test(r.textContent))),s}var eW=Array.prototype.reduce,eq=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function ez(e){if(!(this instanceof ez))return new ez(e);this.options=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}({},{rules:eT,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}},e),this.rules=new eP(this.options)}function eG(e){var t=this;return eW.call(e.childNodes,function(e,n){n=new eU(n,t.options);var r="";return 3===n.nodeType?r=n.isCode?n.nodeValue:t.escape(n.nodeValue):1===n.nodeType&&(r=eZ.call(t,n)),eK(e,r)},"")}function eV(e){var t=this;return this.rules.forEach(function(n){"function"==typeof n.append&&(e=eK(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function eZ(e){var t=this.rules.forNode(e),n=eG.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function eK(e,t){var n=eS(e),r=ex(t),i=Math.max(e.length-n.length,t.length-r.length);return n+"\n\n".substring(0,i)+r}ez.prototype={turndown:function(e){var t;if(!(null!=(t=e)&&("string"==typeof t||t.nodeType&&(1===t.nodeType||9===t.nodeType||11===t.nodeType))))throw TypeError(e+" is not a string, or an element/document/fragment node.");return""===e?"":eV.call(this,eG.call(this,new eB(e,this.options)))},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if("function"==typeof e)e(this);else throw TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return eq.reduce(function(e,t){return e.replace(t[0],t[1])},e)}};var eX=Object.create,eQ=Object.defineProperty,eJ=Object.getOwnPropertyDescriptor,eY=Object.getOwnPropertyNames,e0=Object.getPrototypeOf,e1=Object.prototype.hasOwnProperty,e2=(e,t)=>()=>(e&&(t=e(e=0)),t),e3=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),e5=(e,t)=>{for(var n in t)eQ(e,n,{get:t[n],enumerable:!0})},e6=(e,t,n)=>(n=null!=e?eX(e0(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of eY(t))e1.call(e,i)||i===n||eQ(e,i,{get:()=>t[i],enumerable:!(r=eJ(t,i))||r.enumerable});return e})(!t&&e&&e.__esModule?n:eQ(n,"default",{value:e,enumerable:!0}),e)),e4={};e5(e4,{echoCommand:()=>e7});var e8,e9,e7,te=e2(()=>{e7={name:"echo",async execute(e,t){let n=!1,r=t.xpgEcho??!1,i=0;for(;i<e.length;){let t=e[i];if("-n"===t)n=!0,i++;else if("-e"===t)r=!0,i++;else if("-E"===t)r=!1,i++;else if("-ne"===t||"-en"===t)n=!0,r=!0,i++;else break}let s=e.slice(i).join(" ");if(r){let e=function(e){let t="",n=0;for(;n<e.length;)if("\\"===e[n]){if(n+1>=e.length){t+="\\";break}let r=e[n+1];switch(r){case"\\":t+="\\",n+=2;break;case"n":t+=`
`,n+=2;break;case"t":t+="	",n+=2;break;case"r":t+="\r",n+=2;break;case"a":t+="\x07",n+=2;break;case"b":t+="\b",n+=2;break;case"f":t+="\f",n+=2;break;case"v":t+="\v",n+=2;break;case"e":case"E":t+="\x1b",n+=2;break;case"c":return{output:t,stop:!0};case"0":{let r="",i=n+2;for(;i<e.length&&i<n+5&&/[0-7]/.test(e[i]);)r+=e[i],i++;0===r.length?t+="\0":t+=String.fromCharCode(parseInt(r,8)%256),n=i;break}case"x":{let r="",i=n+2;for(;i<e.length&&i<n+4&&/[0-9a-fA-F]/.test(e[i]);)r+=e[i],i++;0===r.length?(t+="\\x",n+=2):(t+=String.fromCharCode(parseInt(r,16)),n=i);break}case"u":{let r="",i=n+2;for(;i<e.length&&i<n+6&&/[0-9a-fA-F]/.test(e[i]);)r+=e[i],i++;0===r.length?(t+="\\u",n+=2):(t+=String.fromCodePoint(parseInt(r,16)),n=i);break}case"U":{let r="",i=n+2;for(;i<e.length&&i<n+10&&/[0-9a-fA-F]/.test(e[i]);)r+=e[i],i++;if(0===r.length)t+="\\U",n+=2;else{let e=parseInt(r,16);try{t+=String.fromCodePoint(e)}catch{t+=`\\U${r}`}n=i}break}default:t+=`\\${r}`,n+=2}}else t+=e[n],n++;return{output:t,stop:!1}}(s);if(s=e.output,e.stop)return{stdout:s,stderr:"",exitCode:0}}return n||(s+=`
`),{stdout:s,stderr:"",exitCode:0}}}});function tt(e){let t=`${e.name} - ${e.summary}

`;if(t+=`Usage: ${e.usage}
`,e.description){if(t+=`
Description:
`,"string"==typeof e.description)for(let n of e.description.split(`
`))t+=n?`  ${n}
`:`
`;else if(e.description.length>0)for(let n of e.description)t+=n?`  ${n}
`:`
`}if(e.options&&e.options.length>0)for(let n of(t+=`
Options:
`,e.options))t+=`  ${n}
`;if(e.examples&&e.examples.length>0)for(let n of(t+=`
Examples:
`,e.examples))t+=`  ${n}
`;if(e.notes&&e.notes.length>0)for(let n of(t+=`
Notes:
`,e.notes))t+=`  ${n}
`;return{stdout:t,stderr:"",exitCode:0}}function tn(e){return e.includes("--help")}function tr(e,t){return{stdout:"",stderr:t.startsWith("--")?`${e}: unrecognized option '${t}'
`:`${e}: invalid option -- '${t.replace(/^-/,"")}'
`,exitCode:1}}var ti=e2(()=>{});function ts(e,t,n){let r=new Map,i=new Map;for(let[e,t]of Object.entries(n)){let n={name:e,type:t.type};t.short&&r.set(t.short,n),t.long&&i.set(t.long,n)}let s={};for(let[e,t]of Object.entries(n))void 0!==t.default?s[e]=t.default:"boolean"===t.type&&(s[e]=!1);let a=[],o=!1;for(let n=0;n<t.length;n++){let l=t[n];if(o||!l.startsWith("-")||"-"===l){a.push(l);continue}if("--"===l){o=!0;continue}if(l.startsWith("--")){let r=l.indexOf("="),a,o;-1!==r?(a=l.slice(2,r),o=l.slice(r+1)):a=l.slice(2);let c=i.get(a);if(!c)return{ok:!1,error:tr(e,l)};let{name:u,type:p}=c;if("boolean"===p)s[u]=!0;else{if(void 0===o){if(n+1>=t.length)return{ok:!1,error:{stdout:"",stderr:`${e}: option '--${a}' requires an argument
`,exitCode:1}};o=t[++n]}s[u]="number"===p?parseInt(o,10):o}}else{let i=l.slice(1);for(let a=0;a<i.length;a++){let o=i[a],l=r.get(o);if(!l)return{ok:!1,error:tr(e,`-${o}`)};let{name:c,type:u}=l;if("boolean"===u)s[c]=!0;else{let r;if(a+1<i.length)r=i.slice(a+1);else{if(!(n+1<t.length))return{ok:!1,error:{stdout:"",stderr:`${e}: option requires an argument -- '${o}'
`,exitCode:1}};r=t[++n]}s[c]="number"===u?parseInt(r,10):r;break}}}}return{ok:!0,result:{flags:s,positional:a}}}var ta=e2(()=>{ti()}),to=e2(()=>{});async function tl(e,t,n){let{cmdName:r,allowStdinMarker:i=!0,stopOnError:s=!1,batchSize:a=100}=n;if(0===t.length)return{files:[{filename:"",content:e.stdin}],stderr:"",exitCode:0};let o=[],l="",c=0;for(let n=0;n<t.length;n+=a){let u=t.slice(n,n+a);for(let t of(await Promise.all(u.map(async t=>{if(i&&"-"===t)return{filename:"-",content:e.stdin,error:null};try{let n=e.fs.resolvePath(e.cwd,t),r=await e.fs.readFile(n,"binary");return{filename:t,content:r,error:null}}catch{return{filename:t,content:"",error:`${r}: ${t}: No such file or directory
`}}}))))if(t.error){if(l+=t.error,c=1,s)return{files:o,stderr:l,exitCode:c}}else o.push({filename:t.filename,content:t.content})}return{files:o,stderr:l,exitCode:c}}async function tc(e,t,n){let r=await tl(e,t,{...n,stopOnError:!0});return 0!==r.exitCode?{ok:!1,error:{stdout:"",stderr:r.stderr,exitCode:r.exitCode}}:{ok:!0,content:r.files.map(e=>e.content).join("")}}var tu=e2(()=>{to()}),tp={};e5(tp,{catCommand:()=>tf});var th,t_,tf,td=e2(()=>{ta(),tu(),ti(),th={name:"cat",summary:"concatenate files and print on the standard output",usage:"cat [OPTION]... [FILE]...",options:["-n, --number           number all output lines","    --help             display this help and exit"]},t_={number:{short:"n",long:"number",type:"boolean"}},tf={name:"cat",async execute(e,t){if(tn(e))return tt(th);let n=ts("cat",e,t_);if(!n.ok)return n.error;let r=n.result.flags.number,i=n.result.positional,s=await tl(t,i,{cmdName:"cat",allowStdinMarker:!0,stopOnError:!1}),a="",o=1;for(let{content:e}of s.files)if(r){let t=function(e,t){let n=e.split(`
`),r=e.endsWith(`
`),i=r?n.slice(0,-1):n;return{content:i.map((e,n)=>`${String(t+n).padStart(6," ")}	${e}`).join(`
`)+(r?`
`:""),nextLineNumber:t+i.length}}(e,o);a+=t.content,o=t.nextLineNumber}else a+=e;return{stdout:a,stderr:s.stderr,exitCode:s.exitCode}}}});function tg(e){return e instanceof Error?e.message:String(e)}var tm=e2(()=>{});function tv(e,t,n){let r=e;n>=0&&r.length>n&&(r=r.slice(0,n));let i=Math.abs(t);return i>r.length&&(r=t<0?r.padEnd(i," "):r.padStart(i," ")),r}function tb(e){let t="",n=0;for(;n<e.length;)if("\\"===e[n]&&n+1<e.length)switch(e[n+1]){case"n":t+=`
`,n+=2;break;case"t":t+="	",n+=2;break;case"r":t+="\r",n+=2;break;case"\\":t+="\\",n+=2;break;case"a":t+="\x07",n+=2;break;case"b":t+="\b",n+=2;break;case"f":t+="\f",n+=2;break;case"v":t+="\v",n+=2;break;case"e":case"E":t+="\x1b",n+=2;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{let r="",i=n+1;for(;i<e.length&&i<n+4&&/[0-7]/.test(e[i]);)r+=e[i],i++;t+=String.fromCharCode(parseInt(r,8)),n=i;break}case"x":{let r=[],i=n;for(;i+3<e.length&&"\\"===e[i]&&"x"===e[i+1]&&/[0-9a-fA-F]{2}/.test(e.slice(i+2,i+4));)r.push(parseInt(e.slice(i+2,i+4),16)),i+=4;if(r.length>0){try{let e=new TextDecoder("utf-8",{fatal:!0});t+=e.decode(new Uint8Array(r))}catch{for(let e of r)t+=String.fromCharCode(e)}n=i}else t+=e[n],n++;break}case"u":{let r="",i=n+2;for(;i<e.length&&i<n+6&&/[0-9a-fA-F]/.test(e[i]);)r+=e[i],i++;r?(t+=String.fromCodePoint(parseInt(r,16)),n=i):(t+="\\u",n+=2);break}case"U":{let r="",i=n+2;for(;i<e.length&&i<n+10&&/[0-9a-fA-F]/.test(e[i]);)r+=e[i],i++;r?(t+=String.fromCodePoint(parseInt(r,16)),n=i):(t+="\\U",n+=2);break}default:t+=e[n],n++}else t+=e[n],n++;return t}var ty=e2(()=>{});function t$(e,t,n){let r=[31,28,31,30,31,30,31,31,30,31,30,31];(e%4==0&&e%100!=0||e%400==0)&&(r[1]=29);let i=n;for(let e=0;e<t-1;e++)i+=r[e];return i}function tx(e,t,n,r,i){return Math.floor((t$(e,t,n)-1+(new Date(e,0,1).getDay()-i+7)%7-(r-i+7)%7+7)/7)}function tS(e,t,n){let r=new Date(e,t-1,n,12,0,0);return r.setDate(r.getDate()+3-(r.getDay()+6)%7),r.getFullYear()}var tA=e2(()=>{}),tw={};function tE(e){tR=!1;let t=e.trimStart(),n=t!==t.trimEnd();if((e=t.trimEnd()).startsWith("'")&&e.length>=2||e.startsWith('"')&&e.length>=2)return e.charCodeAt(1);if(e.startsWith("\\'")&&e.length>=3||e.startsWith('\\"')&&e.length>=3)return e.charCodeAt(2);if(e.startsWith("+")&&(e=e.slice(1)),e.startsWith("0x")||e.startsWith("0X")){let t=parseInt(e,16);return Number.isNaN(t)?(tR=!0,0):(n&&(tR=!0),t)}if(e.startsWith("0")&&e.length>1&&/^-?0[0-7]+$/.test(e))return n&&(tR=!0),parseInt(e,8)||0;if(/^\d+#/.test(e)){tR=!0;let t=e.match(/^(\d+)#/);return t?parseInt(t[1],10):0}if(""!==e&&!/^-?\d+$/.test(e)){tR=!0;let t=parseInt(e,10);return Number.isNaN(t)?0:t}return n&&(tR=!0),parseInt(e,10)||0}function tk(e,t){let n=e.match(/^%([- +#0']*)(\d*)(\.(\d*))?[diu]$/);if(!n)return(0,l.sprintf)(e.replace(/\.\d*/,""),t);let r=n[1]||"",i=n[2]?parseInt(n[2],10):0,s=void 0!==n[3]?n[4]?parseInt(n[4],10):0:-1,a=t<0,o=String(Math.abs(t));s>=0&&(o=o.padStart(s,"0"));let c="";a?c="-":r.includes("+")?c="+":r.includes(" ")&&(c=" ");let u=c+o;return i>u.length&&(u=r.includes("-")?u.padEnd(i," "):r.includes("0")&&s<0?c+o.padStart(i-c.length,"0"):u.padStart(i," ")),u}e5(tw,{printfCommand:()=>tO});var tC,tO,tR,tT=e2(()=>{tm(),ti(),ty(),tA(),tC={name:"printf",summary:"format and print data",usage:"printf [-v var] FORMAT [ARGUMENT...]",options:["    -v var     assign the output to shell variable VAR rather than display it","    --help     display this help and exit"],notes:["FORMAT controls the output like in C printf.","Escape sequences: \\n (newline), \\t (tab), \\\\ (backslash)","Format specifiers: %s (string), %d (integer), %f (float), %x (hex), %o (octal), %% (literal %)","Width and precision: %10s (width 10), %.2f (2 decimal places), %010d (zero-padded)","Flags: %- (left-justify), %+ (show sign), %0 (zero-pad)"]},tO={name:"printf",async execute(e,t){if(tn(e))return tt(tC);if(0===e.length)return{stdout:"",stderr:`printf: usage: printf format [arguments]
`,exitCode:2};let n=null,r=0;for(;r<e.length;){let t=e[r];if("--"===t){r++;break}if("-v"===t){if(r+1>=e.length)return{stdout:"",stderr:`printf: -v: option requires an argument
`,exitCode:1};if(n=e[r+1],!/^[a-zA-Z_][a-zA-Z0-9_]*(\[[^\]]+\])?$/.test(n))return{stdout:"",stderr:`printf: \`${n}': not a valid identifier
`,exitCode:2};r+=2}else{t.startsWith("-");break}}if(r>=e.length)return{stdout:"",stderr:`printf: usage: printf format [arguments]
`,exitCode:1};let i=e[r],s=e.slice(r+1);try{let e=tb(i),r="",a=0,o=!1,c="",u=t.env.TZ;do{let{result:t,argsConsumed:n,error:i,errMsg:p,stopped:h}=function(e,t,n,r){let i="",s=0,a=0,o=!1,c="";for(;s<e.length;)if("%"===e[s]&&s+1<e.length){let u=s;if("%"===e[++s]){i+="%",s++;continue}let p=e.slice(u).match(/^%(-?\d*)(?:\.(\d+))?\(([^)]*)\)T/);if(p){let e=p[1]?parseInt(p[1],10):0,o=p[2]?parseInt(p[2],10):-1,l=p[3],c=p[0],h=t[n+a]||"";a++;let _=function(e,t,n){let r=new Date(1e3*t),i="",s=0;for(;s<e.length;)if("%"===e[s]&&s+1<e.length){let t=function(e,t,n){let r=function(e,t){try{let n=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",hour12:!1,timeZone:t}).formatToParts(e),r=e=>n.find(t=>t.type===e)?.value??"",i=r("weekday");return{year:Number.parseInt(r("year"),10)||e.getFullYear(),month:Number.parseInt(r("month"),10)||e.getMonth()+1,day:Number.parseInt(r("day"),10)||e.getDate(),hour:Number.parseInt(r("hour"),10)||e.getHours(),minute:Number.parseInt(r("minute"),10)||e.getMinutes(),second:Number.parseInt(r("second"),10)||e.getSeconds(),weekday:({Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6})[i]??e.getDay()}}catch{return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),weekday:e.getDay()}}}(e,n),i=(e,t=2)=>String(e).padStart(t,"0"),s=t$(r.year,r.month,r.day),a=tx(r.year,r.month,r.day,r.weekday,0),o=tx(r.year,r.month,r.day,r.weekday,1);switch(t){case"a":return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][r.weekday];case"A":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][r.weekday];case"b":case"h":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.month-1];case"B":return["January","February","March","April","May","June","July","August","September","October","November","December"][r.month-1];case"c":return`${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][r.weekday]} ${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.month-1]} ${String(r.day).padStart(2," ")} ${i(r.hour)}:${i(r.minute)}:${i(r.second)} ${r.year}`;case"C":return i(Math.floor(r.year/100));case"d":return i(r.day);case"D":case"x":return`${i(r.month)}/${i(r.day)}/${i(r.year%100)}`;case"e":return String(r.day).padStart(2," ");case"F":return`${r.year}-${i(r.month)}-${i(r.day)}`;case"g":return i(tS(r.year,r.month,r.day)%100);case"G":return String(tS(r.year,r.month,r.day));case"H":return i(r.hour);case"I":return i(r.hour%12||12);case"j":return String(s).padStart(3,"0");case"k":return String(r.hour).padStart(2," ");case"l":return String(r.hour%12||12).padStart(2," ");case"m":return i(r.month);case"M":return i(r.minute);case"n":return`
`;case"N":return"000000000";case"p":return r.hour<12?"AM":"PM";case"P":return r.hour<12?"am":"pm";case"r":return`${i(r.hour%12||12)}:${i(r.minute)}:${i(r.second)} ${r.hour<12?"AM":"PM"}`;case"R":return`${i(r.hour)}:${i(r.minute)}`;case"s":return String(Math.floor(e.getTime()/1e3));case"S":return i(r.second);case"t":return"	";case"T":case"X":return`${i(r.hour)}:${i(r.minute)}:${i(r.second)}`;case"u":return String(0===r.weekday?7:r.weekday);case"U":return i(a);case"V":return i(function(e,t,n){let r=new Date(e,t-1,n,12,0,0);r.setDate(r.getDate()+3-(r.getDay()+6)%7);let i=new Date(r.getFullYear(),0,4);return i.setDate(i.getDate()+3-(i.getDay()+6)%7),1+Math.round((r.getTime()-i.getTime())/6048e5)}(r.year,r.month,r.day));case"w":return String(r.weekday);case"W":return i(o);case"y":return i(r.year%100);case"Y":return String(r.year);case"z":return function(e,t){if(!t){let t=-e.getTimezoneOffset(),n=Math.floor(Math.abs(t)/60),r=Math.abs(t)%60;return`${t>=0?"+":"-"}${String(n).padStart(2,"0")}${String(r).padStart(2,"0")}`}try{let n=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).formatToParts(e).find(e=>"timeZoneName"===e.type);if(n){let e=n.value.match(/GMT([+-])(\d{2}):(\d{2})/);if(e)return`${e[1]}${e[2]}${e[3]}`;if("GMT"===n.value||"UTC"===n.value)return"+0000"}}catch{}let n=-e.getTimezoneOffset(),r=Math.floor(Math.abs(n)/60),i=Math.abs(n)%60;return`${n>=0?"+":"-"}${String(r).padStart(2,"0")}${String(i).padStart(2,"0")}`}(e,n);case"Z":var l=e,c=n;try{return new Intl.DateTimeFormat("en-US",{timeZone:c,timeZoneName:"short"}).formatToParts(l).find(e=>"timeZoneName"===e.type)?.value??"UTC"}catch{return"UTC"}case"%":return"%";default:return null}}(r,e[s+1],n);null!==t?(i+=t,s+=2):(i+=e[s],s++)}else i+=e[s],s++;return i}(l,""===h||"-1"===h||"-2"===h?Math.floor(Date.now()/1e3):parseInt(h,10)||0,r);if(o>=0&&_.length>o&&(_=_.slice(0,o)),0!==e){let t=Math.abs(e);_.length<t&&(_=e<0?_.padEnd(t," "):_.padStart(t," "))}i+=_,s=u+c.length;continue}for(;s<e.length&&"+-0 #'".includes(e[s]);)s++;let h=!1;if("*"===e[s])h=!0,s++;else for(;s<e.length&&/\d/.test(e[s]);)s++;let _=!1;if("."===e[s])if("*"===e[++s])_=!0,s++;else for(;s<e.length&&/\d/.test(e[s]);)s++;s<e.length&&"hlL".includes(e[s])&&s++;let f=e[s]||"";s++;let d=e.slice(u,s);if(h){let e=parseInt(t[n+a]||"0",10);a++,d=d.replace("*",String(e))}if(_){let e=parseInt(t[n+a]||"0",10);a++,d=d.replace(".*",`.${e}`)}let g=t[n+a]||"";a++;let{value:m,parseError:v,parseErrMsg:b,stopped:y}=function(e,t,n){let r=!1,i="";switch(t){case"d":case"i":{let t=tE(n);return(r=tR)&&(i=`printf: ${n}: invalid number
`),{value:tk(e,t),parseError:r,parseErrMsg:i}}case"o":{let t=tE(n);return(r=tR)&&(i=`printf: ${n}: invalid number
`),{value:function(e,t){let n=e.match(/^%([- +#0']*)(\d*)(\.(\d*))?o$/);if(!n)return(0,l.sprintf)(e,t);let r=n[1]||"",i=n[2]?parseInt(n[2],10):0,s=void 0!==n[3]?n[4]?parseInt(n[4],10):0:-1,a=Math.abs(t).toString(8);s>=0&&(a=a.padStart(s,"0")),r.includes("#")&&!a.startsWith("0")&&(a=`0${a}`);let o=a;return i>o.length&&(o=r.includes("-")?o.padEnd(i," "):r.includes("0")&&s<0?o.padStart(i,"0"):o.padStart(i," ")),o}(e,t),parseError:r,parseErrMsg:i}}case"u":{let t=tE(n);return(r=tR)&&(i=`printf: ${n}: invalid number
`),{value:tk(e.replace("u","d"),t<0?t>>>0:t),parseError:r,parseErrMsg:i}}case"x":case"X":{let t=tE(n);return(r=tR)&&(i=`printf: ${n}: invalid number
`),{value:function(e,t){let n=e.includes("X"),r=e.match(/^%([- +#0']*)(\d*)(\.(\d*))?[xX]$/);if(!r)return(0,l.sprintf)(e,t);let i=r[1]||"",s=r[2]?parseInt(r[2],10):0,a=void 0!==r[3]?r[4]?parseInt(r[4],10):0:-1,o=Math.abs(t).toString(16);n&&(o=o.toUpperCase()),a>=0&&(o=o.padStart(a,"0"));let c="";i.includes("#")&&0!==t&&(c=n?"0X":"0x");let u=c+o;return s>u.length&&(u=i.includes("-")?u.padEnd(s," "):i.includes("0")&&a<0?c+o.padStart(s-c.length,"0"):u.padStart(s," ")),u}(e,t),parseError:r,parseErrMsg:i}}case"e":case"E":case"f":case"F":case"g":case"G":return{value:function(e,t,n){let r=e.match(/^%([- +#0']*)(\d*)(\.(\d*))?[eEfFgG]$/);if(!r)return(0,l.sprintf)(e,n);let i=r[1]||"",s=r[2]?parseInt(r[2],10):0,a=void 0!==r[3]?r[4]?parseInt(r[4],10):0:6,o,c=t.toLowerCase();if("e"===c?(o=(o=n.toExponential(a)).replace(/e([+-])(\d)$/,"e$10$2"),"E"===t&&(o=o.toUpperCase())):"f"===c?(o=n.toFixed(a),i.includes("#")&&0===a&&!o.includes(".")&&(o+=".")):"g"===c?(o=n.toPrecision(a||1),i.includes("#")||(o=(o=o.replace(/\.?0+$/,"")).replace(/\.?0+e/,"e")),o=o.replace(/e([+-])(\d)$/,"e$10$2"),"G"===t&&(o=o.toUpperCase())):o=n.toString(),n>=0&&(i.includes("+")?o=`+${o}`:i.includes(" ")&&(o=` ${o}`)),s>o.length)if(i.includes("-"))o=o.padEnd(s," ");else if(i.includes("0")){let e=o.match(/^[+ -]/)?.[0]||"",t=e?o.slice(1):o;o=e+t.padStart(s-e.length,"0")}else o=o.padStart(s," ");return o}(e,t,parseFloat(n)||0),parseError:!1,parseErrMsg:""};case"c":if(""===n)return{value:"",parseError:!1,parseErrMsg:""};return{value:String.fromCharCode(new TextEncoder().encode(n)[0]),parseError:!1,parseErrMsg:""};case"s":return{value:function(e,t){let n=e.match(/^%(-?)(\d*)(\.(\d*))?s$/);if(!n)return(0,l.sprintf)(e.replace(/0+(?=\d)/,""),t);let r="-"===n[1],i=n[2]?parseInt(n[2],10):0;return tv(t,r?-i:i,void 0!==n[3]?n[4]?parseInt(n[4],10):0:-1)}(e,n),parseError:!1,parseErrMsg:""};case"q":return{value:function(e,t){let n=function(e){if(""===e)return"''";if(/^[a-zA-Z0-9_./-]+$/.test(e))return e;if(/[\x00-\x1f\x7f-\xff]/.test(e)){let t="$'";for(let n of e){let e=n.charCodeAt(0);"'"===n?t+="\\'":"\\"===n?t+="\\\\":n===`
`?t+="\\n":"	"===n?t+="\\t":"\r"===n?t+="\\r":"\x07"===n?t+="\\a":"\b"===n?t+="\\b":"\f"===n?t+="\\f":"\v"===n?t+="\\v":"\x1b"===n?t+="\\E":e<32||e>=127&&e<=255?t+=`\\${e.toString(8).padStart(3,"0")}`:'"'===n?t+='\\"':t+=n}return t+"'"}let t="";for(let n of e)" 	|&;<>()$`\\\"'*?[#~=%!{}".includes(n)?t+=`\\${n}`:t+=n;return t}(t),r=e.match(/^%(-?)(\d*)q$/);if(!r)return n;let i="-"===r[1],s=r[2]?parseInt(r[2],10):0,a=n;return s>a.length&&(a=i?a.padEnd(s," "):a.padStart(s," ")),a}(e,n),parseError:!1,parseErrMsg:""};case"b":{let e=function(e){let t="",n=0;for(;n<e.length;)if("\\"===e[n]&&n+1<e.length)switch(e[n+1]){case"n":t+=`
`,n+=2;break;case"t":t+="	",n+=2;break;case"r":t+="\r",n+=2;break;case"\\":t+="\\",n+=2;break;case"a":t+="\x07",n+=2;break;case"b":t+="\b",n+=2;break;case"f":t+="\f",n+=2;break;case"v":t+="\v",n+=2;break;case"c":return{value:t,stopped:!0};case"x":{let r=[],i=n;for(;i+1<e.length&&"\\"===e[i]&&"x"===e[i+1];){let t="",n=i+2;for(;n<e.length&&n<i+4&&/[0-9a-fA-F]/.test(e[n]);)t+=e[n],n++;if(t)r.push(parseInt(t,16)),i=n;else break}r.length>0?(t+=function(e){let t="",n=0;for(;n<e.length;){let r=e[n];if(r<128){t+=String.fromCharCode(r),n++;continue}if((224&r)==192){if(n+1<e.length&&(192&e[n+1])==128&&r>=194){t+=String.fromCharCode((31&r)<<6|63&e[n+1]),n+=2;continue}t+=String.fromCharCode(r),n++;continue}if((240&r)==224){if(n+2<e.length&&(192&e[n+1])==128&&(192&e[n+2])==128){if(224===r&&e[n+1]<160){t+=String.fromCharCode(r),n++;continue}let i=(15&r)<<12|(63&e[n+1])<<6|63&e[n+2];if(i>=55296&&i<=57343){t+=String.fromCharCode(r),n++;continue}t+=String.fromCharCode(i),n+=3;continue}t+=String.fromCharCode(r),n++;continue}if((248&r)==240&&r<=244){if(n+3<e.length&&(192&e[n+1])==128&&(192&e[n+2])==128&&(192&e[n+3])==128){if(240===r&&e[n+1]<144){t+=String.fromCharCode(r),n++;continue}let i=(7&r)<<18|(63&e[n+1])<<12|(63&e[n+2])<<6|63&e[n+3];if(i>1114111){t+=String.fromCharCode(r),n++;continue}t+=String.fromCodePoint(i),n+=4;continue}t+=String.fromCharCode(r),n++;continue}t+=String.fromCharCode(r),n++}return t}(r),n=i):(t+="\\x",n+=2);break}case"u":{let r="",i=n+2;for(;i<e.length&&i<n+6&&/[0-9a-fA-F]/.test(e[i]);)r+=e[i],i++;r?(t+=String.fromCodePoint(parseInt(r,16)),n=i):(t+="\\u",n+=2);break}case"0":{let r="",i=n+2;for(;i<e.length&&i<n+5&&/[0-7]/.test(e[i]);)r+=e[i],i++;r?t+=String.fromCharCode(parseInt(r,8)):t+="\0",n=i;break}case"1":case"2":case"3":case"4":case"5":case"6":case"7":{let r="",i=n+1;for(;i<e.length&&i<n+4&&/[0-7]/.test(e[i]);)r+=e[i],i++;t+=String.fromCharCode(parseInt(r,8)),n=i;break}default:t+=e[n],n++}else t+=e[n],n++;return{value:t,stopped:!1}}(n);return{value:e.value,parseError:!1,parseErrMsg:"",stopped:e.stopped}}default:try{return{value:(0,l.sprintf)(e,n),parseError:!1,parseErrMsg:""}}catch{return{value:"",parseError:!0,parseErrMsg:`printf: [sprintf] unexpected placeholder
`}}}}(d,f,g);if(i+=m,v&&(o=!0,b&&(c=b)),y)return{result:i,argsConsumed:a,error:o,errMsg:c,stopped:!0}}else i+=e[s],s++;return{result:i,argsConsumed:a,error:o,errMsg:c,stopped:!1}}(e,s,a,u);if(r+=t,a+=n,i&&(o=!0,p&&(c=p)),h)break}while(a<s.length&&a>0)if(0===a&&s.length,n){let e=n.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(['"]?)(.+?)\2\]$/);if(e){let n=e[1],i=e[3];i=i.replace(/\$([a-zA-Z_][a-zA-Z0-9_]*)/g,(e,n)=>t.env[n]??""),t.env[`${n}_${i}`]=r}else t.env[n]=r;return{stdout:"",stderr:c,exitCode:+!!o}}return{stdout:r,stderr:c,exitCode:+!!o}}catch(e){return{stdout:"",stderr:`printf: ${tg(e)}
`,exitCode:1}}}},tR=!1}),tN={};function tP(e){if(e<1024)return String(e);if(e<1048576){let t=e/1024;return t<10?`${t.toFixed(1)}K`:`${Math.round(t)}K`}if(e<0x40000000){let t=e/1048576;return t<10?`${t.toFixed(1)}M`:`${Math.round(t)}M`}let t=e/0x40000000;return t<10?`${t.toFixed(1)}G`:`${Math.round(t)}G`}function tL(e){let t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],n=String(e.getDate()).padStart(2," ");if(e>new Date((new Date).getTime()-15552e6)){let r=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");return`${t} ${n} ${r}:${i}`}let r=e.getFullYear();return`${t} ${n}  ${r}`}async function tI(e,t,n,r,i,s=!1,a=!1,o=!1){let l=n||r,c=t.fs.getAllPaths(),u=t.fs.resolvePath(t.cwd,"."),p=[];for(let t of c){let n=t.startsWith(u)&&t.slice(u.length+1)||t;if(K(n,e)||K(t,e)){let e=n.split("/").pop()||n;if(!l&&e.startsWith("."))continue;p.push(n||t)}}if(0===p.length)return{stdout:"",stderr:`ls: ${e}: No such file or directory
`,exitCode:2};if(o){let e=[];for(let n of p){let r=t.fs.resolvePath(t.cwd,n);try{let i=await t.fs.stat(r);e.push({path:n,size:i.size??0})}catch{e.push({path:n,size:0})}}e.sort((e,t)=>t.size-e.size),p.length=0,p.push(...e.map(e=>e.path))}else p.sort();if(s&&p.reverse(),i){let e=[];for(let n of p){let r=t.fs.resolvePath(t.cwd,n);try{let i=await t.fs.stat(r),s=i.isDirectory?"drwxr-xr-x":"-rw-r--r--",o=i.isDirectory?"/":"",l=i.size??0,c=a?tP(l).padStart(5):String(l).padStart(5),u=i.mtime??new Date(0),p=tL(u);e.push(`${s} 1 user user ${c} ${p} ${n}${o}`)}catch{e.push(`-rw-r--r-- 1 user user     0 Jan  1 00:00 ${n}`)}}return{stdout:`${e.join(`
`)}
`,stderr:"",exitCode:0}}return{stdout:`${p.join(`
`)}
`,stderr:"",exitCode:0}}async function tD(e,t,n,r,i,s,a,o=!1,l=!1,c=!1,u=!1){let p=n||r,h=t.fs.resolvePath(t.cwd,e);try{let u=await t.fs.stat(h);if(!u.isDirectory){if(i){let t=u.size??0,n=l?tP(t).padStart(5):String(t).padStart(5),r=u.mtime??new Date(0),i=tL(r);return{stdout:`-rw-r--r-- 1 user user ${n} ${i} ${e}
`,stderr:"",exitCode:0}}return{stdout:`${e}
`,stderr:"",exitCode:0}}let _=await t.fs.readdir(h);if(p||(_=_.filter(e=>!e.startsWith("."))),c){let e=[];for(let n of _){let r="/"===h?`/${n}`:`${h}/${n}`;try{let i=await t.fs.stat(r);e.push({name:n,size:i.size??0})}catch{e.push({name:n,size:0})}}e.sort((e,t)=>t.size-e.size),_=e.map(e=>e.name)}else _.sort();n&&(_=[".","..",..._]),o&&_.reverse();let f="";if((s||a)&&(f+=`${e}:
`),i){f+=`total ${_.length}
`;let e=_.filter(e=>"."===e||".."===e),n=_.filter(e=>"."!==e&&".."!==e);for(let t of e)f+=`drwxr-xr-x 1 user user     0 Jan  1 00:00 ${t}
`;let r=[];for(let e=0;e<n.length;e+=100){let i=n.slice(e,e+100),s=await Promise.all(i.map(async e=>{let n="/"===h?`/${e}`:`${h}/${e}`;try{let r=await t.fs.stat(n),i=r.isDirectory?"drwxr-xr-x":"-rw-r--r--",s=r.isDirectory?"/":"",a=r.size??0,o=l?tP(a).padStart(5):String(a).padStart(5),c=r.mtime??new Date(0),u=tL(c);return{name:e,line:`${i} 1 user user ${o} ${u} ${e}${s}
`}}catch{return{name:e,line:`-rw-r--r-- 1 user user     0 Jan  1 00:00 ${e}
`}}}));r.push(...s)}let i=new Map(n.map((e,t)=>[e,t]));for(let{line:e}of(r.sort((e,t)=>(i.get(e.name)??0)-(i.get(t.name)??0)),r))f+=e}else f+=_.join(`
`)+(_.length?`
`:"");if(s){let a=_.filter(e=>"."!==e&&".."!==e),u=[];if(t.fs.readdirWithFileTypes)u=(await t.fs.readdirWithFileTypes(h)).filter(e=>e.isDirectory&&a.includes(e.name)).map(e=>({name:e.name,isDirectory:!0}));else for(let e=0;e<a.length;e+=100){let n=a.slice(e,e+100),r=await Promise.all(n.map(async e=>{let n="/"===h?`/${e}`:`${h}/${e}`;try{let r=await t.fs.stat(n);return{name:e,isDirectory:r.isDirectory}}catch{return{name:e,isDirectory:!1}}}));u.push(...r.filter(e=>e.isDirectory))}u.sort((e,t)=>e.name.localeCompare(t.name)),o&&u.reverse();let p=[];for(let a=0;a<u.length;a+=100){let h=u.slice(a,a+100),_=await Promise.all(h.map(async a=>{let u="."===e?`./${a.name}`:`${e}/${a.name}`,p=await tD(u,t,n,r,i,s,!1,o,l,c,!0);return{name:a.name,result:p}}));p.push(..._)}for(let{result:e}of(p.sort((e,t)=>e.name.localeCompare(t.name)),o&&p.reverse(),p))f+=`
`,f+=e.stdout}return{stdout:f,stderr:"",exitCode:0}}catch{return{stdout:"",stderr:`ls: ${e}: No such file or directory
`,exitCode:2}}}e5(tN,{lsCommand:()=>tB});var tM,tF,tB,tH=e2(()=>{ta(),to(),ti(),tM={name:"ls",summary:"list directory contents",usage:"ls [OPTION]... [FILE]...",options:["-a, --all            do not ignore entries starting with .","-A, --almost-all     do not list . and ..","-d, --directory      list directories themselves, not their contents","-h, --human-readable with -l, print sizes like 1K 234M 2G etc.","-l                   use a long listing format","-r, --reverse        reverse order while sorting","-R, --recursive      list subdirectories recursively","-S                   sort by file size, largest first","-t                   sort by time, newest first","-1                   list one file per line","    --help           display this help and exit"]},tF={showAll:{short:"a",long:"all",type:"boolean"},showAlmostAll:{short:"A",long:"almost-all",type:"boolean"},longFormat:{short:"l",type:"boolean"},humanReadable:{short:"h",long:"human-readable",type:"boolean"},recursive:{short:"R",long:"recursive",type:"boolean"},reverse:{short:"r",long:"reverse",type:"boolean"},sortBySize:{short:"S",type:"boolean"},directoryOnly:{short:"d",long:"directory",type:"boolean"},sortByTime:{short:"t",type:"boolean"},onePerLine:{short:"1",type:"boolean"}},tB={name:"ls",async execute(e,t){if(tn(e))return tt(tM);let n=ts("ls",e,tF);if(!n.ok)return n.error;let r=n.result.flags.showAll,i=n.result.flags.showAlmostAll,s=n.result.flags.longFormat,a=n.result.flags.humanReadable,o=n.result.flags.recursive,l=n.result.flags.reverse,c=n.result.flags.sortBySize,u=n.result.flags.directoryOnly;n.result.flags.sortByTime,n.result.flags.onePerLine;let p=n.result.positional;0===p.length&&p.push(".");let h="",_="",f=0;for(let e=0;e<p.length;e++){let n=p[e];if(e>0&&h&&!h.endsWith(`

`)&&(h+=`
`),u){let e=t.fs.resolvePath(t.cwd,n);try{let r=await t.fs.stat(e);if(s){let e=r.isDirectory?"drwxr-xr-x":"-rw-r--r--",t=r.isDirectory?"/":"",i=r.size??0,s=a?tP(i).padStart(5):String(i).padStart(5),o=r.mtime??new Date(0),l=tL(o);h+=`${e} 1 user user ${s} ${l} ${n}${t}
`}else h+=`${n}
`}catch{_+=`ls: cannot access '${n}': No such file or directory
`,f=2}continue}if(n.includes("*")||n.includes("?")||n.includes("[")){let e=await tI(n,t,r,i,s,l,a,c);h+=e.stdout,_+=e.stderr,0!==e.exitCode&&(f=e.exitCode)}else{let e=await tD(n,t,r,i,s,o,p.length>1,l,a,c);h+=e.stdout,_+=e.stderr,0!==e.exitCode&&(f=e.exitCode)}}return{stdout:h,stderr:_,exitCode:f}}}}),tU={};e5(tU,{mkdirCommand:()=>tW});var tj,tW,tq=e2(()=>{tm(),ta(),tj={recursive:{short:"p",long:"parents",type:"boolean"},verbose:{short:"v",long:"verbose",type:"boolean"}},tW={name:"mkdir",async execute(e,t){let n=ts("mkdir",e,tj);if(!n.ok)return n.error;let r=n.result.flags.recursive,i=n.result.flags.verbose,s=n.result.positional;if(0===s.length)return{stdout:"",stderr:`mkdir: missing operand
`,exitCode:1};let a="",o="",l=0;for(let e of s)try{let n=t.fs.resolvePath(t.cwd,e);await t.fs.mkdir(n,{recursive:r}),i&&(a+=`mkdir: created directory '${e}'
`)}catch(n){let t=tg(n);t.includes("ENOENT")||t.includes("no such file")?o+=`mkdir: cannot create directory '${e}': No such file or directory
`:t.includes("EEXIST")||t.includes("already exists")?o+=`mkdir: cannot create directory '${e}': File exists
`:o+=`mkdir: cannot create directory '${e}': ${t}
`,l=1}return{stdout:a,stderr:o,exitCode:l}}}}),tz={};async function tG(e,t,n,r){let i="",s="",a=e.fs.resolvePath(e.cwd,t),o=await tV(e,a,t,r);if(i+=o.stdout,s+=o.stderr,0!==o.exitCode)return{stdout:i,stderr:s,exitCode:o.exitCode};if(n){let n=a,s=t;for(;;){let t=tZ(n),a=tZ(s);if(t===n||"/"===t||"."===t||"."===a||""===a)break;let o=await tV(e,t,a,r);if(i+=o.stdout,0!==o.exitCode)break;n=t,s=a}}return{stdout:i,stderr:s,exitCode:0}}async function tV(e,t,n,r){try{if(!await e.fs.exists(t))return{stdout:"",stderr:`rmdir: failed to remove '${n}': No such file or directory
`,exitCode:1};if(!(await e.fs.stat(t)).isDirectory)return{stdout:"",stderr:`rmdir: failed to remove '${n}': Not a directory
`,exitCode:1};if((await e.fs.readdir(t)).length>0)return{stdout:"",stderr:`rmdir: failed to remove '${n}': Directory not empty
`,exitCode:1};await e.fs.rm(t,{recursive:!1,force:!1});let i="";return r&&(i=`rmdir: removing directory, '${n}'
`),{stdout:i,stderr:"",exitCode:0}}catch(t){let e=tg(t);return{stdout:"",stderr:`rmdir: failed to remove '${n}': ${e}
`,exitCode:1}}}function tZ(e){let t=e.replace(/\/+$/,""),n=t.lastIndexOf("/");return -1===n?".":0===n?"/":t.substring(0,n)}e5(tz,{rmdirCommand:()=>tQ});var tK,tX,tQ,tJ=e2(()=>{tm(),ta(),tK=`Usage: rmdir [-pv] DIRECTORY...
Remove empty directories.

Options:
  -p, --parents   Remove DIRECTORY and its ancestors
  -v, --verbose   Output a diagnostic for every directory processed`,tX={parents:{short:"p",long:"parents",type:"boolean"},verbose:{short:"v",long:"verbose",type:"boolean"},help:{long:"help",type:"boolean"}},tQ={name:"rmdir",async execute(e,t){let n=ts("rmdir",e,tX);if(!n.ok)return n.error;if(n.result.flags.help)return{stdout:`${tK}
`,stderr:"",exitCode:0};let r=n.result.flags.parents,i=n.result.flags.verbose,s=n.result.positional;if(0===s.length)return{stdout:"",stderr:`rmdir: missing operand
`,exitCode:1};let a="",o="",l=0;for(let e of s){let n=await tG(t,e,r,i);a+=n.stdout,o+=n.stderr,0!==n.exitCode&&(l=n.exitCode)}return{stdout:a,stderr:o,exitCode:l}}}}),tY={};e5(tY,{touchCommand:()=>t0});var t0,t1=e2(()=>{tm(),ti(),t0={name:"touch",async execute(e,t){let n=[],r=null,i=!1;for(let t=0;t<e.length;t++){let s=e[t];if("--"===s){n.push(...e.slice(t+1));break}if("-d"===s||"--date"===s){if(t+1>=e.length)return{stdout:"",stderr:`touch: option requires an argument -- 'd'
`,exitCode:1};r=e[++t]}else if(s.startsWith("--date="))r=s.slice(7);else if("-c"===s||"--no-create"===s)i=!0;else if("-a"===s||"-m"===s||"-r"===s||"-t"===s)("-r"===s||"-t"===s)&&t++;else{if(s.startsWith("--"))return tr("touch",s);if(s.startsWith("-")&&s.length>1){let n=!1;for(let a of s.slice(1))if("c"===a)i=!0;else if("a"!==a&&"m"!==a)if("d"===a){if(t+1>=e.length)return{stdout:"",stderr:`touch: option requires an argument -- 'd'
`,exitCode:1};r=e[++t],n=!0;break}else{if("r"!==a&&"t"!==a)return tr("touch",`-${a}`);t++,n=!0;break}if(n)continue}else n.push(s)}}if(0===n.length)return{stdout:"",stderr:`touch: missing file operand
`,exitCode:1};let s=null;if(null!==r&&null===(s=function(e){let t=e.replace(/\//g,"-"),n=new Date(t);if(!Number.isNaN(n.getTime()))return n;let r=t.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(r){let[,e,t,i]=r;if(!Number.isNaN((n=new Date(Number.parseInt(e,10),Number.parseInt(t,10)-1,Number.parseInt(i,10))).getTime()))return n}let i=t.match(/^(\d{4})-(\d{2})-(\d{2})\s+(\d{2}):(\d{2}):(\d{2})$/);if(i){let[,e,t,r,s,a,o]=i;if(!Number.isNaN((n=new Date(Number.parseInt(e,10),Number.parseInt(t,10)-1,Number.parseInt(r,10),Number.parseInt(s,10),Number.parseInt(a,10),Number.parseInt(o,10))).getTime()))return n}return null}(r)))return{stdout:"",stderr:`touch: invalid date format '${r}'
`,exitCode:1};let a="",o=0;for(let e of n)try{let n=t.fs.resolvePath(t.cwd,e);if(!await t.fs.exists(n)){if(i)continue;await t.fs.writeFile(n,"")}let r=s??new Date;await t.fs.utimes(n,r,r)}catch(t){a+=`touch: cannot touch '${e}': ${tg(t)}
`,o=1}return{stdout:"",stderr:a,exitCode:o}}}}),t2={};e5(t2,{rmCommand:()=>t5});var t3,t5,t6=e2(()=>{tm(),ta(),t3={recursive:{short:"r",long:"recursive",type:"boolean"},recursiveUpper:{short:"R",type:"boolean"},force:{short:"f",long:"force",type:"boolean"},verbose:{short:"v",long:"verbose",type:"boolean"}},t5={name:"rm",async execute(e,t){let n=ts("rm",e,t3);if(!n.ok)return n.error;let r=n.result.flags.recursive||n.result.flags.recursiveUpper,i=n.result.flags.force,s=n.result.flags.verbose,a=n.result.positional;if(0===a.length)return i?{stdout:"",stderr:"",exitCode:0}:{stdout:"",stderr:`rm: missing operand
`,exitCode:1};let o="",l="",c=0;for(let e of a)try{let n=t.fs.resolvePath(t.cwd,e);if((await t.fs.stat(n)).isDirectory&&!r){l+=`rm: cannot remove '${e}': Is a directory
`,c=1;continue}await t.fs.rm(n,{recursive:r,force:i}),s&&(o+=`removed '${e}'
`)}catch(t){if(!i){let n=tg(t);n.includes("ENOENT")||n.includes("no such file")?l+=`rm: cannot remove '${e}': No such file or directory
`:n.includes("ENOTEMPTY")||n.includes("not empty")?l+=`rm: cannot remove '${e}': Directory not empty
`:l+=`rm: cannot remove '${e}': ${n}
`,c=1}}return{stdout:o,stderr:l,exitCode:c}}}}),t4={};e5(t4,{cpCommand:()=>t7});var t8,t9,t7,ne=e2(()=>{tm(),ta(),ti(),t8={name:"cp",summary:"copy files and directories",usage:"cp [OPTION]... SOURCE... DEST",options:["-r, -R, --recursive  copy directories recursively","-n, --no-clobber     do not overwrite an existing file","-p, --preserve       preserve file attributes","-v, --verbose        explain what is being done","    --help           display this help and exit"]},t9={recursive:{short:"r",long:"recursive",type:"boolean"},recursiveUpper:{short:"R",type:"boolean"},noClobber:{short:"n",long:"no-clobber",type:"boolean"},preserve:{short:"p",long:"preserve",type:"boolean"},verbose:{short:"v",long:"verbose",type:"boolean"}},t7={name:"cp",async execute(e,t){if(tn(e))return tt(t8);let n=ts("cp",e,t9);if(!n.ok)return n.error;let r=n.result.flags.recursive||n.result.flags.recursiveUpper,i=n.result.flags.noClobber,s=(n.result.flags.preserve,n.result.flags.verbose),a=n.result.positional;if(a.length<2)return{stdout:"",stderr:`cp: missing destination file operand
`,exitCode:1};let o=a.pop()??"",l=t.fs.resolvePath(t.cwd,o),c="",u="",p=0,h=!1;try{h=(await t.fs.stat(l)).isDirectory}catch{}if(a.length>1&&!h)return{stdout:"",stderr:`cp: target '${o}' is not a directory
`,exitCode:1};for(let e of a)try{let n=t.fs.resolvePath(t.cwd,e),a=await t.fs.stat(n),o=l;if(h){let t=e.split("/").pop()||e;o="/"===l?`/${t}`:`${l}/${t}`}if(a.isDirectory&&!r){u+=`cp: -r not specified; omitting directory '${e}'
`,p=1;continue}if(i)try{await t.fs.stat(o);continue}catch{}await t.fs.cp(n,o,{recursive:r}),s&&(c+=`'${e}' -> '${o}'
`)}catch(n){let t=tg(n);t.includes("ENOENT")||t.includes("no such file")?u+=`cp: cannot stat '${e}': No such file or directory
`:u+=`cp: cannot copy '${e}': ${t}
`,p=1}return{stdout:c,stderr:u,exitCode:p}}}}),nt={};e5(nt,{mvCommand:()=>ni});var nn,nr,ni,ns=e2(()=>{tm(),ta(),ti(),nn={name:"mv",summary:"move (rename) files",usage:"mv [OPTION]... SOURCE... DEST",options:["-f, --force       do not prompt before overwriting","-n, --no-clobber  do not overwrite an existing file","-v, --verbose     explain what is being done","    --help        display this help and exit"]},nr={force:{short:"f",long:"force",type:"boolean"},noClobber:{short:"n",long:"no-clobber",type:"boolean"},verbose:{short:"v",long:"verbose",type:"boolean"}},ni={name:"mv",async execute(e,t){if(tn(e))return tt(nn);let n=ts("mv",e,nr);if(!n.ok)return n.error;n.result.flags.force;let r=n.result.flags.noClobber,i=n.result.flags.verbose,s=n.result.positional;if(s.length<2)return{stdout:"",stderr:`mv: missing destination file operand
`,exitCode:1};let a=s.pop()??"",o=t.fs.resolvePath(t.cwd,a),l="",c="",u=0,p=!1;try{p=(await t.fs.stat(o)).isDirectory}catch{}if(s.length>1&&!p)return{stdout:"",stderr:`mv: target '${a}' is not a directory
`,exitCode:1};for(let e of s)try{let n=t.fs.resolvePath(t.cwd,e),s=o;if(p){let t=e.split("/").pop()||e;s="/"===o?`/${t}`:`${o}/${t}`}if(r)try{await t.fs.stat(s);continue}catch{}if(await t.fs.mv(n,s),i){let t=p?`${a}/${e.split("/").pop()||e}`:a;l+=`renamed '${e}' -> '${t}'
`}}catch(n){let t=tg(n);t.includes("ENOENT")||t.includes("no such file")?c+=`mv: cannot stat '${e}': No such file or directory
`:c+=`mv: cannot move '${e}': ${t}
`,u=1}return{stdout:l,stderr:c,exitCode:u}}}}),na={};e5(na,{lnCommand:()=>nl});var no,nl,nc=e2(()=>{ti(),no={name:"ln",summary:"make links between files",usage:"ln [OPTIONS] TARGET LINK_NAME",options:["-s      create a symbolic link instead of a hard link","-f      remove existing destination files","-n      treat LINK_NAME as a normal file if it is a symbolic link to a directory","-v      print name of each linked file","    --help display this help and exit"]},nl={name:"ln",async execute(e,t){if(tn(e))return tt(no);let n=!1,r=!1,i=!1,s=0;for(;s<e.length&&e[s].startsWith("-");){let t=e[s];if("-s"===t||"--symbolic"===t)n=!0,s++;else if("-f"===t||"--force"===t)r=!0,s++;else if("-v"===t||"--verbose"===t)i=!0,s++;else if("-n"===t||"--no-dereference"===t)s++;else if(/^-[sfvn]+$/.test(t))t.includes("s")&&(n=!0),t.includes("f")&&(r=!0),t.includes("v")&&(i=!0),s++;else{if("--"!==t)return{stdout:"",stderr:`ln: invalid option -- '${t.slice(1)}'
`,exitCode:1};s++;break}}let a=e.slice(s);if(a.length<2)return{stdout:"",stderr:`ln: missing file operand
`,exitCode:1};let o=a[0],l=a[1],c=t.fs.resolvePath(t.cwd,l);if(await t.fs.exists(c))if(!r)return{stdout:"",stderr:`ln: failed to create ${n?"symbolic ":""}link '${l}': File exists
`,exitCode:1};else try{await t.fs.rm(c,{force:!0})}catch{return{stdout:"",stderr:`ln: cannot remove '${l}': Permission denied
`,exitCode:1}}try{if(n)await t.fs.symlink(o,c);else{let e=t.fs.resolvePath(t.cwd,o);if(!await t.fs.exists(e))return{stdout:"",stderr:`ln: failed to access '${o}': No such file or directory
`,exitCode:1};await t.fs.link(e,c)}}catch(e){return e.message.includes("EPERM")?{stdout:"",stderr:`ln: '${o}': hard link not allowed for directory
`,exitCode:1}:{stdout:"",stderr:`ln: ${e.message}
`,exitCode:1}}let u="";return i&&(u=`'${l}' -> '${o}'
`),{stdout:u,stderr:"",exitCode:0}}}}),nu={};async function np(e,t,n,r,i){let s="";for(let a of(await e.fs.readdir(t))){let o="/"===t?`/${a}`:`${t}/${a}`,l;l=void 0!==n?n:void 0!==r?nh(r,(await e.fs.stat(o)).mode):420,await e.fs.chmod(o,l),i&&(s+=`mode of '${o}' changed to ${l.toString(8).padStart(4,"0")}
`),(await e.fs.stat(o)).isDirectory&&(s+=await np(e,o,n,r,i))}return s}function nh(e,t=420){if(/^[0-7]+$/.test(e))return parseInt(e,8);let n=4095&t;for(let t of e.split(",")){let r=t.match(/^([ugoa]*)([+\-=])([rwxXst]*)$/);if(!r)throw Error(`Invalid mode: ${e}`);let i=r[1]||"a",s=r[2],a=r[3];("a"===i||""===i)&&(i="ugo");let o=0;a.includes("r")&&(o|=4),a.includes("w")&&(o|=2),(a.includes("x")||a.includes("X"))&&(o|=1);let l=0;for(let e of(a.includes("s")&&(i.includes("u")&&(l|=2048),i.includes("g")&&(l|=1024)),a.includes("t")&&(l|=512),i)){let t=0;"u"===e?t=6:"g"===e?t=3:"o"===e&&(t=0);let r=o<<t;"+"===s?n|=r:"-"===s?n&=~r:"="===s&&(n&=~(7<<t),n|=r)}"+"===s?n|=l:"-"===s?n&=~l:"="===s&&(a.includes("s")&&(i.includes("u")&&(n&=-2049,n|=2048&l),i.includes("g")&&(n&=-1025,n|=1024&l)),a.includes("t")&&(n&=-513,n|=512&l))}return n}e5(nu,{chmodCommand:()=>nf});var n_,nf,nd=e2(()=>{ti(),n_={name:"chmod",summary:"change file mode bits",usage:"chmod [OPTIONS] MODE FILE...",options:["-R      change files recursively","-v      output a diagnostic for every file processed","    --help display this help and exit"]},nf={name:"chmod",async execute(e,t){if(tn(e))return tt(n_);if(e.length<2)return{stdout:"",stderr:`chmod: missing operand
`,exitCode:1};let n=!1,r=!1,i=0;for(;i<e.length&&e[i].startsWith("-");){let t=e[i];if("-R"===t||"--recursive"===t)n=!0,i++;else if("-v"===t||"--verbose"===t)r=!0,i++;else if("--"===t){i++;break}else{if(/^[+-]?[rwxugo]+/.test(t)||/^\d+$/.test(t))break;if(/^-[Rv]+$/.test(t)){t.includes("R")&&(n=!0),t.includes("v")&&(r=!0),i++;continue}return{stdout:"",stderr:`chmod: invalid option -- '${t.slice(1)}'
`,exitCode:1}}}if(e.length-i<2)return{stdout:"",stderr:`chmod: missing operand
`,exitCode:1};let s=e[i],a=e.slice(i+1),o=/^[0-7]+$/.test(s),l;if(o)l=parseInt(s,8);else try{nh(s,420)}catch{return{stdout:"",stderr:`chmod: invalid mode: '${s}'
`,exitCode:1}}let c="",u="",p=!1;for(let e of a){let i=t.fs.resolvePath(t.cwd,e);try{let a;if(o&&void 0!==l)a=l;else{let e=await t.fs.stat(i);a=nh(s,e.mode)}if(await t.fs.chmod(i,a),r&&(c+=`mode of '${e}' changed to ${a.toString(8).padStart(4,"0")}
`),n&&(await t.fs.stat(i)).isDirectory){let e=await np(t,i,o?l:void 0,o?void 0:s,r);c+=e}}catch{u+=`chmod: cannot access '${e}': No such file or directory
`,p=!0}}return{stdout:c,stderr:u,exitCode:+!!p}}}}),ng={};e5(ng,{pwdCommand:()=>nm});var nm,nv=e2(()=>{nm={name:"pwd",async execute(e,t){let n=!1;for(let t of e)if("-P"===t)n=!0;else if("-L"===t)n=!1;else{if("--"===t)break;t.startsWith("-")}let r=t.cwd;if(n)try{r=await t.fs.realpath(t.cwd)}catch{}return{stdout:`${r}
`,stderr:"",exitCode:0}}}}),nb={};e5(nb,{readlinkCommand:()=>n$});var ny,n$,nx=e2(()=>{ti(),ny={name:"readlink",summary:"print resolved symbolic links or canonical file names",usage:"readlink [OPTIONS] FILE...",options:["-f      canonicalize by following every symlink in every component of the given name recursively","    --help display this help and exit"]},n$={name:"readlink",async execute(e,t){if(tn(e))return tt(ny);let n=!1,r=0;for(;r<e.length&&e[r].startsWith("-");){let t=e[r];if("-f"===t||"--canonicalize"===t)n=!0,r++;else{if("--"!==t)return{stdout:"",stderr:`readlink: invalid option -- '${t.slice(1)}'
`,exitCode:1};r++;break}}let i=e.slice(r);if(0===i.length)return{stdout:"",stderr:`readlink: missing operand
`,exitCode:1};let s="",a=!1;for(let e of i){let r=t.fs.resolvePath(t.cwd,e);try{if(n){let e=r,n=new Set;for(;!n.has(e);){n.add(e);try{let n=await t.fs.readlink(e);if(n.startsWith("/"))e=n;else{let r=e.substring(0,e.lastIndexOf("/"))||"/";e=t.fs.resolvePath(r,n)}}catch{break}}s+=`${e}
`}else{let e=await t.fs.readlink(r);s+=`${e}
`}}catch{n?s+=`${r}
`:a=!0}}return{stdout:s,stderr:"",exitCode:+!!a}}}});function nS(e,t){let n=10,r=null,i=!1,s=!1,a=!1,o=[];for(let l=0;l<e.length;l++){let c=e[l];if("-n"===c&&l+1<e.length){let r=e[++l];"tail"===t&&r.startsWith("+")?(a=!0,n=parseInt(r.slice(1),10)):n=parseInt(r,10)}else if("tail"===t&&c.startsWith("-n+"))a=!0,n=parseInt(c.slice(3),10);else if(c.startsWith("-n"))n=parseInt(c.slice(2),10);else if("-c"===c&&l+1<e.length)r=parseInt(e[++l],10);else if(c.startsWith("-c"))r=parseInt(c.slice(2),10);else if(c.startsWith("--bytes="))r=parseInt(c.slice(8),10);else if(c.startsWith("--lines="))n=parseInt(c.slice(8),10);else if("-q"===c||"--quiet"===c||"--silent"===c)i=!0;else if("-v"===c||"--verbose"===c)s=!0;else if(c.match(/^-\d+$/))n=parseInt(c.slice(1),10);else{if(c.startsWith("--")||c.startsWith("-")&&"-"!==c)return{ok:!1,error:tr(t,c)};o.push(c)}}return null!==r&&(Number.isNaN(r)||r<0)?{ok:!1,error:{stdout:"",stderr:`${t}: invalid number of bytes
`,exitCode:1}}:Number.isNaN(n)||n<0?{ok:!1,error:{stdout:"",stderr:`${t}: invalid number of lines
`,exitCode:1}}:{ok:!0,options:{lines:n,bytes:r,quiet:i,verbose:s,files:o,fromLine:a}}}async function nA(e,t,n,r){let{quiet:i,verbose:s,files:a}=t;if(0===a.length)return{stdout:r(e.stdin),stderr:"",exitCode:0};let o="",l="",c=0,u=s||!i&&a.length>1,p=0;for(let t=0;t<a.length;t++){let i=a[t];try{let t=e.fs.resolvePath(e.cwd,i),n=await e.fs.readFile(t);u&&(p>0&&(o+=`
`),o+=`==> ${i} <==
`),o+=r(n),p++}catch{l+=`${n}: ${i}: No such file or directory
`,c=1}}return{stdout:o,stderr:l,exitCode:c}}var nw=e2(()=>{ti()}),nE={};e5(nE,{headCommand:()=>nC});var nk,nC,nO=e2(()=>{ti(),nw(),nk={name:"head",summary:"output the first part of files",usage:"head [OPTION]... [FILE]...",options:["-c, --bytes=NUM    print the first NUM bytes","-n, --lines=NUM    print the first NUM lines (default 10)","-q, --quiet        never print headers giving file names","-v, --verbose      always print headers giving file names","    --help         display this help and exit"]},nC={name:"head",async execute(e,t){if(tn(e))return tt(nk);let n=nS(e,"head");if(!n.ok)return n.error;let{lines:r,bytes:i}=n.options;return nA(t,n.options,"head",e=>(function(e,t,n){if(null!==n)return e.slice(0,n);if(0===t)return"";let r=0,i=0,s=e.length;for(;r<s&&i<t;){let t=e.indexOf(`
`,r);if(-1===t)return`${e}
`;i++,r=t+1}return r>0?e.slice(0,r):""})(e,r,i))}}}),nR={};e5(nR,{tailCommand:()=>nN});var nT,nN,nP=e2(()=>{nw(),ti(),nT={name:"tail",summary:"output the last part of files",usage:"tail [OPTION]... [FILE]...",options:["-c, --bytes=NUM    print the last NUM bytes","-n, --lines=NUM    print the last NUM lines (default 10)","-n +NUM            print starting from line NUM","-q, --quiet        never print headers giving file names","-v, --verbose      always print headers giving file names","    --help         display this help and exit"]},nN={name:"tail",async execute(e,t){if(tn(e))return tt(nT);let n=nS(e,"tail");if(!n.ok)return n.error;let{lines:r,bytes:i,fromLine:s}=n.options;return nA(t,n.options,"tail",e=>(function(e,t,n,r){if(null!==n)return e.slice(-n);let i=e.length;if(0===i)return"";if(r){let n=0,r=1;for(;n<i&&r<t;){let t=e.indexOf(`
`,n);if(-1===t)break;r++,n=t+1}let s=e.slice(n);return s.endsWith(`
`)?s:`${s}
`}if(0===t)return"";let s=i-1;e[s]===`
`&&s--;let a=0;for(;s>=0&&a<t;){if(e[s]===`
`&&++a===t){s++;break}s--}s<0&&(s=0);let o=e.slice(s);return e[i-1]===`
`?o:`${o}
`})(e,r,i,s??!1))}}}),nL={};function nI(e){let t=e.length,n=0,r=0,i=!1;for(let s=0;s<t;s++){let t=e[s];t===`
`?(n++,i&&(r++,i=!1)):" "===t||"	"===t||"\r"===t?i&&(r++,i=!1):i=!0}return i&&r++,{lines:n,words:r,chars:t}}function nD(e,t,n,r,i,s){let a=[];t&&a.push(String(e.lines).padStart(s)),n&&a.push(String(e.words).padStart(s)),r&&a.push(String(e.chars).padStart(s));let o=a.join(" ");return i&&(o+=` ${i}`),o}e5(nL,{wcCommand:()=>nB});var nM,nF,nB,nH=e2(()=>{ta(),tu(),ti(),nM={name:"wc",summary:"print newline, word, and byte counts for each file",usage:"wc [OPTION]... [FILE]...",options:["-c, --bytes      print the byte counts","-m, --chars      print the character counts","-l, --lines      print the newline counts","-w, --words      print the word counts","    --help       display this help and exit"]},nF={lines:{short:"l",long:"lines",type:"boolean"},words:{short:"w",long:"words",type:"boolean"},bytes:{short:"c",long:"bytes",type:"boolean"},chars:{short:"m",long:"chars",type:"boolean"}},nB={name:"wc",async execute(e,t){if(tn(e))return tt(nM);let n=ts("wc",e,nF);if(!n.ok)return n.error;let{lines:r,words:i}=n.result.flags,s=n.result.flags.bytes||n.result.flags.chars,a=n.result.positional;r||i||s||(r=i=s=!0);let o=await tl(t,a,{cmdName:"wc",stopOnError:!1});if(0===a.length){let e=nI(o.files[0].content);return{stdout:`${nD(e,r,i,s,"",0)}
`,stderr:"",exitCode:0}}let l=[],c=0,u=0,p=0;for(let{filename:e,content:t}of o.files){let n=nI(t);c+=n.lines,u+=n.words,p+=n.chars,l.push({filename:e,stats:n})}let h=a.length>1?c:Math.max(...l.map(e=>e.stats.lines)),_=a.length>1?u:Math.max(...l.map(e=>e.stats.words)),f=a.length>1?p:Math.max(...l.map(e=>e.stats.chars)),d=3*(a.length>1);r&&(d=Math.max(d,String(h).length)),i&&(d=Math.max(d,String(_).length)),s&&(d=Math.max(d,String(f).length));let g="";for(let{filename:e,stats:t}of l)g+=`${nD(t,r,i,s,e,d)}
`;return a.length>1&&(g+=`${nD({lines:c,words:u,chars:p},r,i,s,"total",d)}
`),{stdout:g,stderr:o.stderr,exitCode:o.exitCode}}}}),nU={};function nj(e,t){return(t?"d":"-")+[256&e?"r":"-",128&e?"w":"-",64&e?"x":"-",32&e?"r":"-",16&e?"w":"-",8&e?"x":"-",4&e?"r":"-",2&e?"w":"-",1&e?"x":"-"].join("")}e5(nU,{statCommand:()=>nz});var nW,nq,nz,nG=e2(()=>{ta(),ti(),nW={name:"stat",summary:"display file or file system status",usage:"stat [OPTION]... FILE...",options:["-c FORMAT   use the specified FORMAT instead of the default","    --help  display this help and exit"]},nq={format:{short:"c",type:"string"}},nz={name:"stat",async execute(e,t){if(tn(e))return tt(nW);let n=ts("stat",e,nq);if(!n.ok)return n.error;let r=n.result.flags.format??null,i=n.result.positional;if(0===i.length)return{stdout:"",stderr:`stat: missing operand
`,exitCode:1};let s="",a="",o=!1;for(let e of i){let n=t.fs.resolvePath(t.cwd,e);try{let i=await t.fs.stat(n);if(r){let t=r,n=i.mode.toString(8),a=nj(i.mode,i.isDirectory);t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/%n/g,e)).replace(/%N/g,`'${e}'`)).replace(/%s/g,String(i.size))).replace(/%F/g,i.isDirectory?"directory":"regular file")).replace(/%a/g,n)).replace(/%A/g,a)).replace(/%u/g,"1000")).replace(/%U/g,"user")).replace(/%g/g,"1000")).replace(/%G/g,"group"),s+=`${t}
`}else{let t=i.mode.toString(8).padStart(4,"0"),n=nj(i.mode,i.isDirectory);s+=`  File: ${e}
  Size: ${i.size}		Blocks: ${Math.ceil(i.size/512)}
Access: (${t}/${n})
Modify: ${i.mtime.toISOString()}
`}}catch{a+=`stat: cannot stat '${e}': No such file or directory
`,o=!0}}return{stdout:s,stderr:a,exitCode:+!!o}}}});function nV(e,t,n){let r="boolean"==typeof n?{ignoreCase:n}:n??{},i=t;r.stripQuotes&&(i.startsWith('"')&&i.endsWith('"')||i.startsWith("'")&&i.endsWith("'"))&&(i=i.slice(1,-1));let s=r.ignoreCase?`i:${i}`:i,a=nZ.get(s);return a||(a=function(e,t){let n="^";for(let t=0;t<e.length;t++){let r=e[t];if("*"===r)n+=".*";else if("?"===r)n+=".";else if("["===r){let r=t+1;for(;r<e.length&&"]"!==e[r];)r++;n+=e.slice(t,r+1),t=r}else"."===r||"+"===r||"^"===r||"$"===r||"{"===r||"}"===r||"("===r||")"===r||"|"===r||"\\"===r?n+=`\\${r}`:n+=r}return new RegExp(n+="$",t?"i":"")}(i,r.ignoreCase),nZ.set(s,a)),a.test(e)}var nZ,nK=e2(()=>{nZ=new Map});function nX(e,t){return e.replace(/\$(&|\d+|<([^>]+)>)/g,(e,n,r)=>"&"===n?t[0]:void 0!==r?t.groups?.[r]??"":t[parseInt(n,10)]??"")}function nQ(e,t,n={}){let{invertMatch:r=!1,showLineNumbers:i=!1,countOnly:s=!1,countMatches:a=!1,filename:o="",onlyMatching:l=!1,beforeContext:c=0,afterContext:u=0,maxCount:p=0,contextSeparator:h="--",showColumn:_=!1,vimgrep:f=!1,showByteOffset:d=!1,replace:g=null,passthru:m=!1,multiline:v=!1,kResetGroup:b}=n;if(v)return function(e,t,n){let{invertMatch:r,showLineNumbers:i,countOnly:s,countMatches:a,filename:o,onlyMatching:l,beforeContext:c,afterContext:u,maxCount:p,contextSeparator:h,showColumn:_,showByteOffset:f,replace:d,kResetGroup:g}=n,m=e.split(`
`),v=m.length,b=v>0&&""===m[v-1]?v-1:v,y=[0];for(let t=0;t<e.length;t++)e[t]===`
`&&y.push(t+1);let $=e=>{let t=0;for(let n=0;n<y.length&&!(y[n]>e);n++)t=n;return t},x=e=>{let t=$(e);return e-y[t]+1},S=[];t.lastIndex=0;for(let n=t.exec(e);null!==n&&!(p>0&&S.length>=p);n=t.exec(e)){let e=$(n.index),r=$(n.index+Math.max(0,n[0].length-1)),i=void 0!==g?n[g]??"":n[0];S.push({startLine:e,endLine:r,byteOffset:n.index,column:x(n.index),matchText:i}),0===n[0].length&&t.lastIndex++}if(s||a){let e;if(a)e=r?0:S.length;else{let t=new Set;for(let e of S)for(let n=e.startLine;n<=e.endLine;n++)t.add(n);e=r?b-t.size:t.size}return{output:`${o?`${o}:${e}`:String(e)}
`,matched:e>0,matchCount:e}}if(r){let e=new Set;for(let t of S)for(let n=t.startLine;n<=t.endLine;n++)e.add(n);let t=[];for(let n=0;n<b;n++)if(!e.has(n)){let e=m[n];i&&(e=`${n+1}:${e}`),o&&(e=`${o}:${e}`),t.push(e)}return{output:t.length>0?`${t.join(`
`)}
`:"",matched:t.length>0,matchCount:t.length}}if(0===S.length)return{output:"",matched:!1,matchCount:0};let A=new Set,w=-1,E=[];for(let e of S){let n=Math.max(0,e.startLine-c),r=Math.min(b-1,e.endLine+u);w>=0&&n>w+1&&E.push(h);for(let t=n;t<e.startLine;t++)if(!A.has(t)){A.add(t),w=t;let e=m[t];i&&(e=`${t+1}-${e}`),o&&(e=`${o}-${e}`),E.push(e)}if(l){let t=null!==d?d:e.matchText,n=o?`${o}:`:"";f&&(n+=`${e.byteOffset}:`),i&&(n+=`${e.startLine+1}:`),_&&(n+=`${e.column}:`),E.push(n+t);for(let t=e.startLine;t<=e.endLine;t++)A.add(t),w=t}else for(let n=e.startLine;n<=e.endLine&&n<b;n++)if(!A.has(n)){A.add(n),w=n;let r=m[n];null!==d&&n===e.startLine&&(t.lastIndex=0,r=r.replace(t,d));let s=o?`${o}:`:"";f&&n===e.startLine&&(s+=`${e.byteOffset}:`),i&&(s+=`${n+1}:`),_&&n===e.startLine&&(s+=`${e.column}:`),E.push(s+r)}for(let t=e.endLine+1;t<=r;t++)if(!A.has(t)){A.add(t),w=t;let e=m[t];i&&(e=`${t+1}-${e}`),o&&(e=`${o}-${e}`),E.push(e)}}return{output:E.length>0?`${E.join(`
`)}
`:"",matched:!0,matchCount:S.length}}(e,t,{invertMatch:r,showLineNumbers:i,countOnly:s,countMatches:a,filename:o,onlyMatching:l,beforeContext:c,afterContext:u,maxCount:p,contextSeparator:h,showColumn:_,showByteOffset:d,replace:g,kResetGroup:b});let y=e.split(`
`),$=y.length,x=$>0&&""===y[$-1]?$-1:$;if(s||a){let e=0,n=(a||l)&&!r;for(let i=0;i<x;i++)if(t.lastIndex=0,n)for(let n=t.exec(y[i]);null!==n;n=t.exec(y[i]))e++,0===n[0].length&&t.lastIndex++;else t.test(y[i])!==r&&e++;return{output:`${o?`${o}:${e}`:String(e)}
`,matched:e>0,matchCount:e}}if(0===c&&0===u&&!m){let e=[],n=!1,s=0,a=0;for(let c=0;c<x&&!(p>0&&s>=p);c++){let u=y[c];if(t.lastIndex=0,t.test(u)!==r)if(n=!0,s++,l){t.lastIndex=0;for(let n=t.exec(u);null!==n;n=t.exec(u)){let r=void 0!==b?n[b]??"":n[0],s=null!==g?nX(g,n):r,l=o?`${o}:`:"";d&&(l+=`${a+n.index}:`),i&&(l+=`${c+1}:`),_&&(l+=`${n.index+1}:`),e.push(l+s),0===n[0].length&&t.lastIndex++}}else if(f){t.lastIndex=0;for(let n=t.exec(u);null!==n;n=t.exec(u)){let r=o?`${o}:`:"";d&&(r+=`${a+n.index}:`),i&&(r+=`${c+1}:`),_&&(r+=`${n.index+1}:`),e.push(r+u),0===n[0].length&&t.lastIndex++}}else{t.lastIndex=0;let n=t.exec(u),r=n?n.index+1:1,s=u;null!==g&&(t.lastIndex=0,s=u.replace(t,(...e)=>{if(0===e[0].length)return"";let t=e[e.length-1];return"object"==typeof t&&null!==t?(e.groups=t,e.input=e[e.length-2],e.index=e[e.length-3]):(e.input=e[e.length-1],e.index=e[e.length-2]),nX(g,e)}));let l=o?`${o}:`:"";d&&(l+=`${a+(n?n.index:0)}:`),i&&(l+=`${c+1}:`),_&&(l+=`${r}:`),e.push(l+s)}a+=u.length+1}return{output:e.length>0?`${e.join(`
`)}
`:"",matched:n,matchCount:s}}if(m){let e=[],n=!1,s=0;for(let a=0;a<x;a++){let l=y[a];t.lastIndex=0;let c=t.test(l)!==r;c&&(n=!0,s++);let u=c?":":"-",p=o?`${o}${u}`:"";i&&(p+=`${a+1}${u}`),e.push(p+l)}return{output:e.length>0?`${e.join(`
`)}
`:"",matched:n,matchCount:s}}let S=[],A=0,w=new Set,E=-1,k=[];for(let e=0;e<x&&!(p>0&&A>=p);e++)t.lastIndex=0,t.test(y[e])!==r&&(k.push(e),A++);for(let e of k){let n=Math.max(0,e-c);E>=0&&n>E+1&&S.push(h);for(let t=n;t<e;t++)if(!w.has(t)){w.add(t),E=t;let e=y[t];i&&(e=`${t+1}-${e}`),o&&(e=`${o}-${e}`),S.push(e)}if(!w.has(e)){w.add(e),E=e;let n=y[e];if(l){t.lastIndex=0;for(let r=t.exec(n);null!==r;r=t.exec(n)){let n=void 0!==b?r[b]??"":r[0],s=null!==g?g:n,a=o?`${o}:`:"";i&&(a+=`${e+1}:`),_&&(a+=`${r.index+1}:`),S.push(a+s),0===r[0].length&&t.lastIndex++}}else{let t=n;i&&(t=`${e+1}:${t}`),o&&(t=`${o}:${t}`),S.push(t)}}let r=Math.min(x-1,e+u);for(let t=e+1;t<=r;t++)if(!w.has(t)){w.add(t),E=t;let e=y[t];i&&(e=`${t+1}-${e}`),o&&(e=`${o}-${e}`),S.push(e)}}return{output:S.length>0?`${S.join(`
`)}
`:"",matched:A>0,matchCount:A}}var nJ=e2(()=>{});function nY(e){let t="",n=0;for(;n<e.length;){if("[[:<:]]"===e.slice(n,n+7)){t+="(?<![\\w])",n+=7;continue}if("[[:>:]]"===e.slice(n,n+7)){t+="(?![\\w])",n+=7;continue}if("["===e[n]){let r="[";for(++n<e.length&&("^"===e[n]||"!"===e[n])&&(r+="^",n++),n<e.length&&"]"===e[n]&&(r+="\\]",n++);n<e.length&&"]"!==e[n];){if("["===e[n]&&n+1<e.length&&":"===e[n+1]){let t=e.indexOf(":]",n+2);if(-1!==t){let i=n1[e.slice(n+2,t)];if(i){r+=i,n=t+2;continue}}}if("\\"===e[n]&&n+1<e.length){r+=e[n]+e[n+1],n+=2;continue}r+=e[n],n++}n<e.length&&"]"===e[n]&&(r+="]",n++),t+=r;continue}if("\\"===e[n]&&n+1<e.length){t+=e[n]+e[n+1],n+=2;continue}t+=e[n],n++}return t}function n0(e,t){let n,r;switch(t.mode){case"fixed":n=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");break;case"extended":case"perl":if(n=(n=nY(e)).replace(/\(\?P<([^>]+)>/g,"(?<$1>"),"perl"===t.mode){let e=function(e){let t=function(e){let t=0;for(;t<e.length-1;)if("\\"===e[t]){if("K"===e[t+1]){let n=0,r=t-1;for(;r>=0&&"\\"===e[r];)n++,r--;if(n%2==0)return t}t+=2}else t++;return -1}(e);if(-1===t)return{pattern:e};let n=e.slice(0,t),r=e.slice(t+2),i=function(e){let t=0,n=0;for(;n<e.length;){if("\\"===e[n]){n+=2;continue}if("["===e[n]){for(n++;n<e.length&&"]"!==e[n];)"\\"===e[n]&&n++,n++;n++;continue}if("("===e[n])if(n+1<e.length&&"?"===e[n+1]){if(n+2<e.length){let r=e[n+2];if(":"===r||"="===r||"!"===r){n++;continue}if("<"===r&&n+3<e.length){let r=e[n+3];if("="===r||"!"===r){n++;continue}t++,n++;continue}}}else t++;n++}return t}(n);return{pattern:`(?:${n})(${r})`,kResetGroup:i+1}}(n=function(e){let t="",n=0;for(;n<e.length;){if("("===e[n]&&n+1<e.length&&"?"===e[n+1]){let r=e.slice(n).match(/^\(\?([imsx]*)(-[imsx]*)?(:|$|\))/);if(r){let i=r[1]||"",s=r[2]||"",a=r[3];if(":"===a){let s=n+r[0].length-1,a=function(e,t){let n=0,r=t;for(;r<e.length;){if("\\"===e[r]){r+=2;continue}if("["===e[r]){for(r++;r<e.length&&"]"!==e[r];)"\\"===e[r]&&r++,r++;r++;continue}if("("===e[r])n++;else if(")"===e[r]&&0==--n)return r;r++}return -1}(e,n);if(-1!==a){let r=function(e,t,n){let r=e;return t.includes("i")&&(r=function(e){let t="",n=0;for(;n<e.length;){let r=e[n];if("\\"===r){n+1<e.length?(t+=r+e[n+1],n+=2):(t+=r,n++);continue}if("["===r){t+=r,++n<e.length&&"^"===e[n]&&(t+=e[n],n++);let i=[];for(;n<e.length&&"]"!==e[n];)if("\\"===e[n])i.push(e[n]),++n<e.length&&(i.push(e[n]),n++);else if("-"===e[n]&&i.length>0&&n+1<e.length&&"]"!==e[n+1]){let t=i[i.length-1],r=e[n+1];i.push("-"),i.push(r),/[a-z]/.test(t)&&/[a-z]/.test(r)?(i.push(t.toUpperCase()),i.push("-"),i.push(r.toUpperCase())):/[A-Z]/.test(t)&&/[A-Z]/.test(r)&&(i.push(t.toLowerCase()),i.push("-"),i.push(r.toLowerCase())),n+=2}else{let t=e[n];if(i.push(t),/[a-zA-Z]/.test(t)){let e=t===t.toLowerCase()?t.toUpperCase():t.toLowerCase();i.includes(e)||i.push(e)}n++}t+=i.join(""),n<e.length&&(t+=e[n],n++);continue}if(/[a-zA-Z]/.test(r)){let e=r.toLowerCase(),n=r.toUpperCase();t+=`[${n}${e}]`}else t+=r;n++}return t}(r)),r}(e.slice(s+1,a),i,0);t+=`(?:${r})`,n=a+1;continue}}else if(")"===a||""===a){n+=r[0].length;continue}}}t+=e[n],n++}return t}(n=(n=function(e){let t="",n=0;for(;n<e.length;)if("\\"===e[n]&&n+1<e.length&&"Q"===e[n+1]){n+=2;let r="";for(;n<e.length;){if("\\"===e[n]&&n+1<e.length&&"E"===e[n+1]){n+=2;break}r+=e[n],n++}t+=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}else t+=e[n],n++;return t}(n)).replace(/\\x\{([0-9A-Fa-f]+)\}/g,"\\u{$1}")));n=e.pattern,r=e.kResetGroup}break;default:n=function(e){let t="",n=0,r=!0,i=0;for(;n<e.length;){let s=e[n];if("["===s){for(t+=s,++n<e.length&&("^"===e[n]||"!"===e[n])&&(t+=e[n],n++),n<e.length&&"]"===e[n]&&(t+=e[n],n++);n<e.length&&"]"!==e[n];)"\\"===e[n]&&n+1<e.length?(t+=e[n]+e[n+1],n+=2):(t+=e[n],n++);n<e.length&&"]"===e[n]&&(t+=e[n],n++),r=!1;continue}if("\\"===s&&n+1<e.length){let a=e[n+1];if("|"===a){t+="|",n+=2,r=!0;continue}if("("===a){t+="(",n+=2,i++,r=!0;continue}if(")"===a){t+=")",n+=2,i=Math.max(0,i-1),r=!1;continue}if("{"===a){let i=e.slice(n).match(/^\\{(\d+)(,(\d*)?)?\\}/);if(i){let e=i[1],s=void 0!==i[2],a=i[3]||"";s?t+=`{${e},${a}}`:t+=`{${e}}`,n+=i[0].length,r=!1;continue}t+="\\{",n+=2,r=!1;continue}if("}"===a){t+="\\}",n+=2,r=!1;continue}t+=s+a,n+=2,r=!1;continue}if("*"===s&&r){t+="\\*",n++;continue}if("^"===s){if(r){t+="^",n++;continue}t+="\\^",n++;continue}if("$"===s){let i=n===e.length-1,s=n+2<e.length&&"\\"===e[n+1]&&")"===e[n+2];i||s?t+="$":t+="\\$",n++,r=!1;continue}"+"===s||"?"===s||"|"===s||"("===s||")"===s||"{"===s||"}"===s?t+=`\\${s}`:t+=s,n++,r=!1}return t}(n=nY(e))}t.wholeWord&&(n=`(?<![\\w])(?:${n})(?![\\w])`),t.lineRegexp&&(n=`^${n}$`);let i=/\\u\{[0-9A-Fa-f]+\}/.test(n);return{regex:RegExp(n,"g"+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.multilineDotall?"s":"")+(i?"u":"")),kResetGroup:r}}var n1,n2=e2(()=>{n1={alpha:"a-zA-Z",digit:"0-9",alnum:"a-zA-Z0-9",lower:"a-z",upper:"A-Z",xdigit:"0-9A-Fa-f",space:" \\t\\n\\r\\f\\v",blank:" \\t",punct:"!-/:-@\\[-`{-~",graph:"!-~",print:" -~",cntrl:"\\x00-\\x1F\\x7F",ascii:"\\x00-\\x7F",word:"a-zA-Z0-9_"}}),n3=e2(()=>{nJ(),n2()}),n5={};async function n6(e,t,n,r){let i=n.fs.resolvePath(n.cwd,e);try{if(!(await n.fs.stat(i)).isDirectory){let n=e.split("/").pop()||"";if(t){let i=t.replace(/^\//,"");nV(n,i,{stripQuotes:!0})&&r.push(e)}return}for(let s of(await n.fs.readdir(i))){let i="."===e?s:`${e}/${s}`,a=n.fs.resolvePath(n.cwd,i);if((await n.fs.stat(a)).isDirectory)await n6(i,t,n,r);else if(t){let e=t.replace(/^\//,"");nV(s,e,{stripQuotes:!0})&&r.push(i)}}}catch{}}async function n4(e,t){let n=[],r=e.lastIndexOf("/"),i,s;if(-1===r?(i=t.cwd,s=e):(i=e.slice(0,r)||"/",s=e.slice(r+1)),e.includes("**")){let n=[],r=e.split("**"),i=r[0].replace(/\/$/,"")||".",s=r[1]||"";return await n6(i,s,t,n),n.map(e=>({path:e}))}let a=t.fs.resolvePath(t.cwd,i);try{if(t.fs.readdirWithFileTypes){for(let e of(await t.fs.readdirWithFileTypes(a)))if(nV(e.name,s,{stripQuotes:!0})){let t=-1===r?e.name:`${i}/${e.name}`;n.push({path:t,isFile:e.isFile})}}else for(let e of(await t.fs.readdir(a)))if(nV(e,s,{stripQuotes:!0})){let t=-1===r?e:`${i}/${e}`;n.push({path:t})}}catch{}return n.sort((e,t)=>e.path.localeCompare(t.path))}async function n8(e,t,n=[],r=[],i=[],s){let a=t.fs.resolvePath(t.cwd,e),o=[];try{let l,c;if(void 0!==s)l=s,c=!s;else{let e=await t.fs.stat(a);l=e.isFile,c=e.isDirectory}if(l){let t=e.split("/").pop()||e;return r.length>0&&r.some(e=>nV(t,e,{stripQuotes:!0}))||n.length>0&&!n.some(e=>nV(t,e,{stripQuotes:!0}))?[]:[{path:e,isFile:!0}]}if(!c)return[];let u=e.split("/").pop()||e;if(i.length>0&&i.some(e=>nV(u,e,{stripQuotes:!0})))return[];if(t.fs.readdirWithFileTypes)for(let s of(await t.fs.readdirWithFileTypes(a))){if(s.name.startsWith("."))continue;let a="."===e?s.name:`${e}/${s.name}`,l=await n8(a,t,n,r,i,s.isFile);o.push(...l)}else for(let s of(await t.fs.readdir(a))){if(s.startsWith("."))continue;let a="."===e?s:`${e}/${s}`,l=await n8(a,t,n,r,i);o.push(...l)}}catch{}return o}e5(n5,{egrepCommand:()=>rt,fgrepCommand:()=>re,grepCommand:()=>n7});var n9,n7,re,rt,rn,rr,ri=e2(()=>{nK(),ti(),n3(),n9={name:"grep",summary:"print lines that match patterns",usage:"grep [OPTION]... PATTERN [FILE]...",options:["-E, --extended-regexp    PATTERN is an extended regular expression","-P, --perl-regexp        PATTERN is a Perl regular expression","-F, --fixed-strings      PATTERN is a set of newline-separated strings","-i, --ignore-case        ignore case distinctions","-v, --invert-match       select non-matching lines","-w, --word-regexp        match only whole words","-x, --line-regexp        match only whole lines","-c, --count              print only a count of matching lines","-l, --files-with-matches print only names of files with matches","-L, --files-without-match print names of files with no matches","-m NUM, --max-count=NUM  stop after NUM matches","-n, --line-number        print line number with output lines","-h, --no-filename        suppress the file name prefix on output","-o, --only-matching      show only nonempty parts of lines that match","-q, --quiet, --silent    suppress all normal output","-r, -R, --recursive      search directories recursively","-A NUM                   print NUM lines of trailing context","-B NUM                   print NUM lines of leading context","-C NUM                   print NUM lines of context","-e PATTERN               use PATTERN for matching","    --include=GLOB       search only files matching GLOB","    --exclude=GLOB       skip files matching GLOB","    --exclude-dir=DIR    skip directories matching DIR","    --help               display this help and exit"]},n7={name:"grep",async execute(e,t){let n;if(tn(e))return tt(n9);let r=!1,i=!1,s=!1,a=!1,o=!1,l=!1,c=!1,u=!1,p=!1,h=!1,_=!1,f=!1,d=!1,g=!1,m=!1,v=0,b=0,y=0,$=[],x=[],S=[],A=null,w=[];for(let t=0;t<e.length;t++){let n=e[t];if(n.startsWith("-")&&"-"!==n){if("-e"===n&&t+1<e.length){A=e[++t];continue}if(n.startsWith("--include=")){$.push(n.slice(10));continue}if(n.startsWith("--exclude=")){x.push(n.slice(10));continue}if(n.startsWith("--exclude-dir=")){S.push(n.slice(14));continue}if(n.startsWith("--max-count=")){v=parseInt(n.slice(12),10);continue}let w=n.match(/^-m(\d+)$/);if(w){v=parseInt(w[1],10);continue}if("-m"===n&&t+1<e.length){v=parseInt(e[++t],10);continue}let E=n.match(/^-([ABC])(\d+)$/);if(E){let e=parseInt(E[2],10);"A"===E[1]?y=e:"B"===E[1]?b=e:"C"===E[1]&&(b=e,y=e);continue}if(("-A"===n||"-B"===n||"-C"===n)&&t+1<e.length){let r=parseInt(e[++t],10);"-A"===n?y=r:"-B"===n?b=r:(b=r,y=r);continue}for(let e of n.startsWith("--")?[n]:n.slice(1).split(""))if("i"===e||"--ignore-case"===e)r=!0;else if("n"===e||"--line-number"===e)i=!0;else if("v"===e||"--invert-match"===e)s=!0;else if("c"===e||"--count"===e)a=!0;else if("l"===e||"--files-with-matches"===e)o=!0;else if("L"===e||"--files-without-match"===e)l=!0;else if("r"===e||"R"===e||"--recursive"===e)c=!0;else if("w"===e||"--word-regexp"===e)u=!0;else if("x"===e||"--line-regexp"===e)p=!0;else if("E"===e||"--extended-regexp"===e)h=!0;else if("P"===e||"--perl-regexp"===e)_=!0;else if("F"===e||"--fixed-strings"===e)f=!0;else if("o"===e||"--only-matching"===e)d=!0;else if("h"===e||"--no-filename"===e)g=!0;else if("q"===e||"--quiet"===e||"--silent"===e)m=!0;else{if(e.startsWith("--"))return tr("grep",e);if(1===e.length)return tr("grep",`-${e}`)}}else null===A?A=n:w.push(n)}if(null===A)return{stdout:"",stderr:`grep: missing pattern
`,exitCode:2};let E=f?"fixed":h?"extended":_?"perl":"basic",k,C;try{let e=n0(A,{mode:E,ignoreCase:r,wholeWord:u,lineRegexp:p});k=e.regex,C=e.kResetGroup}catch{return{stdout:"",stderr:`grep: invalid regular expression: ${A}
`,exitCode:2}}if(0===w.length&&void 0!==t.stdin){let e=nQ(t.stdin,k,{invertMatch:s,showLineNumbers:i,countOnly:a,filename:"",onlyMatching:d,beforeContext:b,afterContext:y,maxCount:v,kResetGroup:C});return m?{stdout:"",stderr:"",exitCode:+!e.matched}:{stdout:e.output,stderr:"",exitCode:+!e.matched}}if(0===w.length)return{stdout:"",stderr:`grep: no input files
`,exitCode:2};let O="",R="",T=!1,N=!1,P=[];for(let e of w)if(e.includes("*")||e.includes("?")||e.includes("[")){let n=await n4(e,t);if(c)for(let e of n){let n=await n8(e.path,t,$,x,S,e.isFile);P.push(...n)}else P.push(...n)}else if(c){let n=await n8(e,t,$,x,S);P.push(...n)}else P.push({path:e});let L=(P.length>1||c)&&!g;for(let e=0;e<P.length;e+=50){let n=P.slice(e,e+50);for(let e of(await Promise.all(n.map(async e=>{let n=e.path,r=n.split("/").pop()||n;if(x.length>0&&!c&&x.some(e=>nV(r,e,{stripQuotes:!0}))||$.length>0&&!c&&!$.some(e=>nV(r,e,{stripQuotes:!0})))return null;try{let r=t.fs.resolvePath(t.cwd,n);if(void 0===e.isFile?(await t.fs.stat(r)).isDirectory:!e.isFile)return c?null:{error:`grep: ${n}: Is a directory
`};let o=await t.fs.readFile(r),l=nQ(o,k,{invertMatch:s,showLineNumbers:i,countOnly:a,filename:L?n:"",onlyMatching:d,beforeContext:b,afterContext:y,maxCount:v,kResetGroup:C});return{file:n,result:l}}catch{return{error:`grep: ${n}: No such file or directory
`}}})))){if(null===e)continue;if("error"in e&&e.error){R+=e.error,e.error.includes("Is a directory")||(N=!0);continue}if(!("file"in e)||!e.result)continue;let{file:t,result:n}=e;if(n.matched){if(T=!0,m)return{stdout:"",stderr:"",exitCode:0};o?O+=`${t}
`:l||(O+=n.output)}else l?O+=`${t}
`:a&&!o&&(O+=n.output)}}return n=N?2:l?O.length>0?0:1:+!T,m?{stdout:"",stderr:"",exitCode:n}:{stdout:O,stderr:R,exitCode:n}}},re={name:"fgrep",execute:async(e,t)=>n7.execute(["-F",...e],t)},rt={name:"egrep",execute:async(e,t)=>n7.execute(["-E",...e],t)}}),rs=e2(()=>{rn={js:{extensions:[".js",".mjs",".cjs",".jsx"],globs:[]},ts:{extensions:[".ts",".tsx",".mts",".cts"],globs:[]},html:{extensions:[".html",".htm",".xhtml"],globs:[]},css:{extensions:[".css",".scss",".sass",".less"],globs:[]},json:{extensions:[".json",".jsonc",".json5"],globs:[]},xml:{extensions:[".xml",".xsl",".xslt"],globs:[]},c:{extensions:[".c",".h"],globs:[]},cpp:{extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx",".h"],globs:[]},rust:{extensions:[".rs"],globs:[]},go:{extensions:[".go"],globs:[]},zig:{extensions:[".zig"],globs:[]},java:{extensions:[".java"],globs:[]},kotlin:{extensions:[".kt",".kts"],globs:[]},scala:{extensions:[".scala",".sc"],globs:[]},clojure:{extensions:[".clj",".cljc",".cljs",".edn"],globs:[]},py:{extensions:[".py",".pyi",".pyw"],globs:[]},rb:{extensions:[".rb",".rake",".gemspec"],globs:["Rakefile","Gemfile"]},php:{extensions:[".php",".phtml",".php3",".php4",".php5"],globs:[]},perl:{extensions:[".pl",".pm",".pod",".t"],globs:[]},lua:{extensions:[".lua"],globs:[]},sh:{extensions:[".sh",".bash",".zsh",".fish"],globs:[".bashrc",".zshrc",".profile"]},bat:{extensions:[".bat",".cmd"],globs:[]},ps:{extensions:[".ps1",".psm1",".psd1"],globs:[]},yaml:{extensions:[".yaml",".yml"],globs:[]},toml:{extensions:[".toml"],globs:["Cargo.toml","pyproject.toml"]},ini:{extensions:[".ini",".cfg",".conf"],globs:[]},csv:{extensions:[".csv",".tsv"],globs:[]},md:{extensions:[".md",".mdx",".markdown",".mdown",".mkd"],globs:[]},markdown:{extensions:[".md",".mdx",".markdown",".mdown",".mkd"],globs:[]},rst:{extensions:[".rst"],globs:[]},txt:{extensions:[".txt",".text"],globs:[]},tex:{extensions:[".tex",".ltx",".sty",".cls"],globs:[]},sql:{extensions:[".sql"],globs:[]},graphql:{extensions:[".graphql",".gql"],globs:[]},proto:{extensions:[".proto"],globs:[]},make:{extensions:[".mk",".mak"],globs:["Makefile","GNUmakefile","makefile"]},docker:{extensions:[],globs:["Dockerfile","Dockerfile.*","*.dockerfile"]},tf:{extensions:[".tf",".tfvars"],globs:[]}},rr=class{types;constructor(){this.types=new Map(Object.entries(rn).map(([e,t])=>[e,{extensions:[...t.extensions],globs:[...t.globs]}]))}addType(e){let t=e.indexOf(":");if(-1===t)return;let n=e.slice(0,t),r=e.slice(t+1);if(r.startsWith("include:")){let e=r.slice(8),t=this.types.get(e);if(t){let e=this.types.get(n)||{extensions:[],globs:[]};e.extensions.push(...t.extensions),e.globs.push(...t.globs),this.types.set(n,e)}}else{let e=this.types.get(n)||{extensions:[],globs:[]};if(r.startsWith("*.")&&!r.slice(2).includes("*")){let t=r.slice(1);e.extensions.includes(t)||e.extensions.push(t)}else e.globs.includes(r)||e.globs.push(r);this.types.set(n,e)}}clearType(e){let t=this.types.get(e);t&&(t.extensions=[],t.globs=[])}getType(e){return this.types.get(e)}getAllTypes(){return this.types}matchesType(e,t){let n=e.toLowerCase();for(let r of t){if("all"===r){if(this.matchesAnyType(e))return!0;continue}let t=this.types.get(r);if(t){for(let e of t.extensions)if(n.endsWith(e))return!0;for(let r of t.globs)if(r.includes("*")){let t=r.replace(/\./g,"\\.").replace(/\*/g,".*");if(RegExp(`^${t}$`,"i").test(e))return!0}else if(n===r.toLowerCase())return!0}}return!1}matchesAnyType(e){let t=e.toLowerCase();for(let n of this.types.values()){for(let e of n.extensions)if(t.endsWith(e))return!0;for(let r of n.globs)if(r.includes("*")){let t=r.replace(/\./g,"\\.").replace(/\*/g,".*");if(RegExp(`^${t}$`,"i").test(e))return!0}else if(t===r.toLowerCase())return!0}return!1}}}),ra=e2(()=>{});function ro(e){let t=e.match(/^(\d+)([KMG])?$/i);if(!t)return 0;let n=parseInt(t[1],10);switch((t[2]||"").toUpperCase()){case"K":return 1024*n;case"M":return 1024*n*1024;case"G":return 1024*n*1048576;default:return n}}function rl(e){return/^\d+[KMG]?$/i.test(e)?null:{stdout:"",stderr:`rg: invalid --max-filesize value: ${e}
`,exitCode:1}}function rc(e){return null}function ru(e,t,n){if(t.validate){let e=t.validate(n);if(e)return e}let r=t.parse?t.parse(n):n;t.multi?e[t.target].push(r):e[t.target]=r}var rp,rh,r_,rf=e2(()=>{ti(),ra(),rp=[{short:"g",long:"glob",target:"globs",multi:!0},{long:"iglob",target:"iglobs",multi:!0},{short:"t",long:"type",target:"types",multi:!0,validate:rc},{short:"T",long:"type-not",target:"typesNot",multi:!0,validate:rc},{long:"type-add",target:"typeAdd",multi:!0},{long:"type-clear",target:"typeClear",multi:!0},{short:"m",long:"max-count",target:"maxCount",parse:parseInt},{short:"e",long:"regexp",target:"patterns",multi:!0},{short:"f",long:"file",target:"patternFiles",multi:!0},{short:"r",long:"replace",target:"replace"},{short:"d",long:"max-depth",target:"maxDepth",parse:parseInt},{long:"max-filesize",target:"maxFilesize",parse:ro,validate:rl},{long:"context-separator",target:"contextSeparator"},{short:"j",long:"threads",target:"maxDepth",parse:()=>1/0},{long:"ignore-file",target:"ignoreFiles",multi:!0},{long:"pre",target:"preprocessor"},{long:"pre-glob",target:"preprocessorGlobs",multi:!0}],rh={i:e=>{e.ignoreCase=!0,e.caseSensitive=!1,e.smartCase=!1},"--ignore-case":e=>{e.ignoreCase=!0,e.caseSensitive=!1,e.smartCase=!1},s:e=>{e.caseSensitive=!0,e.ignoreCase=!1,e.smartCase=!1},"--case-sensitive":e=>{e.caseSensitive=!0,e.ignoreCase=!1,e.smartCase=!1},S:e=>{e.smartCase=!0,e.ignoreCase=!1,e.caseSensitive=!1},"--smart-case":e=>{e.smartCase=!0,e.ignoreCase=!1,e.caseSensitive=!1},F:e=>{e.fixedStrings=!0},"--fixed-strings":e=>{e.fixedStrings=!0},w:e=>{e.wordRegexp=!0},"--word-regexp":e=>{e.wordRegexp=!0},x:e=>{e.lineRegexp=!0},"--line-regexp":e=>{e.lineRegexp=!0},v:e=>{e.invertMatch=!0},"--invert-match":e=>{e.invertMatch=!0},U:e=>{e.multiline=!0},"--multiline":e=>{e.multiline=!0},"--multiline-dotall":e=>{e.multilineDotall=!0,e.multiline=!0},c:e=>{e.count=!0},"--count":e=>{e.count=!0},"--count-matches":e=>{e.countMatches=!0},l:e=>{e.filesWithMatches=!0},"--files":e=>{e.files=!0},"--files-with-matches":e=>{e.filesWithMatches=!0},"--files-without-match":e=>{e.filesWithoutMatch=!0},"--stats":e=>{e.stats=!0},o:e=>{e.onlyMatching=!0},"--only-matching":e=>{e.onlyMatching=!0},q:e=>{e.quiet=!0},"--quiet":e=>{e.quiet=!0},N:e=>{e.lineNumber=!1},"--no-line-number":e=>{e.lineNumber=!1},H:e=>{e.withFilename=!0},"--with-filename":e=>{e.withFilename=!0},I:e=>{e.noFilename=!0},"--no-filename":e=>{e.noFilename=!0},0:e=>{e.nullSeparator=!0},"--null":e=>{e.nullSeparator=!0},b:e=>{e.byteOffset=!0},"--byte-offset":e=>{e.byteOffset=!0},"--column":e=>{e.column=!0,e.lineNumber=!0},"--no-column":e=>{e.column=!1},"--vimgrep":e=>{e.vimgrep=!0,e.column=!0,e.lineNumber=!0},"--json":e=>{e.json=!0},"--hidden":e=>{e.hidden=!0},"--no-ignore":e=>{e.noIgnore=!0},"--no-ignore-dot":e=>{e.noIgnoreDot=!0},"--no-ignore-vcs":e=>{e.noIgnoreVcs=!0},L:e=>{e.followSymlinks=!0},"--follow":e=>{e.followSymlinks=!0},z:e=>{e.searchZip=!0},"--search-zip":e=>{e.searchZip=!0},a:e=>{e.searchBinary=!0},"--text":e=>{e.searchBinary=!0},"--heading":e=>{e.heading=!0},"--passthru":e=>{e.passthru=!0},"--include-zero":e=>{e.includeZero=!0},"--glob-case-insensitive":e=>{e.globCaseInsensitive=!0}},r_=new Set(["n","--line-number"])});async function rd(e,t,n=!1,r=!1,i=[]){let s=new rm(e,t,n,r);for(let n of(await s.load(t),i))try{let r=e.resolvePath(t,n),i=await e.readFile(r);s.addPatternsFromContent(i,t)}catch{}return s}var rg,rm,rv=e2(()=>{rg=class{patterns=[];basePath;constructor(e="/"){this.basePath=e}parse(e){for(let t of e.split(`
`)){let e=t.replace(/\s+$/,"");if(!e||e.startsWith("#"))continue;let n=!1;e.startsWith("!")&&(n=!0,e=e.slice(1));let r=!1;e.endsWith("/")&&(r=!0,e=e.slice(0,-1));let i=!1;e.startsWith("/")?(i=!0,e=e.slice(1)):e.includes("/")&&!e.startsWith("**/")&&(i=!0);let s=this.patternToRegex(e,i);this.patterns.push({pattern:t,regex:s,negated:n,directoryOnly:r,rooted:i})}}patternToRegex(e,t){let n="";n=t?"^":"(?:^|/)";let r=0;for(;r<e.length;){let t=e[r];if("*"===t)"*"===e[r+1]?"/"===e[r+2]?(n+="(?:.*/)?",r+=3):(e.length,n+=".*",r+=2):(n+="[^/]*",r++);else if("?"===t)n+="[^/]",r++;else if("["===t){let t=r+1;for(t<e.length&&"!"===e[t]&&t++,t<e.length&&"]"===e[t]&&t++;t<e.length&&"]"!==e[t];)t++;if(t<e.length){let i=e.slice(r,t+1);i.startsWith("[!")&&(i=`[^${i.slice(2)}`),n+=i,r=t+1}else n+="\\[",r++}else"/"===t?n+="/":n+=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r++}return new RegExp(n+="(?:/.*)?$")}matches(e,t){let n=e.replace(/^\.\//,"");n=n.replace(/^\//,"");let r=!1;for(let e of this.patterns)e.directoryOnly&&!t||e.regex.test(n)&&(r=!e.negated);return r}isWhitelisted(e,t){let n=e.replace(/^\.\//,"");for(let e of(n=n.replace(/^\//,""),this.patterns))if(!(e.directoryOnly&&!t)&&e.negated&&e.regex.test(n))return!0;return!1}getBasePath(){return this.basePath}},rm=class{parsers=[];fs;skipDotIgnore;skipVcsIgnore;loadedDirs=new Set;constructor(e,t,n=!1,r=!1){this.fs=e,this.skipDotIgnore=n,this.skipVcsIgnore=r}async load(e){let t=[],n=e;for(;;){t.unshift(n);let e=this.fs.resolvePath(n,"..");if(e===n)break;n=e}let r=[];for(let e of(this.skipVcsIgnore||r.push(".gitignore"),this.skipDotIgnore||r.push(".rgignore",".ignore"),t))for(let t of(this.loadedDirs.add(e),r)){let n=this.fs.resolvePath(e,t);try{let t=await this.fs.readFile(n),r=new rg(e);r.parse(t),this.parsers.push(r)}catch{}}}async loadForDirectory(e){if(this.loadedDirs.has(e))return;this.loadedDirs.add(e);let t=[];for(let n of(this.skipVcsIgnore||t.push(".gitignore"),this.skipDotIgnore||t.push(".rgignore",".ignore"),t)){let t=this.fs.resolvePath(e,n);try{let n=await this.fs.readFile(t),r=new rg(e);r.parse(n),this.parsers.push(r)}catch{}}}addPatternsFromContent(e,t){let n=new rg(t);n.parse(e),this.parsers.push(n)}matches(e,t){for(let n of this.parsers){let r=n.getBasePath();if(!e.startsWith(r))continue;let i=e.slice(r.length).replace(/^\//,"");if(n.matches(i,t))return!0}return!1}isWhitelisted(e,t){for(let n of this.parsers){let r=n.getBasePath();if(!e.startsWith(r))continue;let i=e.slice(r.length).replace(/^\//,"");if(n.isWhitelisted(i,t))return!0}return!1}static isCommonIgnored(e){return new Set(["node_modules",".git",".svn",".hg","__pycache__",".pytest_cache",".mypy_cache","venv",".venv",".next",".nuxt",".cargo"]).has(e)}}});async function rb(e){var t,n,r,i,s;let{ctx:a,options:o,paths:l,explicitLineNumbers:c}=e;for(let e of o.globs){let t=function(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];"["!==r||t?"]"===r&&t&&(t=!1):t=!0}return t?`rg: glob '${e}' has an unclosed character class`:null}(e.startsWith("!")?e.slice(1):e);if(t)return{stdout:"",stderr:`${t}
`,exitCode:1}}if(o.files)return rA(a,[...o.patterns,...l],o);let u=[...o.patterns];for(let e of o.patternFiles)try{let t;if("-"===e)t=a.stdin;else{let n=a.fs.resolvePath(a.cwd,e);t=await a.fs.readFile(n)}let n=t.split(`
`).filter(e=>e.length>0);u.push(...n)}catch{return{stdout:"",stderr:`rg: ${e}: No such file or directory
`,exitCode:2}}if(0===u.length)return o.patternFiles.length>0?{stdout:"",stderr:"",exitCode:1}:{stdout:"",stderr:`rg: no pattern given
`,exitCode:2};let p=0===l.length?["."]:l,h=(t=o,n=u,!t.caseSensitive&&(!!t.ignoreCase||!!t.smartCase&&!n.some(e=>/[A-Z]/.test(e)))),_,f;try{let e=(r=u,i=o,s=h,n0(1===r.length?r[0]:r.map(e=>i.fixedStrings?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):`(?:${e})`).join("|"),{mode:i.fixedStrings&&1===r.length?"fixed":"perl",ignoreCase:s,wholeWord:i.wordRegexp,lineRegexp:i.lineRegexp,multiline:i.multiline,multilineDotall:i.multilineDotall}));_=e.regex,f=e.kResetGroup}catch{return{stdout:"",stderr:`rg: invalid regex: ${u.join(", ")}
`,exitCode:2}}let d=null;o.noIgnore||(d=await rd(a.fs,a.cwd,o.noIgnoreDot,o.noIgnoreVcs,o.ignoreFiles));let g=new rr;for(let e of o.typeClear)g.clearType(e);for(let e of o.typeAdd)g.addType(e);let{files:m,singleExplicitFile:v}=await ry(a,p,o,d,g);if(0===m.length)return{stdout:"",stderr:"",exitCode:1};let b=!o.noFilename&&(o.withFilename||!v||m.length>1),y=o.lineNumber;return c||(v&&1===m.length&&(y=!1),o.onlyMatching&&(y=!1)),rE(a,m,_,o,b,y,f)}async function ry(e,t,n,r,i){let s=[],a=0,o=0;for(let l of t){let t=e.fs.resolvePath(e.cwd,l);try{let c=await e.fs.stat(t);if(c.isFile){if(a++,n.maxFilesize>0&&c.size>n.maxFilesize)continue;rx(l,n,r,t,i)&&s.push(l)}else c.isDirectory&&(o++,await r$(e,l,t,0,n,r,i,s))}catch{}}return{files:"path"===n.sort?s.sort():s,singleExplicitFile:1===a&&0===o}}async function r$(e,t,n,r,i,s,a,o){if(!(r>=i.maxDepth)){s&&await s.loadForDirectory(n);try{for(let l of e.fs.readdirWithFileTypes?await e.fs.readdirWithFileTypes(n):(await e.fs.readdir(n)).map(e=>({name:e,isFile:void 0}))){let c=l.name;if(!i.noIgnore&&rm.isCommonIgnored(c))continue;let u=c.startsWith("."),p="."===t?c:"./"===t?`./${c}`:t.endsWith("/")?`${t}${c}`:`${t}/${c}`,h=e.fs.resolvePath(n,c),_,f,d=!1;if(void 0!==l.isFile&&"isDirectory"in l){if((d=!0===l.isSymbolicLink)&&!i.followSymlinks)continue;if(d&&i.followSymlinks)try{let t=await e.fs.stat(h);_=t.isFile,f=t.isDirectory}catch{continue}else _=l.isFile,f=l.isDirectory}else try{let t=e.fs.lstat?await e.fs.lstat(h):await e.fs.stat(h);if((d=!0===t.isSymbolicLink)&&!i.followSymlinks)continue;let n=d&&i.followSymlinks?await e.fs.stat(h):t;_=n.isFile,f=n.isDirectory}catch{continue}if(!s?.matches(h,f)&&!(u&&!i.hidden&&!s?.isWhitelisted(h,f))){if(f)await r$(e,p,h,r+1,i,s,a,o);else if(_){if(i.maxFilesize>0)try{if((await e.fs.stat(h)).size>i.maxFilesize)continue}catch{continue}rx(p,i,s,h,a)&&o.push(p)}}}}catch{}}}function rx(e,t,n,r,i){let s=e.split("/").pop()||e;if(n?.matches(r,!1)||t.types.length>0&&!i.matchesType(s,t.types)||t.typesNot.length>0&&i.matchesType(s,t.typesNot))return!1;if(t.globs.length>0){let n=t.globCaseInsensitive,r=t.globs.filter(e=>!e.startsWith("!")),i=t.globs.filter(e=>e.startsWith("!")).map(e=>e.slice(1));if(r.length>0){let t=!1;for(let i of r)if(rS(s,i,n)||rS(e,i,n)){t=!0;break}if(!t)return!1}for(let t of i)if(t.startsWith("/")){if(rS(e,t.slice(1),n))return!1}else if(rS(s,t,n)||rS(e,t,n))return!1}if(t.iglobs.length>0){let n=t.iglobs.filter(e=>!e.startsWith("!")),r=t.iglobs.filter(e=>e.startsWith("!")).map(e=>e.slice(1));if(n.length>0){let t=!1;for(let r of n)if(rS(s,r,!0)||rS(e,r,!0)){t=!0;break}if(!t)return!1}for(let t of r)if(t.startsWith("/")){if(rS(e,t.slice(1),!0))return!1}else if(rS(s,t,!0)||rS(e,t,!0))return!1}return!0}function rS(e,t,n=!1){let r="^";for(let e=0;e<t.length;e++){let n=t[e];if("*"===n)"*"===t[e+1]?(r+=".*",e++):r+="[^/]*";else if("?"===n)r+="[^/]";else if("["===n){let n=e+1;for(n<t.length&&"!"===t[n]&&n++,n<t.length&&"]"===t[n]&&n++;n<t.length&&"]"!==t[n];)n++;if(n<t.length){let i=t.slice(e,n+1);i.startsWith("[!")&&(i=`[^${i.slice(2)}`),r+=i,e=n}else r+="\\["}else r+=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}return new RegExp(r+="$",n?"i":"").test(e)}async function rA(e,t,n){let r=null;n.noIgnore||(r=await rd(e.fs,e.cwd,n.noIgnoreDot,n.noIgnoreVcs,n.ignoreFiles));let i=new rr;for(let e of n.typeClear)i.clearType(e);for(let e of n.typeAdd)i.addType(e);let s=0===t.length?["."]:t,{files:a}=await ry(e,s,n,r,i);if(0===a.length)return{stdout:"",stderr:"",exitCode:1};if(n.quiet)return{stdout:"",stderr:"",exitCode:0};let o=n.nullSeparator?"\0":`
`;return{stdout:a.map(e=>e+o).join(""),stderr:"",exitCode:0}}async function rw(e,t,n,r){try{if(r.preprocessor&&e.exec){let i=n.split("/").pop()||n;if(function(e,t){if(0===t.length)return!0;for(let n of t)if(rS(e,n,!1))return!0;return!1}(i,r.preprocessorGlobs)){let n=await e.exec(`${r.preprocessor} "${t}"`,{cwd:e.cwd});if(0===n.exitCode&&n.stdout){let e=n.stdout.slice(0,8192);return{content:n.stdout,isBinary:e.includes("\0")}}}}if(r.searchZip&&n.endsWith(".gz")){let n=await e.fs.readFileBuffer(t);if(n.length>=2&&31===n[0]&&139===n[1])try{let e=(0,ef.gunzipSync)(n),t=new TextDecoder().decode(e),r=t.slice(0,8192);return{content:t,isBinary:r.includes("\0")}}catch{return null}}let i=await e.fs.readFile(t),s=i.slice(0,8192);return{content:i,isBinary:s.includes("\0")}}catch{return null}}async function rE(e,t,n,r,i,s,a){let o="",l=!1,c=[],u=0,p=0,h=0;e:for(let _=0;_<t.length;_+=50){let f=t.slice(_,_+50);for(let t of(await Promise.all(f.map(async t=>{let o=e.fs.resolvePath(e.cwd,t),l=await rw(e,o,t,r);if(!l)return null;let{content:c,isBinary:u}=l;if(h+=c.length,u&&!r.searchBinary)return null;let p=i&&!r.heading?t:"",_=nQ(c,n,{invertMatch:r.invertMatch,showLineNumbers:s,countOnly:r.count,countMatches:r.countMatches,filename:p,onlyMatching:r.onlyMatching,beforeContext:r.beforeContext,afterContext:r.afterContext,maxCount:r.maxCount,contextSeparator:r.contextSeparator,showColumn:r.column,vimgrep:r.vimgrep,showByteOffset:r.byteOffset,replace:null!==r.replace?function(e){let t=e.replace(/\$\{0\}|\$0(?![0-9])/g,"$$&");return(t=t.replace(/\$\{([^0-9}][^}]*)\}/g,"$$<$1>")).replace(/\$([a-zA-Z_][a-zA-Z0-9_]*)(?![>0-9])/g,"$$<$1>")}(r.replace):null,passthru:r.passthru,multiline:r.multiline,kResetGroup:a});return r.json&&_.matched?{file:t,result:_,content:c,isBinary:!1}:{file:t,result:_}})))){if(!t)continue;let{file:e,result:i}=t;if(i.matched){if(l=!0,p++,u+=i.matchCount,r.quiet&&!r.json)break e;if(r.json&&!r.quiet){let s=t.content||"";c.push(JSON.stringify({type:"begin",data:{path:{text:e}}}));let a=s.split(`
`);n.lastIndex=0;let o=0;for(let t=0;t<a.length;t++){let i=a[t];n.lastIndex=0;let s=[];for(let e=n.exec(i);null!==e;e=n.exec(i)){let t={match:{text:e[0]},start:e.index,end:e.index+e[0].length};null!==r.replace&&(t.replacement={text:r.replace}),s.push(t),0===e[0].length&&n.lastIndex++}if(s.length>0){let n={type:"match",data:{path:{text:e},lines:{text:`${i}
`},line_number:t+1,absolute_offset:o,submatches:s}};c.push(JSON.stringify(n))}o+=i.length+1}c.push(JSON.stringify({type:"end",data:{path:{text:e},binary_offset:null,stats:{elapsed:{secs:0,nanos:0,human:"0s"},searches:1,searches_with_match:1,bytes_searched:s.length,bytes_printed:0,matched_lines:i.matchCount,matches:i.matchCount}}}))}else if(r.filesWithMatches){let t=r.nullSeparator?"\0":`
`;o+=`${e}${t}`}else r.filesWithoutMatch||(r.heading&&!r.noFilename&&(o+=`${e}
`),o+=i.output)}else if(r.filesWithoutMatch){let t=r.nullSeparator?"\0":`
`;o+=`${e}${t}`}else r.includeZero&&(r.count||r.countMatches)&&(o+=i.output)}}r.json&&(c.push(JSON.stringify({type:"summary",data:{elapsed_total:{secs:0,nanos:0,human:"0s"},stats:{elapsed:{secs:0,nanos:0,human:"0s"},searches:t.length,searches_with_match:p,bytes_searched:h,bytes_printed:0,matched_lines:u,matches:u}}})),o=`${c.join(`
`)}
`);let _=r.quiet&&!r.json?"":o;if(r.stats&&!r.json){let e=["",`${u} matches`,`${u} matched lines`,`${p} files contained matches`,`${t.length} files searched`,`${h} bytes searched`].join(`
`);_+=`${e}
`}return{stdout:_,stderr:"",exitCode:r.filesWithoutMatch?o.length>0?0:1:+!l}}var rk=e2(()=>{n3(),rs(),rv()}),rC={};e5(rC,{rgCommand:()=>rR});var rO,rR,rT=e2(()=>{ti(),rs(),rf(),rk(),rO={name:"rg",summary:"recursively search for a pattern",usage:"rg [OPTIONS] PATTERN [PATH ...]",description:`rg (ripgrep) recursively searches directories for a regex pattern.
Unlike grep, rg is recursive by default and respects .gitignore files.

EXAMPLES:
  rg foo                    Search for 'foo' in current directory
  rg foo src/               Search in src/ directory
  rg -i foo                 Case-insensitive search
  rg -w foo                 Match whole words only
  rg -t js foo              Search only JavaScript files
  rg -g '*.ts' foo          Search files matching glob
  rg --hidden foo           Include hidden files
  rg -l foo                 List files with matches only`,options:["-e, --regexp PATTERN    search for PATTERN (can be used multiple times)","-f, --file FILE         read patterns from FILE, one per line","-i, --ignore-case       case-insensitive search","-s, --case-sensitive    case-sensitive search (overrides smart-case)","-S, --smart-case        smart case (default: case-insensitive unless pattern has uppercase)","-F, --fixed-strings     treat pattern as literal string","-w, --word-regexp       match whole words only","-x, --line-regexp       match whole lines only","-v, --invert-match      select non-matching lines","-r, --replace TEXT      replace matches with TEXT","-c, --count             print count of matching lines per file","    --count-matches     print count of individual matches per file","-l, --files-with-matches print only file names with matches","    --files-without-match print file names without matches","    --files             list files that would be searched","-o, --only-matching     print only matching parts","-m, --max-count NUM     stop after NUM matches per file","-q, --quiet             suppress output, exit 0 on match","    --stats             print search statistics","-n, --line-number       print line numbers (default: on)","-N, --no-line-number    do not print line numbers","-I, --no-filename       suppress the prefixing of file names","-0, --null              use NUL as filename separator","-b, --byte-offset       show byte offset of each match","    --column            show column number of first match","    --vimgrep           show results in vimgrep format","    --json              show results in JSON Lines format","-A NUM                  print NUM lines after each match","-B NUM                  print NUM lines before each match","-C NUM                  print NUM lines before and after each match","    --context-separator SEP  separator for context groups (default: --)","-U, --multiline         match patterns across lines","-z, --search-zip        search in compressed files (gzip only)","-g, --glob GLOB         include files matching GLOB","-t, --type TYPE         only search files of TYPE (e.g., js, py, ts)","-T, --type-not TYPE     exclude files of TYPE","-L, --follow            follow symbolic links","-u, --unrestricted      reduce filtering (-u: no ignore, -uu: +hidden, -uuu: +binary)","-a, --text              search binary files as text","    --hidden            search hidden files and directories","    --no-ignore         don't respect .gitignore/.ignore files","-d, --max-depth NUM     maximum search depth","    --sort TYPE         sort files (path, none)","    --heading           show file path above matches","    --passthru          print all lines (non-matches use - separator)","    --include-zero      include files with 0 matches in count output","    --type-list         list all available file types","    --help              display this help and exit"]},rR={name:"rg",async execute(e,t){if(tn(e))return tt(rO);if(e.includes("--type-list"))return{stdout:function(){let e=[];for(let[t,n]of Object.entries(rn).sort()){let r=[];for(let e of n.extensions)r.push(`*${e}`);for(let e of n.globs)r.push(e);e.push(`${t}: ${r.join(", ")}`)}return`${e.join(`
`)}
`}(),stderr:"",exitCode:0};let n=function(e){let t={ignoreCase:!1,caseSensitive:!1,smartCase:!0,fixedStrings:!1,wordRegexp:!1,lineRegexp:!1,invertMatch:!1,multiline:!1,multilineDotall:!1,patterns:[],patternFiles:[],count:!1,countMatches:!1,files:!1,filesWithMatches:!1,filesWithoutMatch:!1,stats:!1,onlyMatching:!1,maxCount:0,lineNumber:!0,noFilename:!1,withFilename:!1,nullSeparator:!1,byteOffset:!1,column:!1,vimgrep:!1,replace:null,afterContext:0,beforeContext:0,contextSeparator:"--",quiet:!1,heading:!1,passthru:!1,includeZero:!1,sort:"path",json:!1,globs:[],iglobs:[],globCaseInsensitive:!1,types:[],typesNot:[],typeAdd:[],typeClear:[],hidden:!1,noIgnore:!1,noIgnoreDot:!1,noIgnoreVcs:!1,ignoreFiles:[],maxDepth:1/0,maxFilesize:0,followSymlinks:!1,searchZip:!1,searchBinary:!1,preprocessor:null,preprocessorGlobs:[]},n=null,r=[],i=-1,s=-1,a=-1,o=!1;for(let l=0;l<e.length;l++){let c=e[l];if(c.startsWith("-")&&"-"!==c){let n=function(e,t){let n=e[t],r=n.match(/^-([ABC])(\d+)$/);return r?{flag:r[1],value:parseInt(r[2],10),newIndex:t}:("-A"===n||"-B"===n||"-C"===n)&&t+1<e.length?{flag:n[1],value:parseInt(e[t+1],10),newIndex:t+1}:null}(e,l);if(n){let{flag:e,value:t,newIndex:r}=n;"A"===e?i=Math.max(i,t):"B"===e?s=Math.max(s,t):a=t,l=r;continue}let r=function(e){let t=e.match(/^-m(\d+)$/);return t?parseInt(t[1],10):null}(c);if(null!==r){t.maxCount=r;continue}let u=function(e,t,n){let r=e[t];for(let i of rp){if(r.startsWith(`--${i.long}=`)){let e=r.slice(`--${i.long}=`.length),s=ru(n,i,e);return s?{newIndex:t,error:s}:{newIndex:t}}if(i.short&&r.startsWith(`-${i.short}`)&&r.length>2){let e=ru(n,i,r.slice(2));return e?{newIndex:t,error:e}:{newIndex:t}}if(i.short&&r===`-${i.short}`||r===`--${i.long}`){if(t+1>=e.length)return null;let r=ru(n,i,e[t+1]);return r?{newIndex:t+1,error:r}:{newIndex:t+1}}}return null}(e,l,t);if(u){if(u.error)return{success:!1,error:u.error};l=u.newIndex;continue}let p=function(e,t){let n=e[t];if("--sort"===n&&t+1<e.length){let n=e[t+1];if("path"===n||"none"===n)return{value:n,newIndex:t+1}}if(n.startsWith("--sort=")){let e=n.slice(7);if("path"===e||"none"===e)return{value:e,newIndex:t}}return null}(e,l);if(p){t.sort=p.value,l=p.newIndex;continue}for(let n of c.startsWith("--")?[c]:c.slice(1).split("")){if(r_.has(n)){t.lineNumber=!0,o=!0;continue}if("u"===n||"--unrestricted"===n){t.hidden?t.searchBinary=!0:t.noIgnore?t.hidden=!0:t.noIgnore=!0;continue}if("P"===n||"--pcre2"===n)return{success:!1,error:{stdout:"",stderr:`rg: PCRE2 is not supported. Use standard regex syntax instead.
`,exitCode:1}};if(1===n.length){let r=function(e){return rp.find(t=>t.short===e)}(n);if(r){if(l+1>=e.length)return{success:!1,error:tr("rg",`-${n}`)};let i=ru(t,r,e[l+1]);if(i)return{success:!1,error:i};l++;continue}}let r=rh[n];if(r){r(t);continue}if(n.startsWith("--"))return{success:!1,error:tr("rg",n)};if(1===n.length)return{success:!1,error:tr("rg",`-${n}`)}}}else null===n&&0===t.patterns.length&&0===t.patternFiles.length?n=c:r.push(c)}return(i>=0||a>=0)&&(t.afterContext=Math.max(i>=0?i:0,a>=0?a:0)),(s>=0||a>=0)&&(t.beforeContext=Math.max(s>=0?s:0,a>=0?a:0)),null!==n&&t.patterns.push(n),(t.column||t.vimgrep)&&(o=!0),{success:!0,options:t,paths:r,explicitLineNumbers:o}}(e);return n.success?rb({ctx:t,options:n.options,paths:n.paths,explicitLineNumbers:n.explicitLineNumbers}):n.error}}});function rN(e){return e instanceof rL||e instanceof rI||e instanceof rD}var rP,rL,rI,rD,rM,rF,rB,rH,rU,rj,rW,rq,rz,rG,rV=e2(()=>{rP=class extends Error{stdout;stderr;constructor(e,t="",n=""){super(e),this.stdout=t,this.stderr=n}prependOutput(e,t){this.stdout=e+this.stdout,this.stderr=t+this.stderr}},rL=class extends rP{levels;name="BreakError";constructor(e=1,t="",n=""){super("break",t,n),this.levels=e}},rI=class extends rP{levels;name="ContinueError";constructor(e=1,t="",n=""){super("continue",t,n),this.levels=e}},rD=class extends rP{exitCode;name="ReturnError";constructor(e=0,t="",n=""){super("return",t,n),this.exitCode=e}},rM=class extends rP{exitCode;name="ErrexitError";constructor(e,t="",n=""){super(`errexit: command exited with status ${e}`,t,n),this.exitCode=e}},rF=class extends rP{varName;name="NounsetError";constructor(e,t=""){super(`${e}: unbound variable`,t,`bash: ${e}: unbound variable
`),this.varName=e}},rB=class extends rP{exitCode;name="ExitError";constructor(e,t="",n=""){super("exit",t,n),this.exitCode=e}},rH=class extends rP{name="ArithmeticError";fatal;constructor(e,t="",n="",r=!1){super(e,t,n),this.stderr=n||`bash: ${e}
`,this.fatal=r}},rU=class extends rP{name="BadSubstitutionError";constructor(e,t="",n=""){super(e,t,n),this.stderr=n||`bash: ${e}: bad substitution
`}},rj=class extends rP{name="GlobError";constructor(e,t="",n=""){super(`no match: ${e}`,t,n),this.stderr=n||`bash: no match: ${e}
`}},rW=class extends rP{name="BraceExpansionError";constructor(e,t="",n=""){super(e,t,n),this.stderr=n||`bash: ${e}
`}},rq=class extends rP{limitType;name="ExecutionLimitError";static EXIT_CODE=126;constructor(e,t,n="",r=""){super(e,n,r),this.limitType=t,this.stderr=r||`bash: ${e}
`}},rz=class extends rP{name="SubshellExitError";constructor(e="",t=""){super("subshell exit",e,t)}},rG=class extends rP{exitCode;name="PosixFatalError";constructor(e,t="",n=""){super("posix fatal error",t,n),this.exitCode=e}}});function rZ(e){let t="",n=0,r=!1;for(;n<e.length;){if("["===e[n]&&!r){if("["===e[n+1]&&":"===e[n+2]){let r=e.indexOf(":]]",n+3);if(-1!==r){let i=rX[e.slice(n+3,r)];if(i){t+=`[${i}]`,n=r+3;continue}}}if("^"===e[n+1]&&"["===e[n+2]&&":"===e[n+3]){let r=e.indexOf(":]]",n+4);if(-1!==r){let i=rX[e.slice(n+4,r)];if(i){t+=`[^${i}]`,n=r+3;continue}}}t+="[",r=!0,++n<e.length&&"^"===e[n]&&(t+="^",n++),n<e.length&&"]"===e[n]&&(t+="\\]",n++);continue}if(r){if("]"===e[n]){t+="]",n++,r=!1;continue}if("["===e[n]&&":"===e[n+1]){let r=e.indexOf(":]",n+2);if(-1!==r){let i=rX[e.slice(n+2,r)];if(i){t+=i,n=r+2;continue}}}if("\\"===e[n]&&n+1<e.length){t+=e[n]+e[n+1],n+=2;continue}t+=e[n],n++;continue}if("\\"===e[n]&&n+1<e.length){let r=e[n+1];if("+"===r||"?"===r||"|"===r||"("===r||")"===r||"{"===r||"}"===r){t+=r,n+=2;continue}if("t"===r){t+="	",n+=2;continue}if("n"===r){t+=`
`,n+=2;continue}if("r"===r){t+="\r",n+=2;continue}t+=e[n]+r,n+=2;continue}if("+"===e[n]||"?"===e[n]||"|"===e[n]||"("===e[n]||")"===e[n]){t+=`\\${e[n]}`,n++;continue}if("^"===e[n]&&!(""===t||t.endsWith("("))){t+="\\^",n++;continue}if("$"===e[n]){let r=n===e.length-1,i=n+2<e.length&&"\\"===e[n+1]&&")"===e[n+2];if(!r&&!i){t+="\\$",n++;continue}}t+=e[n],n++}return t}function rK(e){let t="",n=!1;for(let r=0;r<e.length;r++)"["!==e[r]||n?"]"===e[r]&&n?(n=!1,t+="]"):n||"{"!==e[r]||","!==e[r+1]?t+=e[r]:(t+="{0,",r++):(n=!0,t+="[",++r<e.length&&"^"===e[r]&&(t+="^",r++),r<e.length&&"]"===e[r]&&(t+="]",r++),r--);return t}var rX,rQ=e2(()=>{rX={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"!-~",lower:"a-z",print:" -~",punct:"!-/:-@\\[-`{-~",space:" \\t\\n\\r\\f\\v",upper:"A-Z",word:"a-zA-Z0-9_",xdigit:"0-9A-Fa-f"}});function rJ(e,t,n,r,i){if("$"===e)return t===n;if("number"==typeof e)return t===e;if("object"==typeof e&&"first"in e&&"step"in e){let{first:n,step:r}=e;return 0===r?t===n:(t-n)%r==0&&t>=n}if("object"==typeof e&&"pattern"in e)try{let t=e.pattern;""===t&&i?.lastPattern?t=i.lastPattern:""!==t&&i&&(i.lastPattern=t);let n=rK(rZ(t));return new RegExp(n).test(r)}catch{}return!1}function rY(e){let t=e=>void 0===e?"undefined":"$"===e?"$":"number"==typeof e?String(e):"pattern"in e?`/${e.pattern}/`:"first"in e?`${e.first}~${e.step}`:"unknown";return`${t(e.start)},${t(e.end)}`}function r0(e,t,n,r,i,s){let a=function(e,t,n,r,i,s){if(!e||!e.start&&!e.end)return!0;let a=e.start,o=e.end;if(void 0!==a&&void 0===o)return rJ(a,t,n,r,s);if(void 0!==a&&void 0!==o){let l="object"==typeof a&&"pattern"in a,c="object"==typeof o&&"pattern"in o,u="object"==typeof o&&"offset"in o;if(u&&i){let l=rY(e),c=i.get(l);if(c||(c={active:!1},i.set(l,c)),!c.active)return!!rJ(a,t,n,r,s)&&(c.active=!0,c.startLine=t,i.set(l,c),0===o.offset&&(c.active=!1,i.set(l,c)),!0);{let e=c.startLine||t;return t>=e+o.offset&&(c.active=!1,i.set(l,c)),!0}}if(!l&&!c&&!u){let r="number"==typeof a?a:"$"===a?n:1,s="number"==typeof o?o:n;if(r<=s)return t>=r&&t<=s;if(i){let n=rY(e),s=i.get(n);return s||(s={active:!1},i.set(n,s)),!s.completed&&t>=r&&(s.completed=!0,i.set(n,s),!0)}return!1}if(i){let l=rY(e),c=i.get(l);if(c||(c={active:!1},i.set(l,c)),c.active)return rJ(o,t,n,r,s)&&(c.active=!1,"number"==typeof a&&(c.completed=!0),i.set(l,c)),!0;if(c.completed)return!1;return!!("number"==typeof a?t>=a:rJ(a,t,n,r,s))&&(c.active=!0,c.startLine=t,i.set(l,c),rJ(o,t,n,r,s)&&(c.active=!1,"number"==typeof a&&(c.completed=!0),i.set(l,c)),!0)}return rJ(a,t,n,r,s)}return!0}(e,t,n,r,i,s);return e?.negated?!a:a}function r1(e,t,n){let r="",i=0;for(;i<e.length;){if("\\"===e[i]&&i+1<e.length){let s=e[i+1];if("&"===s){r+="&",i+=2;continue}if("n"===s){r+=`
`,i+=2;continue}if("t"===s){r+="	",i+=2;continue}if("r"===s){r+="\r",i+=2;continue}let a=parseInt(s,10);if(0===a){r+=t,i+=2;continue}if(a>=1&&a<=9){r+=n[a-1]||"",i+=2;continue}r+=s,i+=2;continue}if("&"===e[i]){r+=t,i++;continue}r+=e[i],i++}return r}var r2,r3,r5,r6,r4=e2(()=>{rV(),rQ(),r2=1e4}),r8=e2(()=>{var e;(e=r3||(r3={})).NUMBER="NUMBER",e.DOLLAR="DOLLAR",e.PATTERN="PATTERN",e.STEP="STEP",e.RELATIVE_OFFSET="RELATIVE_OFFSET",e.LBRACE="LBRACE",e.RBRACE="RBRACE",e.SEMICOLON="SEMICOLON",e.NEWLINE="NEWLINE",e.COMMA="COMMA",e.NEGATION="NEGATION",e.COMMAND="COMMAND",e.SUBSTITUTE="SUBSTITUTE",e.TRANSLITERATE="TRANSLITERATE",e.LABEL_DEF="LABEL_DEF",e.BRANCH="BRANCH",e.BRANCH_ON_SUBST="BRANCH_ON_SUBST",e.BRANCH_ON_NO_SUBST="BRANCH_ON_NO_SUBST",e.TEXT_CMD="TEXT_CMD",e.FILE_READ="FILE_READ",e.FILE_READ_LINE="FILE_READ_LINE",e.FILE_WRITE="FILE_WRITE",e.FILE_WRITE_LINE="FILE_WRITE_LINE",e.EXECUTE="EXECUTE",e.VERSION="VERSION",e.EOF="EOF",e.ERROR="ERROR",r5=class{input;pos=0;line=1;column=1;constructor(e){this.input=e}tokenize(){let e=[];for(;this.pos<this.input.length;){let t=this.nextToken();t&&e.push(t)}return e.push(this.makeToken(r3.EOF,"")),e}makeToken(e,t,n){return{type:e,value:t,line:this.line,column:this.column,...n}}peek(e=0){return this.input[this.pos+e]||""}advance(){let e=this.input[this.pos++]||"";return e===`
`?(this.line++,this.column=1):this.column++,e}readEscapedString(e){let t="";for(;this.pos<this.input.length&&this.peek()!==e;)if("\\"===this.peek()){this.advance();let e=this.advance();"n"===e?t+=`
`:"t"===e?t+="	":t+=e}else{if(this.peek()===`
`)return null;t+=this.advance()}return t}skipWhitespace(){for(;this.pos<this.input.length;){let e=this.peek();if(" "===e||"	"===e||"\r"===e)this.advance();else if("#"===e)for(;this.pos<this.input.length&&this.peek()!==`
`;)this.advance();else break}}nextToken(){if(this.skipWhitespace(),this.pos>=this.input.length)return null;let e=this.line,t=this.column,n=this.peek();return n===`
`?(this.advance(),{type:r3.NEWLINE,value:`
`,line:e,column:t}):";"===n?(this.advance(),{type:r3.SEMICOLON,value:";",line:e,column:t}):"{"===n?(this.advance(),{type:r3.LBRACE,value:"{",line:e,column:t}):"}"===n?(this.advance(),{type:r3.RBRACE,value:"}",line:e,column:t}):","===n?(this.advance(),{type:r3.COMMA,value:",",line:e,column:t}):"!"===n?(this.advance(),{type:r3.NEGATION,value:"!",line:e,column:t}):"$"===n?(this.advance(),{type:r3.DOLLAR,value:"$",line:e,column:t}):this.isDigit(n)?this.readNumber():"+"===n&&this.isDigit(this.input[this.pos+1]||"")?this.readRelativeOffset():"/"===n?this.readPattern():":"===n?this.readLabelDef():this.readCommand()}readNumber(){let e=this.line,t=this.column,n="";for(;this.isDigit(this.peek());)n+=this.advance();if("~"===this.peek()){this.advance();let r="";for(;this.isDigit(this.peek());)r+=this.advance();let i=parseInt(n,10),s=parseInt(r,10)||0;return{type:r3.STEP,value:`${i}~${s}`,first:i,step:s,line:e,column:t}}return{type:r3.NUMBER,value:parseInt(n,10),line:e,column:t}}readRelativeOffset(){let e=this.line,t=this.column;this.advance();let n="";for(;this.isDigit(this.peek());)n+=this.advance();let r=parseInt(n,10)||0;return{type:r3.RELATIVE_OFFSET,value:`+${r}`,offset:r,line:e,column:t}}readPattern(){let e=this.line,t=this.column;this.advance();let n="",r=!1;for(;this.pos<this.input.length;){let e=this.peek();if("/"===e&&!r)break;if("\\"===e)n+=this.advance(),this.pos<this.input.length&&this.peek()!==`
`&&(n+=this.advance());else{if(e===`
`)break;"["!==e||r?("]"===e&&r&&(r=!1),n+=this.advance()):(r=!0,n+=this.advance(),"^"===this.peek()&&(n+=this.advance()),"]"===this.peek()&&(n+=this.advance()))}}return"/"===this.peek()&&this.advance(),{type:r3.PATTERN,value:n,pattern:n,line:e,column:t}}readLabelDef(){let e=this.line,t=this.column;for(this.advance();" "===this.peek()||"	"===this.peek();)this.advance();let n="";for(;this.pos<this.input.length;){let e=this.peek();if(" "===e||"	"===e||e===`
`||";"===e||"}"===e||"{"===e)break;n+=this.advance()}return{type:r3.LABEL_DEF,value:n,label:n,line:e,column:t}}readCommand(){let e=this.line,t=this.column,n=this.advance();switch(n){case"s":return this.readSubstitute(e,t);case"y":return this.readTransliterate(e,t);case"a":case"i":case"c":return this.readTextCommand(n,e,t);case"b":return this.readBranch(r3.BRANCH,"b",e,t);case"t":return this.readBranch(r3.BRANCH_ON_SUBST,"t",e,t);case"T":return this.readBranch(r3.BRANCH_ON_NO_SUBST,"T",e,t);case"r":return this.readFileCommand(r3.FILE_READ,"r",e,t);case"R":return this.readFileCommand(r3.FILE_READ_LINE,"R",e,t);case"w":return this.readFileCommand(r3.FILE_WRITE,"w",e,t);case"W":return this.readFileCommand(r3.FILE_WRITE_LINE,"W",e,t);case"e":return this.readExecute(e,t);case"p":case"P":case"d":case"D":case"h":case"H":case"g":case"G":case"x":case"n":case"N":case"q":case"Q":case"z":case"=":case"l":case"F":return{type:r3.COMMAND,value:n,line:e,column:t};case"v":return this.readVersion(e,t);default:return{type:r3.ERROR,value:n,line:e,column:t}}}readSubstitute(e,t){let n=this.advance();if(!n||n===`
`)return{type:r3.ERROR,value:"s",line:e,column:t};let r="",i=!1;for(;this.pos<this.input.length;){let e=this.peek();if(e===n&&!i)break;if("\\"===e)this.advance(),this.pos<this.input.length&&this.peek()!==`
`?((this.peek()!==n||i)&&(r+="\\"),r+=this.advance()):r+="\\";else{if(e===`
`)break;"["!==e||i?("]"===e&&i&&(i=!1),r+=this.advance()):(i=!0,r+=this.advance(),"^"===this.peek()&&(r+=this.advance()),"]"===this.peek()&&(r+=this.advance()))}}if(this.peek()!==n)return{type:r3.ERROR,value:"unterminated substitution pattern",line:e,column:t};this.advance();let s="";for(;this.pos<this.input.length&&this.peek()!==n;)if("\\"===this.peek())if(this.advance(),this.pos<this.input.length){let e=this.peek();"\\"===e?(this.advance(),this.pos<this.input.length&&this.peek()===`
`?(s+=`
`,this.advance()):s+="\\"):e===`
`?(s+=`
`,this.advance()):s+=`\\${this.advance()}`}else s+="\\";else{if(this.peek()===`
`)break;s+=this.advance()}this.peek()===n&&this.advance();let a="";for(;this.pos<this.input.length;){let e=this.peek();if("g"===e||"i"===e||"p"===e||"I"===e||this.isDigit(e))a+=this.advance();else break}return{type:r3.SUBSTITUTE,value:`s${n}${r}${n}${s}${n}${a}`,pattern:r,replacement:s,flags:a,line:e,column:t}}readTransliterate(e,t){let n=this.advance();if(!n||n===`
`)return{type:r3.ERROR,value:"y",line:e,column:t};let r=this.readEscapedString(n);if(null===r||this.peek()!==n)return{type:r3.ERROR,value:"unterminated transliteration source",line:e,column:t};this.advance();let i=this.readEscapedString(n);if(null===i||this.peek()!==n)return{type:r3.ERROR,value:"unterminated transliteration dest",line:e,column:t};this.advance();let s=this.peek();for(;" "===s||"	"===s;)this.advance(),s=this.peek();return""!==s&&";"!==s&&s!==`
`&&"}"!==s?{type:r3.ERROR,value:"extra text at the end of a transform command",line:e,column:t}:{type:r3.TRANSLITERATE,value:`y${n}${r}${n}${i}${n}`,source:r,dest:i,line:e,column:t}}readTextCommand(e,t,n){let r=!1;"\\"===this.peek()&&this.pos+1<this.input.length&&(this.input[this.pos+1]===`
`||" "===this.input[this.pos+1]||"	"===this.input[this.pos+1])&&(r=!0,this.advance()),(" "===this.peek()||"	"===this.peek())&&this.advance(),"\\"===this.peek()&&this.pos+1<this.input.length&&(" "===this.input[this.pos+1]||"	"===this.input[this.pos+1])&&this.advance(),r&&this.peek()===`
`&&this.advance();let i="";for(;this.pos<this.input.length;){let e=this.peek();if(e===`
`){if(i.endsWith("\\")){i=`${i.slice(0,-1)}
`,this.advance();continue}break}if("\\"===e&&this.pos+1<this.input.length){let e=this.input[this.pos+1];if("n"===e){i+=`
`,this.advance(),this.advance();continue}if("t"===e){i+="	",this.advance(),this.advance();continue}if("r"===e){i+="\r",this.advance(),this.advance();continue}}i+=this.advance()}return{type:r3.TEXT_CMD,value:e,text:i,line:t,column:n}}readBranch(e,t,n,r){for(;" "===this.peek()||"	"===this.peek();)this.advance();let i="";for(;this.pos<this.input.length;){let e=this.peek();if(" "===e||"	"===e||e===`
`||";"===e||"}"===e||"{"===e)break;i+=this.advance()}return{type:e,value:t,label:i||void 0,line:n,column:r}}readVersion(e,t){for(;" "===this.peek()||"	"===this.peek();)this.advance();let n="";for(;this.pos<this.input.length;){let e=this.peek();if(" "===e||"	"===e||e===`
`||";"===e||"}"===e||"{"===e)break;n+=this.advance()}return{type:r3.VERSION,value:"v",label:n||void 0,line:e,column:t}}readFileCommand(e,t,n,r){for(;" "===this.peek()||"	"===this.peek();)this.advance();let i="";for(;this.pos<this.input.length;){let e=this.peek();if(e===`
`||";"===e)break;i+=this.advance()}return{type:e,value:t,filename:i.trim(),line:n,column:r}}readExecute(e,t){for(;" "===this.peek()||"	"===this.peek();)this.advance();let n="";for(;this.pos<this.input.length;){let e=this.peek();if(e===`
`||";"===e)break;n+=this.advance()}return{type:r3.EXECUTE,value:"e",command:n.trim()||void 0,line:e,column:t}}isDigit(e){return e>="0"&&e<="9"}}}),r9=e2(()=>{r8(),r6=class{scripts;tokens=[];pos=0;extendedRegex=!1;constructor(e,t=!1){this.scripts=e,this.extendedRegex=t}parse(){let e=[];for(let t of this.scripts){let n=new r5(t);for(this.tokens=n.tokenize(),this.pos=0;!this.isAtEnd();){if(this.check(r3.NEWLINE)||this.check(r3.SEMICOLON)){this.advance();continue}let t=this.parseCommand();if(t.error)return{commands:[],error:t.error};t.command&&e.push(t.command)}}return{commands:e}}parseCommand(){let e=this.parseAddressRange();if(e?.error)return{command:null,error:e.error};let t=e?.address;for(this.check(r3.NEGATION)&&(this.advance(),t&&(t.negated=!0));this.check(r3.NEWLINE)||this.check(r3.SEMICOLON);)this.advance();if(this.isAtEnd())return t&&(void 0!==t.start||void 0!==t.end)?{command:null,error:"command expected"}:{command:null};let n=this.peek();switch(n.type){case r3.COMMAND:return this.parseSimpleCommand(n,t);case r3.SUBSTITUTE:return this.parseSubstituteFromToken(n,t);case r3.TRANSLITERATE:return this.parseTransliterateFromToken(n,t);case r3.LABEL_DEF:return this.advance(),{command:{type:"label",name:n.label||""}};case r3.BRANCH:return this.advance(),{command:{type:"branch",address:t,label:n.label}};case r3.BRANCH_ON_SUBST:return this.advance(),{command:{type:"branchOnSubst",address:t,label:n.label}};case r3.BRANCH_ON_NO_SUBST:return this.advance(),{command:{type:"branchOnNoSubst",address:t,label:n.label}};case r3.TEXT_CMD:return this.advance(),this.parseTextCommand(n,t);case r3.FILE_READ:return this.advance(),{command:{type:"readFile",address:t,filename:n.filename||""}};case r3.FILE_READ_LINE:return this.advance(),{command:{type:"readFileLine",address:t,filename:n.filename||""}};case r3.FILE_WRITE:return this.advance(),{command:{type:"writeFile",address:t,filename:n.filename||""}};case r3.FILE_WRITE_LINE:return this.advance(),{command:{type:"writeFirstLine",address:t,filename:n.filename||""}};case r3.EXECUTE:return this.advance(),{command:{type:"execute",address:t,command:n.command}};case r3.VERSION:return this.advance(),{command:{type:"version",address:t,minVersion:n.label}};case r3.LBRACE:return this.parseGroup(t);case r3.RBRACE:return{command:null};case r3.ERROR:return{command:null,error:`invalid command: ${n.value}`};default:return t&&(void 0!==t.start||void 0!==t.end)?{command:null,error:"command expected"}:{command:null}}}parseSimpleCommand(e,t){this.advance();let n=e.value;switch(n){case"p":return{command:{type:"print",address:t}};case"P":return{command:{type:"printFirstLine",address:t}};case"d":return{command:{type:"delete",address:t}};case"D":return{command:{type:"deleteFirstLine",address:t}};case"h":return{command:{type:"hold",address:t}};case"H":return{command:{type:"holdAppend",address:t}};case"g":return{command:{type:"get",address:t}};case"G":return{command:{type:"getAppend",address:t}};case"x":return{command:{type:"exchange",address:t}};case"n":return{command:{type:"next",address:t}};case"N":return{command:{type:"nextAppend",address:t}};case"q":return{command:{type:"quit",address:t}};case"Q":return{command:{type:"quitSilent",address:t}};case"z":return{command:{type:"zap",address:t}};case"=":return{command:{type:"lineNumber",address:t}};case"l":return{command:{type:"list",address:t}};case"F":return{command:{type:"printFilename",address:t}};default:return{command:null,error:`unknown command: ${n}`}}}parseSubstituteFromToken(e,t){this.advance();let n=e.flags||"",r,i=n.match(/(\d+)/);return i&&(r=parseInt(i[1],10)),{command:{type:"substitute",address:t,pattern:e.pattern||"",replacement:e.replacement||"",global:n.includes("g"),ignoreCase:n.includes("i")||n.includes("I"),printOnMatch:n.includes("p"),nthOccurrence:r,extendedRegex:this.extendedRegex}}}parseTransliterateFromToken(e,t){this.advance();let n=e.source||"",r=e.dest||"";return n.length!==r.length?{command:null,error:"transliteration sets must have same length"}:{command:{type:"transliterate",address:t,source:n,dest:r}}}parseTextCommand(e,t){let n=e.value,r=e.text||"";switch(n){case"a":return{command:{type:"append",address:t,text:r}};case"i":return{command:{type:"insert",address:t,text:r}};case"c":return{command:{type:"change",address:t,text:r}};default:return{command:null,error:`unknown text command: ${n}`}}}parseGroup(e){this.advance();let t=[];for(;!this.isAtEnd()&&!this.check(r3.RBRACE);){if(this.check(r3.NEWLINE)||this.check(r3.SEMICOLON)){this.advance();continue}let e=this.parseCommand();if(e.error)return{command:null,error:e.error};e.command&&t.push(e.command)}return this.check(r3.RBRACE)?(this.advance(),{command:{type:"group",address:e,commands:t}}):{command:null,error:"unmatched brace in grouped commands"}}parseAddressRange(){let e,t=this.parseAddress();if(void 0!==t){if(this.check(r3.RELATIVE_OFFSET))e={offset:this.advance().offset||0};else if(this.check(r3.COMMA)&&(this.advance(),void 0===(e=this.parseAddress())))return{error:"expected context address"};return{address:{start:t,end:e}}}}parseAddress(){let e=this.peek();switch(e.type){case r3.NUMBER:return this.advance(),e.value;case r3.DOLLAR:return this.advance(),"$";case r3.PATTERN:return this.advance(),{pattern:e.pattern||e.value};case r3.STEP:return this.advance(),{first:e.first||0,step:e.step||0};case r3.RELATIVE_OFFSET:return this.advance(),{offset:e.offset||0};default:return}}peek(){return this.tokens[this.pos]||{type:r3.EOF,value:"",line:0,column:0}}advance(){return this.isAtEnd()||this.pos++,this.tokens[this.pos-1]}check(e){return this.peek().type===e}isAtEnd(){return this.peek().type===r3.EOF}}}),r7={};async function ie(e,t,n,r={}){let{limits:i,filename:s,fs:a,cwd:o}=r,l=e.endsWith(`
`),c=e.split(`
`);c.length>0&&""===c[c.length-1]&&c.pop();let u=c.length,p="",h,_=!1,f="",d,g=new Map,m=new Map,v=new Map,b=new Map,y=i?{maxIterations:i.maxSedIterations}:void 0;for(let e=0;e<c.length;e++){let r={...{patternSpace:"",holdSpace:"",lineNumber:0,totalLines:u,deleted:!1,printed:!1,quit:!1,quitSilent:!1,exitCode:void 0,errorMessage:void 0,appendBuffer:[],substitutionMade:!1,lineNumberOutput:[],nCommandOutput:[],restartCycle:!1,inDRestartedCycle:!1,currentFilename:s,pendingFileReads:[],pendingFileWrites:[],pendingExecute:void 0,rangeStates:g||new Map,linesConsumedInCycle:0},patternSpace:c[e],holdSpace:f,lastPattern:d,lineNumber:e+1,totalLines:u,substitutionMade:!1},i={lines:c,currentLineIndex:e},l=0;r.linesConsumedInCycle=0;do{if(++l>1e4)break;if(r.restartCycle=!1,r.pendingFileReads=[],r.pendingFileWrites=[],function e(t,n,r,i){let s=new Map;for(let e=0;e<t.length;e++){let n=t[e];"label"===n.type&&s.set(n.name,e)}let a=i?.maxIterations??r2,o=0,l=0;for(;l<t.length;){if(++o>a)throw new rq(`sed: command execution exceeded maximum iterations (${a})`,"iterations");if(n.deleted||n.quit||n.quitSilent||n.restartCycle)break;let c=t[l];if("next"===c.type){if(r0(c.address,n.lineNumber,n.totalLines,n.patternSpace,n.rangeStates,n))if(n.nCommandOutput.push(n.patternSpace),r&&r.currentLineIndex+n.linesConsumedInCycle+1<r.lines.length){n.linesConsumedInCycle++;let e=r.lines[r.currentLineIndex+n.linesConsumedInCycle];n.patternSpace=e,n.lineNumber=r.currentLineIndex+n.linesConsumedInCycle+1,n.substitutionMade=!1}else{n.quit=!0,n.deleted=!0;break}l++;continue}if("nextAppend"===c.type){if(r0(c.address,n.lineNumber,n.totalLines,n.patternSpace,n.rangeStates,n))if(r&&r.currentLineIndex+n.linesConsumedInCycle+1<r.lines.length){n.linesConsumedInCycle++;let e=r.lines[r.currentLineIndex+n.linesConsumedInCycle];n.patternSpace+=`
${e}`,n.lineNumber=r.currentLineIndex+n.linesConsumedInCycle+1}else{n.quit=!0;break}l++;continue}if("branch"===c.type){if(r0(c.address,n.lineNumber,n.totalLines,n.patternSpace,n.rangeStates,n)){if(c.label){let e=s.get(c.label);if(void 0!==e){l=e;continue}n.branchRequest=c.label}break}l++;continue}if("branchOnSubst"===c.type){if(r0(c.address,n.lineNumber,n.totalLines,n.patternSpace,n.rangeStates,n)&&n.substitutionMade){if(n.substitutionMade=!1,c.label){let e=s.get(c.label);if(void 0!==e){l=e;continue}n.branchRequest=c.label}break}l++;continue}if("branchOnNoSubst"===c.type){if(r0(c.address,n.lineNumber,n.totalLines,n.patternSpace,n.rangeStates,n)&&!n.substitutionMade){if(c.label){let e=s.get(c.label);if(void 0!==e){l=e;continue}n.branchRequest=c.label}break}l++;continue}if("group"===c.type){if(r0(c.address,n.lineNumber,n.totalLines,n.patternSpace,n.rangeStates,n)&&(e(c.commands,n,r,i),n.branchRequest)){let e=s.get(n.branchRequest);if(void 0!==e){n.branchRequest=void 0,l=e;continue}break}l++;continue}(function(e,t){let{lineNumber:n,totalLines:r,patternSpace:i}=t;if("label"!==e.type&&r0(e.address,n,r,i,t.rangeStates,t))switch(e.type){case"substitute":{let n="";e.global&&(n+="g"),e.ignoreCase&&(n+="i");let r=e.pattern;""===r&&t.lastPattern?r=t.lastPattern:""!==r&&(t.lastPattern=r);let i=rK(e.extendedRegex?r:rZ(r));try{let r=new RegExp(i,n),s=r.test(t.patternSpace);if(r.lastIndex=0,s){if(t.substitutionMade=!0,e.nthOccurrence&&e.nthOccurrence>0&&!e.global){let n=0,r=e.nthOccurrence;t.patternSpace=t.patternSpace.replace(RegExp(i,`g${e.ignoreCase?"i":""}`),(t,...i)=>{if(++n===r){let n=i.slice(0,-2);return r1(e.replacement,t,n)}return t})}else e.global?t.patternSpace=function(e,t,n,r){let i="",s=0,a=!1;for(;s<=e.length;){t.lastIndex=s;let n=t.exec(e);if(!n){i+=e.slice(s);break}if(n.index!==s){i+=e.slice(s,n.index),s=n.index,a=!1;continue}let o=n[0],l=n.slice(1);if(a&&0===o.length){if(s<e.length)i+=e[s],s++;else break;a=!1;continue}if(i+=r(o,l),a=!1,0===o.length)if(s<e.length)i+=e[s],s++;else break;else s+=o.length,a=!0}return i}(t.patternSpace,RegExp(i,`g${e.ignoreCase?"i":""}`),e.replacement,(t,n)=>r1(e.replacement,t,n)):t.patternSpace=t.patternSpace.replace(r,(t,...n)=>{let r=n.slice(0,-2);return r1(e.replacement,t,r)});e.printOnMatch&&t.lineNumberOutput.push(t.patternSpace)}}catch{}break}case"print":t.lineNumberOutput.push(t.patternSpace);break;case"printFirstLine":{let e=t.patternSpace.indexOf(`
`);-1!==e?t.lineNumberOutput.push(t.patternSpace.slice(0,e)):t.lineNumberOutput.push(t.patternSpace);break}case"delete":t.deleted=!0;break;case"deleteFirstLine":{let e=t.patternSpace.indexOf(`
`);-1!==e?(t.patternSpace=t.patternSpace.slice(e+1),t.restartCycle=!0,t.inDRestartedCycle=!0):t.deleted=!0;break}case"zap":t.patternSpace="";break;case"append":t.appendBuffer.push(e.text);break;case"insert":t.appendBuffer.unshift(`__INSERT__${e.text}`);break;case"change":t.deleted=!0,t.changedText=e.text;break;case"hold":t.holdSpace=t.patternSpace;break;case"holdAppend":t.holdSpace?t.holdSpace+=`
${t.patternSpace}`:t.holdSpace=t.patternSpace;break;case"get":t.patternSpace=t.holdSpace;break;case"getAppend":t.patternSpace+=`
${t.holdSpace}`;break;case"exchange":{let e=t.patternSpace;t.patternSpace=t.holdSpace,t.holdSpace=e;break}case"next":t.printed=!0;break;case"quit":t.quit=!0,void 0!==e.exitCode&&(t.exitCode=e.exitCode);break;case"quitSilent":t.quit=!0,t.quitSilent=!0,void 0!==e.exitCode&&(t.exitCode=e.exitCode);break;case"list":{let e=function(e){let t="";for(let n=0;n<e.length;n++){let r=e[n],i=r.charCodeAt(0);"\\"===r?t+="\\\\":"	"===r?t+="\\t":r===`
`?t+=`$
`:"\r"===r?t+="\\r":"\x07"===r?t+="\\a":"\b"===r?t+="\\b":"\f"===r?t+="\\f":"\v"===r?t+="\\v":i<32||i>=127?t+=`\\${i.toString(8).padStart(3,"0")}`:t+=r}return`${t}$`}(t.patternSpace);t.lineNumberOutput.push(e);break}case"printFilename":t.currentFilename&&t.lineNumberOutput.push(t.currentFilename);break;case"version":{let n=[4,8,0];if(e.minVersion){let r=e.minVersion.split("."),i=[],s=!1;for(let n of r){let r=parseInt(n,10);if(Number.isNaN(r)||r<0){t.quit=!0,t.exitCode=1,t.errorMessage=`sed: invalid version string: ${e.minVersion}`,s=!0;break}i.push(r)}if(!s){for(;i.length<3;)i.push(0);for(let r=0;r<3;r++){if(i[r]>n[r]){t.quit=!0,t.exitCode=1,t.errorMessage=`sed: this is not GNU sed version ${e.minVersion}`;break}if(i[r]<n[r])break}}}break}case"readFile":t.pendingFileReads.push({filename:e.filename,wholeFile:!0});break;case"readFileLine":t.pendingFileReads.push({filename:e.filename,wholeFile:!1});break;case"writeFile":t.pendingFileWrites.push({filename:e.filename,content:`${t.patternSpace}
`});break;case"writeFirstLine":{let n=t.patternSpace.indexOf(`
`),r=-1!==n?t.patternSpace.slice(0,n):t.patternSpace;t.pendingFileWrites.push({filename:e.filename,content:`${r}
`});break}case"execute":e.command?t.pendingExecute={command:e.command,replacePattern:!1}:t.pendingExecute={command:t.patternSpace,replacePattern:!0};break;case"transliterate":t.patternSpace=function(e,t){let n="";for(let r of e){let e=t.source.indexOf(r);-1!==e?n+=t.dest[e]:n+=r}return n}(t.patternSpace,e);break;case"lineNumber":t.lineNumberOutput.push(String(t.lineNumber))}})(c,n),l++}return n.linesConsumedInCycle}(t,r,i,y),a&&o){for(let e of r.pendingFileReads){let t=a.resolvePath(o,e.filename);try{if(e.wholeFile){let e=await a.readFile(t);r.appendBuffer.push(e.replace(/\n$/,""))}else{if(!m.has(t)){let e=await a.readFile(t);m.set(t,e.split(`
`)),v.set(t,0)}let e=m.get(t),n=v.get(t);e&&void 0!==n&&n<e.length&&(r.appendBuffer.push(e[n]),v.set(t,n+1))}}catch{}}for(let e of r.pendingFileWrites){let t=a.resolvePath(o,e.filename),n=b.get(t)||"";b.set(t,n+e.content)}}}while(r.restartCycle&&!r.deleted&&!r.quit&&!r.quitSilent)if(e+=r.linesConsumedInCycle,f=r.holdSpace,d=r.lastPattern,!n)for(let e of r.nCommandOutput)p+=`${e}
`;let $=r.lineNumberOutput.length>0;for(let e of r.lineNumberOutput)p+=`${e}
`;let x=[],S=[];for(let e of r.appendBuffer)e.startsWith("__INSERT__")?x.push(e.slice(10)):S.push(e);for(let e of x)p+=`${e}
`;let A=!1;for(let e of(r.deleted||r.quitSilent?void 0!==r.changedText&&(p+=`${r.changedText}
`,A=!0):n?r.printed&&(p+=`${r.patternSpace}
`,A=!0):(p+=`${r.patternSpace}
`,A=!0),S))p+=`${e}
`;if(_=($||A)&&0===S.length,r.quit||r.quitSilent){if(void 0!==r.exitCode&&(h=r.exitCode),r.errorMessage)return{output:"",exitCode:h||1,errorMessage:r.errorMessage};break}}if(a&&o)for(let[e,t]of b)try{await a.writeFile(e,t)}catch{}return!l&&_&&p.endsWith(`
`)&&(p=p.slice(0,-1)),{output:p,exitCode:h}}e5(r7,{sedCommand:()=>ir});var it,ir,ii=e2(()=>{rV(),ti(),r4(),r9(),it={name:"sed",summary:"stream editor for filtering and transforming text",usage:"sed [OPTION]... {script} [input-file]...",options:["-n, --quiet, --silent  suppress automatic printing of pattern space","-e script              add the script to commands to be executed","-f script-file         read script from file","-i, --in-place         edit files in place","-E, -r, --regexp-extended  use extended regular expressions","    --help             display this help and exit"],description:`Commands:
  s/regexp/replacement/[flags]  substitute
  d                             delete pattern space
  p                             print pattern space
  a\\ text                       append text after line
  i\\ text                       insert text before line
  c\\ text                       change (replace) line with text
  h                             copy pattern space to hold space
  H                             append pattern space to hold space
  g                             copy hold space to pattern space
  G                             append hold space to pattern space
  x                             exchange pattern and hold spaces
  n                             read next line into pattern space
  N                             append next line to pattern space
  y/source/dest/                transliterate characters
  =                             print line number
  l                             list pattern space (escape special chars)
  b [label]                     branch to label
  t [label]                     branch on substitution
  T [label]                     branch if no substitution
  :label                        define label
  q                             quit
  Q                             quit without printing

Addresses:
  N                             line number
  $                             last line
  /regexp/                      lines matching regexp
  N,M                           range from line N to M
  first~step                    every step-th line starting at first`},ir={name:"sed",async execute(e,t){if(tn(e))return tt(it);let n=[],r=[],i=!1,s=!1,a=!1,o=[];for(let t=0;t<e.length;t++){let l=e[t];if("-n"===l||"--quiet"===l||"--silent"===l)i=!0;else if("-i"===l||"--in-place"===l)s=!0;else if(l.startsWith("-i"))s=!0;else if("-E"===l||"-r"===l||"--regexp-extended"===l)a=!0;else if("-e"===l)t+1<e.length&&n.push(e[++t]);else if("-f"===l)t+1<e.length&&r.push(e[++t]);else{if(l.startsWith("--"))return tr("sed",l);if("-"===l)o.push(l);else if(l.startsWith("-")&&l.length>1){for(let e of l.slice(1))if("n"!==e&&"e"!==e&&"f"!==e&&"i"!==e&&"E"!==e&&"r"!==e)return tr("sed",`-${e}`);l.includes("n")&&(i=!0),l.includes("i")&&(s=!0),(l.includes("E")||l.includes("r"))&&(a=!0),l.includes("e")&&!l.includes("n")&&!l.includes("i")&&t+1<e.length&&n.push(e[++t]),l.includes("f")&&!l.includes("e")&&t+1<e.length&&r.push(e[++t])}else l.startsWith("-")||0!==n.length||0!==r.length?l.startsWith("-")||o.push(l):n.push(l)}}for(let e of r){let r=t.fs.resolvePath(t.cwd,e);try{for(let e of(await t.fs.readFile(r)).split(`
`)){let t=e.trim();t&&!t.startsWith("#")&&n.push(t)}}catch{return{stdout:"",stderr:`sed: couldn't open file ${e}: No such file or directory
`,exitCode:1}}}if(0===n.length)return{stdout:"",stderr:`sed: no script specified
`,exitCode:1};let{commands:l,error:c,silentMode:u}=function(e,t=!1){let n=!1,r=!1,i=[];for(let t=0;t<e.length;t++){let s=e[t];if(0===i.length&&0===t){let e=s.match(/^#([nr]+)\s*(?:\n|$)/i);if(e){let t=e[1].toLowerCase();t.includes("n")&&(n=!0),t.includes("r")&&(r=!0),s=s.slice(e[0].length)}}if(i.length>0&&i[i.length-1].endsWith("\\")){let e=i[i.length-1];i[i.length-1]=`${e}
${s}`}else i.push(s)}let s=i.join(`
`),a=new r6([s],t||r).parse();if(!a.error&&a.commands.length>0){let e=function(e){let t=new Set;!function e(t,n){for(let r of t)"label"===r.type?n.add(r.name):"group"===r.type&&e(r.commands,n)}(e,t);let n=function e(t,n){for(let r of t){if(("branch"===r.type||"branchOnSubst"===r.type||"branchOnNoSubst"===r.type)&&r.label&&!n.has(r.label))return r.label;if("group"===r.type){let t=e(r.commands,n);if(t)return t}}}(e,t);if(n)return`undefined label '${n}'`}(a.commands);if(e)return{commands:[],error:e,silentMode:n,extendedRegexMode:r}}return{...a,silentMode:n,extendedRegexMode:r}}(n,a);if(c)return{stdout:"",stderr:`sed: ${c}
`,exitCode:1};let p=!!(i||u);if(s){if(0===o.length)return{stdout:"",stderr:`sed: -i requires at least one file argument
`,exitCode:1};for(let e of o){if("-"===e)continue;let n=t.fs.resolvePath(t.cwd,e);try{let r=await t.fs.readFile(n),i=await ie(r,l,p,{limits:t.limits,filename:e,fs:t.fs,cwd:t.cwd});if(i.errorMessage)return{stdout:"",stderr:`${i.errorMessage}
`,exitCode:i.exitCode??1};await t.fs.writeFile(n,i.output)}catch(t){return t instanceof rq?{stdout:"",stderr:`sed: ${t.message}
`,exitCode:rq.EXIT_CODE}:{stdout:"",stderr:`sed: ${e}: No such file or directory
`,exitCode:1}}}return{stdout:"",stderr:"",exitCode:0}}let h="";if(0===o.length){h=t.stdin;try{let e=await ie(h,l,p,{limits:t.limits,fs:t.fs,cwd:t.cwd});return{stdout:e.output,stderr:e.errorMessage?`${e.errorMessage}
`:"",exitCode:e.exitCode??0}}catch(e){if(e instanceof rq)return{stdout:"",stderr:`sed: ${e.message}
`,exitCode:rq.EXIT_CODE};throw e}}let _=!1;for(let e of o){let n;if("-"===e)_?n="":(n=t.stdin,_=!0);else{let r=t.fs.resolvePath(t.cwd,e);try{n=await t.fs.readFile(r)}catch(t){return t instanceof rq?{stdout:"",stderr:`sed: ${t.message}
`,exitCode:rq.EXIT_CODE}:{stdout:"",stderr:`sed: ${e}: No such file or directory
`,exitCode:1}}}h.length>0&&n.length>0&&!h.endsWith(`
`)&&(h+=`
`),h+=n}try{let e=await ie(h,l,p,{limits:t.limits,filename:1===o.length?o[0]:void 0,fs:t.fs,cwd:t.cwd});return{stdout:e.output,stderr:e.errorMessage?`${e.errorMessage}
`:"",exitCode:e.exitCode??0}}catch(e){if(e instanceof rq)return{stdout:"",stderr:`sed: ${e.message}
`,exitCode:rq.EXIT_CODE};throw e}}}}),is=e2(()=>{}),ia=e2(()=>{});function io(e){if("number"==typeof e)return e;let t=parseFloat(e);return Number.isNaN(t)?0:t}function il(e){return"string"==typeof e?e:(Number.isInteger(e),String(e))}async function ic(e,t){if("regex"===e.type)return e.pattern;let n=il(await t.evalExpr(e));return n.startsWith("/")&&n.endsWith("/")&&(n=n.slice(1,-1)),n}async function iu(e,t){return e?"variable"===e.type?e.name:"field"===e.type?`$${Math.floor(io(await t.evalExpr(e.index)))}`:"$0":"$0"}function ip(e,t){if("$0"===e)return t.line;if(e.startsWith("$")){let n=parseInt(e.slice(1),10)-1;return t.fields[n]||""}return il(t.vars[e]??"")}function ih(e,t,n){if("$0"===e)n.line=t,n.fields=" "===n.FS?t.trim().split(/\s+/).filter(Boolean):t.split(n.fieldSep),n.NF=n.fields.length;else if(e.startsWith("$")){let r=parseInt(e.slice(1),10)-1;for(;n.fields.length<=r;)n.fields.push("");n.fields[r]=t,n.NF=n.fields.length,n.line=n.fields.join(n.OFS)}else n.vars[e]=t}async function i_(e,t,n){return 0===e.length?t.line.length:il(await n.evalExpr(e[0])).length}async function id(e,t,n){if(e.length<2)return"";let r=il(await n.evalExpr(e[0])),i=Math.floor(io(await n.evalExpr(e[1])))-1;if(e.length>=3){let t=Math.floor(io(await n.evalExpr(e[2])));return r.substr(Math.max(0,i),t)}return r.substr(Math.max(0,i))}async function ig(e,t,n){if(e.length<2)return 0;let r=il(await n.evalExpr(e[0])),i=il(await n.evalExpr(e[1])),s=r.indexOf(i);return -1===s?0:s+1}async function im(e,t,n){if(e.length<2)return 0;let r=il(await n.evalExpr(e[0])),i=e[1];if("variable"!==i.type)return 0;let s=i.name,a=t.FS;if(e.length>=3){let t=e[2];if("regex"===t.type)a=new RegExp(t.pattern);else{let e=il(await n.evalExpr(t));a=" "===e?/\s+/:e}}else" "===t.FS&&(a=/\s+/);let o=r.split(a);t.arrays[s]={};for(let e=0;e<o.length;e++)t.arrays[s][String(e+1)]=o[e];return o.length}async function iv(e,t,n){if(e.length<2)return 0;let r=await ic(e[0],n),i=il(await n.evalExpr(e[1])),s=await iu(e[2],n),a=ip(s,t);try{let e=new RegExp(r),n=a.replace(e,iy(i)),o=+(n!==a);return ih(s,n,t),o}catch{return 0}}async function ib(e,t,n){if(e.length<2)return 0;let r=await ic(e[0],n),i=il(await n.evalExpr(e[1])),s=await iu(e[2],n),a=ip(s,t);try{let e=RegExp(r,"g"),n=a.match(e),o=n?n.length:0,l=a.replace(e,iy(i));return ih(s,l,t),o}catch{return 0}}function iy(e){return t=>{let n="",r=0;for(;r<e.length;)if("\\"===e[r]&&r+1<e.length){let t=e[r+1];"&"===t?n+="&":"\\"===t?n+="\\":n+=e[r+1],r+=2}else"&"===e[r]?n+=t:n+=e[r],r++;return n}}async function i$(e,t,n){if(e.length<2)return t.RSTART=0,t.RLENGTH=-1,0;let r=il(await n.evalExpr(e[0])),i=await ic(e[1],n);try{let e=new RegExp(i).exec(r);if(e)return t.RSTART=e.index+1,t.RLENGTH=e[0].length,t.RSTART}catch{}return t.RSTART=0,t.RLENGTH=-1,0}async function ix(e,t,n){if(e.length<3)return"";let r=await ic(e[0],n),i=il(await n.evalExpr(e[1])),s=il(await n.evalExpr(e[2])),a=e.length>=4?il(await n.evalExpr(e[3])):t.line;try{let e="g"===s.toLowerCase(),t=e?0:parseInt(s,10)||1;if(e){let e=RegExp(r,"g");return a.replace(e,(e,...t)=>iS(i,e,t.slice(0,-2)))}{let e=0,n=RegExp(r,"g");return a.replace(n,(n,...r)=>++e===t?iS(i,n,r.slice(0,-2)):n)}}catch{return a}}function iS(e,t,n){let r="",i=0;for(;i<e.length;)if("\\"===e[i]&&i+1<e.length){let s=e[i+1];"&"===s?r+="&":"0"===s?r+=t:s>="1"&&s<="9"?r+=n[parseInt(s,10)-1]||"":"n"===s?r+=`
`:"t"===s?r+="	":r+=s,i+=2}else"&"===e[i]?r+=t:r+=e[i],i++;return r}async function iA(e,t,n){return 0===e.length?"":il(await n.evalExpr(e[0])).toLowerCase()}async function iw(e,t,n){return 0===e.length?"":il(await n.evalExpr(e[0])).toUpperCase()}async function iE(e,t,n){if(0===e.length)return"";let r=il(await n.evalExpr(e[0])),i=[];for(let t=1;t<e.length;t++)i.push(await n.evalExpr(e[t]));return iM(r,i)}async function ik(e,t,n){return 0===e.length?0:Math.floor(io(await n.evalExpr(e[0])))}async function iC(e,t,n){return 0===e.length?0:Math.sqrt(io(await n.evalExpr(e[0])))}async function iO(e,t,n){return 0===e.length?0:Math.sin(io(await n.evalExpr(e[0])))}async function iR(e,t,n){return 0===e.length?0:Math.cos(io(await n.evalExpr(e[0])))}async function iT(e,t,n){return Math.atan2(e.length>0?io(await n.evalExpr(e[0])):0,e.length>1?io(await n.evalExpr(e[1])):0)}async function iN(e,t,n){return 0===e.length?0:Math.log(io(await n.evalExpr(e[0])))}async function iP(e,t,n){return 0===e.length?1:Math.exp(io(await n.evalExpr(e[0])))}function iL(e,t,n){return t.random?t.random():Math.random()}async function iI(e,t,n){let r=e.length>0?io(await n.evalExpr(e[0])):Date.now();return t.vars._srand_seed=r,r}function iD(e){return()=>{throw Error(`function '${e}()' is not implemented`)}}function iM(e,t){let n=0,r="",i=0;for(;i<e.length;)if("%"===e[i]&&i+1<e.length){let s=i+1,a="",o="",l="",c,u=s;for(;s<e.length&&/\d/.test(e[s]);)s++;s>u&&"$"===e[s]?(c=parseInt(e.substring(u,s),10)-1,s++):s=u;let p=()=>{if(s<e.length){if(s+1<e.length&&("h"===e[s]&&"h"===e[s+1]||"l"===e[s]&&"l"===e[s+1])){s+=2;return}/[lzjh]/.test(e[s])&&s++}};for(;s<e.length&&/[-+ #0]/.test(e[s]);)a+=e[s++];if("*"===e[s]){let e=t[n++],r=void 0!==e?Math.floor(Number(e)):0;r<0?(a+="-",o=String(-r)):o=String(r),s++}else for(;s<e.length&&/\d/.test(e[s]);)o+=e[s++];if("."===e[s])if("*"===e[++s]){let e=t[n++];l=String(void 0!==e?Math.floor(Number(e)):0),s++}else for(;s<e.length&&/\d/.test(e[s]);)l+=e[s++];p();let h=e[s],_=t[void 0!==c?c:n];switch(h){case"s":{let e=void 0!==_?String(_):"";if(l&&(e=e.substring(0,parseInt(l,10))),o){let t=parseInt(o,10);e=a.includes("-")?e.padEnd(t):e.padStart(t)}r+=e,void 0===c&&n++;break}case"d":case"i":{let e=void 0!==_?Math.floor(Number(_)):0;Number.isNaN(e)&&(e=0);let t=e<0,i=Math.abs(e).toString();if(l){let e=parseInt(l,10);i=i.padStart(e,"0")}let s="";t?s="-":a.includes("+")?s="+":a.includes(" ")&&(s=" ");let u=s+i;if(o){let e=parseInt(o,10);u=a.includes("-")?u.padEnd(e):a.includes("0")&&!l?s+i.padStart(e-s.length,"0"):u.padStart(e)}r+=u,void 0===c&&n++;break}case"f":{let e=void 0!==_?Number(_):0;Number.isNaN(e)&&(e=0);let t=l?parseInt(l,10):6,i=e.toFixed(t);if(o){let e=parseInt(o,10);i=a.includes("-")?i.padEnd(e):i.padStart(e)}r+=i,void 0===c&&n++;break}case"e":case"E":{let e=void 0!==_?Number(_):0;Number.isNaN(e)&&(e=0);let t=l?parseInt(l,10):6,i=e.toExponential(t);if("E"===h&&(i=i.toUpperCase()),o){let e=parseInt(o,10);i=a.includes("-")?i.padEnd(e):i.padStart(e)}r+=i,void 0===c&&n++;break}case"g":case"G":{let e=void 0!==_?Number(_):0;Number.isNaN(e)&&(e=0);let t=l?parseInt(l,10):6,i=0!==e?Math.floor(Math.log10(Math.abs(e))):0,s;if(0===e?s="0":i<-4||i>=t?(s=e.toExponential(t-1),"G"===h&&(s=s.toUpperCase())):s=e.toPrecision(t),s.includes(".")&&(s=s.replace(/\.?0+$/,"").replace(/\.?0+e/,"e")),s.includes("e")&&(s=s.replace(/\.?0+e/,"e")),o){let e=parseInt(o,10);s=a.includes("-")?s.padEnd(e):s.padStart(e)}r+=s,void 0===c&&n++;break}case"x":case"X":{let e=void 0!==_?Math.floor(Number(_)):0;Number.isNaN(e)&&(e=0);let t=Math.abs(e).toString(16);if("X"===h&&(t=t.toUpperCase()),l){let e=parseInt(l,10);t=t.padStart(e,"0")}let i=e<0?"-":"",s=i+t;if(o){let e=parseInt(o,10);s=a.includes("-")?s.padEnd(e):a.includes("0")&&!l?i+t.padStart(e-i.length,"0"):s.padStart(e)}r+=s,void 0===c&&n++;break}case"o":{let e=void 0!==_?Math.floor(Number(_)):0;Number.isNaN(e)&&(e=0);let t=Math.abs(e).toString(8);if(l){let e=parseInt(l,10);t=t.padStart(e,"0")}let i=e<0?"-":"",s=i+t;if(o){let e=parseInt(o,10);s=a.includes("-")?s.padEnd(e):a.includes("0")&&!l?i+t.padStart(e-i.length,"0"):s.padStart(e)}r+=s,void 0===c&&n++;break}case"c":"number"==typeof _?r+=String.fromCharCode(_):r+=String(_??"").charAt(0)||"",void 0===c&&n++;break;case"%":r+="%";break;default:r+=e.substring(i,s+1)}i=s+1}else if("\\"===e[i]&&i+1<e.length){let t=e[i+1];switch(t){case"n":r+=`
`;break;case"t":r+="	";break;case"r":r+="\r";break;case"\\":r+="\\";break;default:r+=t}i+=2}else r+=e[i++];return r}var iF,iB=e2(()=>{iF={length:i_,substr:id,index:ig,split:im,sub:iv,gsub:ib,match:i$,gensub:ix,tolower:iA,toupper:iw,sprintf:iE,int:ik,sqrt:iC,sin:iO,cos:iR,atan2:iT,log:iN,exp:iP,rand:iL,srand:iI,system:()=>{throw Error("system() is not supported - shell execution not allowed in sandboxed environment")},close:()=>0,fflush:()=>0,systime:iD("systime"),mktime:iD("mktime"),strftime:iD("strftime")}});function iH(e){return"number"==typeof e?0!==e:""!==e&&"0"!==e}function iU(e){if("number"==typeof e)return e;let t=parseFloat(e);return Number.isNaN(t)?0:t}function ij(e){return"string"==typeof e?e:(Number.isInteger(e),String(e))}function iW(e){if("number"==typeof e)return!0;let t=String(e).trim();return""!==t&&!Number.isNaN(Number(t))}function iq(e,t){try{return new RegExp(e).test(t)}catch{return!1}}var iz=e2(()=>{});function iG(e,t){return""===t?[]:" "===e.FS?t.trim().split(/\s+/).filter(Boolean):t.split(e.fieldSep)}function iV(e,t){return 0===t?e.line:t<0||t>e.fields.length?"":e.fields[t-1]??""}function iZ(e,t,n){if(0===t)e.line=ij(n),e.fields=iG(e,e.line),e.NF=e.fields.length;else if(t>0){for(;e.fields.length<t;)e.fields.push("");e.fields[t-1]=ij(n),e.NF=e.fields.length,e.line=e.fields.join(e.OFS)}}function iK(e,t){e.line=t,e.fields=iG(e,t),e.NF=e.fields.length}var iX=e2(()=>{iz()});function iQ(e,t){switch(t){case"FS":return e.FS;case"OFS":return e.OFS;case"ORS":return e.ORS;case"OFMT":return e.OFMT;case"NR":return e.NR;case"NF":return e.NF;case"FNR":return e.FNR;case"FILENAME":return e.FILENAME;case"RSTART":return e.RSTART;case"RLENGTH":return e.RLENGTH;case"SUBSEP":return e.SUBSEP;case"ARGC":return e.ARGC}return e.vars[t]??""}function iJ(e,t,n){switch(t){case"FS":var r=ij(n);if(e.FS=r," "===r)e.fieldSep=/\s+/;else try{e.fieldSep=new RegExp(r)}catch{e.fieldSep=new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))}return;case"OFS":e.OFS=ij(n);return;case"ORS":e.ORS=ij(n);return;case"OFMT":e.OFMT=ij(n);return;case"NR":e.NR=Math.floor(iU(n));return;case"NF":{let t=Math.floor(iU(n));if(t<e.NF)e.fields=e.fields.slice(0,t),e.line=e.fields.join(e.OFS);else if(t>e.NF){for(;e.fields.length<t;)e.fields.push("");e.line=e.fields.join(e.OFS)}e.NF=t;return}case"FNR":e.FNR=Math.floor(iU(n));return;case"FILENAME":e.FILENAME=ij(n);return;case"RSTART":e.RSTART=Math.floor(iU(n));return;case"RLENGTH":e.RLENGTH=Math.floor(iU(n));return;case"SUBSEP":e.SUBSEP=ij(n);return}e.vars[t]=n}function iY(e,t){let n=t,r=new Set,i=e.arrayAliases.get(n);for(;void 0!==i&&!r.has(n);)r.add(n),n=i,i=e.arrayAliases.get(n);return n}function i0(e,t,n){if("ARGV"===t)return e.ARGV[n]??"";if("ENVIRON"===t)return e.ENVIRON[n]??"";let r=iY(e,t);return e.arrays[r]?.[n]??""}function i1(e,t,n,r){let i=iY(e,t);e.arrays[i]||(e.arrays[i]={}),e.arrays[i][n]=r}var i2=e2(()=>{iX(),iz()});async function i3(e,t){switch(t.type){case"number":case"string":return t.value;case"regex":return+!!iq(t.pattern,e.line);case"field":return i5(e,t);case"variable":return iQ(e,t.name);case"array_access":return i6(e,t);case"binary":return i4(e,t);case"unary":return i8(e,t);case"ternary":return iH(await i3(e,t.condition))?await i3(e,t.consequent):await i3(e,t.alternate);case"call":return i9(e,t.name,t.args);case"assignment":return se(e,t);case"pre_increment":return sn(e,t.operand);case"pre_decrement":return sr(e,t.operand);case"post_increment":return si(e,t.operand);case"post_decrement":return ss(e,t.operand);case"in":return sa(e,t.key,t.array);case"getline":return so(e,t.variable,t.file,t.command);case"tuple":return su(e,t.elements);default:return""}}async function i5(e,t){let n=Math.floor(iU(await i3(e,t.index)));return iV(e,n)}async function i6(e,t){let n=ij(await i3(e,t.key));return i0(e,t.array,n)}async function i4(e,t){let n=t.operator;if("||"===n)return iH(await i3(e,t.left))||iH(await i3(e,t.right))?1:0;if("&&"===n)return iH(await i3(e,t.left))&&iH(await i3(e,t.right))?1:0;if("~"===n){let n=await i3(e,t.left),r="regex"===t.right.type?t.right.pattern:ij(await i3(e,t.right));try{return+!!new RegExp(r).test(ij(n))}catch{return 0}}if("!~"===n){let n=await i3(e,t.left),r="regex"===t.right.type?t.right.pattern:ij(await i3(e,t.right));try{return+!new RegExp(r).test(ij(n))}catch{return 1}}let r=await i3(e,t.left),i=await i3(e,t.right);if(" "===n)return ij(r)+ij(i);if(["<","<=",">",">=","==","!="].includes(n))return function(e,t,n){let r=iW(e),i=iW(t);if(r&&i){let r=iU(e),i=iU(t);switch(n){case"<":return+(r<i);case"<=":return+(r<=i);case">":return+(r>i);case">=":return+(r>=i);case"==":return+(r===i);case"!=":return+(r!==i)}}let s=ij(e),a=ij(t);switch(n){case"<":return+(s<a);case"<=":return+(s<=a);case">":return+(s>a);case">=":return+(s>=a);case"==":return+(s===a);case"!=":return+(s!==a)}return 0}(r,i,n);let s=iU(r),a=iU(i);switch(n){case"+":return s+a;case"-":return s-a;case"*":return s*a;case"/":return 0!==a?s/a:0;case"%":return 0!==a?s%a:0;case"^":case"**":return s**a;default:return 0}}async function i8(e,t){let n=await i3(e,t.operand);switch(t.operator){case"!":return+!iH(n);case"-":return-iU(n);case"+":return+iU(n);default:return n}}async function i9(e,t,n){let r=iF[t];if(r)return r(n,e,{evalExpr:t=>i3(e,t)});let i=e.functions.get(t);return i?i7(e,i,n):""}async function i7(e,t,n){if(e.currentRecursionDepth++,e.currentRecursionDepth>e.maxRecursionDepth)throw e.currentRecursionDepth--,new rq(`awk: recursion depth exceeded maximum (${e.maxRecursionDepth})`,"recursion",e.output);let r={};for(let n of t.params)r[n]=e.vars[n];let i=[];for(let r=0;r<t.params.length;r++){let s=t.params[r];if(r<n.length){let t=n[r];"variable"===t.type&&(e.arrayAliases.set(s,t.name),i.push(s));let a=await i3(e,t);e.vars[s]=a}else e.vars[s]=""}e.hasReturn=!1,e.returnValue=void 0,sp&&await sp(e,t.body.statements);let s=e.returnValue??"";for(let n of t.params)void 0!==r[n]?e.vars[n]=r[n]:delete e.vars[n];for(let t of i)e.arrayAliases.delete(t);return e.hasReturn=!1,e.returnValue=void 0,e.currentRecursionDepth--,s}async function se(e,t){let n=await i3(e,t.value),r=t.target,i=t.operator,s;if("="===i)s=n;else{let t;if("field"===r.type){let n=Math.floor(iU(await i3(e,r.index)));t=iV(e,n)}else if("variable"===r.type)t=iQ(e,r.name);else{let n=ij(await i3(e,r.key));t=i0(e,r.array,n)}let a=iU(t),o=iU(n);switch(i){case"+=":s=a+o;break;case"-=":s=a-o;break;case"*=":s=a*o;break;case"/=":s=0!==o?a/o:0;break;case"%=":s=0!==o?a%o:0;break;case"^=":s=a**o;break;default:s=n}}if("field"===r.type){let t=Math.floor(iU(await i3(e,r.index)));iZ(e,t,s)}else if("variable"===r.type)iJ(e,r.name,s);else{let t=ij(await i3(e,r.key));i1(e,r.array,t,s)}return s}async function st(e,t,n,r){let i;if("field"===t.type){let r=Math.floor(iU(await i3(e,t.index)));i=iU(iV(e,r)),iZ(e,r,i+n)}else if("variable"===t.type)i=iU(iQ(e,t.name)),iJ(e,t.name,i+n);else{let r=ij(await i3(e,t.key));i=iU(i0(e,t.array,r)),i1(e,t.array,r,i+n)}return r?i+n:i}async function sn(e,t){return st(e,t,1,!0)}async function sr(e,t){return st(e,t,-1,!0)}async function si(e,t){return st(e,t,1,!1)}async function ss(e,t){return st(e,t,-1,!1)}async function sa(e,t,n){let r;if("tuple"===t.type){let n=[];for(let r of t.elements)n.push(ij(await i3(e,r)));r=n.join(e.SUBSEP)}else r=ij(await i3(e,t));return+!!function(e,t,n){if("ARGV"===t)return void 0!==e.ARGV[n];if("ENVIRON"===t)return void 0!==e.ENVIRON[n];let r=iY(e,t);return e.arrays[r]?.[n]!==void 0}(e,n,r)}async function so(e,t,n,r){if(r)return sl(e,t,r);if(n)return sc(e,t,n);if(!e.lines||void 0===e.lineIndex)return -1;let i=e.lineIndex+1;if(i>=e.lines.length)return 0;let s=e.lines[i];return t?iJ(e,t,s):iK(e,s),e.NR++,e.lineIndex=i,1}async function sl(e,t,n){if(!e.exec)return -1;let r=ij(await i3(e,n)),i=`__cmd_${r}`,s=`__cmdi_${r}`,a,o;if(void 0===e.vars[i])try{(a=(await e.exec(r)).stdout.split(`
`)).length>0&&""===a[a.length-1]&&a.pop(),e.vars[i]=JSON.stringify(a),e.vars[s]=-1,o=-1}catch{return -1}else a=JSON.parse(e.vars[i]),o=e.vars[s];let l=o+1;if(l>=a.length)return 0;let c=a[l];return e.vars[s]=l,t?iJ(e,t,c):iK(e,c),1}async function sc(e,t,n){if(!e.fs||!e.cwd)return -1;let r=ij(await i3(e,n));if("/dev/null"===r)return 0;let i=e.fs.resolvePath(e.cwd,r),s=`__fc_${i}`,a=`__fi_${i}`,o,l;if(void 0===e.vars[s])try{(o=(await e.fs.readFile(i)).split(`
`)).length>0&&""===o[o.length-1]&&o.pop(),e.vars[s]=JSON.stringify(o),e.vars[a]=-1,l=-1}catch{return -1}else o=JSON.parse(e.vars[s]),l=e.vars[a];let c=l+1;if(c>=o.length)return 0;let u=o[c];return e.vars[a]=c,t?iJ(e,t,u):iK(e,u),1}async function su(e,t){if(0===t.length)return"";for(let n=0;n<t.length-1;n++)await i3(e,t[n]);return i3(e,t[t.length-1])}var sp,sh=e2(()=>{rV(),ia(),iB(),iX(),iz(),i2(),sp=null});async function s_(e,t){for(let r of t){var n;if(await sf(e,r),(n=e).shouldExit||n.shouldNext||n.shouldNextFile||n.loopBreak||n.loopContinue||n.hasReturn)break}}async function sf(e,t){switch(t.type){case"block":await s_(e,t.statements);break;case"expr_stmt":await i3(e,t.expression);break;case"print":await sd(e,t.args,t.output);break;case"printf":await sg(e,t.format,t.args,t.output);break;case"if":await sv(e,t);break;case"while":await sb(e,t);break;case"do_while":await sy(e,t);break;case"for":await s$(e,t);break;case"for_in":await sx(e,t);break;case"break":e.loopBreak=!0;break;case"continue":e.loopContinue=!0;break;case"next":e.shouldNext=!0;break;case"nextfile":e.shouldNextFile=!0;break;case"exit":e.shouldExit=!0,e.exitCode=t.code?Math.floor(iU(await i3(e,t.code))):0;break;case"return":e.hasReturn=!0,e.returnValue=t.value?await i3(e,t.value):"";break;case"delete":await sS(e,t.target)}}async function sd(e,t,n){let r=[];for(let n of t){let t=await i3(e,n);"number"==typeof t?Number.isInteger(t)&&Math.abs(t)<Number.MAX_SAFE_INTEGER?r.push(String(t)):r.push(iM(e.OFMT,[t])):r.push(ij(t))}let i=r.join(e.OFS)+e.ORS;n?await sm(e,n.redirect,n.file,i):e.output+=i}async function sg(e,t,n,r){let i=ij(await i3(e,t)),s=[];for(let t of n)s.push(await i3(e,t));let a=iM(i,s);r?await sm(e,r.redirect,r.file,a):e.output+=a}async function sm(e,t,n,r){if(!e.fs||!e.cwd){e.output+=r;return}let i=ij(await i3(e,n)),s=e.fs.resolvePath(e.cwd,i);">"===t?e.openedFiles.has(s)?await e.fs.appendFile(s,r):(await e.fs.writeFile(s,r),e.openedFiles.add(s)):(e.openedFiles.has(s)||e.openedFiles.add(s),await e.fs.appendFile(s,r))}async function sv(e,t){iH(await i3(e,t.condition))?await sf(e,t.consequent):t.alternate&&await sf(e,t.alternate)}async function sb(e,t){let n=0;for(;iH(await i3(e,t.condition));){if(++n>e.maxIterations)throw new rq(`awk: while loop exceeded maximum iterations (${e.maxIterations})`,"iterations",e.output);if(e.loopContinue=!1,await sf(e,t.body),e.loopBreak){e.loopBreak=!1;break}if(e.shouldExit||e.shouldNext||e.hasReturn)break}}async function sy(e,t){let n=0;do{if(++n>e.maxIterations)throw new rq(`awk: do-while loop exceeded maximum iterations (${e.maxIterations})`,"iterations",e.output);if(e.loopContinue=!1,await sf(e,t.body),e.loopBreak){e.loopBreak=!1;break}if(e.shouldExit||e.shouldNext||e.hasReturn)break}while(iH(await i3(e,t.condition)))}async function s$(e,t){t.init&&await i3(e,t.init);let n=0;for(;!t.condition||iH(await i3(e,t.condition));){if(++n>e.maxIterations)throw new rq(`awk: for loop exceeded maximum iterations (${e.maxIterations})`,"iterations",e.output);if(e.loopContinue=!1,await sf(e,t.body),e.loopBreak){e.loopBreak=!1;break}if(e.shouldExit||e.shouldNext||e.hasReturn)break;t.update&&await i3(e,t.update)}}async function sx(e,t){let n=e.arrays[t.array];if(n)for(let r of Object.keys(n)){if(e.vars[t.variable]=r,e.loopContinue=!1,await sf(e,t.body),e.loopBreak){e.loopBreak=!1;break}if(e.shouldExit||e.shouldNext||e.hasReturn)break}}async function sS(e,t){var n;if("array_access"===t.type){let r,i=ij(await i3(e,t.key));n=t.array,r=iY(e,n),e.arrays[r]&&delete e.arrays[r][i]}else{let n;"variable"===t.type&&(n=iY(e,t.name),delete e.arrays[n])}}var sA,sw,sE,sk,sC=e2(()=>{rV(),iB(),sh(),iz(),i2(),sp=s_}),sO=e2(()=>{sh(),iX(),sC(),iz(),sA=class{ctx;program=null;rangeStates=[];constructor(e){this.ctx=e}execute(e){for(let t of(this.program=e,this.ctx.output="",e.functions))this.ctx.functions.set(t.name,t);this.rangeStates=e.rules.map(()=>!1)}async executeBegin(){if(this.program){for(let e of this.program.rules)if(e.pattern?.type==="begin"&&(await s_(this.ctx,e.action.statements),this.ctx.shouldExit))break}}async executeLine(e){if(!(!this.program||this.ctx.shouldExit)){iK(this.ctx,e),this.ctx.NR++,this.ctx.FNR++,this.ctx.shouldNext=!1;for(let e=0;e<this.program.rules.length&&!(this.ctx.shouldExit||this.ctx.shouldNext||this.ctx.shouldNextFile);e++){let t=this.program.rules[e];t.pattern?.type==="begin"||t.pattern?.type==="end"||await this.matchesRule(t,e)&&await s_(this.ctx,t.action.statements)}}}async executeEnd(){if(this.program&&!this.ctx.inEndBlock){for(let e of(this.ctx.inEndBlock=!0,this.ctx.shouldExit=!1,this.program.rules))if(e.pattern?.type==="end"&&(await s_(this.ctx,e.action.statements),this.ctx.shouldExit))break;this.ctx.inEndBlock=!1}}getOutput(){return this.ctx.output}getExitCode(){return this.ctx.exitCode}getContext(){return this.ctx}async matchesRule(e,t){let n=e.pattern;if(!n)return!0;switch(n.type){case"begin":case"end":default:return!1;case"regex_pattern":return iq(n.pattern,this.ctx.line);case"expr_pattern":return iH(await i3(this.ctx,n.expression));case"range":{let e=await this.matchPattern(n.start),r=await this.matchPattern(n.end);return this.rangeStates[t]?(r&&(this.rangeStates[t]=!1),!0):!!e&&(this.rangeStates[t]=!0,r&&(this.rangeStates[t]=!1),!0)}}}async matchPattern(e){switch(e.type){case"regex_pattern":return iq(e.pattern,this.ctx.line);case"expr_pattern":return iH(await i3(this.ctx,e.expression));default:return!1}}}}),sR=e2(()=>{is(),sO()}),sT=e2(()=>{var e;(e=sw||(sw={})).NUMBER="NUMBER",e.STRING="STRING",e.REGEX="REGEX",e.IDENT="IDENT",e.BEGIN="BEGIN",e.END="END",e.IF="IF",e.ELSE="ELSE",e.WHILE="WHILE",e.DO="DO",e.FOR="FOR",e.IN="IN",e.BREAK="BREAK",e.CONTINUE="CONTINUE",e.NEXT="NEXT",e.NEXTFILE="NEXTFILE",e.EXIT="EXIT",e.RETURN="RETURN",e.DELETE="DELETE",e.FUNCTION="FUNCTION",e.PRINT="PRINT",e.PRINTF="PRINTF",e.GETLINE="GETLINE",e.PLUS="PLUS",e.MINUS="MINUS",e.STAR="STAR",e.SLASH="SLASH",e.PERCENT="PERCENT",e.CARET="CARET",e.EQ="EQ",e.NE="NE",e.LT="LT",e.GT="GT",e.LE="LE",e.GE="GE",e.MATCH="MATCH",e.NOT_MATCH="NOT_MATCH",e.AND="AND",e.OR="OR",e.NOT="NOT",e.ASSIGN="ASSIGN",e.PLUS_ASSIGN="PLUS_ASSIGN",e.MINUS_ASSIGN="MINUS_ASSIGN",e.STAR_ASSIGN="STAR_ASSIGN",e.SLASH_ASSIGN="SLASH_ASSIGN",e.PERCENT_ASSIGN="PERCENT_ASSIGN",e.CARET_ASSIGN="CARET_ASSIGN",e.INCREMENT="INCREMENT",e.DECREMENT="DECREMENT",e.QUESTION="QUESTION",e.COLON="COLON",e.COMMA="COMMA",e.SEMICOLON="SEMICOLON",e.NEWLINE="NEWLINE",e.LPAREN="LPAREN",e.RPAREN="RPAREN",e.LBRACE="LBRACE",e.RBRACE="RBRACE",e.LBRACKET="LBRACKET",e.RBRACKET="RBRACKET",e.DOLLAR="DOLLAR",e.APPEND="APPEND",e.PIPE="PIPE",e.EOF="EOF",sE={BEGIN:sw.BEGIN,END:sw.END,if:sw.IF,else:sw.ELSE,while:sw.WHILE,do:sw.DO,for:sw.FOR,in:sw.IN,break:sw.BREAK,continue:sw.CONTINUE,next:sw.NEXT,nextfile:sw.NEXTFILE,exit:sw.EXIT,return:sw.RETURN,delete:sw.DELETE,function:sw.FUNCTION,print:sw.PRINT,printf:sw.PRINTF,getline:sw.GETLINE},sk=class{input;pos=0;line=1;column=1;lastTokenType=null;constructor(e){this.input=e}tokenize(){let e=[];for(;this.pos<this.input.length;){let t=this.nextToken();t&&(e.push(t),this.lastTokenType=t.type)}return e.push(this.makeToken(sw.EOF,"")),e}makeToken(e,t){return{type:e,value:t,line:this.line,column:this.column}}peek(e=0){return this.input[this.pos+e]||""}advance(){let e=this.input[this.pos++]||"";return e===`
`?(this.line++,this.column=1):this.column++,e}skipWhitespace(){for(;this.pos<this.input.length;){let e=this.peek();if(" "===e||"	"===e||"\r"===e)this.advance();else if("\\"===e)if(this.peek(1)===`
`)this.advance(),this.advance();else break;else if("#"===e)for(;this.pos<this.input.length&&this.peek()!==`
`;)this.advance();else break}}nextToken(){if(this.skipWhitespace(),this.pos>=this.input.length)return null;let e=this.line,t=this.column,n=this.peek();return n===`
`?(this.advance(),{type:sw.NEWLINE,value:`
`,line:e,column:t}):'"'===n?this.readString():"/"===n&&this.canBeRegex()?this.readRegex():this.isDigit(n)||"."===n&&this.isDigit(this.peek(1))?this.readNumber():this.isAlpha(n)||"_"===n?this.readIdentifier():this.readOperator()}canBeRegex(){return new Set([null,sw.NEWLINE,sw.SEMICOLON,sw.LBRACE,sw.RBRACE,sw.LPAREN,sw.LBRACKET,sw.COMMA,sw.ASSIGN,sw.PLUS_ASSIGN,sw.MINUS_ASSIGN,sw.STAR_ASSIGN,sw.SLASH_ASSIGN,sw.PERCENT_ASSIGN,sw.CARET_ASSIGN,sw.AND,sw.OR,sw.NOT,sw.MATCH,sw.NOT_MATCH,sw.QUESTION,sw.COLON,sw.LT,sw.GT,sw.LE,sw.GE,sw.EQ,sw.NE,sw.PLUS,sw.MINUS,sw.STAR,sw.PERCENT,sw.CARET,sw.PRINT,sw.PRINTF,sw.IF,sw.WHILE,sw.DO,sw.FOR,sw.RETURN]).has(this.lastTokenType)}readString(){let e=this.line,t=this.column;this.advance();let n="";for(;this.pos<this.input.length&&'"'!==this.peek();)if("\\"===this.peek()){this.advance();let e=this.advance();switch(e){case"n":n+=`
`;break;case"t":n+="	";break;case"r":n+="\r";break;case"f":n+="\f";break;case"b":n+="\b";break;case"v":n+="\v";break;case"a":n+="\x07";break;case"\\":n+="\\";break;case'"':n+='"';break;case"/":n+="/";break;case"x":{let e="";for(;e.length<2&&/[0-9a-fA-F]/.test(this.peek());)e+=this.advance();e.length>0?n+=String.fromCharCode(parseInt(e,16)):n+="x";break}default:if(/[0-7]/.test(e)){let t=e;for(;t.length<3&&/[0-7]/.test(this.peek());)t+=this.advance();n+=String.fromCharCode(parseInt(t,8))}else n+=e}}else n+=this.advance();return'"'===this.peek()&&this.advance(),{type:sw.STRING,value:n,line:e,column:t}}readRegex(){let e=this.line,t=this.column;this.advance();let n="";for(;this.pos<this.input.length&&"/"!==this.peek();)if("\\"===this.peek())n+=this.advance(),this.pos<this.input.length&&(n+=this.advance());else{if(this.peek()===`
`)break;n+=this.advance()}return"/"===this.peek()&&this.advance(),n=n.replace(/\[\[:space:\]\]/g,"[ \\t\\n\\r\\f\\v]").replace(/\[\[:blank:\]\]/g,"[ \\t]").replace(/\[\[:alpha:\]\]/g,"[a-zA-Z]").replace(/\[\[:digit:\]\]/g,"[0-9]").replace(/\[\[:alnum:\]\]/g,"[a-zA-Z0-9]").replace(/\[\[:upper:\]\]/g,"[A-Z]").replace(/\[\[:lower:\]\]/g,"[a-z]").replace(/\[\[:punct:\]\]/g,"[!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~]").replace(/\[\[:xdigit:\]\]/g,"[0-9A-Fa-f]").replace(/\[\[:graph:\]\]/g,"[!-~]").replace(/\[\[:print:\]\]/g,"[ -~]").replace(/\[\[:cntrl:\]\]/g,"[\\x00-\\x1f\\x7f]"),{type:sw.REGEX,value:n,line:e,column:t}}readNumber(){let e=this.line,t=this.column,n="";for(;this.isDigit(this.peek());)n+=this.advance();if("."===this.peek()&&this.isDigit(this.peek(1)))for(n+=this.advance();this.isDigit(this.peek());)n+=this.advance();if("e"===this.peek()||"E"===this.peek())for(n+=this.advance(),("+"===this.peek()||"-"===this.peek())&&(n+=this.advance());this.isDigit(this.peek());)n+=this.advance();return{type:sw.NUMBER,value:parseFloat(n),line:e,column:t}}readIdentifier(){let e=this.line,t=this.column,n="";for(;this.isAlphaNumeric(this.peek())||"_"===this.peek();)n+=this.advance();let r=sE[n];return r?{type:r,value:n,line:e,column:t}:{type:sw.IDENT,value:n,line:e,column:t}}readOperator(){let e=this.line,t=this.column,n=this.advance(),r=this.peek();switch(n){case"+":return"+"===r?(this.advance(),{type:sw.INCREMENT,value:"++",line:e,column:t}):"="===r?(this.advance(),{type:sw.PLUS_ASSIGN,value:"+=",line:e,column:t}):{type:sw.PLUS,value:"+",line:e,column:t};case"-":return"-"===r?(this.advance(),{type:sw.DECREMENT,value:"--",line:e,column:t}):"="===r?(this.advance(),{type:sw.MINUS_ASSIGN,value:"-=",line:e,column:t}):{type:sw.MINUS,value:"-",line:e,column:t};case"*":return"*"===r?(this.advance(),{type:sw.CARET,value:"**",line:e,column:t}):"="===r?(this.advance(),{type:sw.STAR_ASSIGN,value:"*=",line:e,column:t}):{type:sw.STAR,value:"*",line:e,column:t};case"/":return"="===r?(this.advance(),{type:sw.SLASH_ASSIGN,value:"/=",line:e,column:t}):{type:sw.SLASH,value:"/",line:e,column:t};case"%":return"="===r?(this.advance(),{type:sw.PERCENT_ASSIGN,value:"%=",line:e,column:t}):{type:sw.PERCENT,value:"%",line:e,column:t};case"^":return"="===r?(this.advance(),{type:sw.CARET_ASSIGN,value:"^=",line:e,column:t}):{type:sw.CARET,value:"^",line:e,column:t};case"=":return"="===r?(this.advance(),{type:sw.EQ,value:"==",line:e,column:t}):{type:sw.ASSIGN,value:"=",line:e,column:t};case"!":return"="===r?(this.advance(),{type:sw.NE,value:"!=",line:e,column:t}):"~"===r?(this.advance(),{type:sw.NOT_MATCH,value:"!~",line:e,column:t}):{type:sw.NOT,value:"!",line:e,column:t};case"<":return"="===r?(this.advance(),{type:sw.LE,value:"<=",line:e,column:t}):{type:sw.LT,value:"<",line:e,column:t};case">":return"="===r?(this.advance(),{type:sw.GE,value:">=",line:e,column:t}):">"===r?(this.advance(),{type:sw.APPEND,value:">>",line:e,column:t}):{type:sw.GT,value:">",line:e,column:t};case"&":return"&"===r?(this.advance(),{type:sw.AND,value:"&&",line:e,column:t}):{type:sw.IDENT,value:"&",line:e,column:t};case"|":return"|"===r?(this.advance(),{type:sw.OR,value:"||",line:e,column:t}):{type:sw.PIPE,value:"|",line:e,column:t};case"~":return{type:sw.MATCH,value:"~",line:e,column:t};case"?":return{type:sw.QUESTION,value:"?",line:e,column:t};case":":return{type:sw.COLON,value:":",line:e,column:t};case",":return{type:sw.COMMA,value:",",line:e,column:t};case";":return{type:sw.SEMICOLON,value:";",line:e,column:t};case"(":return{type:sw.LPAREN,value:"(",line:e,column:t};case")":return{type:sw.RPAREN,value:")",line:e,column:t};case"{":return{type:sw.LBRACE,value:"{",line:e,column:t};case"}":return{type:sw.RBRACE,value:"}",line:e,column:t};case"[":return{type:sw.LBRACKET,value:"[",line:e,column:t};case"]":return{type:sw.RBRACKET,value:"]",line:e,column:t};case"$":return{type:sw.DOLLAR,value:"$",line:e,column:t};default:return{type:sw.IDENT,value:n,line:e,column:t}}}isDigit(e){return e>="0"&&e<="9"}isAlpha(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}isAlphaNumeric(e){return this.isDigit(e)||this.isAlpha(e)}}});function sN(e){return!function(e){let t=0,n=e.pos;for(;n<e.tokens.length;){let r=e.tokens[n];if(r.type===sF.LPAREN&&t++,r.type===sF.RPAREN&&t--,r.type===sF.QUESTION&&0===t)return!0;if(r.type===sF.NEWLINE||r.type===sF.SEMICOLON||r.type===sF.RBRACE||r.type===sF.COMMA||r.type===sF.PIPE)break;n++}return!1}(e)?sP(e,!1):sP(e,!0)}function sP(e,t){let n=t?e.parseTernary():function(e){let t=sL(e);for(;e.check(sF.OR);)e.advance(),t={type:"binary",operator:"||",left:t,right:sL(e)};return t}(e);if(e.match(sF.ASSIGN,sF.PLUS_ASSIGN,sF.MINUS_ASSIGN,sF.STAR_ASSIGN,sF.SLASH_ASSIGN,sF.PERCENT_ASSIGN,sF.CARET_ASSIGN)){let r=e.advance(),i=sP(e,t);if("variable"!==n.type&&"field"!==n.type&&"array_access"!==n.type)throw Error("Invalid assignment target");return{type:"assignment",operator:({"=":"=","+=":"+=","-=":"-=","*=":"*=","/=":"/=","%=":"%=","^=":"^="})[r.value],target:n,value:i}}return n}function sL(e){let t=sI(e);for(;e.check(sF.AND);)e.advance(),t={type:"binary",operator:"&&",left:t,right:sI(e)};return t}function sI(e){let t=function(e){let t=sD(e);for(;e.match(sF.NUMBER,sF.STRING,sF.IDENT,sF.DOLLAR,sF.LPAREN,sF.NOT,sF.MINUS,sF.PLUS,sF.INCREMENT,sF.DECREMENT)&&!e.match(sF.AND,sF.OR,sF.QUESTION,sF.ASSIGN,sF.PLUS_ASSIGN,sF.MINUS_ASSIGN,sF.STAR_ASSIGN,sF.SLASH_ASSIGN,sF.PERCENT_ASSIGN,sF.CARET_ASSIGN,sF.COMMA,sF.SEMICOLON,sF.NEWLINE,sF.RBRACE,sF.RPAREN,sF.RBRACKET,sF.COLON,sF.PIPE,sF.APPEND,sF.GT,sF.IN);)t={type:"binary",operator:" ",left:t,right:sD(e)};return t}(e);return e.check(sF.IN)?(e.advance(),{type:"in",key:t,array:String(e.expect(sF.IDENT).value)}):t}function sD(e){let t=sM(e);for(;e.match(sF.MATCH,sF.NOT_MATCH);)t={type:"binary",operator:e.advance().type===sF.MATCH?"~":"!~",left:t,right:sM(e)};return t}function sM(e){let t=e.parseAddSub();for(;e.match(sF.LT,sF.LE,sF.GE,sF.EQ,sF.NE);){let n=e.advance(),r=e.parseAddSub();t={type:"binary",operator:({"<":"<","<=":"<=",">=":">=","==":"==","!=":"!="})[n.value],left:t,right:r}}return t}var sF,sB,sH=e2(()=>{sF={LPAREN:"LPAREN",RPAREN:"RPAREN",QUESTION:"QUESTION",NEWLINE:"NEWLINE",SEMICOLON:"SEMICOLON",RBRACE:"RBRACE",COMMA:"COMMA",PIPE:"PIPE",GT:"GT",APPEND:"APPEND",AND:"AND",OR:"OR",ASSIGN:"ASSIGN",PLUS_ASSIGN:"PLUS_ASSIGN",MINUS_ASSIGN:"MINUS_ASSIGN",STAR_ASSIGN:"STAR_ASSIGN",SLASH_ASSIGN:"SLASH_ASSIGN",PERCENT_ASSIGN:"PERCENT_ASSIGN",CARET_ASSIGN:"CARET_ASSIGN",RBRACKET:"RBRACKET",COLON:"COLON",IN:"IN",PRINT:"PRINT",PRINTF:"PRINTF",IDENT:"IDENT",LT:"LT",LE:"LE",GE:"GE",EQ:"EQ",NE:"NE",MATCH:"MATCH",NOT_MATCH:"NOT_MATCH",NUMBER:"NUMBER",STRING:"STRING",DOLLAR:"DOLLAR",NOT:"NOT",MINUS:"MINUS",PLUS:"PLUS",INCREMENT:"INCREMENT",DECREMENT:"DECREMENT"}}),sU=e2(()=>{sT(),sH(),sB=class{tokens=[];pos=0;parse(e){let t=new sk(e);return this.tokens=t.tokenize(),this.pos=0,this.parseProgram()}setPos(e){this.pos=e}current(){return this.tokens[this.pos]||{type:sw.EOF,value:"",line:0,column:0}}advance(){let e=this.current();return this.pos<this.tokens.length&&this.pos++,e}match(...e){return e.includes(this.current().type)}check(e){return this.current().type===e}expect(e,t){if(!this.check(e)){let n=this.current();throw Error(t||`Expected ${e}, got ${n.type} at line ${n.line}:${n.column}`)}return this.advance()}skipNewlines(){for(;this.check(sw.NEWLINE);)this.advance()}skipTerminators(){for(;this.check(sw.NEWLINE)||this.check(sw.SEMICOLON);)this.advance()}parseProgram(){let e=[],t=[];for(this.skipNewlines();!this.check(sw.EOF)&&(this.skipNewlines(),!this.check(sw.EOF));)this.check(sw.FUNCTION)?e.push(this.parseFunction()):t.push(this.parseRule()),this.skipTerminators();return{functions:e,rules:t}}parseFunction(){this.expect(sw.FUNCTION);let e=this.expect(sw.IDENT).value;this.expect(sw.LPAREN);let t=[];if(!this.check(sw.RPAREN))for(t.push(this.expect(sw.IDENT).value);this.check(sw.COMMA);)this.advance(),t.push(this.expect(sw.IDENT).value);return this.expect(sw.RPAREN),this.skipNewlines(),{name:e,params:t,body:this.parseBlock()}}parseRule(){let e;if(this.check(sw.BEGIN))this.advance(),e={type:"begin"};else if(this.check(sw.END))this.advance(),e={type:"end"};else if(this.check(sw.LBRACE))e=void 0;else if(this.check(sw.REGEX)){let t=this.advance();if(this.check(sw.AND)||this.check(sw.OR)){let n={type:"binary",operator:"~",left:{type:"field",index:{type:"number",value:0}},right:{type:"regex",pattern:t.value}};e={type:"expr_pattern",expression:this.parseLogicalOrRest(n)}}else{let n={type:"regex_pattern",pattern:t.value};if(this.check(sw.COMMA))this.advance(),e={type:"range",start:n,end:this.check(sw.REGEX)?{type:"regex_pattern",pattern:this.advance().value}:{type:"expr_pattern",expression:this.parseExpression()}};else e=n}}else{let t={type:"expr_pattern",expression:this.parseExpression()};if(this.check(sw.COMMA))this.advance(),e={type:"range",start:t,end:this.check(sw.REGEX)?{type:"regex_pattern",pattern:this.advance().value}:{type:"expr_pattern",expression:this.parseExpression()}};else e=t}return this.skipNewlines(),{pattern:e,action:this.check(sw.LBRACE)?this.parseBlock():{type:"block",statements:[{type:"print",args:[{type:"field",index:{type:"number",value:0}}]}]}}}parseBlock(){this.expect(sw.LBRACE),this.skipNewlines();let e=[];for(;!this.check(sw.RBRACE)&&!this.check(sw.EOF);)e.push(this.parseStatement()),this.skipTerminators();return this.expect(sw.RBRACE),{type:"block",statements:e}}parseStatement(){if(this.check(sw.SEMICOLON)||this.check(sw.NEWLINE))return this.advance(),{type:"block",statements:[]};if(this.check(sw.LBRACE))return this.parseBlock();if(this.check(sw.IF))return this.parseIf();if(this.check(sw.WHILE))return this.parseWhile();if(this.check(sw.DO))return this.parseDoWhile();if(this.check(sw.FOR))return this.parseFor();if(this.check(sw.BREAK))return this.advance(),{type:"break"};if(this.check(sw.CONTINUE))return this.advance(),{type:"continue"};if(this.check(sw.NEXT))return this.advance(),{type:"next"};if(this.check(sw.NEXTFILE))return this.advance(),{type:"nextfile"};if(this.check(sw.EXIT)){let e;return this.advance(),this.check(sw.NEWLINE)||this.check(sw.SEMICOLON)||this.check(sw.RBRACE)||this.check(sw.EOF)||(e=this.parseExpression()),{type:"exit",code:e}}if(this.check(sw.RETURN)){let e;return this.advance(),this.check(sw.NEWLINE)||this.check(sw.SEMICOLON)||this.check(sw.RBRACE)||this.check(sw.EOF)||(e=this.parseExpression()),{type:"return",value:e}}if(this.check(sw.DELETE)){this.advance();let e=this.parsePrimary();if("array_access"!==e.type&&"variable"!==e.type)throw Error("delete requires array element or array");return{type:"delete",target:e}}return this.check(sw.PRINT)?function(e){let t;e.expect(sF.PRINT);let n=[];if(e.check(sF.NEWLINE)||e.check(sF.SEMICOLON)||e.check(sF.RBRACE)||e.check(sF.PIPE)||e.check(sF.GT)||e.check(sF.APPEND))n.push({type:"field",index:{type:"number",value:0}});else for(n.push(sN(e));e.check(sF.COMMA);)e.advance(),n.push(sN(e));return e.check(sF.GT)?(e.advance(),t={redirect:">",file:e.parsePrimary()}):e.check(sF.APPEND)&&(e.advance(),t={redirect:">>",file:e.parsePrimary()}),{type:"print",args:n,output:t}}(this):this.check(sw.PRINTF)?function(e){let t;e.expect(sF.PRINTF);let n=e.check(sF.LPAREN);n&&(e.advance(),e.skipNewlines());let r=n?e.parseExpression():sN(e),i=[];for(;e.check(sF.COMMA);)e.advance(),n&&e.skipNewlines(),i.push(n?e.parseExpression():sN(e));return n&&(e.skipNewlines(),e.expect(sF.RPAREN)),e.check(sF.GT)?(e.advance(),t={redirect:">",file:e.parsePrimary()}):e.check(sF.APPEND)&&(e.advance(),t={redirect:">>",file:e.parsePrimary()}),{type:"printf",format:r,args:i,output:t}}(this):{type:"expr_stmt",expression:this.parseExpression()}}parseIf(){let e;this.expect(sw.IF),this.expect(sw.LPAREN);let t=this.parseExpression();this.expect(sw.RPAREN),this.skipNewlines();let n=this.parseStatement();return this.skipTerminators(),this.check(sw.ELSE)&&(this.advance(),this.skipNewlines(),e=this.parseStatement()),{type:"if",condition:t,consequent:n,alternate:e}}parseWhile(){this.expect(sw.WHILE),this.expect(sw.LPAREN);let e=this.parseExpression();return this.expect(sw.RPAREN),this.skipNewlines(),{type:"while",condition:e,body:this.parseStatement()}}parseDoWhile(){this.expect(sw.DO),this.skipNewlines();let e=this.parseStatement();this.skipNewlines(),this.expect(sw.WHILE),this.expect(sw.LPAREN);let t=this.parseExpression();return this.expect(sw.RPAREN),{type:"do_while",body:e,condition:t}}parseFor(){let e,t,n;if(this.expect(sw.FOR),this.expect(sw.LPAREN),this.check(sw.IDENT)){let e=this.advance();if(this.check(sw.IN)){this.advance();let t=this.expect(sw.IDENT).value;this.expect(sw.RPAREN),this.skipNewlines();let n=this.parseStatement();return{type:"for_in",variable:e.value,array:t,body:n}}this.pos--}return this.check(sw.SEMICOLON)||(e=this.parseExpression()),this.expect(sw.SEMICOLON),this.check(sw.SEMICOLON)||(t=this.parseExpression()),this.expect(sw.SEMICOLON),this.check(sw.RPAREN)||(n=this.parseExpression()),this.expect(sw.RPAREN),this.skipNewlines(),{type:"for",init:e,condition:t,update:n,body:this.parseStatement()}}parseExpression(){return this.parseAssignment()}parseAssignment(){let e=this.parseTernary();if(this.match(sw.ASSIGN,sw.PLUS_ASSIGN,sw.MINUS_ASSIGN,sw.STAR_ASSIGN,sw.SLASH_ASSIGN,sw.PERCENT_ASSIGN,sw.CARET_ASSIGN)){let t=this.advance(),n=this.parseAssignment();if("variable"!==e.type&&"field"!==e.type&&"array_access"!==e.type)throw Error("Invalid assignment target");return{type:"assignment",operator:({"=":"=","+=":"+=","-=":"-=","*=":"*=","/=":"/=","%=":"%=","^=":"^="})[t.value],target:e,value:n}}return e}parseTernary(){let e=this.parsePipeGetline();if(this.check(sw.QUESTION)){this.advance();let t=this.parseExpression();this.expect(sw.COLON),e={type:"ternary",condition:e,consequent:t,alternate:this.parseExpression()}}return e}parsePipeGetline(){let e=this.parseOr();if(this.check(sw.PIPE)){let t;if(this.advance(),!this.check(sw.GETLINE))throw Error("Expected 'getline' after '|' in expression context");return this.advance(),this.check(sw.IDENT)&&(t=this.advance().value),{type:"getline",command:e,variable:t}}return e}parseOr(){let e=this.parseAnd();for(;this.check(sw.OR);)this.advance(),e={type:"binary",operator:"||",left:e,right:this.parseAnd()};return e}parseLogicalOrRest(e){for(e=this.parseLogicalAndRest(e);this.check(sw.OR);){this.advance();let t=this.parseAnd();e={type:"binary",operator:"||",left:e,right:t}}return e}parseLogicalAndRest(e){for(;this.check(sw.AND);){this.advance();let t=this.parseIn();e={type:"binary",operator:"&&",left:e,right:t}}return e}parseAnd(){let e=this.parseIn();for(;this.check(sw.AND);)this.advance(),e={type:"binary",operator:"&&",left:e,right:this.parseIn()};return e}parseIn(){let e=this.parseConcatenation();return this.check(sw.IN)?(this.advance(),{type:"in",key:e,array:this.expect(sw.IDENT).value}):e}parseConcatenation(){let e=this.parseMatch();for(;this.canStartExpression()&&!this.isConcatTerminator();)e={type:"binary",operator:" ",left:e,right:this.parseMatch()};return e}parseMatch(){let e=this.parseComparison();for(;this.match(sw.MATCH,sw.NOT_MATCH);)e={type:"binary",operator:this.advance().type===sw.MATCH?"~":"!~",left:e,right:this.parseComparison()};return e}parseComparison(){let e=this.parseAddSub();for(;this.match(sw.LT,sw.LE,sw.GT,sw.GE,sw.EQ,sw.NE);){let t=this.advance(),n=this.parseAddSub();e={type:"binary",operator:({"<":"<","<=":"<=",">":">",">=":">=","==":"==","!=":"!="})[t.value],left:e,right:n}}return e}canStartExpression(){return this.match(sw.NUMBER,sw.STRING,sw.IDENT,sw.DOLLAR,sw.LPAREN,sw.NOT,sw.MINUS,sw.PLUS,sw.INCREMENT,sw.DECREMENT)}isConcatTerminator(){return this.match(sw.AND,sw.OR,sw.QUESTION,sw.ASSIGN,sw.PLUS_ASSIGN,sw.MINUS_ASSIGN,sw.STAR_ASSIGN,sw.SLASH_ASSIGN,sw.PERCENT_ASSIGN,sw.CARET_ASSIGN,sw.COMMA,sw.SEMICOLON,sw.NEWLINE,sw.RBRACE,sw.RPAREN,sw.RBRACKET,sw.COLON,sw.PIPE,sw.APPEND,sw.IN)}parseAddSub(){let e=this.parseMulDiv();for(;this.match(sw.PLUS,sw.MINUS);)e={type:"binary",operator:this.advance().value,left:e,right:this.parseMulDiv()};return e}parseMulDiv(){let e=this.parseUnary();for(;this.match(sw.STAR,sw.SLASH,sw.PERCENT);){let t=this.advance(),n=this.parseUnary();e={type:"binary",operator:({"*":"*","/":"/","%":"%"})[t.value],left:e,right:n}}return e}parseUnary(){if(this.check(sw.INCREMENT)){this.advance();let e=this.parseUnary();return"variable"!==e.type&&"field"!==e.type&&"array_access"!==e.type?{type:"unary",operator:"+",operand:{type:"unary",operator:"+",operand:e}}:{type:"pre_increment",operand:e}}if(this.check(sw.DECREMENT)){this.advance();let e=this.parseUnary();return"variable"!==e.type&&"field"!==e.type&&"array_access"!==e.type?{type:"unary",operator:"-",operand:{type:"unary",operator:"-",operand:e}}:{type:"pre_decrement",operand:e}}return this.match(sw.NOT,sw.MINUS,sw.PLUS)?{type:"unary",operator:this.advance().value,operand:this.parseUnary()}:this.parsePower()}parsePower(){let e=this.parsePostfix();return this.check(sw.CARET)&&(this.advance(),e={type:"binary",operator:"^",left:e,right:this.parsePower()}),e}parsePostfix(){let e=this.parsePrimary();if(this.check(sw.INCREMENT)){if(this.advance(),"variable"!==e.type&&"field"!==e.type&&"array_access"!==e.type)throw Error("Invalid increment operand");return{type:"post_increment",operand:e}}if(this.check(sw.DECREMENT)){if(this.advance(),"variable"!==e.type&&"field"!==e.type&&"array_access"!==e.type)throw Error("Invalid decrement operand");return{type:"post_decrement",operand:e}}return e}parseFieldIndex(){if(this.check(sw.INCREMENT)){this.advance();let e=this.parseFieldIndex();return"variable"!==e.type&&"field"!==e.type&&"array_access"!==e.type?{type:"unary",operator:"+",operand:{type:"unary",operator:"+",operand:e}}:{type:"pre_increment",operand:e}}if(this.check(sw.DECREMENT)){this.advance();let e=this.parseFieldIndex();return"variable"!==e.type&&"field"!==e.type&&"array_access"!==e.type?{type:"unary",operator:"-",operand:{type:"unary",operator:"-",operand:e}}:{type:"pre_decrement",operand:e}}return this.match(sw.NOT,sw.MINUS,sw.PLUS)?{type:"unary",operator:this.advance().value,operand:this.parseFieldIndex()}:this.parseFieldIndexPower()}parseFieldIndexPower(){let e=this.parseFieldIndexPrimary();return this.check(sw.CARET)&&(this.advance(),e={type:"binary",operator:"^",left:e,right:this.parseFieldIndexPower()}),e}parseFieldIndexPrimary(){if(this.check(sw.NUMBER))return{type:"number",value:this.advance().value};if(this.check(sw.STRING))return{type:"string",value:this.advance().value};if(this.check(sw.DOLLAR))return this.advance(),{type:"field",index:this.parseFieldIndex()};if(this.check(sw.LPAREN)){this.advance();let e=this.parseExpression();return this.expect(sw.RPAREN),e}if(this.check(sw.IDENT)){let e=this.advance().value;if(this.check(sw.LPAREN)){this.advance();let t=[];if(!this.check(sw.RPAREN))for(t.push(this.parseExpression());this.check(sw.COMMA);)this.advance(),t.push(this.parseExpression());return this.expect(sw.RPAREN),{type:"call",name:e,args:t}}if(this.check(sw.LBRACKET)){this.advance();let t=this.parseExpression();if(this.check(sw.COMMA)){let n=[t];for(;this.check(sw.COMMA);)this.advance(),n.push(this.parseExpression());return this.expect(sw.RBRACKET),{type:"array_access",array:e,key:n.reduce((e,t)=>({type:"binary",operator:" ",left:{type:"binary",operator:" ",left:e,right:{type:"variable",name:"SUBSEP"}},right:t}))}}return this.expect(sw.RBRACKET),{type:"array_access",array:e,key:t}}return{type:"variable",name:e}}throw Error(`Unexpected token in field index: ${this.current().type} at line ${this.current().line}:${this.current().column}`)}parsePrimary(){if(this.check(sw.NUMBER))return{type:"number",value:this.advance().value};if(this.check(sw.STRING))return{type:"string",value:this.advance().value};if(this.check(sw.REGEX))return{type:"regex",pattern:this.advance().value};if(this.check(sw.DOLLAR))return this.advance(),{type:"field",index:this.parseFieldIndex()};if(this.check(sw.LPAREN)){this.advance();let e=this.parseExpression();if(this.check(sw.COMMA)){let t=[e];for(;this.check(sw.COMMA);)this.advance(),t.push(this.parseExpression());return this.expect(sw.RPAREN),{type:"tuple",elements:t}}return this.expect(sw.RPAREN),e}if(this.check(sw.GETLINE)){let e,t;return this.advance(),this.check(sw.IDENT)&&(e=this.advance().value),this.check(sw.LT)&&(this.advance(),t=this.parsePrimary()),{type:"getline",variable:e,file:t}}if(this.check(sw.IDENT)){let e=this.advance().value;if(this.check(sw.LPAREN)){this.advance();let t=[];if(this.skipNewlines(),!this.check(sw.RPAREN))for(t.push(this.parseExpression());this.check(sw.COMMA);)this.advance(),this.skipNewlines(),t.push(this.parseExpression());return this.skipNewlines(),this.expect(sw.RPAREN),{type:"call",name:e,args:t}}if(this.check(sw.LBRACKET)){let t;this.advance();let n=[this.parseExpression()];for(;this.check(sw.COMMA);)this.advance(),n.push(this.parseExpression());if(this.expect(sw.RBRACKET),1===n.length)t=n[0];else{t=n[0];for(let e=1;e<n.length;e++)t={type:"binary",operator:" ",left:{type:"binary",operator:" ",left:t,right:{type:"variable",name:"SUBSEP"}},right:n[e]}}return{type:"array_access",array:e,key:t}}return{type:"variable",name:e}}throw Error(`Unexpected token: ${this.current().type} at line ${this.current().line}:${this.current().column}`)}}}),sj={};function sW(e){return e.replace(/\\t/g,"	").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\a/g,"\x07").replace(/\\v/g,"\v").replace(/\\\\/g,"\\")}function sq(e){if(" "===e)return/\s+/;if(/[[\](){}.*+?^$|\\]/.test(e))try{return new RegExp(e)}catch{}return new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))}e5(sj,{awkCommand2:()=>sG});var sz,sG,sV=e2(()=>{rV(),ti(),sR(),sU(),sz={name:"awk",summary:"pattern scanning and text processing language",usage:"awk [OPTIONS] 'PROGRAM' [FILE...]",options:["-F FS      use FS as field separator","-v VAR=VAL assign VAL to variable VAR","    --help display this help and exit"]},sG={name:"awk",async execute(e,t){if(tn(e))return tt(sz);let n=/\s+/,r=" ",i={},s=0;for(let t=0;t<e.length;t++){let a=e[t];if("-F"===a&&t+1<e.length)n=sq(r=sW(e[++t])),s=t+1;else if(a.startsWith("-F"))n=sq(r=sW(a.slice(2))),s=t+1;else if("-v"===a&&t+1<e.length){let n=e[++t],r=n.indexOf("=");if(r>0){let e=n.slice(0,r),t=sW(n.slice(r+1));i[e]=t}s=t+1}else{if(a.startsWith("--"))return tr("awk",a);if(a.startsWith("-")&&a.length>1){let e=a[1];if("F"!==e&&"v"!==e)return tr("awk",`-${e}`);s=t+1}else if(!a.startsWith("-")){s=t;break}}}if(s>=e.length)return{stdout:"",stderr:`awk: missing program
`,exitCode:1};let a=e[s],o=e.slice(s+1),l=new sB,c;try{c=l.parse(a)}catch(e){return{stdout:"",stderr:`awk: ${e instanceof Error?e.message:String(e)}
`,exitCode:1}}let u={readFile:t.fs.readFile.bind(t.fs),writeFile:t.fs.writeFile.bind(t.fs),appendFile:async(e,n)=>{try{let r=await t.fs.readFile(e);await t.fs.writeFile(e,r+n)}catch{await t.fs.writeFile(e,n)}},resolvePath:t.fs.resolvePath.bind(t.fs)},p=function(e={}){let{fieldSep:t=/\s+/,maxIterations:n=1e4,maxRecursionDepth:r=100,fs:i,cwd:s,exec:a}=e;return{FS:" ",OFS:" ",ORS:`
`,OFMT:"%.6g",NR:0,NF:0,FNR:0,FILENAME:"",RSTART:0,RLENGTH:-1,SUBSEP:"\x1c",fields:[],line:"",vars:{},arrays:{},arrayAliases:new Map,ARGC:0,ARGV:{},ENVIRON:{},functions:new Map,fieldSep:t,maxIterations:n,maxRecursionDepth:r,currentRecursionDepth:0,exitCode:0,shouldExit:!1,shouldNext:!1,shouldNextFile:!1,loopBreak:!1,loopContinue:!1,hasReturn:!1,inEndBlock:!1,output:"",openedFiles:new Set,fs:i,cwd:s,exec:a}}({fieldSep:n,maxIterations:t.limits?.maxAwkIterations,fs:u,cwd:t.cwd,exec:t.exec?e=>t.exec(e,{cwd:t.cwd}):void 0});p.FS=r,p.vars={...i},p.ARGC=o.length+1,p.ARGV={0:"awk"};for(let e=0;e<o.length;e++)p.ARGV[String(e+1)]=o[e];p.ENVIRON={...t.env};let h=new sA(p);h.execute(c);let _=c.rules.some(e=>e.pattern?.type!=="begin"&&e.pattern?.type!=="end"),f=c.rules.some(e=>e.pattern?.type==="end");try{if(await h.executeBegin(),p.shouldExit)return await h.executeEnd(),{stdout:h.getOutput(),stderr:"",exitCode:h.getExitCode()};if(!_&&!f)return{stdout:h.getOutput(),stderr:"",exitCode:h.getExitCode()};let e=[];if(o.length>0)for(let n of o)try{let r=t.fs.resolvePath(t.cwd,n),i=(await t.fs.readFile(r)).split(`
`);i.length>0&&""===i[i.length-1]&&i.pop(),e.push({filename:n,lines:i})}catch{return{stdout:"",stderr:`awk: ${n}: No such file or directory
`,exitCode:1}}else{let n=t.stdin.split(`
`);n.length>0&&""===n[n.length-1]&&n.pop(),e.push({filename:"",lines:n})}for(let t of e){for(p.FILENAME=t.filename,p.FNR=0,p.lines=t.lines,p.lineIndex=-1,p.shouldNextFile=!1;p.lineIndex<t.lines.length-1&&(p.lineIndex++,await h.executeLine(t.lines[p.lineIndex]),!(p.shouldExit||p.shouldNextFile)););if(p.shouldExit)break}return await h.executeEnd(),{stdout:h.getOutput(),stderr:"",exitCode:h.getExitCode()}}catch(n){let e=n instanceof Error?n.message:String(n),t=n instanceof rq?rq.EXIT_CODE:2;return{stdout:h.getOutput(),stderr:`awk: ${e}
`,exitCode:t}}}}});function sZ(e){let t=e.trim(),n=t.match(/^([+-]?\d*\.?\d+)\s*([kmgtpeKMGTPE])?[iI]?[bB]?$/);if(!n){let e=parseFloat(t);return Number.isNaN(e)?0:e}return parseFloat(n[1])*(sY[(n[2]||"").toLowerCase()]||1)}function sK(e){return s0[e.trim().toLowerCase().slice(0,3)]||0}function sX(e){return e.replace(/[^a-zA-Z0-9\s]/g,"")}function sQ(e,t,n){let r=e.split(null!==n?n:/\s+/),i=t.startField-1;if(i>=r.length)return"";if(void 0===t.endField){let e=r[i]||"";return void 0!==t.startChar&&(e=e.slice(t.startChar-1)),t.ignoreLeading&&(e=e.trimStart()),e}let s=Math.min(t.endField-1,r.length-1),a="";for(let e=i;e<=s&&e<r.length;e++){let o=r[e]||"";if(e===i&&void 0!==t.startChar&&(o=o.slice(t.startChar-1)),e===s&&void 0!==t.endChar){let n=e===i&&void 0!==t.startChar?t.endChar-t.startChar+1:t.endChar;o=o.slice(0,n)}e>i&&(a+=n||" "),a+=o}return t.ignoreLeading&&(a=a.trimStart()),a}function sJ(e,t,n){let r=e,i=t;return(n.dictionaryOrder&&(r=sX(r),i=sX(i)),n.ignoreCase&&(r=r.toLowerCase(),i=i.toLowerCase()),n.monthSort)?sK(r)-sK(i):n.humanNumeric?sZ(r)-sZ(i):n.versionSort?function(e,t){let n=e.split(/(\d+)/),r=t.split(/(\d+)/),i=Math.max(n.length,r.length);for(let e=0;e<i;e++){let t=n[e]||"",i=r[e]||"",s=/^\d+$/.test(t)?parseInt(t,10):null,a=/^\d+$/.test(i)?parseInt(i,10):null;if(null!==s&&null!==a){if(s!==a)return s-a}else if(t!==i)return t.localeCompare(i)}return 0}(r,i):n.numeric?(parseFloat(r)||0)-(parseFloat(i)||0):r.localeCompare(i)}var sY,s0,s1=e2(()=>{sY={"":1,k:1024,m:1048576,g:0x40000000,t:0x10000000000,p:0x4000000000000,e:0x1000000000000000},s0={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12}});function s2(e){let t={startField:1},n="",r=e,i=r.match(/([bdfhMnrV]+)$/);i&&(n=i[1],r=r.slice(0,-n.length)),n.includes("n")&&(t.numeric=!0),n.includes("r")&&(t.reverse=!0),n.includes("f")&&(t.ignoreCase=!0),n.includes("b")&&(t.ignoreLeading=!0),n.includes("h")&&(t.humanNumeric=!0),n.includes("V")&&(t.versionSort=!0),n.includes("d")&&(t.dictionaryOrder=!0),n.includes("M")&&(t.monthSort=!0);let s=r.split(",");if(0===s.length||""===s[0])return null;let a=s[0].split("."),o=parseInt(a[0],10);if(Number.isNaN(o)||o<1)return null;if(t.startField=o,a.length>1&&a[1]){let e=parseInt(a[1],10);!Number.isNaN(e)&&e>=1&&(t.startChar=e)}if(s.length>1&&s[1]){let e=s[1],n=e.match(/([bdfhMnrV]+)$/);if(n){let r=n[1];r.includes("n")&&(t.numeric=!0),r.includes("r")&&(t.reverse=!0),r.includes("f")&&(t.ignoreCase=!0),r.includes("b")&&(t.ignoreLeading=!0),r.includes("h")&&(t.humanNumeric=!0),r.includes("V")&&(t.versionSort=!0),r.includes("d")&&(t.dictionaryOrder=!0),r.includes("M")&&(t.monthSort=!0),e=e.slice(0,-r.length)}let r=e.split(".");if(r[0]){let e=parseInt(r[0],10);if(!Number.isNaN(e)&&e>=1&&(t.endField=e),r.length>1&&r[1]){let e=parseInt(r[1],10);!Number.isNaN(e)&&e>=1&&(t.endChar=e)}}}return t}var s3=e2(()=>{}),s5={};e5(s5,{sortCommand:()=>s4});var s6,s4,s8=e2(()=>{tu(),ti(),s1(),s3(),s6={name:"sort",summary:"sort lines of text files",usage:"sort [OPTION]... [FILE]...",options:["-b, --ignore-leading-blanks  ignore leading blanks","-d, --dictionary-order  consider only blanks and alphanumeric characters","-f, --ignore-case    fold lower case to upper case characters","-h, --human-numeric-sort  compare human readable numbers (e.g., 2K 1G)","-M, --month-sort     compare (unknown) < 'JAN' < ... < 'DEC'","-n, --numeric-sort   compare according to string numerical value","-r, --reverse        reverse the result of comparisons","-V, --version-sort   natural sort of (version) numbers within text","-c, --check          check for sorted input; do not sort","-o, --output=FILE    write result to FILE instead of stdout","-s, --stable         stabilize sort by disabling last-resort comparison","-u, --unique         output only unique lines","-k, --key=KEYDEF     sort via a key; KEYDEF gives location and type","-t, --field-separator=SEP  use SEP as field separator","    --help           display this help and exit"],description:`KEYDEF is F[.C][OPTS][,F[.C][OPTS]]
  F is a field number (1-indexed)
  C is a character position within the field (1-indexed)
  OPTS can be: b d f h M n r V (per-key modifiers)

Examples:
  -k1        sort by first field
  -k2,2      sort by second field only
  -k1.3      sort by first field starting at 3rd character
  -k1,2n     sort by fields 1-2 numerically
  -k2 -k1    sort by field 2, then by field 1`},s4={name:"sort",async execute(e,t){if(tn(e))return tt(s6);let n={reverse:!1,numeric:!1,unique:!1,ignoreCase:!1,humanNumeric:!1,versionSort:!1,dictionaryOrder:!1,monthSort:!1,ignoreLeadingBlanks:!1,stable:!1,checkOnly:!1,outputFile:null,keys:[],fieldDelimiter:null},r=[];for(let t=0;t<e.length;t++){let i=e[t];if("-r"===i||"--reverse"===i)n.reverse=!0;else if("-n"===i||"--numeric-sort"===i)n.numeric=!0;else if("-u"===i||"--unique"===i)n.unique=!0;else if("-f"===i||"--ignore-case"===i)n.ignoreCase=!0;else if("-h"===i||"--human-numeric-sort"===i)n.humanNumeric=!0;else if("-V"===i||"--version-sort"===i)n.versionSort=!0;else if("-d"===i||"--dictionary-order"===i)n.dictionaryOrder=!0;else if("-M"===i||"--month-sort"===i)n.monthSort=!0;else if("-b"===i||"--ignore-leading-blanks"===i)n.ignoreLeadingBlanks=!0;else if("-s"===i||"--stable"===i)n.stable=!0;else if("-c"===i||"--check"===i)n.checkOnly=!0;else if("-o"===i||"--output"===i)n.outputFile=e[++t]||null;else if(i.startsWith("-o"))n.outputFile=i.slice(2)||null;else if(i.startsWith("--output="))n.outputFile=i.slice(9)||null;else if("-t"===i||"--field-separator"===i)n.fieldDelimiter=e[++t]||null;else if(i.startsWith("-t"))n.fieldDelimiter=i.slice(2)||null;else if(i.startsWith("--field-separator="))n.fieldDelimiter=i.slice(18)||null;else if("-k"===i||"--key"===i){let r=e[++t];if(r){let e=s2(r);e&&n.keys.push(e)}}else if(i.startsWith("-k")){let e=s2(i.slice(2));e&&n.keys.push(e)}else if(i.startsWith("--key=")){let e=s2(i.slice(6));e&&n.keys.push(e)}else{if(i.startsWith("--"))return tr("sort",i);if(i.startsWith("-")&&!i.startsWith("--")){let e=!1;for(let t of i.slice(1))if("r"===t)n.reverse=!0;else if("n"===t)n.numeric=!0;else if("u"===t)n.unique=!0;else if("f"===t)n.ignoreCase=!0;else if("h"===t)n.humanNumeric=!0;else if("V"===t)n.versionSort=!0;else if("d"===t)n.dictionaryOrder=!0;else if("M"===t)n.monthSort=!0;else if("b"===t)n.ignoreLeadingBlanks=!0;else if("s"===t)n.stable=!0;else if("c"===t)n.checkOnly=!0;else{e=!0;break}if(e)return tr("sort",i)}else r.push(i)}}let i=await tc(t,r,{cmdName:"sort"});if(!i.ok)return i.error;let s=i.content.split(`
`);s.length>0&&""===s[s.length-1]&&s.pop();let a=function(e){let{keys:t,fieldDelimiter:n,numeric:r,ignoreCase:i,reverse:s,humanNumeric:a,versionSort:o,dictionaryOrder:l,monthSort:c,ignoreLeadingBlanks:u,stable:p}=e;return(e,h)=>{let _=e,f=h;if(u&&(_=_.trimStart(),f=f.trimStart()),0===t.length){let t=sJ(_,f,{numeric:r,ignoreCase:i,humanNumeric:a,versionSort:o,dictionaryOrder:l,monthSort:c});if(0!==t)return s?-t:t;if(!p){let t=e.localeCompare(h);return s?-t:t}return 0}for(let e of t){let t=sQ(_,e,n),u=sQ(f,e,n);e.ignoreLeading&&(t=t.trimStart(),u=u.trimStart());let p={numeric:e.numeric??r,ignoreCase:e.ignoreCase??i,humanNumeric:e.humanNumeric??a,versionSort:e.versionSort??o,dictionaryOrder:e.dictionaryOrder??l,monthSort:e.monthSort??c},h=e.reverse??s,d=sJ(t,u,p);if(0!==d)return h?-d:d}if(!p){let t=e.localeCompare(h);return s?-t:t}return 0}}(n);if(n.checkOnly){let e=r.length>0?r[0]:"-";for(let t=1;t<s.length;t++)if(a(s[t-1],s[t])>0)return{stdout:"",stderr:`sort: ${e}:${t+1}: disorder: ${s[t]}
`,exitCode:1};return{stdout:"",stderr:"",exitCode:0}}s.sort(a),n.unique&&(s=function(e,t){if(0===t.keys.length){if(t.ignoreCase){let t=new Set;return e.filter(e=>{let n=e.toLowerCase();return!t.has(n)&&(t.add(n),!0)})}return[...new Set(e)]}let n=t.keys[0],r=new Set;return e.filter(e=>{let i=sQ(e,n,t.fieldDelimiter);return(n.ignoreCase??t.ignoreCase)&&(i=i.toLowerCase()),!r.has(i)&&(r.add(i),!0)})}(s,n));let o=s.length>0?`${s.join(`
`)}
`:"";if(n.outputFile){let e=t.fs.resolvePath(t.cwd,n.outputFile);return await t.fs.writeFile(e,o),{stdout:"",stderr:"",exitCode:0}}return{stdout:o,stderr:"",exitCode:0}}}}),s9={};e5(s9,{uniqCommand:()=>at});var s7,ae,at,an=e2(()=>{ta(),tu(),ti(),s7={name:"uniq",summary:"report or omit repeated lines",usage:"uniq [OPTION]... [INPUT [OUTPUT]]",options:["-c, --count        prefix lines by the number of occurrences","-d, --repeated     only print duplicate lines","-i, --ignore-case  ignore case when comparing","-u, --unique       only print unique lines","    --help         display this help and exit"]},ae={count:{short:"c",long:"count",type:"boolean"},duplicatesOnly:{short:"d",long:"repeated",type:"boolean"},uniqueOnly:{short:"u",long:"unique",type:"boolean"},ignoreCase:{short:"i",long:"ignore-case",type:"boolean"}},at={name:"uniq",async execute(e,t){if(tn(e))return tt(s7);let n=ts("uniq",e,ae);if(!n.ok)return n.error;let{count:r,duplicatesOnly:i,uniqueOnly:s,ignoreCase:a}=n.result.flags,o=n.result.positional,l=await tc(t,o,{cmdName:"uniq"});if(!l.ok)return l.error;let c=l.content.split(`
`);if(c.length>0&&""===c[c.length-1]&&c.pop(),0===c.length)return{stdout:"",stderr:"",exitCode:0};let u=[],p=c[0],h=1,_=(e,t)=>a?e.toLowerCase()===t.toLowerCase():e===t;for(let e=1;e<c.length;e++)_(c[e],p)?h++:(u.push({line:p,count:h}),p=c[e],h=1);u.push({line:p,count:h});let f=u;i?f=u.filter(e=>e.count>1):s&&(f=u.filter(e=>1===e.count));let d="";for(let{line:e,count:t}of f)r?d+=`${String(t).padStart(4)} ${e}
`:d+=`${e}
`;return{stdout:d,stderr:"",exitCode:0}}}}),ar={};e5(ar,{commCommand:()=>as});var ai,as,aa=e2(()=>{ti(),ai={name:"comm",summary:"compare two sorted files line by line",usage:"comm [OPTION]... FILE1 FILE2",options:["-1             suppress column 1 (lines unique to FILE1)","-2             suppress column 2 (lines unique to FILE2)","-3             suppress column 3 (lines that appear in both files)","    --help     display this help and exit"]},as={name:"comm",async execute(e,t){if(tn(e))return tt(ai);let n=!1,r=!1,i=!1,s=[];for(let t of e)if("-1"===t)n=!0;else if("-2"===t)r=!0;else if("-3"===t)i=!0;else if("-12"===t||"-21"===t)n=!0,r=!0;else if("-13"===t||"-31"===t)n=!0,i=!0;else if("-23"===t||"-32"===t)r=!0,i=!0;else if("-123"===t||"-132"===t||"-213"===t||"-231"===t||"-312"===t||"-321"===t)n=!0,r=!0,i=!0;else{if(t.startsWith("-")&&"-"!==t)return tr("comm",t);s.push(t)}if(2!==s.length)return{stdout:"",stderr:`comm: missing operand
Try 'comm --help' for more information.
`,exitCode:1};let a=async e=>{if("-"===e)return t.stdin;try{let n=t.fs.resolvePath(t.cwd,e);return await t.fs.readFile(n)}catch{return null}},o=await a(s[0]);if(null===o)return{stdout:"",stderr:`comm: ${s[0]}: No such file or directory
`,exitCode:1};let l=await a(s[1]);if(null===l)return{stdout:"",stderr:`comm: ${s[1]}: No such file or directory
`,exitCode:1};let c=o.split(`
`),u=l.split(`
`);c.length>0&&""===c[c.length-1]&&c.pop(),u.length>0&&""===u[u.length-1]&&u.pop();let p=0,h=0,_="",f=n?"":"	",d=(n?"":"	")+(r?"":"	");for(;p<c.length||h<u.length;)p>=c.length?(r||(_+=`${f}${u[h]}
`),h++):h>=u.length||c[p]<u[h]?(n||(_+=`${c[p]}
`),p++):(c[p]>u[h]?r||(_+=`${f}${u[h]}
`):(i||(_+=`${d}${c[p]}
`),p++),h++);return{stdout:_,stderr:"",exitCode:0}}}}),ao={};e5(ao,{cutCommand:()=>ac});var al,ac,au=e2(()=>{tu(),ti(),al={name:"cut",summary:"remove sections from each line of files",usage:"cut [OPTION]... [FILE]...",options:["-c LIST              select only these characters","-d DELIM             use DELIM instead of TAB for field delimiter","-f LIST              select only these fields","-s, --only-delimited  do not print lines without delimiters","    --help           display this help and exit"]},ac={name:"cut",async execute(e,t){if(tn(e))return tt(al);let n="	",r=null,i=null,s=!1,a=[];for(let t=0;t<e.length;t++){let o=e[t];if("-d"===o)n=e[++t]||"	";else if(o.startsWith("-d"))n=o.slice(2);else if("-f"===o)r=e[++t];else if(o.startsWith("-f"))r=o.slice(2);else if("-c"===o)i=e[++t];else if(o.startsWith("-c"))i=o.slice(2);else if("-s"===o||"--only-delimited"===o)s=!0;else{if(o.startsWith("--"))return tr("cut",o);if(o.startsWith("-")){let e=!1;for(let t of o.slice(1))if("s"===t)s=!0;else if(!"dfc".includes(t)){e=!0;break}if(e)return tr("cut",o)}else a.push(o)}}if(!r&&!i)return{stdout:"",stderr:`cut: you must specify a list of bytes, characters, or fields
`,exitCode:1};let o=await tc(t,a,{cmdName:"cut"});if(!o.ok)return o.error;let l=o.content.split(`
`);l.length>0&&""===l[l.length-1]&&l.pop();let c=function(e){let t=[];for(let n of e.split(","))if(n.includes("-")){let[e,r]=n.split("-");t.push({start:e?parseInt(e,10):1,end:r?parseInt(r,10):null})}else{let e=parseInt(n,10);t.push({start:e,end:e})}return t}(r||i||"1"),u="";for(let e of l)if(i){let t=e.split(""),n=[];for(let e of c){let r=e.start-1,i=null===e.end?t.length:e.end;for(let e=r;e<i&&e<t.length;e++)e>=0&&n.push(t[e])}u+=`${n.join("")}
`}else{if(s&&!e.includes(n))continue;let t=function(e,t){let n=[];for(let r of t){let t=r.start-1,i=null===r.end?e.length:r.end;for(let r=t;r<i&&r<e.length;r++)r>=0&&!n.includes(e[r])&&n.push(e[r])}return n}(e.split(n),c);u+=`${t.join(n)}
`}return{stdout:u,stderr:"",exitCode:0}}}}),ap={};function ah(e,t){if(0===e.length)return"";if(1===e.length)return e[0];let n=e[0];for(let r=1;r<e.length;r++){let i=(r-1)%t.length;n+=t[i]+e[r]}return n}e5(ap,{pasteCommand:()=>ad});var a_,af,ad,ag=e2(()=>{ta(),ti(),a_={name:"paste",summary:"merge lines of files",usage:"paste [OPTION]... [FILE]...",description:["Write lines consisting of the sequentially corresponding lines from","each FILE, separated by TABs, to standard output.","","With no FILE, or when FILE is -, read standard input."],options:["-d, --delimiters=LIST   reuse characters from LIST instead of TABs","-s, --serial            paste one file at a time instead of in parallel","    --help              display this help and exit"],examples:["paste file1 file2       Merge file1 and file2 side by side","paste -d, file1 file2   Use comma as delimiter","paste -s file1          Paste all lines of file1 on one line","paste - - < file        Paste pairs of lines from file"]},af={delimiter:{short:"d",long:"delimiters",type:"string",default:"	"},serial:{short:"s",long:"serial",type:"boolean"}},ad={name:"paste",async execute(e,t){if(tn(e))return tt(a_);let n=ts("paste",e,af);if(!n.ok)return n.error;let r=n.result.flags.delimiter,i=n.result.flags.serial,s=n.result.positional;if(0===s.length)return{stdout:"",stderr:`usage: paste [-s] [-d delimiters] file ...
`,exitCode:1};let a=t.stdin?t.stdin.split(`
`):[""];a.length>0&&""===a[a.length-1]&&a.pop();let o=s.filter(e=>"-"===e).length,l=[],c=0;for(let e of s)if("-"===e){let e=[];for(let t=c;t<a.length;t+=o)e.push(a[t]);l.push(e),c++}else{let n=t.fs.resolvePath(t.cwd,e);try{let e=(await t.fs.readFile(n)).split(`
`);e.length>0&&""===e[e.length-1]&&e.pop(),l.push(e)}catch{return{stdout:"",stderr:`paste: ${e}: No such file or directory
`,exitCode:1}}}let u="";if(i)for(let e of l)e&&(u+=`${ah(e,r)}
`);else{let e=Math.max(...l.map(e=>e?.length??0));for(let t=0;t<e;t++){let e=[];for(let n of l)e.push(n?.[t]??"");u+=`${ah(e,r)}
`}}return{stdout:u,stderr:"",exitCode:0}}}}),am={};function av(e){let t="",n=0;for(;n<e.length;){if("["===e[n]&&":"===e[n+1]){let r=!1;for(let[i,s]of Object.entries(ay))if(e.slice(n).startsWith(i)){t+=s,n+=i.length,r=!0;break}if(r)continue}if("\\"===e[n]&&n+1<e.length){let r=e[n+1];"n"===r?t+=`
`:"t"===r?t+="	":"r"===r?t+="\r":t+=r,n+=2;continue}if(n+2<e.length&&"-"===e[n+1]){let r=e.charCodeAt(n),i=e.charCodeAt(n+2);for(let e=r;e<=i;e++)t+=String.fromCharCode(e);n+=3;continue}t+=e[n],n++}return t}e5(am,{trCommand:()=>ax});var ab,ay,a$,ax,aS=e2(()=>{ta(),ti(),ab={name:"tr",summary:"translate or delete characters",usage:"tr [OPTION]... SET1 [SET2]",options:["-c, -C, --complement   use the complement of SET1","-d, --delete           delete characters in SET1","-s, --squeeze-repeats  squeeze repeated characters","    --help             display this help and exit"],description:`SET syntax:
  a-z         character range
  [:alnum:]   all letters and digits
  [:alpha:]   all letters
  [:digit:]   all digits
  [:lower:]   all lowercase letters
  [:upper:]   all uppercase letters
  [:space:]   all whitespace
  [:blank:]   horizontal whitespace
  [:punct:]   all punctuation
  [:print:]   all printable characters
  [:graph:]   all printable characters except space
  [:cntrl:]   all control characters
  [:xdigit:]  all hexadecimal digits
  \\n, \\t, \\r  escape sequences`},ay={"[:alnum:]":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789","[:alpha:]":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz","[:blank:]":" 	","[:cntrl:]":Array.from({length:32},(e,t)=>String.fromCharCode(t)).join("").concat(""),"[:digit:]":"0123456789","[:graph:]":Array.from({length:94},(e,t)=>String.fromCharCode(33+t)).join(""),"[:lower:]":"abcdefghijklmnopqrstuvwxyz","[:print:]":Array.from({length:95},(e,t)=>String.fromCharCode(32+t)).join(""),"[:punct:]":"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~","[:space:]":` 	
\r\f\v`,"[:upper:]":"ABCDEFGHIJKLMNOPQRSTUVWXYZ","[:xdigit:]":"0123456789ABCDEFabcdef"},a$={complement:{short:"c",long:"complement",type:"boolean"},complementUpper:{short:"C",type:"boolean"},delete:{short:"d",long:"delete",type:"boolean"},squeeze:{short:"s",long:"squeeze-repeats",type:"boolean"}},ax={name:"tr",async execute(e,t){if(tn(e))return tt(ab);let n=ts("tr",e,a$);if(!n.ok)return n.error;let r=n.result.flags.complement||n.result.flags.complementUpper,i=n.result.flags.delete,s=n.result.flags.squeeze,a=n.result.positional;if(a.length<1)return{stdout:"",stderr:`tr: missing operand
`,exitCode:1};if(!i&&!s&&a.length<2)return{stdout:"",stderr:`tr: missing operand after SET1
`,exitCode:1};let o=av(a[0]),l=a.length>1?av(a[1]):"",c=t.stdin,u=e=>{let t=o.includes(e);return r?!t:t},p="";if(i)for(let e of c)u(e)||(p+=e);else if(s&&1===a.length){let e="";for(let t of c)u(t)&&t===e||(p+=t,e=t)}else{if(r){let e=l.length>0?l[l.length-1]:"";for(let t of c)o.includes(t)?p+=t:p+=e}else{let e=new Map;for(let t=0;t<o.length;t++){let n=t<l.length?l[t]:l[l.length-1];e.set(o[t],n)}for(let t of c)p+=e.get(t)??t}if(s){let e="",t="";for(let n of p)l.includes(n)&&n===t||(e+=n,t=n);p=e}}return{stdout:p,stderr:"",exitCode:0}}}}),aA={};function aw(e){return Array.from(e).reverse().join("")}e5(aA,{rev:()=>ak});var aE,ak,aC=e2(()=>{ti(),aE={name:"rev",summary:"reverse lines characterwise",usage:"rev [file ...]",description:"Copies the specified files to standard output, reversing the order of characters in every line. If no files are specified, standard input is read.",examples:["echo 'hello' | rev     # Output: olleh","rev file.txt           # Reverse each line in file"]},ak={name:"rev",execute:async(e,t)=>{if(tn(e))return tt(aE);let n=[];for(let t of e)if("--"===t){let r=e.indexOf(t);n.push(...e.slice(r+1));break}else{if(t.startsWith("-")&&"-"!==t)return tr("rev",t);n.push(t)}let r="",i=e=>{let t=e.split(`
`),n=e.endsWith(`
`)&&""===t[t.length-1];return n&&t.pop(),t.map(aw).join(`
`)+(n?`
`:"")};if(0===n.length)r=i(t.stdin??"");else for(let e of n)if("-"===e)r+=i(t.stdin??"");else{let n=t.fs.resolvePath(t.cwd,e),s=await t.fs.readFile(n);if(null===s)return{exitCode:1,stdout:r,stderr:`rev: ${e}: No such file or directory
`};r+=i(s)}return{exitCode:0,stdout:r,stderr:""}}}}),aO={};function aR(e,t,n){if(""===e)return{output:"",nextNumber:n};let r=e.split(`
`),i=[],s=n,a=e.endsWith(`
`)&&""===r[r.length-1];for(let e of(a&&r.pop(),r))if(function(e,t){switch(t){case"a":return!0;case"t":return e.trim().length>0;case"n":return!1;default:return t}}(e,t.bodyStyle)){let n=function(e,t,n){let r=String(e);switch(t){case"ln":return r.padEnd(n);case"rn":return r.padStart(n);case"rz":return r.padStart(n,"0");default:return t}}(s,t.numberFormat,t.width);i.push(`${n}${t.separator}${e}`),s+=t.increment}else{let n=" ".repeat(t.width);i.push(`${n}${t.separator}${e}`)}return{output:i.join(`
`)+(a?`
`:""),nextNumber:s}}e5(aO,{nl:()=>aN});var aT,aN,aP=e2(()=>{ti(),aT={name:"nl",summary:"number lines of files",usage:"nl [OPTION]... [FILE]...",description:"Write each FILE to standard output, with line numbers added. If no FILE is specified, standard input is read.",options:["-b STYLE     Body numbering style: a (all), t (non-empty), n (none)","-n FORMAT    Number format: ln (left), rn (right), rz (right zeros)","-w WIDTH     Number width (default: 6)","-s SEP       Separator after number (default: TAB)","-v START     Starting line number (default: 1)","-i INCR      Line number increment (default: 1)"],examples:["nl file.txt              # Number non-empty lines","nl -ba file.txt          # Number all lines","nl -n rz -w 3 file.txt   # Right-justified with zeros","nl -s ': ' file.txt      # Use ': ' as separator"]},aN={name:"nl",execute:async(e,t)=>{if(tn(e))return tt(aT);let n={bodyStyle:"t",numberFormat:"rn",width:6,separator:"	",startNumber:1,increment:1},r=[],i=0;for(;i<e.length;){let t=e[i];if("-b"===t&&i+1<e.length){let t=e[i+1];if("a"!==t&&"t"!==t&&"n"!==t)return{exitCode:1,stdout:"",stderr:`nl: invalid body numbering style: '${t}'
`};n.bodyStyle=t,i+=2}else if(t.startsWith("-b")){let e=t.slice(2);if("a"!==e&&"t"!==e&&"n"!==e)return{exitCode:1,stdout:"",stderr:`nl: invalid body numbering style: '${e}'
`};n.bodyStyle=e,i++}else if("-n"===t&&i+1<e.length){let t=e[i+1];if("ln"!==t&&"rn"!==t&&"rz"!==t)return{exitCode:1,stdout:"",stderr:`nl: invalid line numbering format: '${t}'
`};n.numberFormat=t,i+=2}else if(t.startsWith("-n")){let e=t.slice(2);if("ln"!==e&&"rn"!==e&&"rz"!==e)return{exitCode:1,stdout:"",stderr:`nl: invalid line numbering format: '${e}'
`};n.numberFormat=e,i++}else if("-w"===t&&i+1<e.length){let t=parseInt(e[i+1],10);if(Number.isNaN(t)||t<1)return{exitCode:1,stdout:"",stderr:`nl: invalid line number field width: '${e[i+1]}'
`};n.width=t,i+=2}else if(t.startsWith("-w")){let e=parseInt(t.slice(2),10);if(Number.isNaN(e)||e<1)return{exitCode:1,stdout:"",stderr:`nl: invalid line number field width: '${t.slice(2)}'
`};n.width=e,i++}else if("-s"===t&&i+1<e.length)n.separator=e[i+1],i+=2;else if(t.startsWith("-s"))n.separator=t.slice(2),i++;else if("-v"===t&&i+1<e.length){let t=parseInt(e[i+1],10);if(Number.isNaN(t))return{exitCode:1,stdout:"",stderr:`nl: invalid starting line number: '${e[i+1]}'
`};n.startNumber=t,i+=2}else if(t.startsWith("-v")){let e=parseInt(t.slice(2),10);if(Number.isNaN(e))return{exitCode:1,stdout:"",stderr:`nl: invalid starting line number: '${t.slice(2)}'
`};n.startNumber=e,i++}else if("-i"===t&&i+1<e.length){let t=parseInt(e[i+1],10);if(Number.isNaN(t))return{exitCode:1,stdout:"",stderr:`nl: invalid line number increment: '${e[i+1]}'
`};n.increment=t,i+=2}else if(t.startsWith("-i")){let e=parseInt(t.slice(2),10);if(Number.isNaN(e))return{exitCode:1,stdout:"",stderr:`nl: invalid line number increment: '${t.slice(2)}'
`};n.increment=e,i++}else if("--"===t){r.push(...e.slice(i+1));break}else{if(t.startsWith("-")&&"-"!==t)return tr("nl",t);r.push(t),i++}}let s="",a=n.startNumber;if(0===r.length)s=aR(t.stdin??"",n,a).output;else for(let e of r){let r=t.fs.resolvePath(t.cwd,e),i=await t.fs.readFile(r);if(null===i)return{exitCode:1,stdout:s,stderr:`nl: ${e}: No such file or directory
`};let o=aR(i,n,a);s+=o.output,a=o.nextNumber}return{exitCode:0,stdout:s,stderr:""}}}}),aL={};function aI(e,t){if(""===e)return"";let n=e.split(`
`),r=e.endsWith(`
`)&&""===n[n.length-1];return r&&n.pop(),n.map(e=>(function(e,t){if(0===e.length)return e;let{width:n,breakAtSpaces:r,countBytes:i}=t,s=[],a="",o=0,l=-1,c=0;for(let t=0;t<e.length;t++){var u;let p=e[t],h=(u=o,i?new TextEncoder().encode(p).length:"	"===p?8-u%8:"\b"===p?-1:1);o+h>n&&a.length>0?(r&&l>=0?(s.push(a.slice(0,l+1)),a=a.slice(l+1)+p,o=o-c-1+h):(s.push(a),a=p,o=h),l=-1,c=0):(a+=p,o+=h,(" "===p||"	"===p)&&(l=a.length-1,c=o-h))}return a.length>0&&s.push(a),s.join(`
`)})(e,t)).join(`
`)+(r?`
`:"")}e5(aL,{fold:()=>aM});var aD,aM,aF=e2(()=>{ti(),aD={name:"fold",summary:"wrap each input line to fit in specified width",usage:"fold [OPTION]... [FILE]...",description:"Wrap input lines in each FILE, writing to standard output. If no FILE is specified, standard input is read.",options:["-w WIDTH    Use WIDTH columns instead of 80","-s          Break at spaces","-b          Count bytes rather than columns"],examples:["fold -w 40 file.txt           # Wrap at 40 columns","fold -sw 40 file.txt          # Word wrap at 40 columns","echo 'long line' | fold -w 5  # Force wrap at 5"]},aM={name:"fold",execute:async(e,t)=>{if(tn(e))return tt(aD);let n={width:80,breakAtSpaces:!1,countBytes:!1},r=[],i=0;for(;i<e.length;){let t=e[i];if("-w"===t&&i+1<e.length){let t=parseInt(e[i+1],10);if(Number.isNaN(t)||t<1)return{exitCode:1,stdout:"",stderr:`fold: invalid number of columns: '${e[i+1]}'
`};n.width=t,i+=2}else if(t.startsWith("-w")&&t.length>2){let e=parseInt(t.slice(2),10);if(Number.isNaN(e)||e<1)return{exitCode:1,stdout:"",stderr:`fold: invalid number of columns: '${t.slice(2)}'
`};n.width=e,i++}else if("-s"===t)n.breakAtSpaces=!0,i++;else if("-b"===t)n.countBytes=!0,i++;else if("-bs"===t||"-sb"===t)n.breakAtSpaces=!0,n.countBytes=!0,i++;else if(t.match(/^-[sb]+w\d+$/)){t.includes("s")&&(n.breakAtSpaces=!0),t.includes("b")&&(n.countBytes=!0);let e=t.replace(/^-[sb]+w/,""),r=parseInt(e,10);if(Number.isNaN(r)||r<1)return{exitCode:1,stdout:"",stderr:`fold: invalid number of columns: '${e}'
`};n.width=r,i++}else if(t.match(/^-[sb]+w$/)&&i+1<e.length){t.includes("s")&&(n.breakAtSpaces=!0),t.includes("b")&&(n.countBytes=!0);let r=parseInt(e[i+1],10);if(Number.isNaN(r)||r<1)return{exitCode:1,stdout:"",stderr:`fold: invalid number of columns: '${e[i+1]}'
`};n.width=r,i+=2}else if("--"===t){r.push(...e.slice(i+1));break}else if(t.startsWith("-")&&"-"!==t){let e=t.slice(1),r=!1;for(let t of e)if("s"===t)n.breakAtSpaces=!0;else if("b"===t)n.countBytes=!0;else{r=!0;break}if(r)return tr("fold",t);i++}else r.push(t),i++}let s="";if(0===r.length)s=aI(t.stdin??"",n);else for(let e of r){let r=t.fs.resolvePath(t.cwd,e),i=await t.fs.readFile(r);if(null===i)return{exitCode:1,stdout:s,stderr:`fold: ${e}: No such file or directory
`};s+=aI(i,n)}return{exitCode:0,stdout:s,stderr:""}}}}),aB={};function aH(e){let t=e.split(",").map(e=>e.trim()),n=[];for(let e of t){let t=parseInt(e,10);if(Number.isNaN(t)||t<1)return null;n.push(t)}for(let e=1;e<n.length;e++)if(n[e]<=n[e-1])return null;return n}function aU(e,t){if(""===e)return"";let n=e.split(`
`),r=e.endsWith(`
`)&&""===n[n.length-1];return r&&n.pop(),n.map(e=>(function(e,t){let{tabStops:n,leadingOnly:r}=t,i="",s=0,a=!0;for(let t of e)if("	"===t)if(r&&!a)i+=t,s++;else{let e=function(e,t){if(1===t.length){let n=t[0];return n-e%n}for(let n of t)if(n>e)return n-e;if(t.length>=2){let n=t[t.length-1]-t[t.length-2],r=t[t.length-1],i=Math.floor((e-r)/n)+1;return r+i*n-e}return 1}(s,n);i+=" ".repeat(e),s+=e}else" "!==t&&"	"!==t&&(a=!1),i+=t,s++;return i})(e,t)).join(`
`)+(r?`
`:"")}e5(aB,{expand:()=>aW});var aj,aW,aq=e2(()=>{ti(),aj={name:"expand",summary:"convert tabs to spaces",usage:"expand [OPTION]... [FILE]...",description:"Convert TABs in each FILE to spaces, writing to standard output. If no FILE is specified, standard input is read.",options:["-t N        Use N spaces per tab (default: 8)","-t LIST     Use comma-separated list of tab stops","-i          Only convert leading tabs on each line"],examples:["expand file.txt             # Convert all tabs to 8 spaces","expand -t 4 file.txt        # Use 4-space tabs","expand -t 4,8,12 file.txt   # Custom tab stops"]},aW={name:"expand",execute:async(e,t)=>{if(tn(e))return tt(aj);let n={tabStops:[8],leadingOnly:!1},r=[],i=0;for(;i<e.length;){let t=e[i];if("-t"===t&&i+1<e.length){let t=aH(e[i+1]);if(!t)return{exitCode:1,stdout:"",stderr:`expand: invalid tab size: '${e[i+1]}'
`};n.tabStops=t,i+=2}else if(t.startsWith("-t")&&t.length>2){let e=aH(t.slice(2));if(!e)return{exitCode:1,stdout:"",stderr:`expand: invalid tab size: '${t.slice(2)}'
`};n.tabStops=e,i++}else if("--tabs"===t&&i+1<e.length){let t=aH(e[i+1]);if(!t)return{exitCode:1,stdout:"",stderr:`expand: invalid tab size: '${e[i+1]}'
`};n.tabStops=t,i+=2}else if(t.startsWith("--tabs=")){let e=aH(t.slice(7));if(!e)return{exitCode:1,stdout:"",stderr:`expand: invalid tab size: '${t.slice(7)}'
`};n.tabStops=e,i++}else if("-i"===t||"--initial"===t)n.leadingOnly=!0,i++;else if("--"===t){r.push(...e.slice(i+1));break}else{if(t.startsWith("-")&&"-"!==t)return tr("expand",t);r.push(t),i++}}let s="";if(0===r.length)s=aU(t.stdin??"",n);else for(let e of r){let r=t.fs.resolvePath(t.cwd,e),i=await t.fs.readFile(r);if(null===i)return{exitCode:1,stdout:s,stderr:`expand: ${e}: No such file or directory
`};s+=aU(i,n)}return{exitCode:0,stdout:s,stderr:""}}}}),az={};function aG(e){let t=e.split(",").map(e=>e.trim()),n=[];for(let e of t){let t=parseInt(e,10);if(Number.isNaN(t)||t<1)return null;n.push(t)}for(let e=1;e<n.length;e++)if(n[e]<=n[e-1])return null;return n}function aV(e,t){if(1===t.length){let n=t[0];return e+(n-e%n)}for(let n of t)if(n>e)return n;if(t.length>=2){let n=t[t.length-1]-t[t.length-2],r=t[t.length-1],i=Math.floor((e-r)/n)+1;return r+i*n}return -1}function aZ(e,t){if(""===e)return"";let n=e.split(`
`),r=e.endsWith(`
`)&&""===n[n.length-1];return r&&n.pop(),n.map(e=>(function(e,t){let{tabStops:n,allBlanks:r}=t,i="",s=0,a="",o=0,l=!0,c=()=>{if(0===a.length)return;let e=o+a.length;if(!r&&!l){i+=a,a="";return}let t=o,s="";for(;t<e;){let r=aV(t,n);if(r<=e&&r>t)s+="	",t=r;else break}let c=e-t;c>0&&(s+=" ".repeat(c)),i+=s,a=""};for(let t of e)" "===t?(0===a.length&&(o=s),a+=t,s++):"	"===t?(c(),i+=t,s=aV(s,n)):(c(),i+=t,s++,l=!1);return c(),i})(e,t)).join(`
`)+(r?`
`:"")}e5(az,{unexpand:()=>aX});var aK,aX,aQ=e2(()=>{ti(),aK={name:"unexpand",summary:"convert spaces to tabs",usage:"unexpand [OPTION]... [FILE]...",description:"Convert blanks in each FILE to TABs, writing to standard output. If no FILE is specified, standard input is read.",options:["-t N        Use N spaces per tab (default: 8)","-t LIST     Use comma-separated list of tab stops","-a          Convert all sequences of blanks (not just leading)"],examples:["unexpand file.txt           # Convert leading spaces to tabs","unexpand -a file.txt        # Convert all space sequences","unexpand -t 4 file.txt      # Use 4-space tabs"]},aX={name:"unexpand",execute:async(e,t)=>{if(tn(e))return tt(aK);let n={tabStops:[8],allBlanks:!1},r=[],i=0;for(;i<e.length;){let t=e[i];if("-t"===t&&i+1<e.length){let t=aG(e[i+1]);if(!t)return{exitCode:1,stdout:"",stderr:`unexpand: invalid tab size: '${e[i+1]}'
`};n.tabStops=t,i+=2}else if(t.startsWith("-t")&&t.length>2){let e=aG(t.slice(2));if(!e)return{exitCode:1,stdout:"",stderr:`unexpand: invalid tab size: '${t.slice(2)}'
`};n.tabStops=e,i++}else if("--tabs"===t&&i+1<e.length){let t=aG(e[i+1]);if(!t)return{exitCode:1,stdout:"",stderr:`unexpand: invalid tab size: '${e[i+1]}'
`};n.tabStops=t,i+=2}else if(t.startsWith("--tabs=")){let e=aG(t.slice(7));if(!e)return{exitCode:1,stdout:"",stderr:`unexpand: invalid tab size: '${t.slice(7)}'
`};n.tabStops=e,i++}else if("-a"===t||"--all"===t)n.allBlanks=!0,i++;else if("--"===t){r.push(...e.slice(i+1));break}else{if(t.startsWith("-")&&"-"!==t)return tr("unexpand",t);r.push(t),i++}}let s="";if(0===r.length)s=aZ(t.stdin??"",n);else for(let e of r){let r=t.fs.resolvePath(t.cwd,e),i=await t.fs.readFile(r);if(null===i)return{exitCode:1,stdout:s,stderr:`unexpand: ${e}: No such file or directory
`};s+=aZ(i,n)}return{exitCode:0,stdout:s,stderr:""}}}}),aJ={};function aY(e,t){if(null===t)return"";switch(t){case"o":return`${e.toString(8).padStart(7," ")} `;case"x":return`${e.toString(16).padStart(7," ")} `;case"d":return`${e.toString(10).padStart(7," ")} `;default:return t}}function a0(e,t){let n=[],r="",i=0,s="string"==typeof e?new TextEncoder().encode(e):e;for(let e=0;e<s.length;e++){let a=s[e];if(a>=32&&a<=126||9===a)0===r.length&&(i=e),r+=String.fromCharCode(a);else{if(r.length>=t.minLength){let e=aY(i,t.offsetFormat);n.push(`${e}${r}`)}r=""}}if(r.length>=t.minLength){let e=aY(i,t.offsetFormat);n.push(`${e}${r}`)}return n}e5(aJ,{strings:()=>a2});var a1,a2,a3=e2(()=>{ti(),a1={name:"strings",summary:"print the sequences of printable characters in files",usage:"strings [OPTION]... [FILE]...",description:"For each FILE, print the printable character sequences that are at least MIN characters long. If no FILE is specified, standard input is read.",options:["-n MIN       Print sequences of at least MIN characters (default: 4)","-t FORMAT    Print offset before each string (o=octal, x=hex, d=decimal)","-a           Scan the entire file (default behavior)","-e ENCODING  Select character encoding (s=7-bit, S=8-bit)"],examples:["strings file.bin          # Extract strings (min 4 chars)","strings -n 8 file.bin     # Extract strings (min 8 chars)","strings -t x file.bin     # Show hex offset","echo 'hello' | strings    # Read from stdin"]},a2={name:"strings",execute:async(e,t)=>{if(tn(e))return tt(a1);let n={minLength:4,offsetFormat:null},r=[],i=0;for(;i<e.length;){let t=e[i];if("-n"===t&&i+1<e.length){let t=Number.parseInt(e[i+1],10);if(Number.isNaN(t)||t<1)return{exitCode:1,stdout:"",stderr:`strings: invalid minimum string length: '${e[i+1]}'
`};n.minLength=t,i+=2}else if(t.match(/^-n\d+$/)){let e=Number.parseInt(t.slice(2),10);if(Number.isNaN(e)||e<1)return{exitCode:1,stdout:"",stderr:`strings: invalid minimum string length: '${t.slice(2)}'
`};n.minLength=e,i++}else if(t.match(/^-\d+$/)){let e=Number.parseInt(t.slice(1),10);if(Number.isNaN(e)||e<1)return{exitCode:1,stdout:"",stderr:`strings: invalid minimum string length: '${t.slice(1)}'
`};n.minLength=e,i++}else if("-t"===t&&i+1<e.length){let t=e[i+1];if("o"!==t&&"x"!==t&&"d"!==t)return{exitCode:1,stdout:"",stderr:`strings: invalid radix: '${t}'
`};n.offsetFormat=t,i+=2}else if(t.startsWith("-t")&&3===t.length){let e=t[2];if("o"!==e&&"x"!==e&&"d"!==e)return{exitCode:1,stdout:"",stderr:`strings: invalid radix: '${e}'
`};n.offsetFormat=e,i++}else if("-a"===t||"--all"===t||"-"===t)"-"===t&&r.push(t),i++;else if("-e"===t&&i+1<e.length){let t=e[i+1];if("s"!==t&&"S"!==t)return{exitCode:1,stdout:"",stderr:`strings: invalid encoding: '${t}'
`};i+=2}else if(t.startsWith("-e")&&3===t.length){let e=t[2];if("s"!==e&&"S"!==e)return{exitCode:1,stdout:"",stderr:`strings: invalid encoding: '${e}'
`};i++}else if("--"===t){r.push(...e.slice(i+1));break}else{if(t.startsWith("-")&&"-"!==t)return tr("strings",t);r.push(t),i++}}let s="";if(0===r.length){let e=a0(t.stdin??"",n);s=e.length>0?`${e.join(`
`)}
`:""}else for(let e of r){let r;if("-"===e)r=t.stdin??"";else{let n=t.fs.resolvePath(t.cwd,e);if(null===(r=await t.fs.readFile(n)))return{exitCode:1,stdout:s,stderr:`strings: ${e}: No such file or directory
`}}let i=a0(r,n);i.length>0&&(s+=`${i.join(`
`)}
`)}return{exitCode:0,stdout:s,stderr:""}}}}),a5={};function a6(e){let t=e.match(/^(\d+)([KMGTPEZY]?)([B]?)$/i);if(!t)return null;let n=Number.parseInt(t[1],10);if(Number.isNaN(n)||n<1)return null;let r={"":1,K:1024,M:1048576,G:0x40000000,T:0x10000000000,P:0x4000000000000}[(t[2]||"").toUpperCase()];return void 0===r?null:n*r}e5(a5,{split:()=>a8});var a4,a8,a9=e2(()=>{ti(),a4={name:"split",summary:"split a file into pieces",usage:"split [OPTION]... [FILE [PREFIX]]",description:"Output pieces of FILE to PREFIXaa, PREFIXab, ...; default size is 1000 lines, and default PREFIX is 'x'.",options:["-l N         Put N lines per output file","-b SIZE      Put SIZE bytes per output file (K, M, G suffixes)","-n CHUNKS    Split into CHUNKS equal-sized files","-d           Use numeric suffixes (00, 01, ...) instead of alphabetic","-a LENGTH    Use suffixes of length LENGTH (default: 2)","--additional-suffix=SUFFIX  Append SUFFIX to file names"],examples:["split -l 100 file.txt        # Split into 100-line chunks","split -b 1M file.bin         # Split into 1MB chunks","split -n 5 file.txt          # Split into 5 equal parts","split -d file.txt part_      # part_00, part_01, ...","split -a 3 -d file.txt x     # x000, x001, ..."]},a8={name:"split",execute:async(e,t)=>{let n,r;if(tn(e))return tt(a4);let i={mode:"lines",lines:1e3,bytes:0,chunks:0,useNumericSuffix:!1,suffixLength:2,additionalSuffix:""},s=[],a=0;for(;a<e.length;){let t=e[a];if("-l"===t&&a+1<e.length){let t=Number.parseInt(e[a+1],10);if(Number.isNaN(t)||t<1)return{exitCode:1,stdout:"",stderr:`split: invalid number of lines: '${e[a+1]}'
`};i.mode="lines",i.lines=t,a+=2}else if(t.match(/^-l\d+$/)){let e=Number.parseInt(t.slice(2),10);if(Number.isNaN(e)||e<1)return{exitCode:1,stdout:"",stderr:`split: invalid number of lines: '${t.slice(2)}'
`};i.mode="lines",i.lines=e,a++}else if("-b"===t&&a+1<e.length){let t=a6(e[a+1]);if(null===t)return{exitCode:1,stdout:"",stderr:`split: invalid number of bytes: '${e[a+1]}'
`};i.mode="bytes",i.bytes=t,a+=2}else if(t.match(/^-b.+$/)){let e=a6(t.slice(2));if(null===e)return{exitCode:1,stdout:"",stderr:`split: invalid number of bytes: '${t.slice(2)}'
`};i.mode="bytes",i.bytes=e,a++}else if("-n"===t&&a+1<e.length){let t=Number.parseInt(e[a+1],10);if(Number.isNaN(t)||t<1)return{exitCode:1,stdout:"",stderr:`split: invalid number of chunks: '${e[a+1]}'
`};i.mode="chunks",i.chunks=t,a+=2}else if(t.match(/^-n\d+$/)){let e=Number.parseInt(t.slice(2),10);if(Number.isNaN(e)||e<1)return{exitCode:1,stdout:"",stderr:`split: invalid number of chunks: '${t.slice(2)}'
`};i.mode="chunks",i.chunks=e,a++}else if("-a"===t&&a+1<e.length){let t=Number.parseInt(e[a+1],10);if(Number.isNaN(t)||t<1)return{exitCode:1,stdout:"",stderr:`split: invalid suffix length: '${e[a+1]}'
`};i.suffixLength=t,a+=2}else if(t.match(/^-a\d+$/)){let e=Number.parseInt(t.slice(2),10);if(Number.isNaN(e)||e<1)return{exitCode:1,stdout:"",stderr:`split: invalid suffix length: '${t.slice(2)}'
`};i.suffixLength=e,a++}else if("-d"===t||"--numeric-suffixes"===t)i.useNumericSuffix=!0,a++;else if(t.startsWith("--additional-suffix="))i.additionalSuffix=t.slice(20),a++;else if("--additional-suffix"===t&&a+1<e.length)i.additionalSuffix=e[a+1],a+=2;else if("--"===t){s.push(...e.slice(a+1));break}else{if(t.startsWith("-")&&"-"!==t)return tr("split",t);s.push(t),a++}}let o="-",l="x";if(s.length>=1&&(o=s[0]),s.length>=2&&(l=s[1]),"-"===o)n=t.stdin??"";else{let e=t.fs.resolvePath(t.cwd,o),r=await t.fs.readFile(e);if(null===r)return{exitCode:1,stdout:"",stderr:`split: ${o}: No such file or directory
`};n=r}if(""===n)return{exitCode:0,stdout:"",stderr:""};switch(i.mode){case"lines":r=function(e,t){let n=e.split(`
`),r=e.endsWith(`
`)&&""===n[n.length-1];r&&n.pop();let i=[];for(let e=0;e<n.length;e+=t){let s=n.slice(e,e+t),a=e+t>=n.length&&!r?s.join(`
`):`${s.join(`
`)}
`;i.push({content:a,hasContent:!0})}return i}(n,i.lines);break;case"bytes":r=function(e,t){let n=new TextEncoder().encode(e),r=new TextDecoder,i=[];for(let e=0;e<n.length;e+=t){let s=n.slice(e,e+t);i.push({content:r.decode(s),hasContent:s.length>0})}return i}(n,i.bytes);break;case"chunks":r=function(e,t){let n=new TextEncoder().encode(e),r=new TextDecoder,i=[],s=Math.ceil(n.length/t);for(let e=0;e<t;e++){let t=e*s,a=Math.min(t+s,n.length),o=n.slice(t,a);i.push({content:r.decode(o),hasContent:o.length>0})}return i}(n,i.chunks);break;default:return i.mode}for(let e=0;e<r.length;e++){let n=r[e];if(!n.hasContent)continue;let s=function(e,t,n){if(t)return e.toString().padStart(n,"0");let r="",i=e;for(let e=0;e<n;e++)r="abcdefghijklmnopqrstuvwxyz"[i%26]+r,i=Math.floor(i/26);return r}(e,i.useNumericSuffix,i.suffixLength),a=`${l}${s}${i.additionalSuffix}`,o=t.fs.resolvePath(t.cwd,a);await t.fs.writeFile(o,n.content)}return{exitCode:0,stdout:"",stderr:""}}}}),a7={};function oe(e,t,n){return t?n?e.split(t):e.split(t).filter(e=>e.length>0):n?e.split(/[ \t]/):e.split(/[ \t]+/).filter(e=>e.length>0)}e5(a7,{column:()=>or});var ot,on,or,oi=e2(()=>{ta(),ti(),ot={name:"column",summary:"columnate lists",usage:"column [OPTION]... [FILE]...",description:"Format input into multiple columns. By default, fills rows first. Use -t to create a table based on whitespace-delimited input.",options:["-t           Create a table (determine columns from input)","-s SEP       Input field delimiter (default: whitespace)","-o SEP       Output field delimiter (default: two spaces)","-c WIDTH     Output width for fill mode (default: 80)","-n           Don't merge multiple adjacent delimiters"],examples:["ls | column              # Fill columns with ls output","cat data | column -t     # Format as table","column -t -s ',' file    # Format CSV as table","column -c 40 file        # Fill 40-char wide columns"]},on={table:{short:"t",long:"table",type:"boolean"},separator:{short:"s",type:"string"},outputSep:{short:"o",type:"string"},width:{short:"c",type:"number",default:80},noMerge:{short:"n",type:"boolean"}},or={name:"column",execute:async(e,t)=>{if(tn(e))return tt(ot);let n=ts("column",e,on);if(!n.ok)return n.error;let{table:r,separator:i,outputSep:s,width:a,noMerge:o}=n.result.flags,l=n.result.positional,c=s??"  ",u;if(0===l.length)u=t.stdin??"";else{let e=[];for(let n of l)if("-"===n)e.push(t.stdin??"");else{let r=t.fs.resolvePath(t.cwd,n),i=await t.fs.readFile(r);if(null===i)return{exitCode:1,stdout:"",stderr:`column: ${n}: No such file or directory
`};e.push(i)}u=e.join("")}if(""===u||""===u.trim())return{exitCode:0,stdout:"",stderr:""};let p=u.split(`
`);u.endsWith(`
`)&&""===p[p.length-1]&&p.pop();let h=p.filter(e=>e.trim().length>0),_;if(r)_=function(e,t){if(0===e.length)return"";let n=function(e){let t=[];for(let n of e)for(let e=0;e<n.length;e++){let r=n[e].length;(void 0===t[e]||r>t[e])&&(t[e]=r)}return t}(e),r=[];for(let i of e){let e=[];for(let t=0;t<i.length;t++)t===i.length-1?e.push(i[t]):e.push(i[t].padEnd(n[t]));r.push(e.join(t))}return r.join(`
`)}(h.map(e=>oe(e,i,o)),c);else{let e=[];for(let t of h){let n=oe(t,i,o);e.push(...n)}_=function(e,t,n){if(0===e.length)return"";let r=Math.max(...e.map(e=>e.length)),i=n.length,s=r+i,a=Math.max(1,Math.floor((t+i)/s)),o=Math.ceil(e.length/a),l=[];for(let t=0;t<o;t++){let i=[];for(let n=0;n<a;n++){let s=n*o+t;s<e.length&&(n===a-1||(n+1)*o+t>=e.length?i.push(e[s]):i.push(e[s].padEnd(r)))}l.push(i.join(n))}return l.join(`
`)}(e,a,c)}return _.length>0&&(_+=`
`),{exitCode:0,stdout:_,stderr:""}}}}),os={};function oa(e,t,n){let r=n.separator??" ";if(n.outputFormat){let i=[];for(let{file:r,field:s}of n.outputFormat){let a=1===r?e:t;a&&0===s?i.push(a.joinKey):a&&void 0!==a.fields[s-1]?i.push(a.fields[s-1]):i.push(n.emptyString)}return i.join(r)}let i=[];if(i.push(e?.joinKey??t?.joinKey??""),e)for(let t=0;t<e.fields.length;t++)t!==n.field1-1&&i.push(e.fields[t]);if(t)for(let e=0;e<t.fields.length;e++)e!==n.field2-1&&i.push(t.fields[e]);return i.join(r)}e5(os,{join:()=>ol});var oo,ol,oc=e2(()=>{ti(),oo={name:"join",summary:"join lines of two files on a common field",usage:"join [OPTION]... FILE1 FILE2",description:"For each pair of input lines with identical join fields, write a line to standard output. The default join field is the first, delimited by blanks.",options:["-1 FIELD     Join on this FIELD of file 1 (default: 1)","-2 FIELD     Join on this FIELD of file 2 (default: 1)","-t CHAR      Use CHAR as input and output field separator","-a FILENUM   Also print unpairable lines from file FILENUM (1 or 2)","-v FILENUM   Like -a but only output unpairable lines","-e STRING    Replace missing fields with STRING","-o FORMAT    Output format (comma-separated list of FILENUM.FIELD)","-i           Ignore case when comparing fields"],examples:["join file1 file2               # Join on first field","join -1 2 -2 1 file1 file2     # Join file1 col 2 with file2 col 1","join -t ',' file1.csv file2.csv  # Join CSV files","join -a 1 file1 file2          # Left outer join"]},ol={name:"join",execute:async(e,t)=>{if(tn(e))return tt(oo);let n={field1:1,field2:1,separator:null,printUnpairable:new Set,onlyUnpairable:new Set,emptyString:"",outputFormat:null,ignoreCase:!1},r=[],i=0;for(;i<e.length;){let t=e[i];if("-1"===t&&i+1<e.length){let t=Number.parseInt(e[i+1],10);if(Number.isNaN(t)||t<1)return{exitCode:1,stdout:"",stderr:`join: invalid field number: '${e[i+1]}'
`};n.field1=t,i+=2}else if("-2"===t&&i+1<e.length){let t=Number.parseInt(e[i+1],10);if(Number.isNaN(t)||t<1)return{exitCode:1,stdout:"",stderr:`join: invalid field number: '${e[i+1]}'
`};n.field2=t,i+=2}else if(("-t"===t||"--field-separator"===t)&&i+1<e.length)n.separator=e[i+1],i+=2;else if(t.startsWith("-t")&&t.length>2)n.separator=t.slice(2),i++;else if("-a"===t&&i+1<e.length){let t=Number.parseInt(e[i+1],10);if(1!==t&&2!==t)return{exitCode:1,stdout:"",stderr:`join: invalid file number: '${e[i+1]}'
`};n.printUnpairable.add(t),i+=2}else if(t.match(/^-a[12]$/))n.printUnpairable.add(Number.parseInt(t[2],10)),i++;else if("-v"===t&&i+1<e.length){let t=Number.parseInt(e[i+1],10);if(1!==t&&2!==t)return{exitCode:1,stdout:"",stderr:`join: invalid file number: '${e[i+1]}'
`};n.onlyUnpairable.add(t),i+=2}else if(t.match(/^-v[12]$/))n.onlyUnpairable.add(Number.parseInt(t[2],10)),i++;else if("-e"===t&&i+1<e.length)n.emptyString=e[i+1],i+=2;else if("-o"===t&&i+1<e.length){let t=function(e){let t=e.split(","),n=[];for(let e of t){let t=e.trim().match(/^(\d+)\.(\d+)$/);if(!t)return null;let r=Number.parseInt(t[1],10),i=Number.parseInt(t[2],10);if(1!==r&&2!==r)return null;n.push({file:r,field:i})}return n}(e[i+1]);if(!t)return{exitCode:1,stdout:"",stderr:`join: invalid field spec: '${e[i+1]}'
`};n.outputFormat=t,i+=2}else if("-i"===t||"--ignore-case"===t)n.ignoreCase=!0,i++;else if("--"===t){r.push(...e.slice(i+1));break}else{if(t.startsWith("-")&&"-"!==t)return tr("join",t);r.push(t),i++}}if(2!==r.length)return{exitCode:1,stdout:"",stderr:r.length<2?`join: missing file operand
`:`join: extra operand
`};let s=[];for(let e of r)if("-"===e)s.push(t.stdin??"");else{let n=t.fs.resolvePath(t.cwd,e),r=await t.fs.readFile(n);if(null===r)return{exitCode:1,stdout:"",stderr:`join: ${e}: No such file or directory
`};s.push(r)}let a=(e,t)=>{let r=e.split(`
`);return e.endsWith(`
`)&&""===r[r.length-1]&&r.pop(),r.filter(e=>e.length>0).map(e=>{var r,i;let s,a;return r=n.separator,i=n.ignoreCase,a=(s=r?e.split(r):e.split(/[ \t]+/).filter(e=>e.length>0))[t-1]??"",i&&(a=a.toLowerCase()),{fields:s,joinKey:a,original:e}})},o=a(s[0],n.field1),l=a(s[1],n.field2),c=new Map;for(let e of l){let t=c.get(e.joinKey);t?t.push(e):c.set(e.joinKey,[e])}let u=[],p=new Set;for(let e of o){let t=c.get(e.joinKey);if(t&&t.length>0){if(p.add(e.joinKey),0===n.onlyUnpairable.size)for(let r of t)u.push(oa(e,r,n))}else(n.printUnpairable.has(1)||n.onlyUnpairable.has(1))&&u.push(oa(e,null,n))}if(n.printUnpairable.has(2)||n.onlyUnpairable.has(2))for(let e of l)p.has(e.joinKey)||u.push(oa(null,e,n));return{exitCode:0,stdout:u.length>0?`${u.join(`
`)}
`:"",stderr:""}}}}),ou={};e5(ou,{teeCommand:()=>o_});var op,oh,o_,of=e2(()=>{ta(),ti(),op={name:"tee",summary:"read from stdin and write to stdout and files",usage:"tee [OPTION]... [FILE]...",options:["-a, --append     append to the given FILEs, do not overwrite","    --help       display this help and exit"]},oh={append:{short:"a",long:"append",type:"boolean"}},o_={name:"tee",async execute(e,t){if(tn(e))return tt(op);let n=ts("tee",e,oh);if(!n.ok)return n.error;let{append:r}=n.result.flags,i=n.result.positional,s=t.stdin,a="",o=0;for(let e of i)try{let n=t.fs.resolvePath(t.cwd,e);r?await t.fs.appendFile(n,s):await t.fs.writeFile(n,s)}catch{a+=`tee: ${e}: No such file or directory
`,o=1}return{stdout:s,stderr:a,exitCode:o}}}});function od(e,t){switch(e.type){case"name":{let n=e.pattern,r=n.match(/^\*(\.[a-zA-Z0-9]+)$/);if(r){let n=r[1],i=t.name;if(e.ignoreCase){if(!i.toLowerCase().endsWith(n.toLowerCase()))return{matches:!1,pruned:!1,printed:!1}}else if(!i.endsWith(n))return{matches:!1,pruned:!1,printed:!1};return{matches:!0,pruned:!1,printed:!1}}return{matches:nV(t.name,n,e.ignoreCase),pruned:!1,printed:!1}}case"path":{let n=e.pattern,r=t.relativePath,i=n.split("/");for(let t=0;t<i.length-1;t++){let n=i[t];if(n&&"."!==n&&".."!==n&&!n.includes("*")&&!n.includes("?")&&!n.includes("[")){let t=`/${n}/`;if(e.ignoreCase){if(!r.toLowerCase().includes(t.toLowerCase()))return{matches:!1,pruned:!1,printed:!1}}else if(!r.includes(t))return{matches:!1,pruned:!1,printed:!1}}}let s=n.match(/\*(\.[a-zA-Z0-9]+)$/);if(s){let t=s[1];if(e.ignoreCase){if(!r.toLowerCase().endsWith(t.toLowerCase()))return{matches:!1,pruned:!1,printed:!1}}else if(!r.endsWith(t))return{matches:!1,pruned:!1,printed:!1}}return{matches:nV(r,n,e.ignoreCase),pruned:!1,printed:!1}}case"regex":try{let n=e.ignoreCase?"i":"";return{matches:new RegExp(e.pattern,n).test(t.relativePath),pruned:!1,printed:!1}}catch{return{matches:!1,pruned:!1,printed:!1}}case"type":return"f"===e.fileType?{matches:t.isFile,pruned:!1,printed:!1}:"d"===e.fileType?{matches:t.isDirectory,pruned:!1,printed:!1}:{matches:!1,pruned:!1,printed:!1};case"empty":return{matches:t.isEmpty,pruned:!1,printed:!1};case"mtime":{let n=(Date.now()-t.mtime)/864e5;return{matches:"more"===e.comparison?n>e.days:"less"===e.comparison?n<e.days:Math.floor(n)===e.days,pruned:!1,printed:!1}}case"newer":{let n=t.newerRefTimes.get(e.refPath);return void 0===n?{matches:!1,pruned:!1,printed:!1}:{matches:t.mtime>n,pruned:!1,printed:!1}}case"size":{let n=e.value;switch(e.unit){case"c":n=e.value;break;case"k":n=1024*e.value;break;case"M":n=1024*e.value*1024;break;case"G":n=1024*e.value*1048576;break;case"b":n=512*e.value}return{matches:"more"===e.comparison?t.size>n:"less"===e.comparison?t.size<n:"b"===e.unit?Math.ceil(t.size/512)===e.value:t.size===n,pruned:!1,printed:!1}}case"perm":{let n=511&t.mode,r=511&e.mode;return{matches:"exact"===e.matchType?n===r:"all"===e.matchType?(n&r)===r:(n&r)!=0,pruned:!1,printed:!1}}case"prune":return{matches:!0,pruned:!0,printed:!1};case"print":return{matches:!0,pruned:!1,printed:!0};case"not":{let n=od(e.expr,t);return{matches:!n.matches,pruned:n.pruned,printed:!1}}case"and":{let n=od(e.left,t);if(!n.matches)return{matches:!1,pruned:n.pruned,printed:!1};let r=od(e.right,t);return{matches:r.matches,pruned:n.pruned||r.pruned,printed:n.printed||r.printed}}case"or":{let n=od(e.left,t);if(n.matches)return n;let r=od(e.right,t);return{matches:r.matches,pruned:n.pruned||r.pruned,printed:r.printed}}}}function og(e){switch(e.type){case"name":case"path":case"regex":case"type":case"prune":case"print":return!0;case"empty":case"mtime":case"newer":case"size":case"perm":return!1;case"not":return og(e.expr);case"and":case"or":return og(e.left)&&og(e.right)}}var om=e2(()=>{nK()}),ov=e2(()=>{}),ob={};e5(ob,{findCommand:()=>ox});var oy,o$,ox,oS=e2(()=>{ti(),ty(),om(),ov(),oy={name:"find",summary:"search for files in a directory hierarchy",usage:"find [path...] [expression]",options:["-name PATTERN    file name matches shell pattern PATTERN","-iname PATTERN   like -name but case insensitive","-path PATTERN    file path matches shell pattern PATTERN","-ipath PATTERN   like -path but case insensitive","-regex PATTERN   file path matches regular expression PATTERN","-iregex PATTERN  like -regex but case insensitive","-type TYPE       file is of type: f (regular file), d (directory)","-empty           file is empty or directory is empty","-mtime N         file's data was modified N*24 hours ago","-newer FILE      file was modified more recently than FILE","-size N[ckMGb]   file uses N units of space (c=bytes, k=KB, M=MB, G=GB, b=512B blocks)","-perm MODE       file's permission bits are exactly MODE (octal)","-perm -MODE      all permission bits MODE are set","-perm /MODE      any permission bits MODE are set","-maxdepth LEVELS descend at most LEVELS directories","-mindepth LEVELS do not apply tests at levels less than LEVELS","-depth           process directory contents before directory itself","-prune           do not descend into this directory","-not, !          negate the following expression","-a, -and         logical AND (default)","-o, -or          logical OR","-exec CMD {} ;   execute CMD on each file ({} is replaced by filename)","-exec CMD {} +   execute CMD with multiple files at once","-print           print the full file name (default action)","-print0          print the full file name followed by a null character","-printf FORMAT   print FORMAT with directives: %f %h %p %P %s %d %m %M %t","-delete          delete found files/directories","    --help       display this help and exit"]},o$=new Set(["-name","-iname","-path","-ipath","-regex","-iregex","-type","-maxdepth","-mindepth","-mtime","-newer","-size","-perm"]),ox={name:"find",async execute(e,t){var n;let r,i;if(tn(e))return tt(oy);let s=[],a=null,o=null,l=!1,c=!1;for(let t=0;t<e.length;t++){let n=e[t];if("-maxdepth"===n&&t+1<e.length)c=!0,a=parseInt(e[++t],10);else if("-mindepth"===n&&t+1<e.length)c=!0,o=parseInt(e[++t],10);else if("-depth"===n)c=!0,l=!0;else if("-exec"===n)for(c=!0,t++;t<e.length&&";"!==e[t]&&"+"!==e[t];)t++;else n.startsWith("-")||";"===n||"+"===n||"("===n||")"===n||"\\("===n||"\\)"===n||"!"===n?o$.has(n)?(c=!0,t++):(n.startsWith("-")||"("===n||"\\("===n||"!"===n)&&(c=!0):c||s.push(n)}0===s.length&&s.push(".");let{expr:u,error:p,actions:h}=function(e,t){let n=[],r=[],i=0;for(;i<e.length;){let t=e[i];if("("===t||"\\("===t){n.push({type:"lparen"}),i++;continue}if(")"===t||"\\)"===t){n.push({type:"rparen"}),i++;continue}if("-name"===t&&i+1<e.length)n.push({type:"expr",expr:{type:"name",pattern:e[++i]}});else if("-iname"===t&&i+1<e.length)n.push({type:"expr",expr:{type:"name",pattern:e[++i],ignoreCase:!0}});else if("-path"===t&&i+1<e.length)n.push({type:"expr",expr:{type:"path",pattern:e[++i]}});else if("-ipath"===t&&i+1<e.length)n.push({type:"expr",expr:{type:"path",pattern:e[++i],ignoreCase:!0}});else if("-regex"===t&&i+1<e.length)n.push({type:"expr",expr:{type:"regex",pattern:e[++i]}});else if("-iregex"===t&&i+1<e.length)n.push({type:"expr",expr:{type:"regex",pattern:e[++i],ignoreCase:!0}});else if("-type"===t&&i+1<e.length){let t=e[++i];if("f"!==t&&"d"!==t)return{expr:null,pathIndex:i,error:`find: Unknown argument to -type: ${t}
`,actions:[]};n.push({type:"expr",expr:{type:"type",fileType:t}})}else if("-empty"===t)n.push({type:"expr",expr:{type:"empty"}});else if("-mtime"===t&&i+1<e.length){let t=e[++i],r="exact",s=t;t.startsWith("+")?(r="more",s=t.slice(1)):t.startsWith("-")&&(r="less",s=t.slice(1));let a=parseInt(s,10);Number.isNaN(a)||n.push({type:"expr",expr:{type:"mtime",days:a,comparison:r}})}else if("-newer"===t&&i+1<e.length){let t=e[++i];n.push({type:"expr",expr:{type:"newer",refPath:t}})}else if("-size"===t&&i+1<e.length){let t=e[++i],r="exact",s=t;t.startsWith("+")?(r="more",s=t.slice(1)):t.startsWith("-")&&(r="less",s=t.slice(1));let a=s.match(/^(\d+)([ckMGb])?$/);if(a){let e=parseInt(a[1],10),t=a[2]||"b";n.push({type:"expr",expr:{type:"size",value:e,unit:t,comparison:r}})}}else if("-perm"===t&&i+1<e.length){let t=e[++i],r="exact",s=t;t.startsWith("-")?(r="all",s=t.slice(1)):t.startsWith("/")&&(r="any",s=t.slice(1));let a=parseInt(s,8);Number.isNaN(a)||n.push({type:"expr",expr:{type:"perm",mode:a,matchType:r}})}else if("-prune"===t)n.push({type:"expr",expr:{type:"prune"}});else if("-not"===t||"!"===t)n.push({type:"not"});else if("-o"===t||"-or"===t)n.push({type:"op",op:"or"});else if("-a"===t||"-and"===t)n.push({type:"op",op:"and"});else if("-maxdepth"===t||"-mindepth"===t)i++;else if("-depth"!==t)if("-exec"===t){let t=[];for(i++;i<e.length&&";"!==e[i]&&"+"!==e[i];)t.push(e[i]),i++;if(i>=e.length)return{expr:null,pathIndex:i,error:"find: missing argument to `-exec'\n",actions:[]};let n="+"===e[i];r.push({type:"exec",command:t,batchMode:n})}else if("-print"===t)n.push({type:"expr",expr:{type:"print"}}),r.push({type:"print"});else if("-print0"===t)r.push({type:"print0"});else if("-printf"===t&&i+1<e.length){let t=e[++i];r.push({type:"printf",format:t})}else if("-delete"===t)r.push({type:"delete"});else{if(t.startsWith("-"))return{expr:null,pathIndex:i,error:`find: unknown predicate '${t}'
`,actions:[]};if(0===n.length){i++;continue}break}i++}if(0===n.length)return{expr:null,pathIndex:i,actions:r};let s=function(e){let t=0;function n(){let n=r();if(!n)return null;for(;t<e.length;){let i=e[t];if("op"===i.type&&"or"===i.op){t++;let e=r();if(!e)return n;n={type:"or",left:n,right:e}}else break}return n}function r(){let n=i();if(!n)return null;for(;t<e.length;){let r=e[t];if("op"===r.type&&"and"===r.op){t++;let e=i();if(!e)return n;n={type:"and",left:n,right:e}}else if("expr"===r.type||"not"===r.type||"lparen"===r.type){let e=i();if(!e)return n;n={type:"and",left:n,right:e}}else break}return n}function i(){if(t<e.length&&"not"===e[t].type){t++;let e=i();return e?{type:"not",expr:e}:null}if(t>=e.length)return null;let r=e[t];if("lparen"===r.type){t++;let r=n();return t<e.length&&"rparen"===e[t].type&&t++,r}return"expr"===r.type?(t++,r.expr):(r.type,null)}return{expr:n()}}(n);return s.error?{expr:null,pathIndex:i,error:s.error,actions:r}:{expr:s.expr,pathIndex:i,actions:r}}(e,0);if(p)return{stdout:"",stderr:p,exitCode:1};let _=h.some(e=>"print"===e.type),f=0===h.length,d=[],g=h.some(e=>"printf"===e.type),m=[],v="",b=0,y=(r=[],(i=e=>{e&&("newer"===e.type?r.push(e.refPath):"not"===e.type?i(e.expr):("and"===e.type||"or"===e.type)&&(i(e.left),i(e.right)))})(u),r),$=new Map;for(let e of y){let n=t.fs.resolvePath(t.cwd,e);try{let r=await t.fs.stat(n);$.set(e,r.mtime?.getTime()??Date.now())}catch{}}let x=h.some(e=>{if("printf"!==e.type)return!1;let t=e.format.replace(/%%/g,"");return/%[-+]?[0-9]*\.?[0-9]*(s|m|M|t|T)/.test(t)}),S=function e(t){if(!t)return!1;switch(t.type){case"name":case"path":case"regex":case"type":case"prune":case"print":return!1;case"empty":case"mtime":case"newer":case"size":case"perm":return!0;case"not":return e(t.expr);case"and":case"or":return e(t.left)||e(t.right)}}(u)||x,A=function e(t){if(!t)return!1;switch(t.type){case"empty":return!0;case"not":return e(t.expr);case"and":case"or":return e(t.left)||e(t.right);default:return!1}}(u),w=function(e){var t,n;let r,i,s,a={terminalDirName:null,requiredExtension:null};if(!e)return a;let o=(t=e,r=[],(i=e=>{"path"===e.type?r.push(e.pattern):"not"===e.type?i(e.expr):("and"===e.type||"or"===e.type)&&(i(e.left),i(e.right))})(t),r);if(n=e,(s=e=>"type"===e.type&&"f"===e.fileType||("not"===e.type?s(e.expr):("and"===e.type||"or"===e.type)&&(s(e.left)||s(e.right))))(n)&&1===o.length){let e=o[0].split("/").filter(e=>e.length>0);if(e.length>=2)for(let t=e.length-2;t>=0;t--){let n=e[t];if(!n.includes("*")&&!n.includes("?")&&!n.includes("[")&&"."!==n&&".."!==n){let r=e[t+1];if(r&&(r.includes("*")||r.includes("?"))){a.terminalDirName=n;let e=r.match(/^\*(\.[a-zA-Z0-9]+)$/);e&&(a.requiredExtension=e[1])}break}}}return a}(u),E=function e(t){if(!t)return!1;switch(t.type){case"prune":return!0;case"not":return e(t.expr);case"and":case"or":return e(t.left)||e(t.right);default:return!1}}(u),k=function e(t){if(!t)return!0;switch(t.type){case"name":case"path":case"regex":case"type":case"prune":case"print":return!0;case"empty":case"mtime":case"newer":case"size":case"perm":return!1;case"not":return e(t.expr);case"and":case"or":return e(t.left)&&e(t.right)}}(u),C="function"==typeof t.fs.readdirWithFileTypes;for(let e of s){let r=function(t){let n=null===o||t.depth>=o,r=!1;if(n&&null!==u){let e=Date.now(),i;n=(i=k?function e(t,n,r,i,s){switch(t.type){case"name":{let e=t.pattern,r=e.match(/^\*(\.[a-zA-Z0-9]+)$/);if(r){let e=r[1];if(t.ignoreCase){if(!n.toLowerCase().endsWith(e.toLowerCase()))return{matches:!1,pruned:!1,printed:!1}}else if(!n.endsWith(e))return{matches:!1,pruned:!1,printed:!1};return{matches:!0,pruned:!1,printed:!1}}return{matches:nV(n,e,t.ignoreCase),pruned:!1,printed:!1}}case"path":{let e=t.pattern,n=e.split("/");for(let e=0;e<n.length-1;e++){let i=n[e];if(i&&"."!==i&&".."!==i&&!i.includes("*")&&!i.includes("?")&&!i.includes("[")){let e=`/${i}/`;if(t.ignoreCase){if(!r.toLowerCase().includes(e.toLowerCase()))return{matches:!1,pruned:!1,printed:!1}}else if(!r.includes(e))return{matches:!1,pruned:!1,printed:!1}}}let i=e.match(/\*(\.[a-zA-Z0-9]+)$/);if(i){let e=i[1];if(t.ignoreCase){if(!r.toLowerCase().endsWith(e.toLowerCase()))return{matches:!1,pruned:!1,printed:!1}}else if(!r.endsWith(e))return{matches:!1,pruned:!1,printed:!1}}return{matches:nV(r,e,t.ignoreCase),pruned:!1,printed:!1}}case"regex":try{let e=t.ignoreCase?"i":"";return{matches:new RegExp(t.pattern,e).test(r),pruned:!1,printed:!1}}catch{return{matches:!1,pruned:!1,printed:!1}}case"type":return"f"===t.fileType?{matches:i,pruned:!1,printed:!1}:"d"===t.fileType?{matches:s,pruned:!1,printed:!1}:{matches:!1,pruned:!1,printed:!1};case"prune":return{matches:!0,pruned:!0,printed:!1};case"print":return{matches:!0,pruned:!1,printed:!0};case"not":{let a=e(t.expr,n,r,i,s);return{matches:!a.matches,pruned:a.pruned,printed:!1}}case"and":{let a=e(t.left,n,r,i,s);if(!a.matches)return{matches:!1,pruned:a.pruned,printed:!1};let o=e(t.right,n,r,i,s);return{matches:o.matches,pruned:a.pruned||o.pruned,printed:a.printed||o.printed}}case"or":{let a=e(t.left,n,r,i,s);if(a.matches)return a;let o=e(t.right,n,r,i,s);return{matches:o.matches,pruned:a.pruned||o.pruned,printed:o.printed}}default:return{matches:!1,pruned:!1,printed:!1}}}(u,t.name,t.relativePath,t.isFile,t.isDirectory):od(u,{name:t.name,relativePath:t.relativePath,isFile:t.isFile,isDirectory:t.isDirectory,isEmpty:t.isEmpty,mtime:t.stat?.mtime?.getTime()??Date.now(),size:t.stat?.size??0,mode:t.stat?.mode??420,newerRefTimes:$})).matches,r=_?i.printed:n,s.evalCalls++,s.evalTime+=Date.now()-e}else n&&(r=!0);return r?{print:!0,printfData:g?{path:t.relativePath,name:t.name,size:t.stat?.size??0,mtime:t.stat?.mtime?.getTime()??Date.now(),mode:t.stat?.mode??420,isDirectory:t.isDirectory,depth:t.depth,startingPoint:e}:null}:{print:!1,printfData:null}};e.length>1&&e.endsWith("/")&&(e=e.slice(0,-1));let i=t.fs.resolvePath(t.cwd,e);try{await t.fs.stat(i)}catch{v+=`find: ${e}: No such file or directory
`,b=1;continue}let s={readdirCalls:0,readdirTime:0,statCalls:0,statTime:0,evalCalls:0,evalTime:0,nodeCount:0,batchCount:0,batchTime:0,earlyPrunes:0},c=Date.now();async function O(n){var r;let o,c,p,h,{path:_,depth:f,typeInfo:d}=n;if(s.nodeCount++,null!==a&&f>a)return null;if(d&&!S)o=d.isFile,c=d.isDirectory;else{try{let e=Date.now();p=await t.fs.stat(_),s.statCalls++,s.statTime+=Date.now()-e}catch{return null}if(!p)return null;o=p.isFile,c=p.isDirectory}h=_===i?e.split("/").pop()||e:_.split("/").pop()||"";let g=_===i?e:"."===e?`./${_.slice("/"===i?i.length:i.length+1)}`:e+_.slice(i.length),m=[],v=null,b=null,y=!1;c&&E&&!l&&(y=(r={name:h,relativePath:g,isFile:o,isDirectory:c},!u||!r.isDirectory?{shouldPrune:!1}:!og(u)?function e(t,n){switch(t.type){case"or":if(og(t.left)){let e={name:n.name,relativePath:n.relativePath,isFile:n.isFile,isDirectory:n.isDirectory,isEmpty:!1,mtime:0,size:0,mode:0,newerRefTimes:new Map};if(od(t.left,e).pruned)return{shouldPrune:!0}}return e(t.right,n);case"and":if(og(t.left)&&og(t.right))return{shouldPrune:od(t,{name:n.name,relativePath:n.relativePath,isFile:n.isFile,isDirectory:n.isDirectory,isEmpty:!1,mtime:0,size:0,mode:0,newerRefTimes:new Map}).pruned};if(og(t.left)){let r={name:n.name,relativePath:n.relativePath,isFile:n.isFile,isDirectory:n.isDirectory,isEmpty:!1,mtime:0,size:0,mode:0,newerRefTimes:new Map};return od(t.left,r).matches?e(t.right,n):{shouldPrune:!1}}return{shouldPrune:!1};default:return{shouldPrune:!1}}}(u,r):{shouldPrune:od(u,{name:r.name,relativePath:r.relativePath,isFile:r.isFile,isDirectory:r.isDirectory,isEmpty:!1,mtime:0,size:0,mode:0,newerRefTimes:new Map}).pruned}).shouldPrune)&&s.earlyPrunes++;let x=null!==a&&f>=a,k=null!==w.terminalDirName&&h===w.terminalDirName,O=!x&&!k&&!y;if(c&&(O||A||k)&&!y){let e=Date.now();if(C&&t.fs.readdirWithFileTypes){if(b=(v=await t.fs.readdirWithFileTypes(_)).map(e=>e.name),s.readdirCalls++,s.readdirTime+=Date.now()-e,O)m=v.map((e,t)=>({path:"/"===_?`/${e.name}`:`${_}/${e.name}`,depth:f+1,typeInfo:{isFile:e.isFile,isDirectory:e.isDirectory},resultIndex:t}));else if(k){let e=w.requiredExtension;m=v.filter(t=>t.isFile&&(!e||t.name.endsWith(e))).map((e,t)=>({path:"/"===_?`/${e.name}`:`${_}/${e.name}`,depth:f+1,typeInfo:{isFile:e.isFile,isDirectory:e.isDirectory},resultIndex:t}))}}else b=await t.fs.readdir(_),s.readdirCalls++,s.readdirTime+=Date.now()-e,O&&(m=b.map((e,t)=>({path:"/"===_?`/${e}`:`${_}/${e}`,depth:f+1,resultIndex:t})))}let R=o?(p?.size??0)===0:null!==b&&0===b.length,T=y;if(!l&&null!==u&&!y&&E){let e=Date.now();T=od(u,{name:h,relativePath:g,isFile:o,isDirectory:c,isEmpty:R,mtime:p?.mtime?.getTime()??Date.now(),size:p?.size??0,mode:p?.mode??420,newerRefTimes:$}).pruned,s.evalCalls++,s.evalTime+=Date.now()-e}return{relativePath:g,name:h,isFile:o,isDirectory:c,isEmpty:R,stat:p,depth:f,children:T?[]:m,pruned:T}}async function R(){let e={paths:[],printfData:[]};if(l){let t=function(e){let i={paths:[],printfData:[]},s=n[e];if(!s)return i;for(let e of s.childIndices){let n=t(e);i.paths.push(...n.paths),i.printfData.push(...n.printfData)}let{print:a,printfData:o}=r(s.node);return a&&(i.paths.push(s.node.relativePath),o&&i.printfData.push(o)),i},n=[],a=[{item:{path:i,depth:0,resultIndex:0},parentIndex:-1,childOrderInParent:0}],o=new Map;for(;a.length>0;){let e=Date.now(),t=a.splice(0,500),r=await Promise.all(t.map(e=>O(e.item)));s.batchCount++,s.batchTime+=Date.now()-e;for(let e=0;e<t.length;e++){let i=r[e],s=t[e];if(!i)continue;let l=n.length;if(s.parentIndex>=0){let e=o.get(s.parentIndex)||[];e.push(l),o.set(s.parentIndex,e)}n.push({node:i,parentIndex:s.parentIndex,childIndices:[]});for(let e=0;e<i.children.length;e++)a.push({item:i.children[e],parentIndex:l,childOrderInParent:e})}}for(let[e,t]of o)e>=0&&e<n.length&&(n[e].childIndices=t);if(n.length>0){let n=t(0);e.paths.push(...n.paths),e.printfData.push(...n.printfData)}}else{let t=function(r){let i=n.get(r);i&&(e.paths.push(i.path),i.printfData&&e.printfData.push(i.printfData));let s=l.get(r);if(s)for(let e of s)t(e)},n=new Map,a=0,o=[{item:{path:i,depth:0,resultIndex:0},orderIndex:a++}],l=new Map;for(;o.length>0;){let e=Date.now(),t=o.splice(0,500),i=await Promise.all(t.map(async({item:e,orderIndex:t})=>{let n=await O(e);return n?{node:n,orderIndex:t}:null}));for(let t of(s.batchCount++,s.batchTime+=Date.now()-e,i)){if(!t)continue;let{node:e,orderIndex:i}=t,{print:s,printfData:c}=r(e);if(s&&n.set(i,{path:e.relativePath,printfData:c}),e.children.length>0){let t=[];for(let n of e.children){let e=a++;t.push(e),o.push({item:n,orderIndex:e})}l.set(i,t)}}}t(0)}return e}let p=await R();if(d.push(...p.paths),m.push(...p.printfData),t.trace){let r=Date.now()-c;n=t.trace,n({category:"find",name:"summary",durationMs:r,details:{readdirCalls:s.readdirCalls,readdirTimeMs:s.readdirTime,statCalls:s.statCalls,statTimeMs:s.statTime,evalCalls:s.evalCalls,evalTimeMs:s.evalTime,nodeCount:s.nodeCount,batchCount:s.batchCount,batchTimeMs:s.batchTime,earlyPrunes:s.earlyPrunes,otherTimeMs:r-s.readdirTime-s.statTime-s.evalTime-s.batchTime}}),t.trace({category:"find",name:"searchPath",durationMs:r,details:{path:e,resultsFound:p.paths.length}})}}let T="";if(h.length>0)for(let e of h)switch(e.type){case"print":T+=d.length>0?`${d.join(`
`)}
`:"";break;case"print0":T+=d.length>0?`${d.join("\0")}\0`:"";break;case"delete":for(let e of[...d].sort((e,t)=>t.length-e.length)){let n=t.fs.resolvePath(t.cwd,e);try{await t.fs.rm(n,{recursive:!1})}catch(n){let t=n instanceof Error?n.message:String(n);v+=`find: cannot delete '${e}': ${t}
`,b=1}}break;case"printf":for(let t of m)T+=function(e,t){let n=tb(e),r="",i=0;for(;i<n.length;)if("%"===n[i]&&i+1<n.length){if("%"===n[++i]){r+="%",i++;continue}let[e,s,a]=function(e,t){let n=t,r=0,i=-1,s=!1;for(n<e.length&&"-"===e[n]&&(s=!0,n++);n<e.length&&/\d/.test(e[n]);)r=10*r+parseInt(e[n],10),n++;if(n<e.length&&"."===e[n])for(n++,i=0;n<e.length&&/\d/.test(e[n]);)i=10*i+parseInt(e[n],10),n++;return s&&r>0&&(r=-r),[r,i,n-t]}(n,i);if((i+=a)>=n.length){r+="%";break}let o=n[i],l;switch(o){case"f":l=t.name,i++;break;case"h":{let e=t.path.lastIndexOf("/");l=e>0?t.path.slice(0,e):".",i++;break}case"p":l=t.path,i++;break;case"P":{let e=t.startingPoint;l=t.path===e?"":t.path.startsWith(`${e}/`)?t.path.slice(e.length+1):"."===e&&t.path.startsWith("./")?t.path.slice(2):t.path,i++;break}case"s":l=String(t.size),i++;break;case"d":l=String(t.depth),i++;break;case"m":l=(511&t.mode).toString(8),i++;break;case"M":l=function(e,t){let n=511&e;return(t?"d":"-")+((256&n?"r":"-")+(128&n?"w":"-")+(64&n?"x":"-")+(32&n?"r":"-")+(16&n?"w":"-")+(8&n?"x":"-")+(4&n?"r":"-")+(2&n?"w":"-"))+(1&n?"x":"-")}(t.mode,t.isDirectory),i++;break;case"t":l=function(e){let t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],r=String(e.getDate()).padStart(2," "),i=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()).padStart(2,"0"),a=String(e.getSeconds()).padStart(2,"0"),o=e.getFullYear();return`${t} ${n} ${r} ${i}:${s}:${a} ${o}`}(new Date(t.mtime)),i++;break;case"T":if(i+1<n.length){let e=n[i+1];l=function(e,t){switch(t){case"@":return String(e.getTime()/1e3);case"Y":return String(e.getFullYear());case"m":return String(e.getMonth()+1).padStart(2,"0");case"d":return String(e.getDate()).padStart(2,"0");case"H":return String(e.getHours()).padStart(2,"0");case"M":return String(e.getMinutes()).padStart(2,"0");case"S":return String(e.getSeconds()).padStart(2,"0");case"T":return`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`;case"F":return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`;default:return`%T${t}`}}(new Date(t.mtime),e),i+=2}else l="%T",i++;break;default:r+=`%${0!==e||-1!==s?`${e}.${s}`:""}${o}`,i++;continue}r+=tv(l,e,s)}else r+=n[i],i++;return r}(e.format,t);break;case"exec":if(!t.exec)return{stdout:"",stderr:`find: -exec not supported in this context
`,exitCode:1};if(e.batchMode){let n=[];for(let t of e.command)"{}"===t?n.push(...d):n.push(t);let r=n.map(e=>`"${e}"`).join(" "),i=await t.exec(r,{cwd:t.cwd});T+=i.stdout,v+=i.stderr,0!==i.exitCode&&(b=i.exitCode)}else for(let n of d){let r=e.command.map(e=>"{}"===e?n:e).map(e=>`"${e}"`).join(" "),i=await t.exec(r,{cwd:t.cwd});T+=i.stdout,v+=i.stderr,0!==i.exitCode&&(b=i.exitCode)}}else f&&(T=d.length>0?`${d.join(`
`)}
`:"");return{stdout:T,stderr:v,exitCode:b}}}}),oA={};e5(oA,{basenameCommand:()=>oE});var ow,oE,ok=e2(()=>{ti(),ow={name:"basename",summary:"strip directory and suffix from filenames",usage:`basename NAME [SUFFIX]
basename OPTION... NAME...`,options:["-a, --multiple   support multiple arguments","-s, --suffix=SUFFIX  remove a trailing SUFFIX","    --help       display this help and exit"]},oE={name:"basename",async execute(e,t){if(tn(e))return tt(ow);let n=!1,r="",i=[];for(let t=0;t<e.length;t++){let s=e[t];"-a"===s||"--multiple"===s?n=!0:"-s"===s&&t+1<e.length?(r=e[++t],n=!0):s.startsWith("--suffix=")?(r=s.slice(9),n=!0):s.startsWith("-")||i.push(s)}if(0===i.length)return{stdout:"",stderr:`basename: missing operand
`,exitCode:1};!n&&i.length>=2&&(r=i.pop()??"");let s=[];for(let e of i){let t=e.replace(/\/+$/,""),n=t.split("/").pop()||t;r&&n.endsWith(r)&&(n=n.slice(0,-r.length)),s.push(n)}return{stdout:`${s.join(`
`)}
`,stderr:"",exitCode:0}}}}),oC={};e5(oC,{dirnameCommand:()=>oR});var oO,oR,oT=e2(()=>{ti(),oO={name:"dirname",summary:"strip last component from file name",usage:"dirname [OPTION] NAME...",options:["    --help       display this help and exit"]},oR={name:"dirname",async execute(e,t){if(tn(e))return tt(oO);let n=e.filter(e=>!e.startsWith("-"));if(0===n.length)return{stdout:"",stderr:`dirname: missing operand
`,exitCode:1};let r=[];for(let e of n){let t=e.replace(/\/+$/,""),n=t.lastIndexOf("/");-1===n?r.push("."):0===n?r.push("/"):r.push(t.slice(0,n))}return{stdout:`${r.join(`
`)}
`,stderr:"",exitCode:0}}}}),oN={};async function oP(e,t,n,r,i){let s={output:"",stderr:"",dirCount:0,fileCount:0},a=e.fs.resolvePath(e.cwd,t);try{if(!(await e.fs.stat(a)).isDirectory)return s.output=`${t}
`,s.fileCount=1,s}catch{return s.stderr=`tree: ${t}: No such file or directory
`,s}if(s.output=`${t}
`,null!==n.maxDepth&&i>=n.maxDepth)return s;try{let t=[];if(e.fs.readdirWithFileTypes)t=(await e.fs.readdirWithFileTypes(a)).map(e=>({name:e.name,isDirectory:e.isDirectory}));else{let n=await e.fs.readdir(a);for(let r=0;r<n.length;r+=100){let i=n.slice(r,r+100),s=await Promise.all(i.map(async t=>{let n="/"===a?`/${t}`:`${a}/${t}`;try{let r=await e.fs.stat(n);return{name:t,isDirectory:r.isDirectory}}catch{return null}}));t.push(...s.filter(e=>null!==e))}}let o=t.filter(e=>!(!n.showHidden&&e.name.startsWith(".")||n.directoriesOnly&&!e.isDirectory));o.sort((e,t)=>e.name.localeCompare(t.name));for(let t=0;t<o.length;t++){let l=o[t],c="/"===a?`/${l.name}`:`${a}/${l.name}`,u=t===o.length-1,p=u?"`-- ":"|-- ",h=r+(u?"    ":"|   ");if(l.isDirectory){s.dirCount++;let t=n.fullPath?c:l.name;if(s.output+=`${r+p+t}
`,null===n.maxDepth||i+1<n.maxDepth){let t=await oL(e,c,n,h,i+1);s.output+=t.output,s.dirCount+=t.dirCount,s.fileCount+=t.fileCount}}else{s.fileCount++;let e=n.fullPath?c:l.name;s.output+=`${r+p+e}
`}}}catch{s.stderr=`tree: ${t}: Permission denied
`}return s}async function oL(e,t,n,r,i){let s={output:"",stderr:"",dirCount:0,fileCount:0};if(null!==n.maxDepth&&i>=n.maxDepth)return s;try{let a=[];if(e.fs.readdirWithFileTypes)a=(await e.fs.readdirWithFileTypes(t)).map(e=>({name:e.name,isDirectory:e.isDirectory}));else{let n=await e.fs.readdir(t);for(let r=0;r<n.length;r+=100){let i=n.slice(r,r+100),s=await Promise.all(i.map(async n=>{let r="/"===t?`/${n}`:`${t}/${n}`;try{let t=await e.fs.stat(r);return{name:n,isDirectory:t.isDirectory}}catch{return null}}));a.push(...s.filter(e=>null!==e))}}let o=a.filter(e=>!(!n.showHidden&&e.name.startsWith(".")||n.directoriesOnly&&!e.isDirectory));o.sort((e,t)=>e.name.localeCompare(t.name));for(let a=0;a<o.length;a++){let l=o[a],c="/"===t?`/${l.name}`:`${t}/${l.name}`,u=a===o.length-1,p=u?"`-- ":"|-- ",h=r+(u?"    ":"|   ");if(l.isDirectory){s.dirCount++;let t=n.fullPath?c:l.name;s.output+=`${r+p+t}
`;let a=await oL(e,c,n,h,i+1);s.output+=a.output,s.dirCount+=a.dirCount,s.fileCount+=a.fileCount}else{s.fileCount++;let e=n.fullPath?c:l.name;s.output+=`${r+p+e}
`}}}catch{}return s}e5(oN,{treeCommand:()=>oM});var oI,oD,oM,oF=e2(()=>{ta(),to(),ti(),oI={name:"tree",summary:"list contents of directories in a tree-like format",usage:"tree [OPTION]... [DIRECTORY]...",options:["-a          include hidden files","-d          list directories only","-L LEVEL    limit depth of directory tree","-f          print full path prefix for each file","    --help  display this help and exit"]},oD={showHidden:{short:"a",type:"boolean"},directoriesOnly:{short:"d",type:"boolean"},fullPath:{short:"f",type:"boolean"},maxDepth:{short:"L",type:"number"}},oM={name:"tree",async execute(e,t){if(tn(e))return tt(oI);let n=ts("tree",e,oD);if(!n.ok)return n.error;let r={showHidden:n.result.flags.showHidden,directoriesOnly:n.result.flags.directoriesOnly,maxDepth:n.result.flags.maxDepth??null,fullPath:n.result.flags.fullPath},i=n.result.positional;0===i.length&&i.push(".");let s="",a="",o=0,l=0;for(let e of i){let n=await oP(t,e,r,"",0);s+=n.output,a+=n.stderr,o+=n.dirCount,l+=n.fileCount}return s+=`
${o} director${1===o?"y":"ies"}`,r.directoriesOnly||(s+=`, ${l} file${1===l?"":"s"}`),{stdout:s+=`
`,stderr:a,exitCode:+!!a}}}}),oB={};async function oH(e,t,n,r,i){let s={output:"",totalSize:0,stderr:""};try{let a=await e.fs.stat(t);if(!a.isDirectory)return s.totalSize=a.size,(r.allFiles||0===i)&&(s.output=oU(a.size,r.humanReadable)+"	"+n+`
`),s;let o=0,l=[];if(e.fs.readdirWithFileTypes){let n=await e.fs.readdirWithFileTypes(t),r=n.filter(e=>e.isFile),i=n.filter(e=>e.isDirectory);for(let n=0;n<r.length;n+=100){let i=r.slice(n,n+100),s=await Promise.all(i.map(async n=>{let r="/"===t?`/${n.name}`:`${t}/${n.name}`;try{let t=await e.fs.stat(r);return{name:n.name,isDirectory:!1,size:t.size}}catch{return{name:n.name,isDirectory:!1,size:0}}}));l.push(...s)}l.push(...i.map(e=>({name:e.name,isDirectory:!0})))}else{let n=await e.fs.readdir(t);for(let r=0;r<n.length;r+=100){let i=n.slice(r,r+100),s=await Promise.all(i.map(async n=>{let r="/"===t?`/${n}`:`${t}/${n}`;try{let t=await e.fs.stat(r);return{name:n,isDirectory:t.isDirectory,size:t.isDirectory?void 0:t.size}}catch{return{name:n,isDirectory:!1,size:0}}}));l.push(...s)}}for(let e of(l.sort((e,t)=>e.name.localeCompare(t.name)),l.filter(e=>!e.isDirectory))){let t=e.size??0;if(o+=t,r.allFiles&&!r.summarize){let i="."===n?e.name:`${n}/${e.name}`;s.output+=oU(t,r.humanReadable)+"	"+i+`
`}}let c=l.filter(e=>e.isDirectory);for(let a=0;a<c.length;a+=100){let l=c.slice(a,a+100),u=await Promise.all(l.map(async s=>{let a="/"===t?`/${s.name}`:`${t}/${s.name}`,o="."===n?s.name:`${n}/${s.name}`;return{name:s.name,result:await oH(e,a,o,r,i+1)}}));for(let{result:e}of(u.sort((e,t)=>e.name.localeCompare(t.name)),u))o+=e.totalSize,r.summarize||(null===r.maxDepth||i+1<=r.maxDepth)&&(s.output+=e.output)}s.totalSize=o,(r.summarize||null===r.maxDepth||i<=r.maxDepth)&&(s.output+=`${oU(o,r.humanReadable)}	${n}
`)}catch{s.stderr=`du: cannot read directory '${n}': Permission denied
`}return s}function oU(e,t){return t?e<1024?`${e}`:e<1048576?`${(e/1024).toFixed(1)}K`:e<0x40000000?`${(e/1048576).toFixed(1)}M`:`${(e/0x40000000).toFixed(1)}G`:String(Math.ceil(e/1024)||1)}e5(oB,{duCommand:()=>oq});var oj,oW,oq,oz=e2(()=>{ta(),to(),ti(),oj={name:"du",summary:"estimate file space usage",usage:"du [OPTION]... [FILE]...",options:["-a          write counts for all files, not just directories","-h          print sizes in human readable format","-s          display only a total for each argument","-c          produce a grand total","--max-depth=N  print total for directory only if N or fewer levels deep","    --help  display this help and exit"]},oW={allFiles:{short:"a",type:"boolean"},humanReadable:{short:"h",type:"boolean"},summarize:{short:"s",type:"boolean"},grandTotal:{short:"c",type:"boolean"},maxDepth:{long:"max-depth",type:"number"}},oq={name:"du",async execute(e,t){if(tn(e))return tt(oj);let n=ts("du",e,oW);if(!n.ok)return n.error;let r={allFiles:n.result.flags.allFiles,humanReadable:n.result.flags.humanReadable,summarize:n.result.flags.summarize,grandTotal:n.result.flags.grandTotal,maxDepth:n.result.flags.maxDepth??null},i=n.result.positional;0===i.length&&i.push(".");let s="",a="",o=0;for(let e of i){let n=t.fs.resolvePath(t.cwd,e);try{await t.fs.stat(n);let i=await oH(t,n,e,r,0);s+=i.output,o+=i.totalSize,a+=i.stderr}catch{a+=`du: cannot access '${e}': No such file or directory
`}}return r.grandTotal&&i.length>0&&(s+=`${oU(o,r.humanReadable)}	total
`),{stdout:s,stderr:a,exitCode:+!!a}}}}),oG={};e5(oG,{envCommand:()=>oZ,printenvCommand:()=>oX});var oV,oZ,oK,oX,oQ=e2(()=>{ti(),oV={name:"env",summary:"run a program in a modified environment",usage:"env [OPTION]... [NAME=VALUE]... [COMMAND [ARG]...]",options:["-i, --ignore-environment  start with an empty environment","-u NAME, --unset=NAME     remove NAME from the environment","    --help                display this help and exit"]},oZ={name:"env",async execute(e,t){let n;if(tn(e))return tt(oV);let r=!1,i=[],s={},a=-1;for(let t=0;t<e.length;t++){let n=e[t];if("-i"===n||"--ignore-environment"===n)r=!0;else if("-u"===n&&t+1<e.length)i.push(e[++t]);else if(n.startsWith("-u"))i.push(n.slice(2));else if(n.startsWith("--unset="))i.push(n.slice(8));else{if(n.startsWith("--")&&"--"!==n)return tr("env",n);if(n.startsWith("-")&&"-"!==n){for(let e of n.slice(1))if("i"!==e&&"u"!==e)return tr("env",`-${e}`);n.includes("i")&&(r=!0)}else if(n.includes("=")&&-1===a){let e=n.indexOf("="),t=n.slice(0,e),r=n.slice(e+1);s[t]=r}else{a=t;break}}}if(r)n={...s};else{for(let e of(n={...t.env},i))delete n[e];Object.assign(n,s)}if(-1===a){let e=[];for(let[t,r]of Object.entries(n))e.push(`${t}=${r}`);return{stdout:e.join(`
`)+(e.length>0?`
`:""),stderr:"",exitCode:0}}if(!t.exec)return{stdout:"",stderr:`env: command execution not supported in this context
`,exitCode:1};let o=e.slice(a),l=["command",o[0],...o.slice(1).map(e=>/[\s"'\\$`!*?[\]{}|&;<>()]/.test(e)?`'${e.replace(/'/g,"'\\''")}'`:e)].join(" "),c=Object.entries(s).map(([e,t])=>`${e}="${t}"`).join(" "),u=c?`${c} ${l}`:l;return t.exec(u,{cwd:t.cwd})}},oK={name:"printenv",summary:"print all or part of environment",usage:"printenv [OPTION]... [VARIABLE]...",options:["    --help       display this help and exit"]},oX={name:"printenv",async execute(e,t){if(tn(e))return tt(oK);let n=e.filter(e=>!e.startsWith("-"));if(0===n.length){let e=[];for(let[n,r]of Object.entries(t.env))e.push(`${n}=${r}`);return{stdout:e.join(`
`)+(e.length>0?`
`:""),stderr:"",exitCode:0}}let r=[],i=0;for(let e of n)e in t.env?r.push(t.env[e]):i=1;return{stdout:r.join(`
`)+(r.length>0?`
`:""),stderr:"",exitCode:i}}}}),oJ={};e5(oJ,{aliasCommand:()=>o1,unaliasCommand:()=>o2});var oY,o0,o1,o2,o3=e2(()=>{ti(),oY={name:"alias",summary:"define or display aliases",usage:"alias [name[=value] ...]",options:["    --help display this help and exit"]},o0="BASH_ALIAS_",o1={name:"alias",async execute(e,t){if(tn(e))return tt(oY);if(0===e.length){let e="";for(let[n,r]of Object.entries(t.env))if(n.startsWith(o0)){let t=n.slice(o0.length);e+=`alias ${t}='${r}'
`}return{stdout:e,stderr:"",exitCode:0}}for(let n of"--"===e[0]?e.slice(1):e){let e=n.indexOf("=");if(-1===e){let e=o0+n;return t.env[e]?{stdout:`alias ${n}='${t.env[e]}'
`,stderr:"",exitCode:0}:{stdout:"",stderr:`alias: ${n}: not found
`,exitCode:1}}{let r=n.slice(0,e),i=n.slice(e+1);(i.startsWith("'")&&i.endsWith("'")||i.startsWith('"')&&i.endsWith('"'))&&(i=i.slice(1,-1)),t.env[o0+r]=i}}return{stdout:"",stderr:"",exitCode:0}}},o2={name:"unalias",async execute(e,t){if(tn(e))return tt({name:"unalias",summary:"remove alias definitions",usage:"unalias name [name ...]",options:["-a      remove all aliases","    --help display this help and exit"]});if(0===e.length)return{stdout:"",stderr:`unalias: usage: unalias [-a] name [name ...]
`,exitCode:1};if("-a"===e[0]){for(let e of Object.keys(t.env))e.startsWith(o0)&&delete t.env[e];return{stdout:"",stderr:"",exitCode:0}}let n="--"===e[0]?e.slice(1):e,r=!1,i="";for(let e of n){let n=o0+e;t.env[n]?delete t.env[n]:(i+=`unalias: ${e}: not found
`,r=!0)}return{stdout:"",stderr:i,exitCode:+!!r}}}}),o5={};e5(o5,{historyCommand:()=>o4});var o6,o4,o8=e2(()=>{ti(),o6={name:"history",summary:"display command history",usage:"history [n]",options:["-c      clear the history list","    --help display this help and exit"]},o4={name:"history",async execute(e,t){if(tn(e))return tt(o6);let n=t.env.BASH_HISTORY||"[]",r;try{r=JSON.parse(n)}catch{r=[]}if("-c"===e[0])return t.env.BASH_HISTORY="[]",{stdout:"",stderr:"",exitCode:0};let i=r.length;e[0]&&/^\d+$/.test(e[0])&&(i=Math.min(parseInt(e[0],10),r.length));let s=r.length-i,a="";for(let e=s;e<r.length;e++){let t=(e+1).toString().padStart(5," ");a+=`${t}  ${r[e]}
`}return{stdout:a,stderr:"",exitCode:0}}}}),o9={};e5(o9,{xargsCommand:()=>le});var o7,le,lt=e2(()=>{ti(),o7={name:"xargs",summary:"build and execute command lines from standard input",usage:"xargs [OPTION]... [COMMAND [INITIAL-ARGS]]",options:["-I REPLACE   replace occurrences of REPLACE with input","-d DELIM     use DELIM as input delimiter (e.g., -d '\\n' for newline)","-n NUM       use at most NUM arguments per command line","-P NUM       run at most NUM processes at a time","-0, --null   items are separated by null, not whitespace","-t, --verbose  print commands before executing","-r, --no-run-if-empty  do not run command if input is empty","    --help   display this help and exit"]},le={name:"xargs",async execute(e,t){let n;if(tn(e))return tt(o7);let r=null,i=null,s=null,a=null,o=!1,l=!1,c=0;for(let t=0;t<e.length;t++){let n=e[t];if("-I"===n&&t+1<e.length)r=e[++t],c=t+1;else if("-d"===n&&t+1<e.length)i=e[++t].replace(/\\n/g,`
`).replace(/\\t/g,"	").replace(/\\r/g,"\r").replace(/\\0/g,"\0").replace(/\\\\/g,"\\"),c=t+1;else if("-n"===n&&t+1<e.length)s=parseInt(e[++t],10),c=t+1;else if("-P"===n&&t+1<e.length)a=parseInt(e[++t],10),c=t+1;else if("-0"===n||"--null"===n)o=!0,c=t+1;else if("-t"===n||"--verbose"===n)l=!0,c=t+1;else if("-r"===n||"--no-run-if-empty"===n)c=t+1;else{if(n.startsWith("--"))return tr("xargs",n);if(n.startsWith("-")&&n.length>1){for(let e of n.slice(1))if(!"0tr".includes(e))return tr("xargs",`-${e}`);n.includes("0")&&(o=!0),n.includes("t")&&(l=!0),n.includes("r"),c=t+1}else if(!n.startsWith("-")){c=t;break}}}let u=e.slice(c);if(0===u.length&&u.push("echo"),0===(n=o?t.stdin.split("\0").filter(e=>e.length>0):null!==i?t.stdin.replace(/\n$/,"").split(i).filter(e=>e.length>0):t.stdin.split(/\s+/).map(e=>e.trim()).filter(e=>e.length>0)).length)return{stdout:"",stderr:"",exitCode:0};let p="",h="",_=0,f=e=>/[\s"'\\$`!*?[\]{}();&|<>#]/.test(e)?`"${e.replace(/([\\"`$])/g,"\\$1")}"`:e,d=async e=>{let n=e.map(f).join(" ");return l&&(h+=`${n}
`),t.exec?t.exec(n,{cwd:t.cwd}):{stdout:`${n}
`,stderr:"",exitCode:0}},g=async e=>{if(null!==a&&a>1)for(let t=0;t<e.length;t+=a){let n=e.slice(t,t+a);for(let e of(await Promise.all(n.map(d))))p+=e.stdout,h+=e.stderr,0!==e.exitCode&&(_=e.exitCode)}else for(let t of e){let e=await d(t);p+=e.stdout,h+=e.stderr,0!==e.exitCode&&(_=e.exitCode)}};if(null!==r){let e=n.map(e=>u.map(t=>t.replaceAll(r,e)));await g(e)}else if(null!==s){let e=[];for(let t=0;t<n.length;t+=s){let r=n.slice(t,t+s);e.push([...u,...r])}await g(e)}else{let e=[...u,...n],t=await d(e);p+=t.stdout,h+=t.stderr,_=t.exitCode}return{stdout:p,stderr:h,exitCode:_}}}}),ln={};e5(ln,{falseCommand:()=>li,trueCommand:()=>lr});var lr,li,ls=e2(()=>{lr={name:"true",execute:async()=>({stdout:"",stderr:"",exitCode:0})},li={name:"false",execute:async()=>({stdout:"",stderr:"",exitCode:1})}}),la={};e5(la,{clearCommand:()=>ll});var lo,ll,lc=e2(()=>{ti(),lo={name:"clear",summary:"clear the terminal screen",usage:"clear [OPTIONS]",options:["    --help display this help and exit"]},ll={name:"clear",execute:async(e,t)=>tn(e)?tt(lo):{stdout:"\x1b[2J\x1b[H",stderr:"",exitCode:0}}}),lu={};async function lp(e,t,n,r){if(!r.exec)return{stdout:"",stderr:`bash: internal error: exec function not available
`,exitCode:1};let i={...r.exportedEnv||{},0:t,"#":String(n.length),"@":n.join(" "),"*":n.join(" ")};n.forEach((e,t)=>{i[String(t+1)]=e});let s=e;if(s.startsWith("#!")){let e=s.indexOf(`
`);-1!==e&&(s=s.slice(e+1))}return await r.exec(s,{env:i,cwd:r.cwd})}e5(lu,{bashCommand:()=>l_,shCommand:()=>lf});var lh,l_,lf,ld=e2(()=>{ti(),lh={name:"bash",summary:"execute shell commands or scripts",usage:"bash [OPTIONS] [SCRIPT_FILE] [ARGUMENTS...]",options:["-c COMMAND  execute COMMAND string","    --help  display this help and exit"],notes:["Without -c, reads and executes commands from SCRIPT_FILE.","Arguments are passed as $1, $2, etc. to the script.",'$0 is set to the script name (or "bash" with -c).']},l_={name:"bash",async execute(e,t){if(tn(e))return tt(lh);if("-c"===e[0]&&e.length>=2)return lp(e[1],e[2]||"bash",e.slice(3),t);if(0===e.length)return t.stdin?.trim()?lp(t.stdin,"bash",[],t):{stdout:"",stderr:"",exitCode:0};let n=e[0],r=e.slice(1);try{let e=t.fs.resolvePath(t.cwd,n),i=await t.fs.readFile(e);return lp(i,n,r,t)}catch{return{stdout:"",stderr:`bash: ${n}: No such file or directory
`,exitCode:127}}}},lf={name:"sh",async execute(e,t){if(tn(e))return tt({...lh,name:"sh",summary:"execute shell commands or scripts (POSIX shell)"});if("-c"===e[0]&&e.length>=2)return lp(e[1],e[2]||"sh",e.slice(3),t);if(0===e.length)return t.stdin?.trim()?lp(t.stdin,"sh",[],t):{stdout:"",stderr:"",exitCode:0};let n=e[0],r=e.slice(1);try{let e=t.fs.resolvePath(t.cwd,n),i=await t.fs.readFile(e);return lp(i,n,r,t)}catch{return{stdout:"",stderr:`sh: ${n}: No such file or directory
`,exitCode:127}}}}}),lg=e2(()=>{}),lm=e2(()=>{}),lv=e2(()=>{});function lb(e){return!1!==e&&null!==e}function ly(e,t){return JSON.stringify(e)===JSON.stringify(t)}function l$(e,t){return"number"==typeof e&&"number"==typeof t?e-t:"string"==typeof e&&"string"==typeof t?e.localeCompare(t):0}function lx(e,t=3e3){let n=0,r=e;for(;n<t;)if(Array.isArray(r)){if(0===r.length)return n+1;r=r[0],n++}else if(null!==r&&"object"==typeof r){let e=Object.keys(r);if(0===e.length)return n+1;r=r[e[0]],n++}else break;return n}var lS,lA,lw=e2(()=>{}),lE=e2(()=>{lw(),lS=2e3}),lk=e2(()=>{}),lC=e2(()=>{}),lO=e2(()=>{}),lR=e2(()=>{lw(),lA=2e3}),lT=e2(()=>{}),lN=e2(()=>{}),lP=e2(()=>{}),lL=e2(()=>{}),lI=e2(()=>{lg(),lm(),lv(),lE(),lk(),lC(),lO(),lR(),lT(),lN(),lP(),lL()}),lD=e2(()=>{});function lM(e,t,n){let r=new Map(e.vars);return r.set(t,n),{vars:r,limits:e.limits,env:e.env,root:e.root,currentPath:e.currentPath,funcs:e.funcs,labels:e.labels}}function lF(e,t,n){switch(t.type){case"var":return lM(e,t.name,n);case"array":{if(!Array.isArray(n))return null;let r=e;for(let e=0;e<t.elements.length;e++){let i=lF(r,t.elements[e],e<n.length?n[e]:null);if(null===i)return null;r=i}return r}case"object":{if(null===n||"object"!=typeof n||Array.isArray(n))return null;let r=e;for(let i of t.fields){let t;if("string"==typeof i.key)t=i.key;else{let r=lj(n,i.key,e);if(0===r.length)return null;t=String(r[0])}let s=t in n?n[t]:null;i.keyVar&&(r=lM(r,i.keyVar,s));let a=lF(r,i.pattern,s);if(null===a)return null;r=a}return r}}}function lB(e,t){let n=e;for(let e of t)if(!n||"object"!=typeof n)return;else n=n[e];return n}function lH(e){if("Identity"===e.type)return[];if("Field"===e.type){let t=e.base?lH(e.base):[];return null===t?null:[...t,e.name]}if("Index"===e.type&&"Literal"===e.index.type){let t=e.base?lH(e.base):[];if(null===t)return null;let n=e.index.value;return"number"==typeof n||"string"==typeof n?[...t,n]:null}if("Pipe"===e.type){let t=lH(e.left);return null===t?null:function e(t,n){if("Call"===n.type){if("parent"===n.name){let e=1;if(n.args.length>0&&"Literal"===n.args[0].type){let t=n.args[0].value;"number"==typeof t&&(e=t)}if(e>=0)return t.slice(0,Math.max(0,t.length-e));{let n=-e-1;return t.slice(0,Math.min(n,t.length))}}if("root"===n.name)return[]}if("Field"===n.type){let e=lH(n);if(null!==e)return[...t,...e]}if("Index"===n.type&&"Literal"===n.index.type){let e=lH(n);if(null!==e)return[...t,...e]}if("Pipe"===n.type){let r=e(t,n.left);return null===r?null:e(r,n.right)}return"Identity"===n.type?t:null}(t,e.right)}if("Call"===e.type){if("parent"===e.name||"root"===e.name)return null;if("first"===e.name&&0===e.args.length)return[0];if("last"===e.name&&0===e.args.length)return[-1]}return null}function lU(e,t,n){if("Comma"===t.type){let r=[];try{r.push(...lj(e,t.left,n))}catch(e){if(e instanceof rq)throw e;if(r.length>0)return r;throw Error("evaluation failed")}try{r.push(...lj(e,t.right,n))}catch(e){if(e instanceof rq)throw e}return r}return lj(e,t,n)}function lj(e,t,n){let r=n&&"vars"in n?n:{vars:new Map,limits:{maxIterations:n?.limits?.maxIterations??lV,maxDepth:n?.limits?.maxDepth??lZ},env:n?.env};switch(void 0===r.root&&(r={...r,root:e,currentPath:[]}),t.type){case"Identity":return[e];case"Field":return(t.base?lj(e,t.base,r):[e]).flatMap(e=>{if(e&&"object"==typeof e&&!Array.isArray(e)){let n=e[t.name];return[void 0===n?null:n]}if(null===e)return[null];let n=Array.isArray(e)?"array":typeof e;throw Error(`Cannot index ${n} with string "${t.name}"`)});case"Index":return(t.base?lj(e,t.base,r):[e]).flatMap(e=>lj(e,t.index,r).flatMap(t=>{if("number"==typeof t&&Array.isArray(e)){if(Number.isNaN(t))return[null];let n=Math.trunc(t),r=n<0?e.length+n:n;return r>=0&&r<e.length?[e[r]]:[null]}return"string"==typeof t&&e&&"object"==typeof e&&!Array.isArray(e)?[e[t]]:[null]}));case"Slice":return(t.base?lj(e,t.base,r):[e]).flatMap(n=>{if(null===n)return[null];if(!Array.isArray(n)&&"string"!=typeof n)throw Error(`Cannot slice ${typeof n} (${JSON.stringify(n)})`);let i=n.length,s=t.start?lj(e,t.start,r):[0],a=t.end?lj(e,t.end,r):[i];return s.flatMap(e=>a.map(t=>{let r=Number.isNaN(e)?0:Number.isInteger(e)?e:Math.floor(e),s=Number.isNaN(t)?i:Number.isInteger(t)?t:Math.ceil(t),a=lW(r,i),o=lW(s,i);return Array.isArray(n),n.slice(a,o)}))});case"Iterate":return(t.base?lj(e,t.base,r):[e]).flatMap(e=>Array.isArray(e)?e:e&&"object"==typeof e?Object.values(e):[]);case"Pipe":{let n=lj(e,t.left,r),i=lH(t.left),s=[];for(let e of n)try{if(null!==i){let n={...r,currentPath:[...r.currentPath??[],...i]};s.push(...lj(e,t.right,n))}else s.push(...lj(e,t.right,r))}catch(e){throw e instanceof lz?e.withPrependedResults(s):e}return s}case"Comma":return[...lj(e,t.left,r),...lj(e,t.right,r)];case"Literal":return[t.value];case"Array":return t.elements?[lj(e,t.elements,r)]:[[]];case"Object":{let n=[{}];for(let i of t.entries){let t="string"==typeof i.key?[i.key]:lj(e,i.key,r),s=lj(e,i.value,r),a=[];for(let e of n)for(let n of t){if("string"!=typeof n){let e=null===n?"null":Array.isArray(n)?"array":typeof n;throw Error(`Cannot use ${e} (${JSON.stringify(n)}) as object key`)}for(let t of s)a.push({...e,[n]:t})}n.length=0,n.push(...a)}return n}case"Paren":return lj(e,t.expr,r);case"BinaryOp":return function(e,t,n,r,i){if("and"===t)return lj(e,n,i).flatMap(t=>lb(t)?lj(e,r,i).map(e=>lb(e)):[!1]);if("or"===t)return lj(e,n,i).flatMap(t=>lb(t)?[!0]:lj(e,r,i).map(e=>lb(e)));if("//"===t){let t=lj(e,n,i).filter(e=>null!=e&&!1!==e);return t.length>0?t:lj(e,r,i)}let s=lj(e,n,i),a=lj(e,r,i);return s.flatMap(e=>a.map(n=>{switch(t){case"+":return null===e?n:null===n?e:"number"==typeof e&&"number"==typeof n||"string"==typeof e&&"string"==typeof n?e+n:Array.isArray(e)&&Array.isArray(n)?[...e,...n]:e&&n&&"object"==typeof e&&"object"==typeof n&&!Array.isArray(e)&&!Array.isArray(n)?{...e,...n}:null;case"-":if("number"==typeof e&&"number"==typeof n)return e-n;if(Array.isArray(e)&&Array.isArray(n)){let t=new Set(n.map(e=>JSON.stringify(e)));return e.filter(e=>!t.has(JSON.stringify(e)))}if("string"==typeof e&&"string"==typeof n){let t=e=>e.length>10?`"${e.slice(0,10)}...`:JSON.stringify(e);throw Error(`string (${t(e)}) and string (${t(n)}) cannot be subtracted`)}return null;case"*":return"number"==typeof e&&"number"==typeof n?e*n:"string"==typeof e&&"number"==typeof n?e.repeat(n):e&&n&&"object"==typeof e&&"object"==typeof n&&!Array.isArray(e)&&!Array.isArray(n)?function e(t,n){let r={...t};for(let t of Object.keys(n))t in r&&r[t]&&"object"==typeof r[t]&&!Array.isArray(r[t])&&n[t]&&"object"==typeof n[t]&&!Array.isArray(n[t])?r[t]=e(r[t],n[t]):r[t]=n[t];return r}(e,n):null;case"/":if("number"==typeof e&&"number"==typeof n){if(0===n)throw Error(`number (${e}) and number (${n}) cannot be divided because the divisor is zero`);return e/n}return"string"==typeof e&&"string"==typeof n?e.split(n):null;case"%":if("number"==typeof e&&"number"==typeof n){if(0===n)throw Error(`number (${e}) and number (${n}) cannot be divided (remainder) because the divisor is zero`);return Number.isFinite(e)||Number.isNaN(e)?e%n:!Number.isFinite(n)&&!Number.isNaN(n)&&e<0&&n>0?-1:0}return null;case"==":return ly(e,n);case"!=":return!ly(e,n);case"<":return 0>l$(e,n);case"<=":return 0>=l$(e,n);case">":return l$(e,n)>0;case">=":return l$(e,n)>=0;default:return null}}))}(e,t.op,t.left,t.right,r);case"UnaryOp":return lj(e,t.operand,r).map(e=>{if("-"===t.op){if("number"==typeof e)return-e;if("string"==typeof e)throw Error(`string (${e.length>5?`"${e.slice(0,3)}...`:JSON.stringify(e)}) cannot be negated`);return null}return"not"===t.op?!lb(e):null});case"Cond":return lj(e,t.cond,r).flatMap(n=>{if(lb(n))return lj(e,t.then,r);for(let n of t.elifs)if(lj(e,n.cond,r).some(lb))return lj(e,n.then,r);return t.else?lj(e,t.else,r):[e]});case"Try":try{return lj(e,t.body,r)}catch(e){if(t.catch)return lj(e instanceof lG?e.value:e instanceof Error?e.message:String(e),t.catch,r);return[]}case"Call":return function e(t,n,r,i){let s=lK[n];if(s)return"number"==typeof t?[s(t)]:[null];let o=function(e,t,n,r,i){switch(t){case"fabs":case"abs":return"number"==typeof e?[Math.abs(e)]:"string"==typeof e?[e]:[null];case"exp10":return"number"==typeof e?[10**e]:[null];case"exp2":return"number"==typeof e?[2**e]:[null];case"pow":{if(n.length<2)return[null];let t=i(e,n[0],r),s=i(e,n[1],r),a=t[0],o=s[0];return"number"!=typeof a||"number"!=typeof o?[null]:[a**o]}case"atan2":{if(n.length<2)return[null];let t=i(e,n[0],r),s=i(e,n[1],r),a=t[0],o=s[0];return"number"!=typeof a||"number"!=typeof o?[null]:[Math.atan2(a,o)]}case"hypot":{if("number"!=typeof e||0===n.length)return[null];let t=i(e,n[0],r)[0];return[Math.hypot(e,t)]}case"fma":{if("number"!=typeof e||n.length<2)return[null];let t=i(e,n[0],r)[0],s=i(e,n[1],r)[0];return[e*t+s]}case"copysign":if("number"!=typeof e||0===n.length)return[null];return[Math.sign(i(e,n[0],r)[0])*Math.abs(e)];case"drem":case"remainder":{if("number"!=typeof e||0===n.length)return[null];let t=i(e,n[0],r)[0];return[e-Math.round(e/t)*t]}case"fdim":{if("number"!=typeof e||0===n.length)return[null];let t=i(e,n[0],r)[0];return[Math.max(0,e-t)]}case"fmax":{if("number"!=typeof e||0===n.length)return[null];let t=i(e,n[0],r)[0];return[Math.max(e,t)]}case"fmin":{if("number"!=typeof e||0===n.length)return[null];let t=i(e,n[0],r)[0];return[Math.min(e,t)]}case"ldexp":{if("number"!=typeof e||0===n.length)return[null];let t=i(e,n[0],r)[0];return[e*2**t]}case"scalbn":case"scalbln":{if("number"!=typeof e||0===n.length)return[null];let t=i(e,n[0],r)[0];return[e*2**t]}case"nearbyint":return"number"==typeof e?[Math.round(e)]:[null];case"logb":return"number"==typeof e?[Math.floor(Math.log2(Math.abs(e)))]:[null];case"significand":if("number"==typeof e){let t=Math.floor(Math.log2(Math.abs(e)));return[e/2**t]}return[null];case"frexp":if("number"==typeof e){if(0===e)return[[0,0]];let t=Math.floor(Math.log2(Math.abs(e)))+1;return[[e/2**t,t]]}return[null];case"modf":if("number"==typeof e){let t=Math.trunc(e);return[[e-t,t]]}return[null];default:return null}}(t,n,r,i,lj);if(null!==o)return o;let l=function(e,t,n,r,i){switch(t){case"join":{if(!Array.isArray(e))return[null];let t=n.length>0?i(e,n[0],r):[""];for(let t of e)if(Array.isArray(t)||null!==t&&"object"==typeof t)throw Error("cannot join: contains arrays or objects");return t.map(t=>e.map(e=>null===e?"":"string"==typeof e?e:String(e)).join(String(t)))}case"split":{if("string"!=typeof e||0===n.length)return[null];let t=String(i(e,n[0],r)[0]);return[e.split(t)]}case"splits":{if("string"!=typeof e||0===n.length)return[];let t=String(i(e,n[0],r)[0]);try{let s=n.length>1?String(i(e,n[1],r)[0]):"g",a=new RegExp(t,s.includes("g")?s:`${s}g`);return e.split(a)}catch{return[]}}case"scan":{if("string"!=typeof e||0===n.length)return[];let t=String(i(e,n[0],r)[0]);try{let s=n.length>1?String(i(e,n[1],r)[0]):"",a=new RegExp(t,s.includes("g")?s:`${s}g`);return[...e.matchAll(a)].map(e=>e.length>1?e.slice(1):e[0])}catch{return[]}}case"test":{if("string"!=typeof e||0===n.length)return[!1];let t=String(i(e,n[0],r)[0]);try{let s=n.length>1?String(i(e,n[1],r)[0]):"";return[new RegExp(t,s).test(e)]}catch{return[!1]}}case"match":{if("string"!=typeof e||0===n.length)return[null];let t=String(i(e,n[0],r)[0]);try{let s=n.length>1?String(i(e,n[1],r)[0]):"",a=RegExp(t,`${s}d`).exec(e);if(!a)return[];let o=a.indices;return[{offset:a.index,length:a[0].length,string:a[0],captures:a.slice(1).map((e,t)=>({offset:o?.[t+1]?.[0]??null,length:e?.length??0,string:e??"",name:null}))}]}catch{return[null]}}case"capture":{if("string"!=typeof e||0===n.length)return[null];let t=String(i(e,n[0],r)[0]);try{let s=n.length>1?String(i(e,n[1],r)[0]):"",a=new RegExp(t,s),o=e.match(a);return o&&o.groups?[o.groups]:[{}]}catch{return[null]}}case"sub":{if("string"!=typeof e||n.length<2)return[null];let t=i(e,n[0],r),s=i(e,n[1],r),a=String(t[0]),o=String(s[0]);try{let t=n.length>2?String(i(e,n[2],r)[0]):"";return[e.replace(new RegExp(a,t),o)]}catch{return[e]}}case"gsub":{if("string"!=typeof e||n.length<2)return[null];let t=i(e,n[0],r),s=i(e,n[1],r),a=String(t[0]),o=String(s[0]);try{let t=n.length>2?String(i(e,n[2],r)[0]):"g",s=t.includes("g")?t:`${t}g`;return[e.replace(new RegExp(a,s),o)]}catch{return[e]}}case"ascii_downcase":return"string"==typeof e?[e.replace(/[A-Z]/g,e=>String.fromCharCode(e.charCodeAt(0)+32))]:[null];case"ascii_upcase":return"string"==typeof e?[e.replace(/[a-z]/g,e=>String.fromCharCode(e.charCodeAt(0)-32))]:[null];case"ltrimstr":{if("string"!=typeof e||0===n.length)return[e];let t=String(i(e,n[0],r)[0]);return[e.startsWith(t)?e.slice(t.length):e]}case"rtrimstr":{if("string"!=typeof e||0===n.length)return[e];let t=String(i(e,n[0],r)[0]);return""===t?[e]:[e.endsWith(t)?e.slice(0,-t.length):e]}case"trimstr":{if("string"!=typeof e||0===n.length)return[e];let t=String(i(e,n[0],r)[0]);if(""===t)return[e];let s=e;return s.startsWith(t)&&(s=s.slice(t.length)),s.endsWith(t)&&(s=s.slice(0,-t.length)),[s]}case"trim":if("string"==typeof e)return[e.trim()];throw Error("trim input must be a string");case"ltrim":if("string"==typeof e)return[e.trimStart()];throw Error("trim input must be a string");case"rtrim":if("string"==typeof e)return[e.trimEnd()];throw Error("trim input must be a string");case"startswith":{if("string"!=typeof e||0===n.length)return[!1];let t=i(e,n[0],r);return[e.startsWith(String(t[0]))]}case"endswith":{if("string"!=typeof e||0===n.length)return[!1];let t=i(e,n[0],r);return[e.endsWith(String(t[0]))]}case"ascii":return"string"==typeof e&&e.length>0?[e.charCodeAt(0)]:[null];case"explode":return"string"==typeof e?[Array.from(e).map(e=>e.codePointAt(0))]:[null];case"implode":if(!Array.isArray(e))throw Error("implode input must be an array");return[e.map(e=>{if("string"==typeof e)throw Error(`string (${JSON.stringify(e)}) can't be imploded, unicode codepoint needs to be numeric`);if("number"!=typeof e||Number.isNaN(e))throw Error("number (null) can't be imploded, unicode codepoint needs to be numeric");let t=Math.trunc(e);return t<0||t>1114111||t>=55296&&t<=57343?String.fromCodePoint(65533):String.fromCodePoint(t)}).join("")];default:return null}}(t,n,r,i,lj);if(null!==l)return l;let c=function(e,t,n,r,i){switch(t){case"now":return[Date.now()/1e3];case"gmtime":{if("number"!=typeof e)return[null];let t=new Date(1e3*e),n=t.getUTCFullYear(),r=t.getUTCMonth(),i=t.getUTCDate(),s=t.getUTCHours(),a=t.getUTCMinutes(),o=t.getUTCSeconds(),l=t.getUTCDay(),c=Date.UTC(n,0,1);return[[n,r,i,s,a,o,l,Math.floor((t.getTime()-c)/864e5)]]}case"mktime":{if(!Array.isArray(e))throw Error("mktime requires parsed datetime inputs");let[t,n,r,i=0,s=0,a=0]=e;if("number"!=typeof t||"number"!=typeof n)throw Error("mktime requires parsed datetime inputs");return[Math.floor(Date.UTC(t,n,r??1,i??0,s??0,a??0)/1e3)]}case"strftime":{let t;if(0===n.length)return[null];let s=i(e,n[0],r)[0];if("string"!=typeof s)throw Error("strftime/1 requires a string format");if("number"==typeof e)t=new Date(1e3*e);else if(Array.isArray(e)){let[n,r,i,s=0,a=0,o=0]=e;if("number"!=typeof n||"number"!=typeof r)throw Error("strftime/1 requires parsed datetime inputs");t=new Date(Date.UTC(n,r,i??1,s??0,a??0,o??0))}else throw Error("strftime/1 requires parsed datetime inputs");let a=(e,t=2)=>String(e).padStart(t,"0");return[s.replace(/%Y/g,String(t.getUTCFullYear())).replace(/%m/g,a(t.getUTCMonth()+1)).replace(/%d/g,a(t.getUTCDate())).replace(/%H/g,a(t.getUTCHours())).replace(/%M/g,a(t.getUTCMinutes())).replace(/%S/g,a(t.getUTCSeconds())).replace(/%A/g,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getUTCDay()]).replace(/%B/g,["January","February","March","April","May","June","July","August","September","October","November","December"][t.getUTCMonth()]).replace(/%Z/g,"UTC").replace(/%%/g,"%")]}case"strptime":{if(0===n.length)return[null];if("string"!=typeof e)throw Error("strptime/1 requires a string input");let t=i(e,n[0],r)[0];if("string"!=typeof t)throw Error("strptime/1 requires a string format");if("%Y-%m-%dT%H:%M:%SZ"===t){let t=e.match(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})Z$/);if(t){let[,e,n,r,i,s,a]=t.map(Number),o=new Date(Date.UTC(e,n-1,r,i,s,a)),l=o.getUTCDay(),c=Date.UTC(e,0,1);return[[e,n-1,r,i,s,a,l,Math.floor((o.getTime()-c)/864e5)]]}}let s=new Date(e);if(!Number.isNaN(s.getTime())){let e=s.getUTCFullYear(),t=s.getUTCMonth(),n=s.getUTCDate(),r=s.getUTCHours(),i=s.getUTCMinutes(),a=s.getUTCSeconds(),o=s.getUTCDay(),l=Date.UTC(e,0,1);return[[e,t,n,r,i,a,o,Math.floor((s.getTime()-l)/864e5)]]}throw Error(`Cannot parse date: ${e}`)}case"fromdate":{if("string"!=typeof e)throw Error("fromdate requires a string input");let t=new Date(e);if(Number.isNaN(t.getTime()))throw Error(`date "${e}" does not match format "%Y-%m-%dT%H:%M:%SZ"`);return[Math.floor(t.getTime()/1e3)]}case"todate":if("number"!=typeof e)throw Error("todate requires a number input");return[new Date(1e3*e).toISOString().replace(/\.\d{3}Z$/,"Z")];default:return null}}(t,n,r,i,lj);if(null!==c)return c;let u=function(e,t,n){switch(t){case"@base64":return"string"==typeof e?"u">typeof a.Buffer?[a.Buffer.from(e,"utf-8").toString("base64")]:[btoa(e)]:[null];case"@base64d":return"string"==typeof e?"u">typeof a.Buffer?[a.Buffer.from(e,"base64").toString("utf-8")]:[atob(e)]:[null];case"@uri":return"string"==typeof e?[encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")]:[null];case"@urid":return"string"==typeof e?[decodeURIComponent(e)]:[null];case"@csv":return Array.isArray(e)?[e.map(e=>{if(null===e)return"";if("boolean"==typeof e)return e?"true":"false";if("number"==typeof e)return String(e);let t=String(e);return t.includes(",")||t.includes('"')||t.includes(`
`)||t.includes("\r")?`"${t.replace(/"/g,'""')}"`:t}).join(",")]:[null];case"@tsv":return Array.isArray(e)?[e.map(e=>String(e??"").replace(/\t/g,"\\t").replace(/\n/g,"\\n")).join("	")]:[null];case"@json":{let t=n??lS;return lx(e,t+1)>t?[null]:[JSON.stringify(e)]}case"@html":return"string"==typeof e?[e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")]:[null];case"@sh":return"string"==typeof e?[`'${e.replace(/'/g,"'\\''")}'`]:[null];case"@text":return"string"==typeof e?[e]:null==e?[""]:[String(e)];default:return null}}(t,n,i.limits.maxDepth);if(null!==u)return u;let p=function(e,t){switch(t){case"type":return null===e?["null"]:Array.isArray(e)?["array"]:"boolean"==typeof e?["boolean"]:"number"==typeof e?["number"]:"string"==typeof e?["string"]:"object"==typeof e?["object"]:["null"];case"infinite":return[1/0];case"nan":return[NaN];case"isinfinite":return["number"==typeof e&&!Number.isFinite(e)];case"isnan":return["number"==typeof e&&Number.isNaN(e)];case"isnormal":return["number"==typeof e&&Number.isFinite(e)&&0!==e];case"isfinite":return["number"==typeof e&&Number.isFinite(e)];case"numbers":return"number"==typeof e?[e]:[];case"strings":return"string"==typeof e?[e]:[];case"booleans":return"boolean"==typeof e?[e]:[];case"nulls":return null===e?[e]:[];case"arrays":return Array.isArray(e)?[e]:[];case"objects":return e&&"object"==typeof e&&!Array.isArray(e)?[e]:[];case"iterables":return Array.isArray(e)||e&&"object"==typeof e&&!Array.isArray(e)?[e]:[];case"scalars":return Array.isArray(e)||e&&"object"==typeof e?[]:[e];case"values":return null===e?[]:[e];case"not":return!1===e||null===e?[!0]:[!1];case"null":return[null];case"true":return[!0];case"false":return[!1];case"empty":return[];default:return null}}(t,n);if(null!==p)return p;let h=function(e,t,n,r,i){switch(t){case"keys":return Array.isArray(e)?[e.map((e,t)=>t)]:e&&"object"==typeof e?[Object.keys(e).sort()]:[null];case"keys_unsorted":return Array.isArray(e)?[e.map((e,t)=>t)]:e&&"object"==typeof e?[Object.keys(e)]:[null];case"length":return"string"==typeof e||Array.isArray(e)?[e.length]:e&&"object"==typeof e?[Object.keys(e).length]:null===e?[0]:"number"==typeof e?[Math.abs(e)]:[null];case"utf8bytelength":{if("string"==typeof e)return[new TextEncoder().encode(e).length];let t=null===e?"null":Array.isArray(e)?"array":typeof e,n="array"===t||"object"===t?JSON.stringify(e):String(e);throw Error(`${t} (${n}) only strings have UTF-8 byte length`)}case"to_entries":return e&&"object"==typeof e&&!Array.isArray(e)?[Object.entries(e).map(([e,t])=>({key:e,value:t}))]:[null];case"from_entries":if(Array.isArray(e)){let t={};for(let n of e)if(n&&"object"==typeof n){let e=n.key??n.Key??n.name??n.Name??n.k,r=n.value??n.Value??n.v;void 0!==e&&(t[String(e)]=r)}return[t]}return[null];case"with_entries":if(0===n.length)return[e];if(e&&"object"==typeof e&&!Array.isArray(e)){let t=Object.entries(e).map(([e,t])=>({key:e,value:t})).flatMap(e=>i(e,n[0],r)),s={};for(let e of t)if(e&&"object"==typeof e){let t=e.key??e.name??e.k,n=e.value??e.v;void 0!==t&&(s[String(t)]=n)}return[s]}return[null];case"reverse":return Array.isArray(e)?[[...e].reverse()]:"string"==typeof e?[e.split("").reverse().join("")]:[null];case"flatten":return Array.isArray(e)?(n.length>0?i(e,n[0],r):[1/0]).map(t=>{if(t<0)throw Error("flatten depth must not be negative");return e.flat(t)}):[null];case"unique":if(Array.isArray(e)){let t=new Set,n=[];for(let r of e){let e=JSON.stringify(r);t.has(e)||(t.add(e),n.push(r))}return[n]}return[null];case"tojson":case"tojsonstream":{let t=r.limits.maxDepth??lA;return lx(e,t+1)>t?[null]:[JSON.stringify(e)]}case"fromjson":if("string"==typeof e){let t=e.trim().toLowerCase();if("nan"===t)return[NaN];if("inf"===t||"infinity"===t)return[1/0];if("-inf"===t||"-infinity"===t)return[-1/0];try{return[JSON.parse(e)]}catch{throw Error(`Invalid JSON: ${e}`)}}return[e];case"tostring":return"string"==typeof e?[e]:[JSON.stringify(e)];case"tonumber":if("number"==typeof e)return[e];if("string"==typeof e){let t=Number(e);if(Number.isNaN(t))throw Error(`${JSON.stringify(e)} cannot be parsed as a number`);return[t]}throw Error(`${typeof e} cannot be parsed as a number`);case"toboolean":{if("boolean"==typeof e)return[e];if("string"==typeof e){if("true"===e)return[!0];if("false"===e)return[!1];throw Error(`string (${JSON.stringify(e)}) cannot be parsed as a boolean`)}let t=null===e?"null":Array.isArray(e)?"array":typeof e,n="array"===t||"object"===t?JSON.stringify(e):String(e);throw Error(`${t} (${n}) cannot be parsed as a boolean`)}case"tostream":{let t=[],n=(e,r)=>{if(null===e||"object"!=typeof e)t.push([r,e]);else if(Array.isArray(e))if(0===e.length)t.push([r,[]]);else for(let t=0;t<e.length;t++)n(e[t],[...r,t]);else{let i=Object.keys(e);if(0===i.length)t.push([r,{}]);else for(let t of i)n(e[t],[...r,t])}};return n(e,[]),t.push([[]]),t}case"fromstream":{if(0===n.length)return[e];let t=i(e,n[0],r),s=null;for(let e of t){if(!Array.isArray(e)||1===e.length&&Array.isArray(e[0])&&0===e[0].length||2!==e.length)continue;let[t,n]=e;if(!Array.isArray(t))continue;if(0===t.length){s=n;continue}null===s&&(s="number"==typeof t[0]?[]:{});let r=s;for(let e=0;e<t.length-1;e++){let n=t[e],i=t[e+1];if(Array.isArray(r)&&"number"==typeof n){for(;r.length<=n;)r.push(null);null===r[n]&&(r[n]="number"==typeof i?[]:{}),r=r[n]}else if(r&&"object"==typeof r&&!Array.isArray(r)){let e=r;(null===e[String(n)]||void 0===e[String(n)])&&(e[String(n)]="number"==typeof i?[]:{}),r=e[String(n)]}}let i=t[t.length-1];if(Array.isArray(r)&&"number"==typeof i){for(;r.length<=i;)r.push(null);r[i]=n}else r&&"object"==typeof r&&!Array.isArray(r)&&(r[String(i)]=n)}return[s]}case"truncate_stream":{let t="number"==typeof e?Math.floor(e):0;if(0===n.length)return[];let s=[];for(let a of i(e,n[0],r))if(Array.isArray(a)){if(1===a.length&&Array.isArray(a[0])){let e=a[0];e.length>t&&s.push([e.slice(t)]);continue}if(2===a.length&&Array.isArray(a[0])){let e=a[0],n=a[1];e.length>t&&s.push([e.slice(t),n])}}return s}default:return null}}(t,n,r,i,lj);if(null!==h)return h;let _=function(e,t,n,r,i,s,a,o,l,c){switch(t){case"sort":return Array.isArray(e)?[[...e].sort(a)]:[null];case"sort_by":return Array.isArray(e)&&0!==n.length?[[...e].sort((e,t)=>a(i(e,n[0],r)[0],i(t,n[0],r)[0]))]:[null];case"bsearch":if(!Array.isArray(e)){let t=null===e?"null":"object"==typeof e?"object":typeof e;throw Error(`${t} (${JSON.stringify(e)}) cannot be searched from`)}return 0===n.length?[null]:i(e,n[0],r).map(t=>{let n=0,r=e.length;for(;n<r;){let i=n+r>>>1;0>a(e[i],t)?n=i+1:r=i}return n<e.length&&0===a(e[n],t)?n:-n-1});case"unique_by":{if(!Array.isArray(e)||0===n.length)return[null];let t=new Map;for(let s of e){let e=i(s,n[0],r)[0],a=JSON.stringify(e);t.has(a)||t.set(a,{item:s,key:e})}let s=[...t.values()];return s.sort((e,t)=>a(e.key,t.key)),[s.map(e=>e.item)]}case"group_by":{if(!Array.isArray(e)||0===n.length)return[null];let t=new Map;for(let s of e){let e=JSON.stringify(i(s,n[0],r)[0]);t.has(e)||t.set(e,[]),t.get(e)?.push(s)}return[[...t.values()]]}case"max":return Array.isArray(e)&&e.length>0?[e.reduce((e,t)=>a(e,t)>0?e:t)]:[null];case"max_by":return Array.isArray(e)&&0!==e.length&&0!==n.length?[e.reduce((e,t)=>a(i(e,n[0],r)[0],i(t,n[0],r)[0])>0?e:t)]:[null];case"min":return Array.isArray(e)&&e.length>0?[e.reduce((e,t)=>0>a(e,t)?e:t)]:[null];case"min_by":return Array.isArray(e)&&0!==e.length&&0!==n.length?[e.reduce((e,t)=>0>a(i(e,n[0],r)[0],i(t,n[0],r)[0])?e:t)]:[null];case"add":{let t=e=>{let t=e.filter(e=>null!==e);return 0===t.length?null:t.every(e=>"number"==typeof e)?t.reduce((e,t)=>e+t,0):t.every(e=>"string"==typeof e)?t.join(""):t.every(e=>Array.isArray(e))?t.flat():t.every(e=>e&&"object"==typeof e&&!Array.isArray(e))?Object.assign({},...t):null};if(n.length>=1)return[t(i(e,n[0],r))];return Array.isArray(e)?[t(e)]:[null]}case"any":if(n.length>=2){try{for(let t of s(e,n[0],r))if(i(t,n[1],r).some(o))return[!0]}catch(e){if(e instanceof c)throw e}return[!1]}return 1===n.length?Array.isArray(e)?[e.some(e=>o(i(e,n[0],r)[0]))]:[!1]:Array.isArray(e)?[e.some(o)]:[!1];case"all":if(n.length>=2){try{for(let t of s(e,n[0],r))if(!i(t,n[1],r).some(o))return[!1]}catch(e){if(e instanceof c)throw e}return[!0]}return 1===n.length?Array.isArray(e)?[e.every(e=>o(i(e,n[0],r)[0]))]:[!0]:Array.isArray(e)?[e.every(o)]:[!0];case"select":return 0===n.length||i(e,n[0],r).some(o)?[e]:[];case"map":return 0!==n.length&&Array.isArray(e)?[e.flatMap(e=>i(e,n[0],r))]:[null];case"map_values":if(0===n.length)return[null];if(Array.isArray(e))return[e.flatMap(e=>i(e,n[0],r))];if(e&&"object"==typeof e){let t={};for(let[s,a]of Object.entries(e)){let e=i(a,n[0],r);e.length>0&&(t[s]=e[0])}return[t]}return[null];case"has":{if(0===n.length)return[!1];let t=i(e,n[0],r)[0];return Array.isArray(e)&&"number"==typeof t?[t>=0&&t<e.length]:e&&"object"==typeof e&&"string"==typeof t?[t in e]:[!1]}case"in":{if(0===n.length)return[!1];let t=i(e,n[0],r)[0];return Array.isArray(t)&&"number"==typeof e?[e>=0&&e<t.length]:t&&"object"==typeof t&&"string"==typeof e?[e in t]:[!1]}case"contains":{if(0===n.length)return[!1];let t=i(e,n[0],r);return[l(e,t[0])]}case"inside":if(0===n.length)return[!1];return[l(i(e,n[0],r)[0],e)];default:return null}}(t,n,r,i,lj,lU,function e(t,n){let r=e=>null===e?0:"boolean"==typeof e?1:"number"==typeof e?2:"string"==typeof e?3:Array.isArray(e)?4:"object"==typeof e?5:6,i=r(t),s=r(n);if(i!==s)return i-s;if("number"==typeof t&&"number"==typeof n)return t-n;if("string"==typeof t&&"string"==typeof n)return t.localeCompare(n);if("boolean"==typeof t&&"boolean"==typeof n)return!!t-!!n;if(Array.isArray(t)&&Array.isArray(n)){for(let r=0;r<Math.min(t.length,n.length);r++){let i=e(t[r],n[r]);if(0!==i)return i}return t.length-n.length}if(t&&n&&"object"==typeof t&&"object"==typeof n){let r=Object.keys(t).sort(),i=Object.keys(n).sort();for(let e=0;e<Math.min(r.length,i.length);e++){let t=r[e].localeCompare(i[e]);if(0!==t)return t}if(r.length!==i.length)return r.length-i.length;for(let i of r){let r=e(t[i],n[i]);if(0!==r)return r}}return 0},lb,function e(t,n){return!!ly(t,n)||("string"==typeof t&&"string"==typeof n?t.includes(n):Array.isArray(t)&&Array.isArray(n)?n.every(n=>t.some(t=>e(t,n))):!(!t||!n||"object"!=typeof t||"object"!=typeof n||Array.isArray(t)||Array.isArray(n))&&Object.keys(n).every(r=>r in t&&e(t[r],n[r])))},rq);if(null!==_)return _;let f=function(e,t,n,r,i,s,a,o,l,c){switch(t){case"getpath":{if(0===n.length)return[null];let t=i(e,n[0],r),s=[];for(let n of t){let t=e;for(let e of n){if(null==t){t=null;break}if(Array.isArray(t)&&"number"==typeof e)t=t[e];else if("object"==typeof t&&"string"==typeof e)t=t[e];else{t=null;break}}s.push(t)}return s}case"setpath":{if(n.length<2)return[null];let t=i(e,n[0],r)[0],s=i(e,n[1],r)[0];return[a(e,t,s)]}case"delpaths":{if(0===n.length)return[e];let t=i(e,n[0],r)[0],s=e;for(let e of t.sort((e,t)=>t.length-e.length))s=o(s,e);return[s]}case"path":{if(0===n.length)return[[]];let t=[];return c(e,n[0],r,[],t),t}case"del":return 0===n.length?[e]:[l(e,n[0],r)];case"pick":{if(0===n.length)return[null];let t=[];for(let i of n)c(e,i,r,[],t);let i=null;for(let n of t){for(let e of n)if("number"==typeof e&&e<0)throw Error("Out of bounds negative array index");let t=e;for(let e of n){if(null==t)break;if(Array.isArray(t)&&"number"==typeof e)t=t[e];else if("object"==typeof t&&"string"==typeof e)t=t[e];else{t=null;break}}i=a(i,n,t)}return[i]}case"paths":{let t=[],a=(e,n)=>{if(e&&"object"==typeof e)if(Array.isArray(e))for(let r=0;r<e.length;r++)t.push([...n,r]),a(e[r],[...n,r]);else for(let r of Object.keys(e))t.push([...n,r]),a(e[r],[...n,r])};return a(e,[]),n.length>0?t.filter(t=>{let a=e;for(let e of t)if(Array.isArray(a)&&"number"==typeof e)a=a[e];else{if(!a||"object"!=typeof a||"string"!=typeof e)return!1;a=a[e]}return i(a,n[0],r).some(s)}):t}case"leaf_paths":{let t=[],n=(e,r)=>{if(null===e||"object"!=typeof e)t.push(r);else if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t],[...r,t]);else for(let t of Object.keys(e))n(e[t],[...r,t])};return n(e,[]),t}default:return null}}(t,n,r,i,lj,lb,function e(t,n,r){if(0===n.length)return r;let[i,...s]=n;if("number"==typeof i){if(t&&"object"==typeof t&&!Array.isArray(t))throw Error("Cannot index object with number");if(i>0x1fffffff)throw Error("Array index too large");if(i<0)throw Error("Out of bounds negative array index");let n=Array.isArray(t)?[...t]:[];for(;n.length<=i;)n.push(null);return n[i]=e(n[i],s,r),n}if(Array.isArray(t))throw Error("Cannot index array with string");let a=t&&"object"==typeof t&&!Array.isArray(t)?{...t}:{};return a[i]=e(a[i],s,r),a},function e(t,n){if(0===n.length)return null;if(1===n.length){let e=n[0];if(Array.isArray(t)&&"number"==typeof e){let n=[...t];return n.splice(e,1),n}if(t&&"object"==typeof t&&!Array.isArray(t)){let n={...t};return delete n[String(e)],n}return t}let[r,...i]=n;if(Array.isArray(t)&&"number"==typeof r){let n=[...t];return n[r]=e(n[r],i),n}if(t&&"object"==typeof t&&!Array.isArray(t)){let n={...t};return n[String(r)]=e(n[String(r)],i),n}return t},lq,function e(t,n,r,i,s){if("Comma"===n.type){e(t,n.left,r,i,s),e(t,n.right,r,i,s);return}let a=lH(n);if(null!==a)return void s.push([...i,...a]);if("Iterate"===n.type){if(Array.isArray(t))for(let e=0;e<t.length;e++)s.push([...i,e]);else if(t&&"object"==typeof t)for(let e of Object.keys(t))s.push([...i,e]);return}if("Recurse"===n.type){let e=(t,n)=>{if(s.push([...i,...n]),t&&"object"==typeof t)if(Array.isArray(t))for(let r=0;r<t.length;r++)e(t[r],[...n,r]);else for(let r of Object.keys(t))e(t[r],[...n,r])};e(t,[]);return}if("Pipe"===n.type){let a=lH(n.left);if(null!==a){for(let o of lj(t,n.left,r))e(o,n.right,r,[...i,...a],s);return}}lj(t,n,r).length>0&&s.push(i)});if(null!==f)return f;let d=function(e,t,n,r,i,s){switch(t){case"index":return 0===n.length?[null]:i(e,n[0],r).map(t=>{if("string"==typeof e&&"string"==typeof t){if(""===t&&""===e)return null;let n=e.indexOf(t);return n>=0?n:null}if(Array.isArray(e)){if(Array.isArray(t)){for(let n=0;n<=e.length-t.length;n++){let r=!0;for(let i=0;i<t.length;i++)if(!s(e[n+i],t[i])){r=!1;break}if(r)return n}return null}let n=e.findIndex(e=>s(e,t));return n>=0?n:null}return null});case"rindex":return 0===n.length?[null]:i(e,n[0],r).map(t=>{if("string"==typeof e&&"string"==typeof t){let n=e.lastIndexOf(t);return n>=0?n:null}if(Array.isArray(e)){if(Array.isArray(t)){for(let n=e.length-t.length;n>=0;n--){let r=!0;for(let i=0;i<t.length;i++)if(!s(e[n+i],t[i])){r=!1;break}if(r)return n}return null}for(let n=e.length-1;n>=0;n--)if(s(e[n],t))return n}return null});case"indices":return 0===n.length?[[]]:i(e,n[0],r).map(t=>{let n=[];if("string"==typeof e&&"string"==typeof t){let r=e.indexOf(t);for(;-1!==r;)n.push(r),r=e.indexOf(t,r+1)}else if(Array.isArray(e))if(Array.isArray(t)){let r=t.length;if(0===r)for(let t=0;t<=e.length;t++)n.push(t);else for(let i=0;i<=e.length-r;i++){let a=!0;for(let n=0;n<r;n++)if(!s(e[i+n],t[n])){a=!1;break}a&&n.push(i)}}else for(let r=0;r<e.length;r++)s(e[r],t)&&n.push(r);return n});default:return null}}(t,n,r,i,lj,ly);if(null!==d)return d;let g=function(e,t,n,r,i,s,a,o){switch(t){case"first":if(n.length>0)try{let t=s(e,n[0],r);return t.length>0?[t[0]]:[]}catch(e){if(e instanceof o)throw e;return[]}return Array.isArray(e)&&e.length>0?[e[0]]:[null];case"last":if(n.length>0){let t=i(e,n[0],r);return t.length>0?[t[t.length-1]]:[]}return Array.isArray(e)&&e.length>0?[e[e.length-1]]:[null];case"nth":{if(n.length<1)return[null];let t=i(e,n[0],r);if(n.length>1){let i;for(let e of t)if(e<0)throw Error("nth doesn't support negative indices");try{i=s(e,n[1],r)}catch(e){if(e instanceof o)throw e;i=[]}return t.flatMap(e=>e<i.length?[i[e]]:[])}return Array.isArray(e)?t.flatMap(t=>{if(t<0)throw Error("nth doesn't support negative indices");return t<e.length?[e[t]]:[null]}):[null]}case"range":{if(0===n.length)return[];let t=i(e,n[0],r);if(1===n.length){let e=[];for(let n of t)for(let t=0;t<n;t++)e.push(t);return e}let s=i(e,n[1],r);if(2===n.length){let e=[];for(let n of t)for(let t of s)for(let r=n;r<t;r++)e.push(r);return e}let a=i(e,n[2],r),o=[];for(let e of t)for(let t of s)for(let n of a)if(0!==n)if(n>0)for(let r=e;r<t;r+=n)o.push(r);else for(let r=e;r>t;r+=n)o.push(r);return o}case"limit":return n.length<2?[]:i(e,n[0],r).flatMap(t=>{let i;if(t<0)throw Error("limit doesn't support negative count");if(0===t)return[];try{i=s(e,n[1],r)}catch(e){if(e instanceof o)throw e;i=[]}return i.slice(0,t)});case"isempty":if(n.length<1)return[!0];try{return[0===s(e,n[0],r).length]}catch(e){if(e instanceof o)throw e;return[!0]}case"isvalid":if(n.length<1)return[!0];try{return[i(e,n[0],r).length>0]}catch(e){if(e instanceof o)throw e;return[!1]}case"skip":return n.length<2?[]:i(e,n[0],r).flatMap(t=>{if(t<0)throw Error("skip doesn't support negative count");return i(e,n[1],r).slice(t)});case"until":{if(n.length<2)return[e];let t=e,s=r.limits.maxIterations;for(let e=0;e<s;e++){if(i(t,n[0],r).some(a))return[t];let e=i(t,n[1],r);if(0===e.length)return[t];t=e[0]}throw new o(`jq until: too many iterations (${s}), increase executionLimits.maxJqIterations`,"iterations")}case"while":{if(n.length<2)return[e];let t=[],s=e,l=r.limits.maxIterations;for(let e=0;e<l&&i(s,n[0],r).some(a);e++){t.push(s);let e=i(s,n[1],r);if(0===e.length)break;s=e[0]}if(t.length>=l)throw new o(`jq while: too many iterations (${l}), increase executionLimits.maxJqIterations`,"iterations");return t}case"repeat":{if(0===n.length)return[e];let t=[],s=e,a=r.limits.maxIterations;for(let e=0;e<a;e++){t.push(s);let e=i(s,n[0],r);if(0===e.length)break;s=e[0]}if(t.length>=a)throw new o(`jq repeat: too many iterations (${a}), increase executionLimits.maxJqIterations`,"iterations");return t}default:return null}}(t,n,r,i,lj,lU,lb,rq);if(null!==g)return g;let m=function(e,t,n,r,i,s,a,o){switch(t){case"recurse":{if(0===n.length){let t=[],n=e=>{if(t.push(e),Array.isArray(e))for(let t of e)n(t);else if(e&&"object"==typeof e)for(let t of Object.keys(e))n(e[t])};return n(e),t}let t=[],a=n.length>=2?n[1]:null,o=0,l=e=>{if(!(o++>1e4)&&(!a||i(e,a,r).some(s)))for(let s of(t.push(e),i(e,n[0],r)))null!=s&&l(s)};return l(e),t}case"recurse_down":return o(e,"recurse",n,r);case"walk":{if(0===n.length)return[e];let t=new WeakSet,s=e=>{let a;if(e&&"object"==typeof e){if(t.has(e))return e;t.add(e)}if(Array.isArray(e))a=e.map(s);else if(e&&"object"==typeof e){let t={};for(let[n,r]of Object.entries(e))t[n]=s(r);a=t}else a=e;return i(a,n[0],r)[0]};return[s(e)]}case"transpose":{if(!Array.isArray(e))return[null];if(0===e.length)return[[]];let t=Math.max(...e.map(e=>Array.isArray(e)?e.length:0)),n=[];for(let r=0;r<t;r++)n.push(e.map(e=>Array.isArray(e)?e[r]:null));return[n]}case"combinations":{if(n.length>0){let t=i(e,n[0],r)[0];if(!Array.isArray(e)||t<0)return[];if(0===t)return[[]];let s=[],a=(n,r)=>{if(r===t)return void s.push([...n]);for(let t of e)n.push(t),a(n,r+1),n.pop()};return a([],0),s}if(!Array.isArray(e))return[];if(0===e.length)return[[]];for(let t of e)if(!Array.isArray(t))return[];let t=[],s=(n,r)=>{if(n===e.length)return void t.push([...r]);for(let t of e[n])r.push(t),s(n+1,r),r.pop()};return s(0,[]),t}case"parent":{if(void 0===r.root||void 0===r.currentPath)return[];let t=r.currentPath;if(0===t.length)return[];let s=n.length>0?i(e,n[0],r)[0]:1;if(s>=0){if(s>t.length)return[];let e=t.slice(0,t.length-s);return[a(r.root,e)]}{let n=-s-1;if(n>=t.length)return[e];let i=t.slice(0,n);return[a(r.root,i)]}}case"parents":{if(void 0===r.root||void 0===r.currentPath)return[[]];let e=r.currentPath,t=[];for(let n=e.length-1;n>=0;n--)t.push(a(r.root,e.slice(0,n)));return[t]}case"root":return void 0!==r.root?[r.root]:[];default:return null}}(t,n,r,i,lj,lb,lB,e);if(null!==m)return m;let v=function(e,t,n,r,i,s){switch(t){case"IN":{if(0===n.length)return[!1];if(1===n.length){for(let t of i(e,n[0],r))if(s(e,t))return[!0];return[!1]}let t=i(e,n[0],r),a=new Set(i(e,n[1],r).map(e=>JSON.stringify(e)));for(let e of t)if(a.has(JSON.stringify(e)))return[!0];return[!1]}case"INDEX":{if(0===n.length)return[{}];if(1===n.length){let t=i(e,n[0],r),s={};for(let e of t)s[String(e)]=e;return[s]}if(2===n.length){let t=i(e,n[0],r),s={};for(let e of t){let t=i(e,n[1],r);t.length>0&&(s[String(t[0])]=e)}return[s]}let t=i(e,n[0],r),s={};for(let e of t){let t=i(e,n[1],r),a=i(e,n[2],r);t.length>0&&a.length>0&&(s[String(t[0])]=a[0])}return[s]}case"JOIN":{if(n.length<2)return[null];let t=i(e,n[0],r)[0];if(!t||"object"!=typeof t||Array.isArray(t)||!Array.isArray(e))return[null];let s=[];for(let a of e){let e=i(a,n[1],r),o=e.length>0?String(e[0]):"",l=o in t?t[o]:null;s.push([a,l])}return[s]}default:return null}}(t,n,r,i,lj,ly);if(null!==v)return v;switch(n){case"builtins":return[["add/0","all/0","all/1","all/2","any/0","any/1","any/2","arrays/0","ascii/0","ascii_downcase/0","ascii_upcase/0","booleans/0","bsearch/1","builtins/0","combinations/0","combinations/1","contains/1","debug/0","del/1","delpaths/1","empty/0","env/0","error/0","error/1","explode/0","first/0","first/1","flatten/0","flatten/1","floor/0","from_entries/0","fromdate/0","fromjson/0","getpath/1","gmtime/0","group_by/1","gsub/2","gsub/3","has/1","implode/0","IN/1","IN/2","INDEX/1","INDEX/2","index/1","indices/1","infinite/0","inside/1","isempty/1","isnan/0","isnormal/0","isvalid/1","iterables/0","join/1","keys/0","keys_unsorted/0","last/0","last/1","length/0","limit/2","ltrimstr/1","map/1","map_values/1","match/1","match/2","max/0","max_by/1","min/0","min_by/1","mktime/0","modulemeta/1","nan/0","not/0","nth/1","nth/2","null/0","nulls/0","numbers/0","objects/0","path/1","paths/0","paths/1","pick/1","range/1","range/2","range/3","recurse/0","recurse/1","recurse_down/0","repeat/1","reverse/0","rindex/1","rtrimstr/1","scalars/0","scan/1","scan/2","select/1","setpath/2","skip/2","sort/0","sort_by/1","split/1","splits/1","splits/2","sqrt/0","startswith/1","strftime/1","strings/0","strptime/1","sub/2","sub/3","test/1","test/2","to_entries/0","toboolean/0","todate/0","tojson/0","tostream/0","fromstream/1","truncate_stream/1","tonumber/0","tostring/0","transpose/0","trim/0","ltrim/0","rtrim/0","type/0","unique/0","unique_by/1","until/2","utf8bytelength/0","values/0","walk/1","while/2","with_entries/1"]];case"error":{let e=r.length>0?lj(t,r[0],i)[0]:t;throw new lG(e)}case"env":return[i.env??{}];case"debug":return[t];case"input_line_number":return[1];default:{let e=`${n}/${r.length}`,s=i.funcs?.get(e);if(s){let n=new Map(s.closure??i.funcs??new Map);n.set(e,s);for(let e=0;e<s.params.length;e++){let a=s.params[e],o=r[e];if(o){let e=lj(t,o,i),r;if(0===e.length)r={type:"Call",name:"empty",args:[]};else if(1===e.length)r={type:"Literal",value:e[0]};else{r={type:"Literal",value:e[e.length-1]};for(let t=e.length-2;t>=0;t--)r={type:"Comma",left:{type:"Literal",value:e[t]},right:r}}n.set(`${a}/0`,{params:[],body:r})}}let a={...i,funcs:n};return lj(t,s.body,a)}throw Error(`Unknown function: ${n}`)}}}(e,t.name,t.args,r);case"VarBind":return lj(e,t.value,r).flatMap(n=>{let i=null,s=[];for(let e of(t.pattern?s.push(t.pattern):t.name&&s.push({type:"var",name:t.name}),t.alternatives&&s.push(...t.alternatives),s))if(null!==(i=lF(r,e,n)))break;return null===i?[]:lj(e,t.body,i)});case"VarRef":{if("$ENV"===t.name)return[r.env??{}];let e=r.vars.get(t.name);return void 0!==e?[e]:[null]}case"Recurse":{let t=[],n=new WeakSet,r=e=>{if(e&&"object"==typeof e){if(n.has(e))return;n.add(e)}if(t.push(e),Array.isArray(e))for(let t of e)r(t);else if(e&&"object"==typeof e)for(let t of Object.keys(e))r(e[t])};return r(e),t}case"Optional":try{return lj(e,t.expr,r)}catch{return[]}case"StringInterp":return[t.parts.map(t=>"string"==typeof t?t:lj(e,t,r).map(e=>"string"==typeof e?e:JSON.stringify(e)).join("")).join("")];case"UpdateOp":return[function(e,t,n,r,i){function s(e,t){switch(n){case"=":default:return t;case"|=":return lj(e,r,i)[0]??null;case"+=":return"number"==typeof e&&"number"==typeof t||"string"==typeof e&&"string"==typeof t?e+t:Array.isArray(e)&&Array.isArray(t)?[...e,...t]:e&&t&&"object"==typeof e&&"object"==typeof t?{...e,...t}:t;case"-=":return"number"==typeof e&&"number"==typeof t?e-t:e;case"*=":return"number"==typeof e&&"number"==typeof t?e*t:e;case"/=":return"number"==typeof e&&"number"==typeof t?e/t:e;case"%=":return"number"==typeof e&&"number"==typeof t?e%t:e;case"//=":return null===e||!1===e?t:e}}return function t(n,r,s){switch(r.type){case"Identity":default:return s(n);case"Field":if(r.base)return t(n,r.base,e=>{if(e&&"object"==typeof e&&!Array.isArray(e)){let t={...e};return t[r.name]=s(t[r.name]),t}return e});if(n&&"object"==typeof n&&!Array.isArray(n)){let e={...n};return e[r.name]=s(e[r.name]),e}return n;case"Index":{let a=lj(e,r.index,i)[0];if("number"==typeof a&&Number.isNaN(a))throw Error("Cannot set array element at NaN index");if("number"!=typeof a||Number.isInteger(a)||(a=Math.trunc(a)),r.base)return t(n,r.base,e=>{if("number"==typeof a&&Array.isArray(e)){let t=[...e],n=a<0?t.length+a:a;if(n>=0){for(;t.length<=n;)t.push(null);t[n]=s(t[n])}return t}if("string"==typeof a&&e&&"object"==typeof e&&!Array.isArray(e)){let t={...e};return t[a]=s(t[a]),t}return e});if("number"==typeof a){if(a>0x1fffffff)throw Error("Array index too large");if(a<0&&(!n||!Array.isArray(n)))throw Error("Out of bounds negative array index");if(Array.isArray(n)){let e=[...n],t=a<0?e.length+a:a;if(t>=0){for(;e.length<=t;)e.push(null);e[t]=s(e[t])}return e}if(null==n){let e=[];for(;e.length<=a;)e.push(null);return e[a]=s(null),e}return n}if("string"==typeof a&&n&&"object"==typeof n&&!Array.isArray(n)){let e={...n};return e[a]=s(e[a]),e}return n}case"Iterate":{let e=e=>{if(Array.isArray(e))return e.map(e=>s(e));if(e&&"object"==typeof e){let t={};for(let[n,r]of Object.entries(e))t[n]=s(r);return t}return e};return r.base?t(n,r.base,e):e(n)}case"Pipe":{let e=t(n,r.left,e=>e);return t(e,r.right,s)}}}(e,t,t=>"|="===n?s(t,t):s(t,lj(e,r,i)[0]??null))}(e,t.path,t.op,t.value,r)];case"Reduce":{let n=lj(e,t.expr,r),i=lj(e,t.init,r)[0],s=r.limits.maxDepth??lZ;for(let e of n){let n;if(t.pattern){if(null===(n=lF(r,t.pattern,e)))continue}else n=lM(r,t.varName,e);if(lx(i=lj(i,t.update,n)[0],s+1)>s)return[null]}return[i]}case"Foreach":{let n=lj(e,t.expr,r),i=lj(e,t.init,r)[0],s=[];for(let e of n)try{let n;if(t.pattern){if(n=lF(r,t.pattern,e),null===n)continue}else n=lM(r,t.varName,e);if(i=lj(i,t.update,n)[0],t.extract){let e=lj(i,t.extract,n);s.push(...e)}else s.push(i)}catch(e){throw e instanceof lz?e.withPrependedResults(s):e}return s}case"Label":try{return lj(e,t.body,{...r,labels:new Set([...r.labels??[],t.name])})}catch(e){if(e instanceof lz&&e.label===t.name)return e.partialResults;throw e}case"Break":throw new lz(t.name);case"Def":{let n=new Map(r.funcs??[]),i=`${t.name}/${t.params.length}`;n.set(i,{params:t.params,body:t.funcBody,closure:new Map(r.funcs??[])});let s={...r,funcs:n};return lj(e,t.body,s)}default:throw Error(`Unknown AST node type: ${t.type}`)}}function lW(e,t){return e<0?Math.max(0,t+e):Math.min(e,t)}function lq(e,t,n){function r(t,i,s){switch(i.type){case"Identity":return s;case"Field":if(i.base){let e=r(lj(t,i.base,n)[0],{type:"Field",name:i.name},s);return r(t,i.base,e)}return t&&"object"==typeof t&&!Array.isArray(t)?{...t,[i.name]:s}:t;case"Index":{if(i.base){let e=r(lj(t,i.base,n)[0],{type:"Index",index:i.index},s);return r(t,i.base,e)}let a=lj(e,i.index,n)[0];if("number"==typeof a&&Array.isArray(t)){let e=[...t],n=a<0?e.length+a:a;return n>=0&&n<e.length&&(e[n]=s),e}return"string"==typeof a&&t&&"object"==typeof t&&!Array.isArray(t)?{...t,[a]:s}:t}default:return t}}return function t(i,s){switch(s.type){case"Identity":return null;case"Field":if(s.base){let e=lj(i,s.base,n)[0];if(null==e)return i;let a=t(e,{type:"Field",name:s.name});return r(i,s.base,a)}if(i&&"object"==typeof i&&!Array.isArray(i)){let e={...i};return delete e[s.name],e}return i;case"Index":{if(s.base){let e=lj(i,s.base,n)[0];if(null==e)return i;let a=t(e,{type:"Index",index:s.index});return r(i,s.base,a)}let a=lj(e,s.index,n)[0];if("number"==typeof a&&Array.isArray(i)){let e=[...i],t=a<0?e.length+a:a;return t>=0&&t<e.length&&e.splice(t,1),e}if("string"==typeof a&&i&&"object"==typeof i&&!Array.isArray(i)){let e={...i};return delete e[a],e}return i}case"Iterate":return Array.isArray(i)?[]:i&&"object"==typeof i?{}:i;case"Pipe":{let r=function(t,i,s){switch(i.type){case"Identity":return s;case"Field":return t&&"object"==typeof t&&!Array.isArray(t)?{...t,[i.name]:s}:t;case"Index":{let r=lj(e,i.index,n)[0];if("number"==typeof r&&Array.isArray(t)){let e=[...t],n=r<0?e.length+r:r;return n>=0&&n<e.length&&(e[n]=s),e}return"string"==typeof r&&t&&"object"==typeof t&&!Array.isArray(t)?{...t,[r]:s}:t}case"Pipe":{let e=r(lj(t,i.left,n)[0],i.right,s);return r(t,i.left,e)}default:return t}},a=s.left,o=s.right,l=lj(i,a,n)[0];if(null==l)return i;return r(i,a,t(l,o))}default:return i}}(e,t)}var lz,lG,lV,lZ,lK,lX=e2(()=>{rV(),lI(),lD(),lw(),lz=class e extends Error{label;partialResults;constructor(e,t=[]){super(`break ${e}`),this.label=e,this.partialResults=t,this.name="BreakError"}withPrependedResults(t){return new e(this.label,[...t,...this.partialResults])}},lG=class extends Error{value;constructor(e){super("string"==typeof e?e:JSON.stringify(e)),this.value=e,this.name="JqError"}},lV=1e4,lZ=2e3,lK={floor:Math.floor,ceil:Math.ceil,round:Math.round,sqrt:Math.sqrt,log:Math.log,log10:Math.log10,log2:Math.log2,exp:Math.exp,sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh,cosh:Math.cosh,tanh:Math.tanh,asinh:Math.asinh,acosh:Math.acosh,atanh:Math.atanh,cbrt:Math.cbrt,expm1:Math.expm1,log1p:Math.log1p,trunc:Math.trunc}});function lQ(e){let t=[],n=0,r=(t=0)=>e[n+t],i=()=>e[n++],s=()=>n>=e.length,a=e=>e>="0"&&e<="9",o=e=>e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e,l=e=>o(e)||a(e);for(;!s();){let c=n,u=i();if(" "!==u&&"	"!==u&&u!==`
`&&"\r"!==u){if("#"===u){for(;!s()&&r()!==`
`;)i();continue}if("."===u&&"."===r()){i(),t.push({type:"DOTDOT",pos:c});continue}if("="===u&&"="===r()){i(),t.push({type:"EQ",pos:c});continue}if("!"===u&&"="===r()){i(),t.push({type:"NE",pos:c});continue}if("<"===u&&"="===r()){i(),t.push({type:"LE",pos:c});continue}if(">"===u&&"="===r()){i(),t.push({type:"GE",pos:c});continue}if("/"===u&&"/"===r()){i(),"="===r()?(i(),t.push({type:"UPDATE_ALT",pos:c})):t.push({type:"ALT",pos:c});continue}if("+"===u&&"="===r()){i(),t.push({type:"UPDATE_ADD",pos:c});continue}if("-"===u&&"="===r()){i(),t.push({type:"UPDATE_SUB",pos:c});continue}if("*"===u&&"="===r()){i(),t.push({type:"UPDATE_MUL",pos:c});continue}if("/"===u&&"="===r()){i(),t.push({type:"UPDATE_DIV",pos:c});continue}if("%"===u&&"="===r()){i(),t.push({type:"UPDATE_MOD",pos:c});continue}if("="===u&&"="!==r()){t.push({type:"ASSIGN",pos:c});continue}if("."===u){t.push({type:"DOT",pos:c});continue}if("|"===u){"="===r()?(i(),t.push({type:"UPDATE_PIPE",pos:c})):t.push({type:"PIPE",pos:c});continue}if(","===u){t.push({type:"COMMA",pos:c});continue}if(":"===u){t.push({type:"COLON",pos:c});continue}if(";"===u){t.push({type:"SEMICOLON",pos:c});continue}if("("===u){t.push({type:"LPAREN",pos:c});continue}if(")"===u){t.push({type:"RPAREN",pos:c});continue}if("["===u){t.push({type:"LBRACKET",pos:c});continue}if("]"===u){t.push({type:"RBRACKET",pos:c});continue}if("{"===u){t.push({type:"LBRACE",pos:c});continue}if("}"===u){t.push({type:"RBRACE",pos:c});continue}if("?"===u){t.push({type:"QUESTION",pos:c});continue}if("+"===u){t.push({type:"PLUS",pos:c});continue}if("-"===u){t.push({type:"MINUS",pos:c});continue}if("*"===u){t.push({type:"STAR",pos:c});continue}if("/"===u){t.push({type:"SLASH",pos:c});continue}if("%"===u){t.push({type:"PERCENT",pos:c});continue}if("<"===u){t.push({type:"LT",pos:c});continue}if(">"===u){t.push({type:"GT",pos:c});continue}if(a(u)){let o=u;for(;!s()&&(a(r())||"."===r()||"e"===r()||"E"===r());)("e"===r()||"E"===r())&&("+"===e[n+1]||"-"===e[n+1])&&(o+=i()),o+=i();t.push({type:"NUMBER",value:Number(o),pos:c});continue}if('"'===u){let e="";for(;!s()&&'"'!==r();)if("\\"===r()){if(i(),s())break;let t=i();switch(t){case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"\\":e+="\\";break;case'"':e+='"';break;case"(":e+="\\(";break;default:e+=t}}else e+=i();s()||i(),t.push({type:"STRING",value:e,pos:c});continue}if(o(u)||"$"===u||"@"===u){let e=u;for(;!s()&&l(r());)e+=i();let n=lJ[e];n?t.push({type:n,pos:c}):t.push({type:"IDENT",value:e,pos:c});continue}throw Error(`Unexpected character '${u}' at position ${c}`)}}return t.push({type:"EOF",pos:n}),t}var lJ,lY,l0=e2(()=>{lJ={and:"AND",or:"OR",not:"NOT",if:"IF",then:"THEN",elif:"ELIF",else:"ELSE",end:"END",as:"AS",try:"TRY",catch:"CATCH",true:"TRUE",false:"FALSE",null:"NULL",reduce:"REDUCE",foreach:"FOREACH",label:"LABEL",break:"BREAK",def:"DEF"},lY=class e{tokens;pos=0;constructor(e){this.tokens=e}peek(e=0){return this.tokens[this.pos+e]??{type:"EOF",pos:-1}}advance(){return this.tokens[this.pos++]}check(e){return this.peek().type===e}match(...e){for(let t of e)if(this.check(t))return this.advance();return null}expect(e,t){if(!this.check(e))throw Error(`${t} at position ${this.peek().pos}, got ${this.peek().type}`);return this.advance()}parse(){let e=this.parseExpr();if(!this.check("EOF"))throw Error(`Unexpected token ${this.peek().type} at position ${this.peek().pos}`);return e}parseExpr(){return this.parsePipe()}parsePattern(){if(this.match("LBRACKET")){let e=[];if(!this.check("RBRACKET"))for(e.push(this.parsePattern());this.match("COMMA")&&!this.check("RBRACKET");)e.push(this.parsePattern());return this.expect("RBRACKET","Expected ']' after array pattern"),{type:"array",elements:e}}if(this.match("LBRACE")){let e=[];if(!this.check("RBRACE"))for(e.push(this.parsePatternField());this.match("COMMA")&&!this.check("RBRACE");)e.push(this.parsePatternField());return this.expect("RBRACE","Expected '}' after object pattern"),{type:"object",fields:e}}let e=this.expect("IDENT","Expected variable name in pattern"),t=e.value;if(!t.startsWith("$"))throw Error(`Variable name must start with $ at position ${e.pos}`);return{type:"var",name:t}}parsePatternField(){if(this.match("LPAREN")){let e=this.parseExpr();return this.expect("RPAREN","Expected ')' after computed key"),this.expect("COLON","Expected ':' after computed key"),{key:e,pattern:this.parsePattern()}}let e=this.peek();if("IDENT"===e.type){let t=e.value;if(t.startsWith("$")){if(this.advance(),this.match("COLON")){let e=this.parsePattern();return{key:t.slice(1),pattern:e,keyVar:t}}return{key:t.slice(1),pattern:{type:"var",name:t}}}return(this.advance(),this.match("COLON"))?{key:t,pattern:this.parsePattern()}:{key:t,pattern:{type:"var",name:`$${t}`}}}throw Error(`Expected field name in object pattern at position ${e.pos}`)}parsePipe(){let e=this.parseComma();for(;this.match("PIPE");)e={type:"Pipe",left:e,right:this.parseComma()};return e}parseComma(){let e=this.parseVarBind();for(;this.match("COMMA");)e={type:"Comma",left:e,right:this.parseVarBind()};return e}parseVarBind(){let e=this.parseUpdate();if(this.match("AS")){let t=this.parsePattern(),n=[];for(;this.check("QUESTION")&&this.peekAhead(1)?.type==="ALT";)this.advance(),this.advance(),n.push(this.parsePattern());this.expect("PIPE","Expected '|' after variable binding");let r=this.parseExpr();return"var"===t.type&&0===n.length?{type:"VarBind",name:t.name,value:e,body:r}:{type:"VarBind",name:"var"===t.type?t.name:"",value:e,body:r,pattern:"var"!==t.type?t:void 0,alternatives:n.length>0?n:void 0}}return e}peekAhead(e){let t=this.pos+e;return t<this.tokens.length?this.tokens[t]:void 0}parseUpdate(){let e=this.parseAlt(),t=this.match("ASSIGN","UPDATE_ADD","UPDATE_SUB","UPDATE_MUL","UPDATE_DIV","UPDATE_MOD","UPDATE_ALT","UPDATE_PIPE");if(t){let n=this.parseVarBind();return{type:"UpdateOp",op:({ASSIGN:"=",UPDATE_ADD:"+=",UPDATE_SUB:"-=",UPDATE_MUL:"*=",UPDATE_DIV:"/=",UPDATE_MOD:"%=",UPDATE_ALT:"//=",UPDATE_PIPE:"|="})[t.type],path:e,value:n}}return e}parseAlt(){let e=this.parseOr();for(;this.match("ALT");)e={type:"BinaryOp",op:"//",left:e,right:this.parseOr()};return e}parseOr(){let e=this.parseAnd();for(;this.match("OR");)e={type:"BinaryOp",op:"or",left:e,right:this.parseAnd()};return e}parseAnd(){let e=this.parseNot();for(;this.match("AND");)e={type:"BinaryOp",op:"and",left:e,right:this.parseNot()};return e}parseNot(){return this.parseComparison()}parseComparison(){let e=this.parseAddSub(),t=this.match("EQ","NE","LT","LE","GT","GE");if(t){let n=this.parseAddSub();e={type:"BinaryOp",op:({EQ:"==",NE:"!=",LT:"<",LE:"<=",GT:">",GE:">="})[t.type],left:e,right:n}}return e}parseAddSub(){let e=this.parseMulDiv();for(;;)if(this.match("PLUS"))e={type:"BinaryOp",op:"+",left:e,right:this.parseMulDiv()};else if(this.match("MINUS"))e={type:"BinaryOp",op:"-",left:e,right:this.parseMulDiv()};else break;return e}parseMulDiv(){let e=this.parseUnary();for(;;)if(this.match("STAR"))e={type:"BinaryOp",op:"*",left:e,right:this.parseUnary()};else if(this.match("SLASH"))e={type:"BinaryOp",op:"/",left:e,right:this.parseUnary()};else if(this.match("PERCENT"))e={type:"BinaryOp",op:"%",left:e,right:this.parseUnary()};else break;return e}parseUnary(){return this.match("MINUS")?{type:"UnaryOp",op:"-",operand:this.parseUnary()}:this.parsePostfix()}parsePostfix(){let e=this.parsePrimary();for(;;)if(this.match("QUESTION"))e={type:"Optional",expr:e};else if(this.check("DOT")&&("IDENT"===this.peek(1).type||"STRING"===this.peek(1).type))this.advance(),e={type:"Field",name:this.advance().value,base:e};else if(this.check("LBRACKET"))if(this.advance(),this.match("RBRACKET"))e={type:"Iterate",base:e};else if(this.check("COLON")){this.advance();let t=this.check("RBRACKET")?void 0:this.parseExpr();this.expect("RBRACKET","Expected ']'"),e={type:"Slice",end:t,base:e}}else{let t=this.parseExpr();if(this.match("COLON")){let n=this.check("RBRACKET")?void 0:this.parseExpr();this.expect("RBRACKET","Expected ']'"),e={type:"Slice",start:t,end:n,base:e}}else this.expect("RBRACKET","Expected ']'"),e={type:"Index",index:t,base:e}}else break;return e}parsePrimary(){if(this.match("DOTDOT"))return{type:"Recurse"};if(this.match("DOT")){if(this.check("LBRACKET")){if(this.advance(),this.match("RBRACKET"))return{type:"Iterate"};if(this.check("COLON")){this.advance();let e=this.check("RBRACKET")?void 0:this.parseExpr();return this.expect("RBRACKET","Expected ']'"),{type:"Slice",end:e}}let e=this.parseExpr();if(this.match("COLON")){let t=this.check("RBRACKET")?void 0:this.parseExpr();return this.expect("RBRACKET","Expected ']'"),{type:"Slice",start:e,end:t}}return this.expect("RBRACKET","Expected ']'"),{type:"Index",index:e}}return this.check("IDENT")||this.check("STRING")?{type:"Field",name:this.advance().value}:{type:"Identity"}}if(this.match("TRUE"))return{type:"Literal",value:!0};if(this.match("FALSE"))return{type:"Literal",value:!1};if(this.match("NULL"))return{type:"Literal",value:null};if(this.check("NUMBER"))return{type:"Literal",value:this.advance().value};if(this.check("STRING")){let e=this.advance().value;return e.includes("\\(")?this.parseStringInterpolation(e):{type:"Literal",value:e}}if(this.match("LBRACKET")){if(this.match("RBRACKET"))return{type:"Array"};let e=this.parseExpr();return this.expect("RBRACKET","Expected ']'"),{type:"Array",elements:e}}if(this.match("LBRACE"))return this.parseObjectConstruction();if(this.match("LPAREN")){let e=this.parseExpr();return this.expect("RPAREN","Expected ')'"),{type:"Paren",expr:e}}if(this.match("IF"))return this.parseIf();if(this.match("TRY")){let e=this.parsePostfix(),t;return this.match("CATCH")&&(t=this.parsePostfix()),{type:"Try",body:e,catch:t}}if(this.match("REDUCE")){let e=this.parseAddSub();this.expect("AS","Expected 'as' after reduce expression");let t=this.parsePattern();this.expect("LPAREN","Expected '(' after variable");let n=this.parseExpr();this.expect("SEMICOLON","Expected ';' after init expression");let r=this.parseExpr();return this.expect("RPAREN","Expected ')' after update expression"),{type:"Reduce",expr:e,varName:"var"===t.type?t.name:"",init:n,update:r,pattern:"var"!==t.type?t:void 0}}if(this.match("FOREACH")){let e=this.parseAddSub();this.expect("AS","Expected 'as' after foreach expression");let t=this.parsePattern();this.expect("LPAREN","Expected '(' after variable");let n=this.parseExpr();this.expect("SEMICOLON","Expected ';' after init expression");let r=this.parseExpr(),i;return this.match("SEMICOLON")&&(i=this.parseExpr()),this.expect("RPAREN","Expected ')' after expressions"),{type:"Foreach",expr:e,varName:"var"===t.type?t.name:"",init:n,update:r,extract:i,pattern:"var"!==t.type?t:void 0}}if(this.match("LABEL")){let e=this.expect("IDENT","Expected label name (e.g., $out)"),t=e.value;if(!t.startsWith("$"))throw Error(`Label name must start with $ at position ${e.pos}`);return this.expect("PIPE","Expected '|' after label name"),{type:"Label",name:t,body:this.parseExpr()}}if(this.match("BREAK")){let e=this.expect("IDENT","Expected label name to break to"),t=e.value;if(!t.startsWith("$"))throw Error(`Break label must start with $ at position ${e.pos}`);return{type:"Break",name:t}}if(this.match("DEF")){let e=this.expect("IDENT","Expected function name after def").value,t=[];if(this.match("LPAREN")){if(!this.check("RPAREN")){let e=this.expect("IDENT","Expected parameter name");for(t.push(e.value);this.match("SEMICOLON");){let e=this.expect("IDENT","Expected parameter name");t.push(e.value)}}this.expect("RPAREN","Expected ')' after parameters")}this.expect("COLON","Expected ':' after function name");let n=this.parseExpr();return this.expect("SEMICOLON","Expected ';' after function body"),{type:"Def",name:e,params:t,funcBody:n,body:this.parseExpr()}}if(this.match("NOT"))return{type:"Call",name:"not",args:[]};if(this.check("IDENT")){let e=this.advance().value;if(e.startsWith("$"))return{type:"VarRef",name:e};if(this.match("LPAREN")){let t=[];if(!this.check("RPAREN"))for(t.push(this.parseExpr());this.match("SEMICOLON");)t.push(this.parseExpr());return this.expect("RPAREN","Expected ')'"),{type:"Call",name:e,args:t}}return{type:"Call",name:e,args:[]}}throw Error(`Unexpected token ${this.peek().type} at position ${this.peek().pos}`)}parseObjectConstruction(){let e=[];if(!this.check("RBRACE"))do{let t,n;if(this.match("LPAREN"))t=this.parseExpr(),this.expect("RPAREN","Expected ')'"),this.expect("COLON","Expected ':'"),n=this.parseObjectValue();else if(this.check("IDENT")){let e=this.advance().value;this.match("COLON")?(t=e,n=this.parseObjectValue()):(t=e,n={type:"Field",name:e})}else if(this.check("STRING"))t=this.advance().value,this.expect("COLON","Expected ':'"),n=this.parseObjectValue();else throw Error(`Expected object key at position ${this.peek().pos}`);e.push({key:t,value:n})}while(this.match("COMMA"))return this.expect("RBRACE","Expected '}'"),{type:"Object",entries:e}}parseObjectValue(){let e=this.parseVarBind();for(;this.match("PIPE");)e={type:"Pipe",left:e,right:this.parseVarBind()};return e}parseIf(){let e,t=this.parseExpr();this.expect("THEN","Expected 'then'");let n=this.parseExpr(),r=[];for(;this.match("ELIF");){let e=this.parseExpr();this.expect("THEN","Expected 'then' after elif");let t=this.parseExpr();r.push({cond:e,then:t})}return this.match("ELSE")&&(e=this.parseExpr()),this.expect("END","Expected 'end'"),{type:"Cond",cond:t,then:n,elifs:r,else:e}}parseStringInterpolation(t){let n=[],r="",i=0;for(;i<t.length;)if("\\"===t[i]&&"("===t[i+1]){r&&(n.push(r),r=""),i+=2;let s=1,a="";for(;i<t.length&&s>0;)"("===t[i]?s++:")"===t[i]&&s--,s>0&&(a+=t[i]),i++;let o=new e(lQ(a));n.push(o.parse())}else r+=t[i],i++;return r&&n.push(r),{type:"StringInterp",parts:n}}}}),l1=e2(()=>{lX(),l0()}),l2={};function l3(e){let t=[],n=0,r=e.length;for(;n<r;){for(;n<r&&/\s/.test(e[n]);)n++;if(n>=r)break;let i=n,s=e[n];if("{"===s||"["===s){let a="{"===s?"}":"]",o=1,l=!1,c=!1;for(n++;n<r&&o>0;){let t=e[n];c?c=!1:"\\"===t?c=!0:'"'===t?l=!l:l||(t===s?o++:t===a&&o--),n++}if(0!==o)throw Error(`Unexpected end of JSON input at position ${n} (unclosed ${s})`);t.push(JSON.parse(e.slice(i,n)))}else if('"'===s){let s=!1;for(n++;n<r;){let t=e[n];if(s)s=!1;else if("\\"===t)s=!0;else if('"'===t){n++;break}n++}t.push(JSON.parse(e.slice(i,n)))}else if("-"===s||s>="0"&&s<="9"){for(;n<r&&/[\d.eE+-]/.test(e[n]);)n++;t.push(JSON.parse(e.slice(i,n)))}else if("true"===e.slice(n,n+4))t.push(!0),n+=4;else if("false"===e.slice(n,n+5))t.push(!1),n+=5;else if("null"===e.slice(n,n+4))t.push(null),n+=4;else{let t=e.slice(n,n+10);throw Error(`Invalid JSON at position ${i}: unexpected '${t.split(/\s/)[0]}'`)}}return t}e5(l2,{jqCommand:()=>l6});var l5,l6,l4=e2(()=>{rV(),tu(),ti(),l1(),l5={name:"jq",summary:"command-line JSON processor",usage:"jq [OPTIONS] FILTER [FILE]",options:["-r, --raw-output  output strings without quotes","-c, --compact     compact output (no pretty printing)","-e, --exit-status set exit status based on output","-s, --slurp       read entire input into array","-n, --null-input  don't read any input","-j, --join-output don't print newlines after each output","-a, --ascii       force ASCII output","-S, --sort-keys   sort object keys","-C, --color       colorize output (ignored)","-M, --monochrome  monochrome output (ignored)","    --tab         use tabs for indentation","    --help        display this help and exit"]},l6={name:"jq",async execute(e,t){if(tn(e))return tt(l5);let n=!1,r=!1,i=!1,s=!1,a=!1,o=!1,l=!1,c=!1,u=".",p=!1,h=[];for(let t=0;t<e.length;t++){let _=e[t];if("-r"===_||"--raw-output"===_)n=!0;else if("-c"===_||"--compact-output"===_)r=!0;else if("-e"===_||"--exit-status"===_)i=!0;else if("-s"===_||"--slurp"===_)s=!0;else if("-n"===_||"--null-input"===_)a=!0;else if("-j"===_||"--join-output"===_)o=!0;else if("-a"!==_&&"--ascii"!==_){if("-S"===_||"--sort-keys"===_)l=!0;else if("-C"!==_&&"--color"!==_&&"-M"!==_&&"--monochrome"!==_)if("--tab"===_)c=!0;else if("-"===_)h.push("-");else{if(_.startsWith("--"))return tr("jq",_);if(_.startsWith("-")){for(let e of _.slice(1))if("r"===e)n=!0;else if("c"===e)r=!0;else if("e"===e)i=!0;else if("s"===e)s=!0;else if("n"===e)a=!0;else if("j"===e)o=!0;else if("a"!==e){if("S"===e)l=!0;else if("C"!==e&&"M"!==e)return tr("jq",`-${e}`)}}else p?h.push(_):(u=_,p=!0)}}}let _=[];if(!a)if(0===h.length||1===h.length&&"-"===h[0])_.push({source:"stdin",content:t.stdin});else{let e=await tl(t,h,{cmdName:"jq",stopOnError:!0});if(0!==e.exitCode)return{stdout:"",stderr:e.stderr,exitCode:2};_=e.files.map(e=>({source:e.filename||"stdin",content:e.content}))}try{var f;let e,p=(f=u,e=lQ(f),new lY(e).parse()),h=[],d={limits:t.limits?{maxIterations:t.limits.maxJqIterations}:void 0,env:t.env};if(a)h=lj(null,p,d);else if(s){let e=[];for(let{content:t}of _){let n=t.trim();n&&e.push(...l3(n))}h=lj(e,p,d)}else for(let{content:e}of _){let t=e.trim();if(t)for(let e of l3(t))h.push(...lj(e,p,d))}let g=h.map(e=>(function e(t,n,r,i,s,a=0){if(null==t)return"null";if("boolean"==typeof t)return String(t);if("number"==typeof t)return Number.isFinite(t)?String(t):"null";if("string"==typeof t)return r?t:JSON.stringify(t);let o=s?"	":"  ";if(Array.isArray(t))return 0===t.length?"[]":n?`[${t.map(t=>e(t,!0,!1,i,s)).join(",")}]`:`[
${t.map(t=>o.repeat(a+1)+e(t,!1,!1,i,s,a+1)).join(`,
`)}
${o.repeat(a)}]`;if("object"==typeof t){let r=Object.keys(t);return i&&(r=r.sort()),0===r.length?"{}":n?`{${r.map(n=>`${JSON.stringify(n)}:${e(t[n],!0,!1,i,s)}`).join(",")}}`:`{
${r.map(n=>{let r=e(t[n],!1,!1,i,s,a+1);return`${o.repeat(a+1)}${JSON.stringify(n)}: ${r}`}).join(`,
`)}
${o.repeat(a)}}`}return String(t)})(e,r,n,l,c)),m=o?"":`
`,v=g.join(m),b=i&&(0===h.length||h.every(e=>null==e||!1===e))?1:0;return{stdout:v?o?v:`${v}
`:"",stderr:"",exitCode:b}}catch(t){if(t instanceof rq)return{stdout:"",stderr:`jq: ${t.message}
`,exitCode:rq.EXIT_CODE};let e=t.message;return e.includes("Unknown function")?{stdout:"",stderr:`jq: error: ${e}
`,exitCode:3}:{stdout:"",stderr:`jq: parse error: ${e}
`,exitCode:5}}}}}),l8={};async function l9(e,t,n){if(0===t.length||1===t.length&&"-"===t[0])return{ok:!0,data:Uint8Array.from(e.stdin,e=>e.charCodeAt(0))};let r=[];for(let i of t){if("-"===i){r.push(Uint8Array.from(e.stdin,e=>e.charCodeAt(0)));continue}try{let t=e.fs.resolvePath(e.cwd,i),n=await e.fs.readFileBuffer(t);r.push(n)}catch{return{ok:!1,error:{stdout:"",stderr:`${n}: ${i}: No such file or directory
`,exitCode:1}}}}let i=new Uint8Array(r.reduce((e,t)=>e+t.length,0)),s=0;for(let e of r)i.set(e,s),s+=e.length;return{ok:!0,data:i}}e5(l8,{base64Command:()=>ct});var l7,ce,ct,cn=e2(()=>{ta(),ti(),l7={name:"base64",summary:"base64 encode/decode data and print to standard output",usage:"base64 [OPTION]... [FILE]",options:["-d, --decode    decode data","-w, --wrap=COLS wrap encoded lines after COLS character (default 76, 0 to disable)","    --help      display this help and exit"]},ce={decode:{short:"d",long:"decode",type:"boolean"},wrap:{short:"w",long:"wrap",type:"number",default:76}},ct={name:"base64",async execute(e,t){if(tn(e))return tt(l7);let n=ts("base64",e,ce);if(!n.ok)return n.error;let r=n.result.flags.decode,i=n.result.flags.wrap,s=n.result.positional;try{if(r){let e=await l9(t,s,"base64");if(!e.ok)return e.error;let n=String.fromCharCode(...e.data).replace(/\s/g,"");return{stdout:atob(n),stderr:"",exitCode:0}}let e=await l9(t,s,"base64");if(!e.ok)return e.error;let n=btoa(String.fromCharCode(...e.data));if(i>0){let e=[];for(let t=0;t<n.length;t+=i)e.push(n.slice(t,t+i));n=e.join(`
`)+(n.length>0?`
`:"")}return{stdout:n,stderr:"",exitCode:0}}catch{return{stdout:"",stderr:`base64: invalid input
`,exitCode:1}}}}}),cr={};e5(cr,{diffCommand:()=>ca});var ci,cs,ca,co=e2(()=>{ta(),ti(),ci={name:"diff",summary:"compare files line by line",usage:"diff [OPTION]... FILE1 FILE2",options:["-u, --unified     output unified diff format (default)","-q, --brief       report only whether files differ","-s, --report-identical-files  report when files are the same","-i, --ignore-case  ignore case differences","    --help        display this help and exit"]},cs={unified:{short:"u",long:"unified",type:"boolean"},brief:{short:"q",long:"brief",type:"boolean"},reportSame:{short:"s",long:"report-identical-files",type:"boolean"},ignoreCase:{short:"i",long:"ignore-case",type:"boolean"}},ca={name:"diff",async execute(e,t){if(tn(e))return tt(ci);let n=ts("diff",e,cs);if(!n.ok)return n.error;let r=n.result.flags.brief,i=n.result.flags.reportSame,s=n.result.flags.ignoreCase,a=n.result.positional;if(n.result.flags.unified,a.length<2)return{stdout:"",stderr:`diff: missing operand
`,exitCode:2};let o,l,[c,u]=a;try{o="-"===c?t.stdin:await t.fs.readFile(t.fs.resolvePath(t.cwd,c))}catch{return{stdout:"",stderr:`diff: ${c}: No such file or directory
`,exitCode:2}}try{l="-"===u?t.stdin:await t.fs.readFile(t.fs.resolvePath(t.cwd,u))}catch{return{stdout:"",stderr:`diff: ${u}: No such file or directory
`,exitCode:2}}let p=o,h=l;return s&&(p=p.toLowerCase(),h=h.toLowerCase()),p===h?i?{stdout:`Files ${c} and ${u} are identical
`,stderr:"",exitCode:0}:{stdout:"",stderr:"",exitCode:0}:r?{stdout:`Files ${c} and ${u} differ
`,stderr:"",exitCode:1}:{stdout:function(e,t,n,r,i,s,a){if("function"==typeof a&&(a={callback:a}),null==a?void 0:a.callback){let{callback:i}=a;eb(e,t,n,r,"","",Object.assign(Object.assign({},a),{callback:e=>{e?i(ey(e,a.headerOptions)):i(void 0)}}))}else{let i=eb(e,t,n,r,"","",a);if(!i)return;return ey(i,null==a?void 0:a.headerOptions)}}(c,u,o,l,0,0,{context:3}),stderr:"",exitCode:1}}}}),cl={};function cc(e,t=2){return String(e).padStart(t,"0")}function cu(e,t,n){let r=n?{Y:e.getUTCFullYear(),m:e.getUTCMonth(),D:e.getUTCDate(),H:e.getUTCHours(),M:e.getUTCMinutes(),S:e.getUTCSeconds(),w:e.getUTCDay()}:{Y:e.getFullYear(),m:e.getMonth(),D:e.getDate(),H:e.getHours(),M:e.getMinutes(),S:e.getSeconds(),w:e.getDay()},i="",s=0;for(;s<t.length;){if("%"===t[s]&&s+1<t.length){let a=t[++s];switch(a){case"%":i+="%";break;case"a":i+=ch[r.w];break;case"b":case"h":i+=c_[r.m];break;case"d":i+=cc(r.D);break;case"e":i+=String(r.D).padStart(2," ");break;case"F":i+=`${r.Y}-${cc(r.m+1)}-${cc(r.D)}`;break;case"H":i+=cc(r.H);break;case"I":i+=cc(r.H%12||12);break;case"m":i+=cc(r.m+1);break;case"M":i+=cc(r.M);break;case"n":i+=`
`;break;case"p":i+=r.H<12?"AM":"PM";break;case"P":i+=r.H<12?"am":"pm";break;case"R":i+=`${cc(r.H)}:${cc(r.M)}`;break;case"s":i+=Math.floor(e.getTime()/1e3);break;case"S":i+=cc(r.S);break;case"t":i+="	";break;case"T":i+=`${cc(r.H)}:${cc(r.M)}:${cc(r.S)}`;break;case"u":i+=r.w||7;break;case"w":i+=r.w;break;case"y":i+=cc(r.Y%100);break;case"Y":i+=r.Y;break;case"z":i+=n?"+0000":function(e){let t=-e.getTimezoneOffset();return`${t>=0?"+":"-"}${cc(Math.floor(Math.abs(t)/60))}${cc(Math.abs(t)%60)}`}(e);break;case"Z":i+=n?"UTC":Intl.DateTimeFormat().resolvedOptions().timeZone;break;default:i+=`%${a}`}}else i+=t[s];s++}return i}e5(cl,{dateCommand:()=>cf});var cp,ch,c_,cf,cd=e2(()=>{ti(),cp={name:"date",summary:"display the current time in the given FORMAT",usage:"date [OPTION]... [+FORMAT]",options:["-d, --date=STRING   display time described by STRING","-u, --utc           print Coordinated Universal Time (UTC)","-I, --iso-8601      output date/time in ISO 8601 format","-R, --rfc-email     output RFC 5322 date format","    --help          display this help and exit"]},ch=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],c_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],cf={name:"date",async execute(e,t){let n;if(tn(e))return tt(cp);let r=!1,i=null,s=null,a=!1,o=!1;for(let t=0;t<e.length;t++){let n=e[t];if("-u"===n||"--utc"===n)r=!0;else if("-d"===n||"--date"===n)i=e[++t]??"";else if(n.startsWith("--date="))i=n.slice(7);else if("-I"===n||"--iso-8601"===n)a=!0;else if("-R"===n||"--rfc-email"===n)o=!0;else if(n.startsWith("+"))s=n.slice(1);else{if(n.startsWith("--"))return tr("date",n);if(n.startsWith("-"))for(let e of n.slice(1))if("u"===e)r=!0;else if("I"===e)a=!0;else{if("R"!==e)return tr("date",`-${e}`);o=!0}}}let l=null!==i?function(e){let t=new Date(e);if(!Number.isNaN(t.getTime()))return t;if(/^\d+$/.test(e))return new Date(1e3*Number.parseInt(e,10));let n=e.toLowerCase();return"now"===n||"today"===n?new Date:"yesterday"===n?new Date(Date.now()-864e5):"tomorrow"===n?new Date(Date.now()+864e5):null}(i):new Date;return l?(n=s?cu(l,s,r):a?cu(l,"%Y-%m-%dT%H:%M:%S%z",r):o?cu(l,"%a, %d %b %Y %H:%M:%S %z",r):cu(l,"%a %b %e %H:%M:%S %Z %Y",r),{stdout:`${n}
`,stderr:"",exitCode:0}):{stdout:"",stderr:`date: invalid date '${i}'
`,exitCode:1}}}}),cg={};e5(cg,{sleepCommand:()=>cv});var cm,cv,cb=e2(()=>{ti(),cm={name:"sleep",summary:"delay for a specified amount of time",usage:"sleep NUMBER[SUFFIX]",description:`Pause for NUMBER seconds. SUFFIX may be:
  s - seconds (default)
  m - minutes
  h - hours
  d - days

NUMBER may be a decimal number.`,options:["    --help display this help and exit"]},cv={name:"sleep",async execute(e,t){if(tn(e))return tt(cm);if(0===e.length)return{stdout:"",stderr:`sleep: missing operand
`,exitCode:1};let n=0;for(let t of e){let e=function(e){let t=e.match(/^(\d+\.?\d*)(s|m|h|d)?$/);if(!t)return null;let n=parseFloat(t[1]);switch(t[2]||"s"){case"s":return 1e3*n;case"m":return 60*n*1e3;case"h":return 60*n*6e4;case"d":return 24*n*36e5;default:return null}}(t);if(null===e)return{stdout:"",stderr:`sleep: invalid time interval '${t}'
`,exitCode:1};n+=e}return t.sleep?await t.sleep(n):await new Promise(e=>setTimeout(e,n)),{stdout:"",stderr:"",exitCode:0}}}}),cy={};e5(cy,{timeoutCommand:()=>cx});var c$,cx,cS=e2(()=>{ti(),c$={name:"timeout",summary:"run a command with a time limit",usage:"timeout [OPTION] DURATION COMMAND [ARG]...",description:`Start COMMAND, and kill it if still running after DURATION.

DURATION is a number with optional suffix:
  s - seconds (default)
  m - minutes
  h - hours
  d - days`,options:["-k, --kill-after=DURATION  send KILL signal after DURATION if still running","-s, --signal=SIGNAL        specify signal to send (default: TERM)","    --preserve-status      exit with same status as COMMAND, even on timeout","    --foreground           run command in foreground","    --help                 display this help and exit"]},cx={name:"timeout",async execute(e,t){if(tn(e))return tt(c$);let n=0;for(let t=0;t<e.length;t++){let r=e[t];if("--preserve-status"===r)n=t+1;else if("--foreground"===r)n=t+1;else if("-k"===r||"--kill-after"===r)n=++t+1;else if(r.startsWith("--kill-after="))n=t+1;else if("-s"===r||"--signal"===r)n=++t+1;else if(r.startsWith("--signal="))n=t+1;else{if(r.startsWith("--")&&"--"!==r)return tr("timeout",r);if(r.startsWith("-")&&r.length>1&&"--"!==r)if(r.startsWith("-k"))n=t+1;else{if(!r.startsWith("-s"))return tr("timeout",r);n=t+1}else{n=t;break}}}let r=e.slice(n);if(0===r.length)return{stdout:"",stderr:`timeout: missing operand
`,exitCode:1};let i=r[0],s=function(e){let t=e.match(/^(\d+\.?\d*)(s|m|h|d)?$/);if(!t)return null;let n=parseFloat(t[1]);switch(t[2]||"s"){case"s":return 1e3*n;case"m":return 60*n*1e3;case"h":return 60*n*6e4;case"d":return 24*n*36e5;default:return null}}(i);if(null===s)return{stdout:"",stderr:`timeout: invalid time interval '${i}'
`,exitCode:1};let a=r.slice(1);if(0===a.length)return{stdout:"",stderr:`timeout: missing operand
`,exitCode:1};if(!t.exec)return{stdout:"",stderr:`timeout: exec not available
`,exitCode:1};let o=a.map(e=>e.includes(" ")||e.includes("	")?`'${e.replace(/'/g,"'\\''")}'`:e).join(" "),l=new Promise(e=>{setTimeout(()=>e({timedOut:!0}),s)}),c=t.exec(o,{cwd:t.cwd}).then(e=>({timedOut:!1,result:e})),u=await Promise.race([l,c]);return u.timedOut?{stdout:"",stderr:"",exitCode:124}:u.result}}}),cA={};e5(cA,{timeCommand:()=>cw});var cw,cE=e2(()=>{cw={name:"time",async execute(e,t){let n,r,i,s="%e %M",a=null,o=!1,l=!1,c=0;for(;c<e.length;){let t=e[c];if("-f"===t||"--format"===t){if(++c>=e.length)return{stdout:"",stderr:`time: missing argument to '-f'
`,exitCode:1};s=e[c],c++}else if("-o"===t||"--output"===t){if(++c>=e.length)return{stdout:"",stderr:`time: missing argument to '-o'
`,exitCode:1};a=e[c],c++}else if("-a"===t||"--append"===t)o=!0,c++;else if("-v"===t||"--verbose"===t)s=`Command being timed: %C
Elapsed (wall clock) time: %e seconds
Maximum resident set size (kbytes): %M`,c++;else if("-p"===t||"--portability"===t)l=!0,c++;else if("--"===t){c++;break}else if(t.startsWith("-"))c++;else break}let u=e.slice(c);if(0===u.length)return{stdout:"",stderr:"",exitCode:0};let p=performance.now(),h=u.join(" "),_;try{if(!t.exec)return{stdout:"",stderr:`time: exec not available
`,exitCode:1};_=await t.exec(h,{env:t.env,cwd:t.cwd})}catch(e){_={stdout:"",stderr:`time: ${e.message}
`,exitCode:127}}let f=(performance.now()-p)/1e3,d;if(l?d=`real ${f.toFixed(2)}
user 0.00
sys 0.00
`:(d=s.replace(/%e/g,f.toFixed(2)).replace(/%E/g,(n=Math.floor(f/3600),r=Math.floor(f%3600/60),i=f%60,n>0?`${n}:${r.toString().padStart(2,"0")}:${i.toFixed(2).padStart(5,"0")}`:`${r}:${i.toFixed(2).padStart(5,"0")}`)).replace(/%M/g,"0").replace(/%S/g,"0.00").replace(/%U/g,"0.00").replace(/%P/g,"0%").replace(/%C/g,h)).endsWith(`
`)||(d+=`
`),a)try{let e=t.fs.resolvePath(t.cwd,a);if(o&&await t.fs.exists(e)){let n=await t.fs.readFile(e);await t.fs.writeFile(e,n+d)}else await t.fs.writeFile(e,d)}catch(e){return{stdout:_.stdout,stderr:_.stderr+`time: cannot write to '${a}': ${e.message}
`,exitCode:_.exitCode}}else _={..._,stderr:_.stderr+d};return _}}}),ck={};e5(ck,{seqCommand:()=>cC});var cC,cO=e2(()=>{cC={name:"seq",async execute(e){let t=`
`,n=!1,r=[],i=0;for(;i<e.length;){let s=e[i];if("-s"===s&&i+1<e.length){t=e[i+1],i+=2;continue}if("-w"===s){n=!0,i++;continue}if("--"===s){i++;break}if(s.startsWith("-")&&"-"!==s){if(s.startsWith("-s")&&s.length>2){t=s.slice(2),i++;continue}if(("-ws"===s||"-sw"===s)&&(n=!0,i+1<e.length)){t=e[i+1],i+=2;continue}}r.push(s),i++}for(;i<e.length;)r.push(e[i]),i++;if(0===r.length)return{stdout:"",stderr:`seq: missing operand
`,exitCode:1};let s=1,a=1,o;if(1===r.length?o=parseFloat(r[0]):2===r.length?(s=parseFloat(r[0]),o=parseFloat(r[1])):(s=parseFloat(r[0]),a=parseFloat(r[1]),o=parseFloat(r[2])),Number.isNaN(s)||Number.isNaN(a)||Number.isNaN(o))return{stdout:"",stderr:`seq: invalid floating point argument: '${r.find(e=>Number.isNaN(parseFloat(e)))}'
`,exitCode:1};if(0===a)return{stdout:"",stderr:`seq: invalid Zero increment value: '0'
`,exitCode:1};let l=[],c=e=>{let t=String(e),n=t.indexOf(".");return -1===n?0:t.length-n-1},u=Math.max(c(s),c(a),c(o)),p=0;if(a>0)for(let e=s;e<=o+1e-10&&!(p++>1e5);e+=a)l.push(u>0?e.toFixed(u):String(Math.round(e)));else for(let e=s;e>=o-1e-10&&!(p++>1e5);e+=a)l.push(u>0?e.toFixed(u):String(Math.round(e)));if(n&&l.length>0){let e=Math.max(...l.map(e=>e.replace("-","").length));for(let t=0;t<l.length;t++){let n=l[t].startsWith("-"),r=(n?l[t].slice(1):l[t]).padStart(e,"0");l[t]=n?`-${r}`:r}}let h=l.join(t);return{stdout:h?`${h}
`:"",stderr:"",exitCode:0}}}}),cR={};e5(cR,{exprCommand:()=>cT});var cT,cN=e2(()=>{cT={name:"expr",async execute(e,t){if(0===e.length)return{stdout:"",stderr:`expr: missing operand
`,exitCode:2};try{let t=function(e){if(1===e.length)return e[0];let t=0;function n(){let n=r();for(;t<e.length&&"|"===e[t];){t++;let e=r();if("0"!==n&&""!==n)break;n=e}return n}function r(){let n=i();for(;t<e.length&&"&"===e[t];){t++;let e=i();("0"===n||""===n||"0"===e||""===e)&&(n="0")}return n}function i(){let n=s();for(;t<e.length;){let r=e[t];if(["=","!=","<",">","<=",">="].includes(r)){t++;let e=s(),i=parseInt(n,10),a=parseInt(e,10),o=!Number.isNaN(i)&&!Number.isNaN(a);n=("="===r?o?i===a:n===e:"!="===r?o?i!==a:n!==e:"<"===r?o?i<a:n<e:">"===r?o?i>a:n>e:"<="===r?o?i<=a:n<=e:o?i>=a:n>=e)?"1":"0"}else break}return n}function s(){let n=a();for(;t<e.length;){let r=e[t];if("+"===r||"-"===r){t++;let e=a(),i=parseInt(n,10),s=parseInt(e,10);if(Number.isNaN(i)||Number.isNaN(s))throw Error("non-integer argument");n=String("+"===r?i+s:i-s)}else break}return n}function a(){let n=o();for(;t<e.length;){let r=e[t];if("*"===r||"/"===r||"%"===r){t++;let e=o(),i=parseInt(n,10),s=parseInt(e,10);if(Number.isNaN(i)||Number.isNaN(s))throw Error("non-integer argument");if(("/"===r||"%"===r)&&0===s)throw Error("division by zero");n="*"===r?String(i*s):"/"===r?String(Math.trunc(i/s)):String(i%s)}else break}return n}function o(){let n=l();for(;t<e.length&&":"===e[t];){t++;let e=l(),r=RegExp(`^${e}`),i=n.match(r);n=i?void 0!==i[1]?i[1]:String(i[0].length):"0"}return n}function l(){if(t>=e.length)throw Error("syntax error");let r=e[t];if("match"===r){t++;let e=l(),n=new RegExp(l()),r=e.match(n);return r?void 0!==r[1]?r[1]:String(r[0].length):"0"}if("substr"===r){t++;let e=l(),n=parseInt(l(),10),r=parseInt(l(),10);if(Number.isNaN(n)||Number.isNaN(r))throw Error("non-integer argument");return e.substring(n-1,n-1+r)}if("index"===r){t++;let e=l(),n=l();for(let t=0;t<e.length;t++)if(n.includes(e[t]))return String(t+1);return"0"}if("length"===r)return t++,String(l().length);if("("===r){t++;let r=n();if(t>=e.length||")"!==e[t])throw Error("syntax error");return t++,r}return t++,r}return n()}(e);return{stdout:`${t}
`,stderr:"",exitCode:+("0"===t||""===t)}}catch(e){return{stdout:"",stderr:`expr: ${e.message}
`,exitCode:2}}}}});async function cP(e,t){if("md5"===e)return function(e){let t=new Uint32Array([0xd76aa478,0xe8c7b756,0x242070db,0xc1bdceee,0xf57c0faf,0x4787c62a,0xa8304613,0xfd469501,0x698098d8,0x8b44f7af,0xffff5bb1,0x895cd7be,0x6b901122,0xfd987193,0xa679438e,0x49b40821,0xf61e2562,0xc040b340,0x265e5a51,0xe9b6c7aa,0xd62f105d,0x2441453,0xd8a1e681,0xe7d3fbc8,0x21e1cde6,0xc33707d6,0xf4d50d87,0x455a14ed,0xa9e3e905,0xfcefa3f8,0x676f02d9,0x8d2a4c8a,0xfffa3942,0x8771f681,0x6d9d6122,0xfde5380c,0xa4beea44,0x4bdecfa9,0xf6bb4b60,0xbebfbc70,0x289b7ec6,0xeaa127fa,0xd4ef3085,0x4881d05,0xd9d4d039,0xe6db99e5,0x1fa27cf8,0xc4ac5665,0xf4292244,0x432aff97,0xab9423a7,0xfc93a039,0x655b59c3,0x8f0ccc92,0xffeff47d,0x85845dd1,0x6fa87e4f,0xfe2ce6e0,0xa3014314,0x4e0811a1,0xf7537e82,0xbd3af235,0x2ad7d2bb,0xeb86d391]),n=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],r=8*e.length,i=(e.length%64<56?56:120)-e.length%64,s=new Uint8Array(e.length+i+8);s.set(e),s[e.length]=128;let a=new DataView(s.buffer);a.setUint32(s.length-8,r>>>0,!0),a.setUint32(s.length-4,Math.floor(r/0x100000000),!0);let o=0x67452301,l=0xefcdab89,c=0x98badcfe,u=0x10325476;for(let e=0;e<s.length;e+=64){let r=new Uint32Array(16);for(let t=0;t<16;t++)r[t]=a.getUint32(e+4*t,!0);let i=o,s=l,_=c,f=u;for(let e=0;e<64;e++){var p,h;let a,o;e<16?(a=s&_|~s&f,o=e):e<32?(a=f&s|~f&_,o=(5*e+1)%16):e<48?(a=s^_^f,o=(3*e+5)%16):(a=_^(s|~f),o=7*e%16),a=a+i+t[e]+r[o]>>>0,i=f,f=_,_=s,s=s+((p=a)<<(h=n[e])|p>>>32-h)>>>0}o=o+i>>>0,l=l+s>>>0,c=c+_>>>0,u=u+f>>>0}let _=new Uint8Array(16);return new DataView(_.buffer).setUint32(0,o,!0),new DataView(_.buffer).setUint32(4,l,!0),new DataView(_.buffer).setUint32(8,c,!0),new DataView(_.buffer).setUint32(12,u,!0),Array.from(_).map(e=>e.toString(16).padStart(2,"0")).join("")}(t);let n=await globalThis.crypto.subtle.digest(cI[e],new Uint8Array(t).buffer);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}function cL(e,t,n){let r={name:e,summary:n,usage:`${e} [OPTION]... [FILE]...`,options:["-c, --check    read checksums from FILEs and check them","    --help     display this help and exit"]};return{name:e,async execute(n,i){if(tn(n))return tt(r);let s=!1,a=[];for(let t of n)if("-c"===t||"--check"===t)s=!0;else if("-b"!==t&&"-t"!==t&&"--binary"!==t&&"--text"!==t){if(t.startsWith("-")&&"-"!==t)return tr(e,t);a.push(t)}0===a.length&&a.push("-");let o=async e=>{if("-"===e)return Uint8Array.from(i.stdin,e=>e.charCodeAt(0));try{return await i.fs.readFileBuffer(i.fs.resolvePath(i.cwd,e))}catch{return null}};if(s){let n=0,r="";for(let s of a){let a="-"===s?i.stdin:await i.fs.readFile(i.fs.resolvePath(i.cwd,s)).catch(()=>null);if(null===a)return{stdout:"",stderr:`${e}: ${s}: No such file or directory
`,exitCode:1};for(let e of a.split(`
`)){let i=e.match(/^([a-fA-F0-9]+)\s+[* ]?(.+)$/);if(!i)continue;let[,s,a]=i,l=await o(a);if(null===l){r+=`${a}: FAILED open or read
`,n++;continue}let c=await cP(t,l)===s.toLowerCase();r+=`${a}: ${c?"OK":"FAILED"}
`,c||n++}}return n>0&&(r+=`${e}: WARNING: ${n} computed checksum${n>1?"s":""} did NOT match
`),{stdout:r,stderr:"",exitCode:+(n>0)}}let l="",c=0;for(let n of a){let r=await o(n);if(null===r){l+=`${e}: ${n}: No such file or directory
`,c=1;continue}l+=`${await cP(t,r)}  ${n}
`}return{stdout:l,stderr:"",exitCode:c}}}}var cI,cD=e2(()=>{ti(),cI={sha1:"SHA-1",sha256:"SHA-256"}}),cM={};e5(cM,{md5sumCommand:()=>cF});var cF,cB=e2(()=>{cD(),cF=cL("md5sum","md5","compute MD5 message digest")}),cH={};e5(cH,{sha1sumCommand:()=>cU});var cU,cj=e2(()=>{cD(),cU=cL("sha1sum","sha1","compute SHA1 message digest")}),cW={};e5(cW,{sha256sumCommand:()=>cq});var cq,cz,cG,cV=e2(()=>{cD(),cq=cL("sha256sum","sha256","compute SHA256 message digest")}),cZ=e3(e=>{e.read=function(e,t,n,r,i){var s,a,o=8*i-r-1,l=(1<<o)-1,c=l>>1,u=-7,p=n?i-1:0,h=n?-1:1,_=e[t+p];for(p+=h,s=_&(1<<-u)-1,_>>=-u,u+=o;u>0;s=256*s+e[t+p],p+=h,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=r;u>0;a=256*a+e[t+p],p+=h,u-=8);if(0===s)s=1-c;else{if(s===l)return a?NaN:1/0*(_?-1:1);a+=Math.pow(2,r),s-=c}return(_?-1:1)*a*Math.pow(2,s-r)},e.write=function(e,t,n,r,i,s){var a,o,l,c=8*s-i-1,u=(1<<c)-1,p=u>>1,h=5960464477539062e-23*(23===i),_=r?0:s-1,f=r?1:-1,d=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+p>=1?t+=h/l:t+=h*Math.pow(2,1-p),t*l>=2&&(a++,l/=2),a+p>=u?(o=0,a=u):a+p>=1?(o=(t*l-1)*Math.pow(2,i),a+=p):(o=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+_]=255&o,_+=f,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;e[n+_]=255&a,_+=f,a/=256,c-=8);e[n+_-f]|=128*d}}),cK=e2(()=>{for(let[e,t]of(cG={},Object.entries(cz={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"})))cG[t]=Number.parseInt(e)});function cX(e){return new DataView(e.buffer,e.byteOffset)}var cQ,cJ,cY,c0,c1,c2,c3,c5,c6,c4,c8,c9,c7,ue,ut,un,ur,ui,us,ua,uo,ul,uc,uu=e2(()=>{e6(cZ(),1),cK(),cQ={len:1,get:(e,t)=>cX(e).getUint8(t),put:(e,t,n)=>(cX(e).setUint8(t,n),t+1)},cJ={len:2,get:(e,t)=>cX(e).getUint16(t,!0),put:(e,t,n)=>(cX(e).setUint16(t,n,!0),t+2)},cY={len:2,get:(e,t)=>cX(e).getUint16(t),put:(e,t,n)=>(cX(e).setUint16(t,n),t+2)},c0={len:4,get:(e,t)=>cX(e).getUint32(t,!0),put:(e,t,n)=>(cX(e).setUint32(t,n,!0),t+4)},c1={len:4,get:(e,t)=>cX(e).getUint32(t),put:(e,t,n)=>(cX(e).setUint32(t,n),t+4)},c2={len:4,get:(e,t)=>cX(e).getInt32(t),put:(e,t,n)=>(cX(e).setInt32(t,n),t+4)},c3={len:8,get:(e,t)=>cX(e).getBigUint64(t,!0),put:(e,t,n)=>(cX(e).setBigUint64(t,n,!0),t+8)},c5=class{constructor(e,t){this.len=e,this.encoding=t}get(e,t=0){return function(e,t="utf-8"){switch(t.toLowerCase()){case"utf-8":case"utf8":return"u">typeof globalThis.TextDecoder?new globalThis.TextDecoder("utf-8").decode(e):function(e){let t="",n=0;for(;n<e.length;){let r=e[n++];if(r<128)t+=String.fromCharCode(r);else if(r<224)t+=String.fromCharCode((31&r)<<6|63&e[n++]);else if(r<240)t+=String.fromCharCode((15&r)<<12|(63&e[n++])<<6|63&e[n++]);else{let i=(7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++];i-=65536,t+=String.fromCharCode(55296+(i>>10&1023),56320+(1023&i))}}return t}(e);case"utf-16le":var n=e;let r="";for(let e=0;e<n.length;e+=2)r+=String.fromCharCode(n[e]|n[e+1]<<8);return r;case"ascii":return String.fromCharCode(...e.map(e=>127&e));case"latin1":case"iso-8859-1":return String.fromCharCode(...e);case"windows-1252":var i=e;let s="";for(let e of i)e>=128&&e<=159&&cz[e]?s+=cz[e]:s+=String.fromCharCode(e);return s;default:throw RangeError(`Encoding '${t}' not supported`)}}(e.subarray(t,t+this.len),this.encoding)}}}),up=e2(()=>{c6=class extends Error{constructor(){super("End-Of-Stream"),this.name="EndOfStreamError"}},c4=class extends Error{constructor(e="The operation was aborted"){super(e),this.name="AbortError"}}}),uh=e2(()=>{}),u_=e2(()=>{up(),c8=class{constructor(){this.endOfStream=!1,this.interrupted=!1,this.peekQueue=[]}async peek(e,t=!1){let n=await this.read(e,t);return this.peekQueue.push(e.subarray(0,n)),n}async read(e,t=!1){if(0===e.length)return 0;let n=this.readFromPeekBuffer(e);if(this.endOfStream||(n+=await this.readRemainderFromStream(e.subarray(n),t)),0===n&&!t)throw new c6;return n}readFromPeekBuffer(e){let t=e.length,n=0;for(;this.peekQueue.length>0&&t>0;){let r=this.peekQueue.pop();if(!r)throw Error("peekData should be defined");let i=Math.min(r.length,t);e.set(r.subarray(0,i),n),n+=i,t-=i,i<r.length&&this.peekQueue.push(r.subarray(i))}return n}async readRemainderFromStream(e,t){let n=0;for(;n<e.length&&!this.endOfStream;){if(this.interrupted)throw new c4;let r=await this.readFromStream(e.subarray(n),t);if(0===r)break;n+=r}if(!t&&n<e.length)throw new c6;return n}}}),uf=e2(()=>{up(),uh(),u_()}),ud=e2(()=>{u_(),c9=class extends c8{constructor(e){super(),this.reader=e}async abort(){return this.close()}async close(){this.reader.releaseLock()}}}),ug=e2(()=>{ud(),c7=class extends c9{async readFromStream(e,t){if(0===e.length)return 0;let n=await this.reader.read(new Uint8Array(e.length),{min:t?void 0:e.length});return n.done&&(this.endOfStream=n.done),n.value?(e.set(n.value),n.value.length):0}}}),um=e2(()=>{up(),u_(),ue=class extends c8{constructor(e){super(),this.reader=e,this.buffer=null}writeChunk(e,t){let n=Math.min(t.length,e.length);return e.set(t.subarray(0,n)),n<t.length?this.buffer=t.subarray(n):this.buffer=null,n}async readFromStream(e,t){if(0===e.length)return 0;let n=0;for(this.buffer&&(n+=this.writeChunk(e,this.buffer));n<e.length&&!this.endOfStream;){let t=await this.reader.read();if(t.done){this.endOfStream=!0;break}t.value&&(n+=this.writeChunk(e.subarray(n),t.value))}if(!t&&0===n&&this.endOfStream)throw new c6;return n}abort(){return this.interrupted=!0,this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}}}),uv=e2(()=>{ug(),um()}),ub=e2(()=>{up(),uf(),ug(),um(),uv()}),uy=e2(()=>{ub(),ut=class{constructor(e){this.numBuffer=new Uint8Array(8),this.position=0,this.onClose=e?.onClose,e?.abortSignal&&e.abortSignal.addEventListener("abort",()=>{this.abort()})}async readToken(e,t=this.position){let n=new Uint8Array(e.len);if(await this.readBuffer(n,{position:t})<e.len)throw new c6;return e.get(n,0)}async peekToken(e,t=this.position){let n=new Uint8Array(e.len);if(await this.peekBuffer(n,{position:t})<e.len)throw new c6;return e.get(n,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new c6;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new c6;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){let t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){await this.abort(),await this.onClose?.()}normalizeOptions(e,t){if(!this.supportsRandomAccess()&&t&&void 0!==t.position&&t.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");return{mayBeLess:!1,offset:0,length:e.length,position:this.position,...t}}abort(){return Promise.resolve()}}}),u$=e2(()=>{uy(),ub(),un=class extends ut{constructor(e,t){super(t),this.streamReader=e,this.fileInfo=t?.fileInfo??{}}async readBuffer(e,t){let n=this.normalizeOptions(e,t),r=n.position-this.position;if(r>0)return await this.ignore(r),this.readBuffer(e,t);if(r<0)throw Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===n.length)return 0;let i=await this.streamReader.read(e.subarray(0,n.length),n.mayBeLess);if(this.position+=i,(!t||!t.mayBeLess)&&i<n.length)throw new c6;return i}async peekBuffer(e,t){let n=this.normalizeOptions(e,t),r=0;if(n.position){let t=n.position-this.position;if(t>0){let i=new Uint8Array(n.length+t);return r=await this.peekBuffer(i,{mayBeLess:n.mayBeLess}),e.set(i.subarray(t)),r-t}if(t<0)throw Error("Cannot peek from a negative offset in a stream")}if(n.length>0){try{r=await this.streamReader.peek(e.subarray(0,n.length),n.mayBeLess)}catch(e){if(t?.mayBeLess&&e instanceof c6)return 0;throw e}if(!n.mayBeLess&&r<n.length)throw new c6}return r}async ignore(e){let t=Math.min(256e3,e),n=new Uint8Array(t),r=0;for(;r<e;){let i=e-r,s=await this.readBuffer(n,{length:Math.min(t,i)});if(s<0)return s;r+=s}return r}abort(){return this.streamReader.abort()}async close(){return this.streamReader.close()}supportsRandomAccess(){return!1}}}),ux=e2(()=>{ub(),uy(),ur=class extends ut{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo={...t?.fileInfo??{},size:e.length}}async readBuffer(e,t){t?.position&&(this.position=t.position);let n=await this.peekBuffer(e,t);return this.position+=n,n}async peekBuffer(e,t){let n=this.normalizeOptions(e,t),r=Math.min(this.uint8Array.length-n.position,n.length);if(!n.mayBeLess&&r<n.length)throw new c6;return e.set(this.uint8Array.subarray(n.position,n.position+r)),r}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(e){this.position=e}}}),uS=e2(()=>{ub(),uy(),ui=class extends ut{constructor(e,t){super(t),this.blob=e,this.fileInfo={...t?.fileInfo??{},size:e.size,mimeType:e.type}}async readBuffer(e,t){t?.position&&(this.position=t.position);let n=await this.peekBuffer(e,t);return this.position+=n,n}async peekBuffer(e,t){let n=this.normalizeOptions(e,t),r=Math.min(this.blob.size-n.position,n.length);if(!n.mayBeLess&&r<n.length)throw new c6;let i=await this.blob.slice(n.position,n.position+r).arrayBuffer();return e.set(new Uint8Array(i)),r}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(e){this.position=e}}}),uA=e2(()=>{ub(),u$(),ux(),uS(),ub(),uy()}),uw=e3((e,t)=>{function n(e,t,n,r){return Math.round(e/n)+" "+r+(t>=1.5*n?"s":"")}t.exports=function(e,t){t=t||{};var r,i,s,a,o=typeof e;if("string"===o&&e.length>0){var l=e;if(!((l=String(l)).length>100)){var c=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(c){var u=parseFloat(c[1]);switch((c[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*u;case"weeks":case"week":case"w":return 6048e5*u;case"days":case"day":case"d":return 864e5*u;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*u;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*u;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:break}}}return}if("number"===o&&isFinite(e)){return t.long?(i=Math.abs(r=e))>=864e5?n(r,i,864e5,"day"):i>=36e5?n(r,i,36e5,"hour"):i>=6e4?n(r,i,6e4,"minute"):i>=1e3?n(r,i,1e3,"second"):r+" ms":(a=Math.abs(s=e))>=864e5?Math.round(s/864e5)+"d":a>=36e5?Math.round(s/36e5)+"h":a>=6e4?Math.round(s/6e4)+"m":a>=1e3?Math.round(s/1e3)+"s":s+"ms"}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}),uE=e3((e,t)=>{t.exports=function(e){function t(e){let r,i=null,s,a;function o(...e){if(!o.enabled)return;let n=Number(new Date);o.diff=n-(r||n),o.prev=r,o.curr=n,r=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return"%";i++;let s=t.formatters[r];if("function"==typeof s){let t=e[i];n=s.call(o,t),e.splice(i,1),i--}return n}),t.formatArgs.call(o,e),(o.log||t.log).apply(o,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=n,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(s!==t.namespaces&&(s=t.namespaces,a=t.enabled(e)),a),set:e=>{i=e}}),"function"==typeof t.init&&t.init(o),o}function n(e,n){let r=t(this.namespace+(typeof n>"u"?":":n)+e);return r.log=this.log,r}function r(e,t){let n=0,r=0,i=-1,s=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(i=r,s=n):n++,r++;else{if(-1===i)return!1;r=i+1,n=++s}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){for(let n of(t.save(e),t.namespaces=e,t.names=[],t.skips=[],("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean)))"-"===n[0]?t.skips.push(n.slice(1)):t.names.push(n)},t.enabled=function(e){for(let n of t.skips)if(r(e,n))return!1;for(let n of t.names)if(r(e,n))return!0;return!1},t.humanize=uw(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t)|0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}}),uk=e3((e,t)=>{let n;e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch{}},e.load=function(){let t;try{t=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!t&&"u">typeof o.default&&"env"in o.default&&(t=o.default.env.DEBUG),t},e.useColors=function(){let e;return"u">typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("u">typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"u">typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"u">typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch{}}(),n=!1,e.destroy=()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))},e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=uE()(e);var{formatters:r}=t.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}),uC=e2(()=>{uu(),us={LocalFileHeader:0x4034b50,DataDescriptor:0x8074b50,CentralFileHeader:0x2014b50,EndOfCentralDirectory:0x6054b50},ua={get:e=>({signature:c0.get(e,0),compressedSize:c0.get(e,8),uncompressedSize:c0.get(e,12)}),len:16},uo={get(e){let t=cJ.get(e,6);return{signature:c0.get(e,0),minVersion:cJ.get(e,4),dataDescriptor:!!(8&t),compressedMethod:cJ.get(e,8),compressedSize:c0.get(e,18),uncompressedSize:c0.get(e,22),filenameLength:cJ.get(e,26),extraFieldLength:cJ.get(e,28),filename:null}},len:30},ul={get:e=>({signature:c0.get(e,0),nrOfThisDisk:cJ.get(e,4),nrOfThisDiskWithTheStart:cJ.get(e,6),nrOfEntriesOnThisDisk:cJ.get(e,8),nrOfEntriesOfSize:cJ.get(e,10),sizeOfCd:c0.get(e,12),offsetOfStartOfCd:c0.get(e,16),zipFileCommentLength:cJ.get(e,20)}),len:22},uc={get(e){let t=cJ.get(e,8);return{signature:c0.get(e,0),minVersion:cJ.get(e,6),dataDescriptor:!!(8&t),compressedMethod:cJ.get(e,10),compressedSize:c0.get(e,20),uncompressedSize:c0.get(e,24),filenameLength:cJ.get(e,28),extraFieldLength:cJ.get(e,30),fileCommentLength:cJ.get(e,32),relativeOffsetOfLocalHeader:c0.get(e,42),filename:null}},len:46}});function uO(e){let t=new Uint8Array(c0.len);return c0.put(t,0,e),t}var uR,uT,uN,uP,uL,uI,uD=e2(()=>{uu(),uR=e6(uk(),1),uC(),uT=(0,uR.default)("tokenizer:inflate"),uN=uO(us.DataDescriptor),uP=uO(us.EndOfCentralDirectory),uL=class e{constructor(e){this.tokenizer=e,this.syncBuffer=new Uint8Array(262144)}async isZip(){return await this.peekSignature()===us.LocalFileHeader}peekSignature(){return this.tokenizer.peekToken(c0)}async findEndOfCentralDirectoryLocator(){let e=this.tokenizer,t=Math.min(16384,e.fileInfo.size),n=this.syncBuffer.subarray(0,t);await this.tokenizer.readBuffer(n,{position:e.fileInfo.size-t});for(let r=n.length-4;r>=0;r--)if(n[r]===uP[0]&&n[r+1]===uP[1]&&n[r+2]===uP[2]&&n[r+3]===uP[3])return e.fileInfo.size-t+r;return -1}async readCentralDirectory(){if(!this.tokenizer.supportsRandomAccess())return void uT("Cannot reading central-directory without random-read support");uT("Reading central-directory...");let e=this.tokenizer.position,t=await this.findEndOfCentralDirectoryLocator();if(t>0){uT("Central-directory 32-bit signature found");let n=await this.tokenizer.readToken(ul,t),r=[];this.tokenizer.setPosition(n.offsetOfStartOfCd);for(let e=0;e<n.nrOfEntriesOfSize;++e){let t=await this.tokenizer.readToken(uc);if(t.signature!==us.CentralFileHeader)throw Error("Expected Central-File-Header signature");t.filename=await this.tokenizer.readToken(new c5(t.filenameLength,"utf-8")),await this.tokenizer.ignore(t.extraFieldLength),await this.tokenizer.ignore(t.fileCommentLength),r.push(t),uT(`Add central-directory file-entry: n=${e+1}/${r.length}: filename=${r[e].filename}`)}return this.tokenizer.setPosition(e),r}this.tokenizer.setPosition(e)}async unzip(e){let t=await this.readCentralDirectory();if(t)return this.iterateOverCentralDirectory(t,e);let n=!1;do{let t,r=await this.readLocalFileHeader();if(!r)break;let i=e(r);if(n=!!i.stop,await this.tokenizer.ignore(r.extraFieldLength),r.dataDescriptor&&0===r.compressedSize){let e=[],t=262144;uT("Compressed-file-size unknown, scanning for next data-descriptor-signature....");let n=-1;for(;n<0&&262144===t;){t=await this.tokenizer.peekBuffer(this.syncBuffer,{mayBeLess:!0});let r=(n=function(e,t){let n=e.length,r=t.length;if(r>n)return -1;for(let i=0;i<=n-r;i++){let n=!0;for(let s=0;s<r;s++)if(e[i+s]!==t[s]){n=!1;break}if(n)return i}return -1}(this.syncBuffer.subarray(0,t),uN))>=0?n:t;if(i.handler){let t=new Uint8Array(r);await this.tokenizer.readBuffer(t),e.push(t)}else await this.tokenizer.ignore(r)}uT(`Found data-descriptor-signature at pos=${this.tokenizer.position}`),i.handler&&await this.inflate(r,function(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;for(let r of e)t.set(r,n),n+=r.length;return t}(e),i.handler)}else i.handler?(uT(`Reading compressed-file-data: ${r.compressedSize} bytes`),t=new Uint8Array(r.compressedSize),await this.tokenizer.readBuffer(t),await this.inflate(r,t,i.handler)):(uT(`Ignoring compressed-file-data: ${r.compressedSize} bytes`),await this.tokenizer.ignore(r.compressedSize));if(uT(`Reading data-descriptor at pos=${this.tokenizer.position}`),r.dataDescriptor&&0x8074b50!==(await this.tokenizer.readToken(ua)).signature)throw Error(`Expected data-descriptor-signature at position ${this.tokenizer.position-ua.len}`)}while(!n)}async iterateOverCentralDirectory(e,t){for(let n of e){let e=t(n);if(e.handler){this.tokenizer.setPosition(n.relativeOffsetOfLocalHeader);let t=await this.readLocalFileHeader();if(t){await this.tokenizer.ignore(t.extraFieldLength);let r=new Uint8Array(n.compressedSize);await this.tokenizer.readBuffer(r),await this.inflate(t,r,e.handler)}}if(e.stop)break}}async inflate(t,n,r){if(0===t.compressedMethod)return r(n);if(8!==t.compressedMethod)throw Error(`Unsupported ZIP compression method: ${t.compressedMethod}`);return uT(`Decompress filename=${t.filename}, compressed-size=${n.length}`),r(await e.decompressDeflateRaw(n))}static async decompressDeflateRaw(e){let t=new ReadableStream({start(t){t.enqueue(e),t.close()}}),n=new DecompressionStream("deflate-raw"),r=t.pipeThrough(n);try{let e=await new Response(r).arrayBuffer();return new Uint8Array(e)}catch(e){throw TypeError(e instanceof Error?`Failed to deflate ZIP entry: ${e.message}`:"Unknown decompression error in ZIP entry")}}async readLocalFileHeader(){let e=await this.tokenizer.peekToken(c0);if(e===us.LocalFileHeader){let e=await this.tokenizer.readToken(uo);return e.filename=await this.tokenizer.readToken(new c5(e.filenameLength,"utf-8")),e}if(e===us.CentralFileHeader)return!1;throw 0xe011cfd0===e?Error("Encrypted ZIP"):Error("Unexpected signature")}}}),uM=e2(()=>{uI=class{constructor(e){this.tokenizer=e}inflate(){let e=this.tokenizer;return new ReadableStream({async pull(t){let n=new Uint8Array(1024),r=await e.readBuffer(n,{mayBeLess:!0});0===r?t.close():t.enqueue(n.subarray(0,r))}}).pipeThrough(new DecompressionStream("gzip"))}}}),uF=e2(()=>{uD(),uM()});function uB(e){let{byteLength:t}=e;return 6===t?0x100000000*e.getUint16(0)+e.getUint32(2):5===t?0x100000000*e.getUint8(0)+e.getUint32(1):4===t?e.getUint32(0):3===t?65536*e.getUint8(0)+e.getUint16(1):2===t?e.getUint16(0):1===t?e.getUint8(0):void 0}var uH,uU=e2(()=>{new globalThis.TextDecoder("utf8"),new globalThis.TextEncoder,Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"))}),uj=e2(()=>{uu(),uH={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4}}),uW=e2(()=>{});async function uq(e,t){return new uV(t).fromBuffer(e)}function uz(e){switch(e=e.toLowerCase()){case"application/epub+zip":return{ext:"epub",mime:e};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:e};case"application/vnd.oasis.opendocument.text-template":return{ext:"ott",mime:e};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:e};case"application/vnd.oasis.opendocument.spreadsheet-template":return{ext:"ots",mime:e};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:e};case"application/vnd.oasis.opendocument.presentation-template":return{ext:"otp",mime:e};case"application/vnd.oasis.opendocument.graphics":return{ext:"odg",mime:e};case"application/vnd.oasis.opendocument.graphics-template":return{ext:"otg",mime:e};case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":return{ext:"ppsx",mime:e};case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return{ext:"xlsx",mime:e};case"application/vnd.ms-excel.sheet.macroenabled":return{ext:"xlsm",mime:"application/vnd.ms-excel.sheet.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":return{ext:"xltx",mime:e};case"application/vnd.ms-excel.template.macroenabled":return{ext:"xltm",mime:"application/vnd.ms-excel.template.macroenabled.12"};case"application/vnd.ms-powerpoint.slideshow.macroenabled":return{ext:"ppsm",mime:"application/vnd.ms-powerpoint.slideshow.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return{ext:"docx",mime:e};case"application/vnd.ms-word.document.macroenabled":return{ext:"docm",mime:"application/vnd.ms-word.document.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":return{ext:"dotx",mime:e};case"application/vnd.ms-word.template.macroenabledtemplate":return{ext:"dotm",mime:"application/vnd.ms-word.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.template":return{ext:"potx",mime:e};case"application/vnd.ms-powerpoint.template.macroenabled":return{ext:"potm",mime:"application/vnd.ms-powerpoint.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return{ext:"pptx",mime:e};case"application/vnd.ms-powerpoint.presentation.macroenabled":return{ext:"pptm",mime:"application/vnd.ms-powerpoint.presentation.macroenabled.12"};case"application/vnd.ms-visio.drawing":return{ext:"vsdx",mime:"application/vnd.visio"};case"application/vnd.ms-package.3dmanufacturing-3dmodel+xml":return{ext:"3mf",mime:"model/3mf"}}}function uG(e,t,n){for(let[r,i]of(n={offset:0,...n},t.entries()))if(n.mask){if(i!==(n.mask[r]&e[r+n.offset]))return!1}else if(i!==e[r+n.offset])return!1;return!0}var uV,uZ=e2(()=>{uu(),uA(),uF(),uU(),uj(),uW(),uV=class{constructor(e){this.options={mpegOffsetTolerance:0,...e},this.detectors=[...e?.customDetectors??[],{id:"core",detect:this.detectConfident},{id:"core.imprecise",detect:this.detectImprecise}],this.tokenizerOptions={abortSignal:e?.signal}}async fromTokenizer(e){let t=e.position;for(let n of this.detectors){let r=await n.detect(e);if(r)return r;if(t!==e.position)return}}async fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer))throw TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``);let t=e instanceof Uint8Array?e:new Uint8Array(e);if(t?.length>1){var n;return this.fromTokenizer((n=this.tokenizerOptions,new ur(t,n)))}}async fromBlob(e){var t;let n=(t=this.tokenizerOptions,new ui(e,t));try{return await this.fromTokenizer(n)}finally{await n.close()}}async fromStream(e){var t;let n,r,i,s=(t=this.tokenizerOptions,n=function(e){try{let t=e.getReader({mode:"byob"});return t instanceof ReadableStreamDefaultReader?new ue(t):new c7(t)}catch(t){if(t instanceof TypeError)return new ue(e.getReader());throw t}}(e),i=(r=t??{}).onClose,r.onClose=async()=>{if(await n.close(),i)return i()},new un(n,r));try{return await this.fromTokenizer(s)}finally{await s.close()}}async toDetectionStream(e,t){let{sampleSize:n=4100}=t,r,i,s=e.getReader({mode:"byob"});try{let{value:e,done:t}=await s.read(new Uint8Array(n));if(i=e,!t&&e)try{r=await this.fromBuffer(e.subarray(0,n))}catch(e){if(!(e instanceof c6))throw e;r=void 0}i=e}finally{s.releaseLock()}let a=new TransformStream({async start(e){e.enqueue(i)},transform(e,t){t.enqueue(e)}}),o=e.pipeThrough(a);return o.fileType=r,o}check(e,t){return uG(this.buffer,e,t)}checkString(e,t){return this.check(function(e,t){if("utf-16le"===t){let t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t.push(255&r,r>>8&255)}return t}if("utf-16be"===t){let t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t.push(r>>8&255,255&r)}return t}return[...e].map(e=>e.charCodeAt(0))}(e,t?.encoding),t)}detectConfident=async e=>{if(this.buffer=new Uint8Array(4100),void 0===e.fileInfo.size&&(e.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=e,await e.peekBuffer(this.buffer,{length:32,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return await e.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.detectConfident(e);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8])){let t=new uI(e).inflate(),n=!0;try{let e;try{e=await this.fromStream(t)}catch{n=!1}if(e&&"tar"===e.ext)return{ext:"tar.gz",mime:"application/gzip"}}finally{n&&await t.cancel()}return{ext:"gz",mime:"application/gzip"}}if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await e.ignore(6);let t=await e.readToken(uH);return e.position+t>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(t),this.fromTokenizer(e))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===this.buffer[0]||70===this.buffer[0])&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){let t;return await new uL(e).unzip(e=>{switch(e.filename){case"META-INF/mozilla.rsa":return t={ext:"xpi",mime:"application/x-xpinstall"},{stop:!0};case"META-INF/MANIFEST.MF":return t={ext:"jar",mime:"application/java-archive"},{stop:!0};case"mimetype":return{async handler(e){t=uz(new TextDecoder("utf-8").decode(e).trim())},stop:!0};case"[Content_Types].xml":return{async handler(e){let n=new TextDecoder("utf-8").decode(e),r=n.indexOf('.main+xml"');if(-1===r){let e="application/vnd.ms-package.3dmanufacturing-3dmodel+xml";n.includes(`ContentType="${e}"`)&&(t=uz(e))}else{let e=(n=n.slice(0,Math.max(0,r))).lastIndexOf('"');t=uz(n.slice(Math.max(0,e+1)))}},stop:!0};default:return/classes\d*\.dex/.test(e.filename)?(t={ext:"apk",mime:"application/vnd.android.package-archive"},{stop:!0}):{}}}).catch(e=>{if(!(e instanceof c6))throw e}),t??{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await e.ignore(28);let t=new Uint8Array(8);return await e.readBuffer(t),uG(t,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/ogg; codecs=opus"}:uG(t,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:uG(t,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:uG(t,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:uG(t,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:uG(t,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(3===this.buffer[2]||5===this.buffer[2]||7===this.buffer[2])&&(4===this.buffer[3]||6===this.buffer[3]||8===this.buffer[3]))return{ext:"zip",mime:"application/zip"};if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF"))return{ext:"pdf",mime:"application/pdf"};if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){let e=await this.readTiffHeader(!1);if(e)return e}if(this.check([77,77])){let e=await this.readTiffHeader(!0);if(e)return e}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function t(){let t=await e.peekNumber(cQ),n=128,r=0;for(;(t&n)==0&&0!==n;)++r,n>>=1;let i=new Uint8Array(r+1);return await e.readBuffer(i),i}async function n(){let e=await t(),n=await t();n[0]^=128>>n.length-1;let r=Math.min(6,n.length),i=new DataView(e.buffer),s=new DataView(n.buffer,n.length-r,r);return{id:uB(i),len:uB(s)}}async function r(t){for(;t>0;){let r=await n();if(17026===r.id)return(await e.readToken(new c5(r.len))).replaceAll(/\00.*$/g,"");await e.ignore(r.len),--t}}let i=await n();switch(await r(i.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/matroska"};default:return}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1")||this.checkString("PARE"))return{ext:"parquet",mime:"application/vnd.apache.parquet"};if(this.checkString("ttcf"))return{ext:"ttc",mime:"font/collection"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([4,34,77,24]))return{ext:"lz4",mime:"application/x-lz4"};if(this.checkString("regf"))return{ext:"dat",mime:"application/x-ft-windows-registry-hive"};if(this.checkString("$FL2")||this.checkString("$FL3"))return{ext:"sav",mime:"application/x-spss-sav"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.checkString(".RMF"))return{ext:"rm",mime:"application/vnd.rn-realmedia"};if(this.checkString("DRACO"))return{ext:"drc",mime:"application/vnd.google.draco"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(0===this.buffer[6]||1===this.buffer[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){let e=new c5(4,"latin1").get(this.buffer,2);if(e.match("^d*")&&e>=1e3&&e<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return await e.ignore(8),await e.readToken(new c5(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.checkString("WEBVTT")&&[`
`,"\r","	"," ","\0"].some(e=>this.checkString(e,{offset:6})))return{ext:"vtt",mime:"text/vtt"};if(this.check([137,80,78,71,13,10,26,10])){async function i(){return{length:await e.readToken(c2),type:await e.readToken(new c5(4,"latin1"))}}await e.ignore(8);do{let t=await i();if(t.length<0)return;switch(t.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(t.length+4)}}while(e.position+8<e.fileInfo.size)return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/vnd.apache.arrow.file"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.checkString("ftyp",{offset:4})&&(96&this.buffer[8])!=0){let e=new c5(4,"latin1").get(this.buffer,8).replace("\0"," ").trim();switch(e){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return e.startsWith("3g")?e.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(this.checkString(`REGEDIT4\r
`))return{ext:"reg",mime:"application/x-ms-regedit"};if(this.check([82,73,70,70])){if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function s(){let t=new Uint8Array(16);return await e.readBuffer(t),{id:t,size:Number(await e.readToken(c3))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){let t=await s(),n=t.size-24;if(uG(t.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let t=new Uint8Array(16);if(n-=await e.readBuffer(t),uG(t,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(uG(t,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(n)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new c5(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.checkString("<?xml ",{offset:2,encoding:"utf-16be"})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(this.buffer,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("**ACE",{offset:7})&&this.checkString("**",{offset:12}))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){let e=new DataView(this.buffer.buffer).getUint32(12,!0);if(e>12&&this.buffer.length>=e+16)try{let t=new TextDecoder().decode(this.buffer.subarray(16,e+16));if(JSON.parse(t).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188})||this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(this.check([255,255,0,0,7,0,0,0,4,0,0,0,1,0,1,0])||this.check([0,0,255,255,0,0,0,7,0,0,0,4,0,1,0,1]))return{ext:"jmp",mime:"application/x-jmp-data"};if(await e.peekBuffer(this.buffer,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),this.checkString("ustar",{offset:257})&&(this.checkString("\0",{offset:262})||this.checkString(" ",{offset:262}))||this.check([0,0,0,0,0,0],{offset:257})&&function(e,t=0){let n=Number.parseInt(new c5(6).get(e,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(n))return!1;let r=256;for(let n=t;n<t+148;n++)r+=e[n];for(let n=t+156;n<t+512;n++)r+=e[n];return n===r}(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254])){let e="utf-16le";return this.checkString("<?xml ",{offset:2,encoding:e})?{ext:"xml",mime:"application/xml"}:this.check([255,14],{offset:2})&&this.checkString("SketchUp Model",{offset:4,encoding:e})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:this.checkString(`Windows Registry Editor Version 5.00\r
`,{offset:2,encoding:e})?{ext:"reg",mime:"application/x-ms-regedit"}:void 0}if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"}};detectImprecise=async e=>{if(this.buffer=new Uint8Array(4100),await e.peekBuffer(this.buffer,{length:Math.min(8,e.fileInfo.size),mayBeLess:!0}),this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(await e.peekBuffer(this.buffer,{length:Math.min(2+this.options.mpegOffsetTolerance,e.fileInfo.size),mayBeLess:!0}),this.buffer.length>=2+this.options.mpegOffsetTolerance)for(let e=0;e<=this.options.mpegOffsetTolerance;++e){let t=this.scanMpeg(e);if(t)return t}};async readTiffTag(e){let t=await this.tokenizer.readToken(e?cY:cJ);switch(this.tokenizer.ignore(10),t){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(e){let t=await this.tokenizer.readToken(e?cY:cJ);for(let n=0;n<t;++n){let t=await this.readTiffTag(e);if(t)return t}}async readTiffHeader(e){let t=(e?cY:cJ).get(this.buffer,2),n=(e?c1:c0).get(this.buffer,4);if(42===t){if(n>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n>=8){let t=(e?cY:cJ).get(this.buffer,8),n=(e?cY:cJ).get(this.buffer,10);if(28===t&&254===n||31===t&&11===n)return{ext:"nef",mime:"image/x-nikon-nef"}}}return await this.tokenizer.ignore(n),await this.readTiffIFD(e)??{ext:"tif",mime:"image/tiff"}}if(43===t)return{ext:"tif",mime:"image/tiff"}}scanMpeg(e){if(this.check([255,224],{offset:e,mask:[255,224]})){if(this.check([16],{offset:e+1,mask:[22]}))return this.check([8],{offset:e+1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:e+1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:e+1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:e+1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}}}),uK={};async function uX(e,t){if(0===t.length)return{description:"empty",mime:"inode/x-empty"};let n=await uq(t);return n?{description:function(e,t){if(uY[e])return uY[e];let[n,r]=t.split("/"),i=r?.split("+")[0]?.replace(/-/g," ")||e;switch(n){case"image":return`${i.toUpperCase()} image data`;case"audio":return`${i.toUpperCase()} audio`;case"video":return`${i.toUpperCase()} video`;case"font":return`${i} font`;case"model":return`${i} 3D model`;case"application":return r?.includes("zip")||r?.includes("compressed")?`${i} archive data`:r?.includes("executable")?`${i} executable`:`${e.toUpperCase()} data`;default:return`${e.toUpperCase()} data`}}(n.ext,n.mime),mime:n.mime}:function(e,t){if(e.startsWith("#!")){let t=e.split(`
`)[0];return t.includes("python")?{description:"Python script, ASCII text executable",mime:"text/x-python"}:t.includes("node")||t.includes("bun")||t.includes("deno")?{description:"JavaScript script, ASCII text executable",mime:"text/javascript"}:t.includes("bash")?{description:"Bourne-Again shell script, ASCII text executable",mime:"text/x-shellscript"}:t.includes("sh")?{description:"POSIX shell script, ASCII text executable",mime:"text/x-shellscript"}:t.includes("ruby")?{description:"Ruby script, ASCII text executable",mime:"text/x-ruby"}:t.includes("perl")?{description:"Perl script, ASCII text executable",mime:"text/x-perl"}:{description:"script, ASCII text executable",mime:"text/plain"}}let n=e.trimStart();if(n.startsWith("<?xml"))return{description:"XML document",mime:"application/xml"};if(n.startsWith("<!DOCTYPE html")||n.toLowerCase().startsWith("<html"))return{description:"HTML document",mime:"text/html"};let r=e.includes(`\r
`),i=e.includes("\r")&&!r,s="";r?s=", with CRLF line terminators":i&&(s=", with CR line terminators");let a=function(e){let t=e.split("/").pop()||e;if(t.startsWith(".")&&!t.includes(".",1))return t;let n=t.lastIndexOf(".");return -1===n||0===n?"":t.slice(n).toLowerCase()}(t);if(a&&uJ[a]){let e=uJ[a];return e.mime.startsWith("text/")&&s?{description:`${e.description}${s}`,mime:e.mime}:e}let o=!1;for(let t=0;t<Math.min(e.length,8192);t++)if(e.charCodeAt(t)>127){o=!0;break}return o?{description:`UTF-8 Unicode text${s}`,mime:"text/plain; charset=utf-8"}:{description:`ASCII text${s}`,mime:"text/plain"}}(new TextDecoder("utf-8",{fatal:!1}).decode(t),e)}e5(uK,{fileCommand:()=>u0});var uQ,uJ,uY,u0,u1=e2(()=>{uZ(),ti(),uQ={name:"file",summary:"determine file type",usage:"file [OPTION]... FILE...",options:["-b, --brief          do not prepend filenames to output","-i, --mime           output MIME type strings","-L, --dereference    follow symlinks","    --help           display this help and exit"]},uJ={".js":{description:"JavaScript source",mime:"text/javascript"},".mjs":{description:"JavaScript module",mime:"text/javascript"},".cjs":{description:"CommonJS module",mime:"text/javascript"},".ts":{description:"TypeScript source",mime:"text/typescript"},".tsx":{description:"TypeScript JSX source",mime:"text/typescript"},".jsx":{description:"JavaScript JSX source",mime:"text/javascript"},".py":{description:"Python script",mime:"text/x-python"},".rb":{description:"Ruby script",mime:"text/x-ruby"},".go":{description:"Go source",mime:"text/x-go"},".rs":{description:"Rust source",mime:"text/x-rust"},".c":{description:"C source",mime:"text/x-c"},".h":{description:"C header",mime:"text/x-c"},".cpp":{description:"C++ source",mime:"text/x-c++"},".hpp":{description:"C++ header",mime:"text/x-c++"},".java":{description:"Java source",mime:"text/x-java"},".sh":{description:"Bourne-Again shell script",mime:"text/x-shellscript"},".bash":{description:"Bourne-Again shell script",mime:"text/x-shellscript"},".zsh":{description:"Zsh shell script",mime:"text/x-shellscript"},".json":{description:"JSON data",mime:"application/json"},".yaml":{description:"YAML data",mime:"text/yaml"},".yml":{description:"YAML data",mime:"text/yaml"},".xml":{description:"XML document",mime:"application/xml"},".csv":{description:"CSV text",mime:"text/csv"},".toml":{description:"TOML data",mime:"text/toml"},".html":{description:"HTML document",mime:"text/html"},".htm":{description:"HTML document",mime:"text/html"},".css":{description:"CSS stylesheet",mime:"text/css"},".svg":{description:"SVG image",mime:"image/svg+xml"},".md":{description:"Markdown document",mime:"text/markdown"},".markdown":{description:"Markdown document",mime:"text/markdown"},".txt":{description:"ASCII text",mime:"text/plain"},".rst":{description:"reStructuredText",mime:"text/x-rst"},".env":{description:"ASCII text",mime:"text/plain"},".gitignore":{description:"ASCII text",mime:"text/plain"},".dockerignore":{description:"ASCII text",mime:"text/plain"}},uY={jpg:"JPEG image data",jpeg:"JPEG image data",png:"PNG image data",gif:"GIF image data",webp:"WebP image data",bmp:"PC bitmap",ico:"MS Windows icon resource",tif:"TIFF image data",tiff:"TIFF image data",psd:"Adobe Photoshop Document",avif:"AVIF image",heic:"HEIC image",heif:"HEIF image",jxl:"JPEG XL image",icns:"Mac OS X icon",svg:"SVG Scalable Vector Graphics image",pdf:"PDF document",epub:"EPUB document",mobi:"Mobipocket E-book",djvu:"DjVu document",zip:"Zip archive data",gz:"gzip compressed data",gzip:"gzip compressed data",bz2:"bzip2 compressed data",xz:"XZ compressed data",tar:"POSIX tar archive",rar:"RAR archive data","7z":"7-zip archive data",lz:"lzip compressed data",lzma:"LZMA compressed data",zst:"Zstandard compressed data",cab:"Microsoft Cabinet archive",ar:"Unix ar archive",rpm:"RPM package",deb:"Debian binary package",apk:"Android Package",dmg:"Apple disk image",iso:"ISO 9660 CD-ROM filesystem data",vhd:"Microsoft Virtual Hard Disk",vhdx:"Microsoft Virtual Hard Disk (new format)",qcow2:"QEMU QCOW Image",mp3:"Audio file with ID3",m4a:"MPEG-4 audio",aac:"AAC audio",wav:"RIFF (little-endian) data, WAVE audio",flac:"FLAC audio bitstream data",ogg:"Ogg data",oga:"Ogg audio",opus:"Ogg Opus audio",aiff:"AIFF audio",wma:"Windows Media Audio",amr:"AMR audio",mid:"MIDI audio",midi:"MIDI audio",ape:"Monkey's Audio",mp4:"ISO Media, MPEG-4",m4v:"MPEG-4 video",webm:"WebM",avi:"RIFF (little-endian) data, AVI",mov:"ISO Media, Apple QuickTime movie",mkv:"Matroska data",wmv:"Windows Media Video",flv:"Flash Video","3gp":"3GPP multimedia","3g2":"3GPP2 multimedia",ogv:"Ogg video",mts:"MPEG transport stream",m2ts:"MPEG transport stream",ts:"MPEG transport stream",mpg:"MPEG video",mpeg:"MPEG video",exe:"PE32 executable",dll:"PE32 DLL",elf:"ELF executable",mach:"Mach-O executable",wasm:"WebAssembly (wasm) binary module",dex:"Android Dalvik executable",class:"Java class file",swf:"Adobe Flash",doc:"Microsoft Word Document",docx:"Microsoft Word 2007+ Document",xls:"Microsoft Excel Spreadsheet",xlsx:"Microsoft Excel 2007+ Spreadsheet",ppt:"Microsoft PowerPoint Presentation",pptx:"Microsoft PowerPoint 2007+ Presentation",odt:"OpenDocument Text",ods:"OpenDocument Spreadsheet",odp:"OpenDocument Presentation",ttf:"TrueType Font",otf:"OpenType Font",woff:"Web Open Font Format",woff2:"Web Open Font Format 2",eot:"Embedded OpenType font",stl:"Stereolithography CAD",obj:"Wavefront 3D Object",gltf:"GL Transmission Format",glb:"GL Transmission Format (binary)",sqlite:"SQLite 3.x database",mdb:"Microsoft Access Database",xml:"XML document",json:"JSON data",macho:"Mach-O binary",ics:"iCalendar data",vcf:"vCard data",msi:"Microsoft Installer",ps:"PostScript",ai:"Adobe Illustrator",indd:"Adobe InDesign",sketch:"Sketch design file",fig:"Figma design file",xd:"Adobe XD",blend:"Blender",fbx:"Autodesk FBX",lnk:"MS Windows shortcut",alias:"Mac OS alias",torrent:"BitTorrent file",pcap:"pcap capture file",arrow:"Apache Arrow",parquet:"Apache Parquet"},u0={name:"file",async execute(e,t){if(tn(e))return tt(uQ);let n=!1,r=!1,i=[];for(let t of e)if(t.startsWith("--")){if("--brief"===t)n=!0;else if("--mime"===t||"--mime-type"===t)r=!0;else if("--dereference"!==t)return tr("file",t)}else if(t.startsWith("-")&&"-"!==t){for(let e of t.slice(1))if("b"===e)n=!0;else if("i"===e)r=!0;else if("L"!==e)return tr("file",`-${e}`)}else i.push(t);if(0===i.length)return{stdout:"",stderr:`Usage: file [-bLi] FILE...
`,exitCode:1};let s="",a=0;for(let e of i)try{let i=t.fs.resolvePath(t.cwd,e);if((await t.fs.stat(i)).isDirectory){let t=r?"inode/directory":"directory";s+=n?`${t}
`:`${e}: ${t}
`;continue}let a=await t.fs.readFileBuffer(i),o=await uX(e,a),l=r?o.mime:o.description;s+=n?`${l}
`:`${e}: ${l}
`}catch{s+=n?`cannot open
`:`${e}: cannot open (No such file or directory)
`,a=1}return{stdout:s,stderr:"",exitCode:a}}}}),u2={};e5(u2,{htmlToMarkdownCommand:()=>u5});var u3,u5,u6=e2(()=>{ti(),u3={name:"html-to-markdown",summary:"convert HTML to Markdown (BashEnv extension)",usage:"html-to-markdown [OPTION]... [FILE]",description:["Convert HTML content to Markdown format using the turndown library.","This is a non-standard BashEnv extension command, not available in regular bash.","","Read HTML from FILE or standard input and output Markdown to standard output.","Commonly used with curl to convert web pages:","  curl -s https://example.com | html-to-markdown","","Supported HTML elements:","  - Headings (h1-h6) â # Markdown headings","  - Paragraphs (p) â Plain text with blank lines","  - Links (a) â [text](url)","  - Images (img) â ![alt](src)","  - Bold/Strong â **text**","  - Italic/Em â _text_","  - Code (code, pre) â `inline` or fenced blocks","  - Lists (ul, ol, li) â - or 1. items","  - Blockquotes â > quoted text","  - Horizontal rules (hr) â ---"],options:["-b, --bullet=CHAR     bullet character for unordered lists (-, +, or *)","-c, --code=FENCE      fence style for code blocks (``` or ~~~)","-r, --hr=STRING       string for horizontal rules (default: ---)","    --heading-style=STYLE","                      heading style: 'atx' for # headings (default),","                      'setext' for underlined headings (h1/h2 only)","    --help            display this help and exit"],examples:["echo '<h1>Hello</h1><p>World</p>' | html-to-markdown","html-to-markdown page.html","curl -s https://example.com | html-to-markdown > page.md"]},u5={name:"html-to-markdown",async execute(e,t){let n;if(tn(e))return tt(u3);let r="-",i="```",s="---",a="atx",o=[];for(let t=0;t<e.length;t++){let n=e[t];if("-b"===n||"--bullet"===n)r=e[++t]??"-";else if(n.startsWith("--bullet="))r=n.slice(9);else if("-c"===n||"--code"===n)i=e[++t]??"```";else if(n.startsWith("--code="))i=n.slice(7);else if("-r"===n||"--hr"===n)s=e[++t]??"---";else if(n.startsWith("--hr="))s=n.slice(5);else if(n.startsWith("--heading-style=")){let e=n.slice(16);("setext"===e||"atx"===e)&&(a=e)}else if("-"===n)o.push("-");else{if(n.startsWith("--")||n.startsWith("-"))return tr("html-to-markdown",n);o.push(n)}}if(0===o.length||1===o.length&&"-"===o[0])n=t.stdin;else try{let e=t.fs.resolvePath(t.cwd,o[0]);n=await t.fs.readFile(e)}catch{return{stdout:"",stderr:`html-to-markdown: ${o[0]}: No such file or directory
`,exitCode:1}}if(!n.trim())return{stdout:"",stderr:"",exitCode:0};try{let e=new ez({bulletListMarker:r,codeBlockStyle:"fenced",fence:i,hr:s,headingStyle:a});return e.remove(["script","style","footer"]),{stdout:`${e.turndown(n).trim()}
`,stderr:"",exitCode:0}}catch(e){return{stdout:"",stderr:`html-to-markdown: conversion error: ${e.message}
`,exitCode:1}}}}}),u4={};e5(u4,{helpCommand:()=>u9});var u8,u9,u7=e2(()=>{u8={"File operations":["ls","cat","head","tail","wc","touch","mkdir","rm","cp","mv","ln","chmod","stat","readlink"],"Text processing":["grep","sed","awk","sort","uniq","cut","tr","tee","diff"],Search:["find"],"Navigation & paths":["pwd","basename","dirname","tree","du"],"Environment & shell":["echo","printf","env","printenv","export","alias","unalias","history","clear","true","false","bash","sh"],"Data processing":["xargs","jq","base64","date"],Network:["curl","html-to-markdown"]},u9={name:"help",async execute(e,t){if(e.includes("--help")||e.includes("-h"))return{stdout:`help - display available commands

Usage: help [command]

Options:
  -h, --help    Show this help message

If a command name is provided, shows help for that command.
Otherwise, lists all available commands.
`,stderr:"",exitCode:0};if(e.length>0&&t.exec){let n=e[0];return t.exec(`${n} --help`,{cwd:t.cwd})}return{stdout:function(e){let t=[],n=new Set(e);t.push(`Available commands:
`);let r=[];for(let[e,r]of Object.entries(u8)){let i=r.filter(e=>n.has(e));if(i.length>0)for(let r of(t.push(`  ${e}:`),t.push(`    ${i.join(", ")}
`),i))n.delete(r)}for(let e of n)r.push(e);return r.length>0&&(t.push("  Other:"),t.push(`    ${r.sort().join(", ")}
`)),t.push("Use '<command> --help' for details on a specific command."),`${t.join(`
`)}
`}(t.getRegisteredCommands?.()??[]),stderr:"",exitCode:0}}}}),pe={};e5(pe,{whichCommand:()=>pr});var pt,pn,pr,pi=e2(()=>{ta(),ti(),pt={name:"which",summary:"locate a command",usage:"which [-as] program ...",options:["-a         List all instances of executables found","-s         No output, just return 0 if found, 1 if not","--help     display this help and exit"]},pn={showAll:{short:"a",type:"boolean"},silent:{short:"s",type:"boolean"}},pr={name:"which",async execute(e,t){if(tn(e))return tt(pt);let n=ts("which",e,pn);if(!n.ok)return n.error;let r=n.result.flags.showAll,i=n.result.flags.silent,s=n.result.positional;if(0===s.length)return{stdout:"",stderr:"",exitCode:1};let a=(t.env.PATH||"/usr/bin:/bin").split(":"),o="",l=!0;for(let e of s){let n=!1;for(let s of a){if(!s)continue;let a=`${s}/${e}`;if(await t.fs.exists(a)&&(n=!0,i||(o+=`${a}
`),!r))break}n||(l=!1)}return{stdout:o,stderr:"",exitCode:+!l}}}}),ps={};async function pa(e,t){if(e.length>0&&"-"!==e[0]){let n=e[0].startsWith("/")?e[0]:`${t.cwd}/${e[0]}`;try{let e=(await t.fs.readFile(n)).split(`
`);""===e[e.length-1]&&e.pop();let r=e.reverse();return{stdout:r.length>0?`${r.join(`
`)}
`:"",stderr:"",exitCode:0}}catch{return{stdout:"",stderr:`tac: ${e[0]}: No such file or directory
`,exitCode:1}}}let n=t.stdin.split(`
`);""===n[n.length-1]&&n.pop();let r=n.reverse();return{stdout:r.length>0?`${r.join(`
`)}
`:"",stderr:"",exitCode:0}}e5(ps,{tac:()=>po});var po,pl=e2(()=>{po={name:"tac",execute:pa}}),pc={};async function pu(e,t){return{stdout:`localhost
`,stderr:"",exitCode:0}}e5(pc,{hostname:()=>pp});var pp,ph=e2(()=>{pp={name:"hostname",execute:pu}}),p_={};async function pf(e,t){return{stdout:`user
`,stderr:"",exitCode:0}}e5(p_,{whoami:()=>pd});var pd,pg=e2(()=>{pd={name:"whoami",execute:pf}}),pm={};async function pv(e,t){let n="octal",r=[],i=[];for(let t=0;t<e.length;t++){let s=e[t];if("-c"===s)r.push("char");else if("-An"===s||"-A"===s&&"n"===e[t+1])n="none","-A"===s&&t++;else if("-t"===s&&e[t+1]){let n=e[++t];"x1"===n?r.push("hex"):"c"===n?r.push("char"):n.startsWith("o")&&r.push("octal")}else s.startsWith("-")&&"-"!==s||i.push(s)}0===r.length&&r.push("octal");let s=t.stdin;if(i.length>0&&"-"!==i[0]){let e=i[0].startsWith("/")?i[0]:`${t.cwd}/${i[0]}`;try{s=await t.fs.readFile(e)}catch{return{stdout:"",stderr:`od: ${i[0]}: No such file or directory
`,exitCode:1}}}let a=r.includes("char");function o(e){return 0===e?"  \\0":7===e?"  \\a":8===e?"  \\b":9===e?"  \\t":10===e?"  \\n":11===e?"  \\v":12===e?"  \\f":13===e?"  \\r":e>=32&&e<127?`   ${String.fromCharCode(e)}`:` ${e.toString(8).padStart(3,"0")}`}function l(e){return a?`  ${e.toString(16).padStart(2,"0")}`:` ${e.toString(16).padStart(2,"0")}`}function c(e){return` ${e.toString(8).padStart(3,"0")}`}let u=[];for(let e of s)u.push(e.charCodeAt(0));let p=[];for(let e=0;e<u.length;e+=16){let t=u.slice(e,e+16);for(let i=0;i<r.length;i++){let s=r[i],a;a="char"===s?t.map(o):"hex"===s?t.map(l):t.map(c);let u="";0===i&&"none"!==n?u=`${e.toString(8).padStart(7,"0")} `:(i>0||"none"===n)&&(u="none"===n?"":"        "),p.push(u+a.join(""))}}return"none"!==n&&u.length>0&&p.push(u.length.toString(8).padStart(7,"0")),{stdout:p.length>0?`${p.join(`
`)}
`:"",stderr:"",exitCode:0}}e5(pm,{od:()=>pb});var pb,py=e2(()=>{pb={name:"od",execute:pv}}),p$={};function px(e){return e.best?ef.constants.Z_BEST_COMPRESSION:e.level8?8:e.level7?7:e.level6?6:e.level5?5:e.level4?4:e.level3?3:e.level2?2:e.fast?ef.constants.Z_BEST_SPEED:ef.constants.Z_DEFAULT_COMPRESSION}function pS(e){if(e.length<10||31!==e[0]||139!==e[1])return{originalName:null,mtime:null,headerSize:0};let t=e[3],n=e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r=10;if(4&t){if(r+2>e.length)return{originalName:null,mtime:null,headerSize:0};let t=e[r]|e[r+1]<<8;r+=2+t}let i=null;if(8&t){let t=r;for(;r<e.length&&0!==e[r];)r++;r<e.length&&(i=new TextDecoder().decode(e.slice(t,r)),r++)}if(16&t){for(;r<e.length&&0!==e[r];)r++;r++}return 2&t&&(r+=2),{originalName:i,mtime:n>0?new Date(1e3*n):null,headerSize:r}}function pA(e){return e.length>=2&&31===e[0]&&139===e[1]}async function pw(e,t,n,r,i,s){let a=n.suffix,o,l,c;if("-"===t||""===t)if(c=Uint8Array.from(e.stdin,e=>e.charCodeAt(0)),i){if(!pA(c))return n.quiet?{stdout:"",stderr:"",exitCode:1}:{stdout:"",stderr:`${r}: stdin: not in gzip format
`,exitCode:1};try{let e=(0,ef.gunzipSync)(c);return{stdout:String.fromCharCode(...e),stderr:"",exitCode:0}}catch(t){let e=t instanceof Error?t.message:"unknown error";return{stdout:"",stderr:`${r}: stdin: ${e}
`,exitCode:1}}}else{let e=px(n);return{stdout:String.fromCharCode(...(0,ef.gzipSync)(c,{level:e})),stderr:"",exitCode:0}}o=e.fs.resolvePath(e.cwd,t);try{if((await e.fs.stat(o)).isDirectory)return n.recursive?await pE(e,o,n,r,i,s):n.quiet?{stdout:"",stderr:"",exitCode:1}:{stdout:"",stderr:`${r}: ${t}: is a directory -- ignored
`,exitCode:1}}catch{return{stdout:"",stderr:`${r}: ${t}: No such file or directory
`,exitCode:1}}try{c=await e.fs.readFileBuffer(o)}catch{return{stdout:"",stderr:`${r}: ${t}: No such file or directory
`,exitCode:1}}if(i){let i;if(!t.endsWith(a))return n.quiet?{stdout:"",stderr:"",exitCode:1}:{stdout:"",stderr:`${r}: ${t}: unknown suffix -- ignored
`,exitCode:1};if(!pA(c))return n.quiet?{stdout:"",stderr:"",exitCode:1}:{stdout:"",stderr:`${r}: ${t}: not in gzip format
`,exitCode:1};try{i=(0,ef.gunzipSync)(c)}catch(n){let e=n instanceof Error?n.message:"unknown error";return{stdout:"",stderr:`${r}: ${t}: ${e}
`,exitCode:1}}if(s)return{stdout:String.fromCharCode(...i),stderr:"",exitCode:0};if(n.name){let t=pS(c);l=t.originalName?e.fs.resolvePath(e.cwd,t.originalName):o.slice(0,-a.length)}else l=o.slice(0,-a.length);if(!n.force)try{return await e.fs.stat(l),{stdout:"",stderr:`${r}: ${l} already exists; not overwritten
`,exitCode:1}}catch{}if(await e.fs.writeFile(l,i),n.keep||s||await e.fs.rm(o),n.verbose){let e=c.length>0?((1-c.length/i.length)*100).toFixed(1):"0.0";return{stdout:"",stderr:`${t}:	${e}% -- replaced with ${l.split("/").pop()}
`,exitCode:0}}return{stdout:"",stderr:"",exitCode:0}}{if(t.endsWith(a))return n.quiet?{stdout:"",stderr:"",exitCode:1}:{stdout:"",stderr:`${r}: ${t} already has ${a} suffix -- unchanged
`,exitCode:1};let i=px(n),u;try{u=(0,ef.gzipSync)(c,{level:i})}catch(n){let e=n instanceof Error?n.message:"unknown error";return{stdout:"",stderr:`${r}: ${t}: ${e}
`,exitCode:1}}if(s)return{stdout:String.fromCharCode(...u),stderr:"",exitCode:0};if(l=o+a,!n.force)try{return await e.fs.stat(l),{stdout:"",stderr:`${r}: ${l} already exists; not overwritten
`,exitCode:1}}catch{}if(await e.fs.writeFile(l,u),n.keep||s||await e.fs.rm(o),n.verbose){let e=c.length>0?((1-u.length/c.length)*100).toFixed(1):"0.0";return{stdout:"",stderr:`${t}:	${e}% -- replaced with ${l.split("/").pop()}
`,exitCode:0}}return{stdout:"",stderr:"",exitCode:0}}}async function pE(e,t,n,r,i,s){let a=await e.fs.readdir(t),o="",l="",c=0;for(let u of a){let a=e.fs.resolvePath(t,u),p=await e.fs.stat(a);if(p.isDirectory){let t=await pE(e,a,n,r,i,s);o+=t.stdout,l+=t.stderr,0!==t.exitCode&&(c=t.exitCode)}else if(p.isFile){let t=n.suffix;if(i&&!u.endsWith(t)||!i&&u.endsWith(t))continue;let p=a.startsWith(`${e.cwd}/`)?a.slice(e.cwd.length+1):a,h=await pw(e,p,n,r,i,s);o+=h.stdout,l+=h.stderr,0!==h.exitCode&&(c=h.exitCode)}}return{stdout:o,stderr:l,exitCode:c}}async function pk(e,t,n,r){let i;if("-"===t||""===t)i=Uint8Array.from(e.stdin,e=>e.charCodeAt(0));else{let n=e.fs.resolvePath(e.cwd,t);try{i=await e.fs.readFileBuffer(n)}catch{return{stdout:"",stderr:`${r}: ${t}: No such file or directory
`,exitCode:1}}}if(!pA(i))return n.quiet?{stdout:"",stderr:"",exitCode:1}:{stdout:"",stderr:`${r}: ${t}: not in gzip format
`,exitCode:1};let s=i.length,a=function(e){if(e.length<4)return 0;let t=e.length;return e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24}(i),o=a>0?((1-s/a)*100).toFixed(1):"0.0",l=pS(i).originalName||("-"===t?"":t.replace(/\.gz$/,""));return{stdout:`${s.toString().padStart(10)} ${a.toString().padStart(10)} ${o.padStart(5)}% ${l}
`,stderr:"",exitCode:0}}async function pC(e,t,n,r){let i;if("-"===t||""===t)i=Uint8Array.from(e.stdin,e=>e.charCodeAt(0));else{let n=e.fs.resolvePath(e.cwd,t);try{i=await e.fs.readFileBuffer(n)}catch{return{stdout:"",stderr:`${r}: ${t}: No such file or directory
`,exitCode:1}}}if(!pA(i))return n.quiet?{stdout:"",stderr:"",exitCode:1}:{stdout:"",stderr:`${r}: ${t}: not in gzip format
`,exitCode:1};try{return(0,ef.gunzipSync)(i),n.verbose?{stdout:"",stderr:`${t}:	OK
`,exitCode:0}:{stdout:"",stderr:"",exitCode:0}}catch(n){let e=n instanceof Error?n.message:"invalid";return{stdout:"",stderr:`${r}: ${t}: ${e}
`,exitCode:1}}}async function pO(e,t,n){let r="zcat"===n?pN:"gunzip"===n?pT:pR;if(tn(e))return tt(r);let i=ts(n,e,pP);if(!i.ok)return i.error.stderr.includes("unrecognized option"),i.error;let s=i.result.flags,a=i.result.positional,o="gunzip"===n||"zcat"===n||s.decompress||s.uncompress,l="zcat"===n||s.stdout||s.toStdout;if(s.list){0===a.length&&(a=["-"]);let e=`  compressed uncompressed  ratio uncompressed_name
`,r="",i=0;for(let o of a){let a=await pk(t,o,s,n);e+=a.stdout,r+=a.stderr,0!==a.exitCode&&(i=a.exitCode)}return{stdout:e,stderr:r,exitCode:i}}if(s.test){0===a.length&&(a=["-"]);let e="",r="",i=0;for(let o of a){let a=await pC(t,o,s,n);e+=a.stdout,r+=a.stderr,0!==a.exitCode&&(i=a.exitCode)}return{stdout:e,stderr:r,exitCode:i}}0===a.length&&(a=["-"]);let c="",u="",p=0;for(let e of a){let r=await pw(t,e,s,n,o,l);c+=r.stdout,u+=r.stderr,0!==r.exitCode&&(p=r.exitCode)}return{stdout:c,stderr:u,exitCode:p}}e5(p$,{gunzipCommand:()=>pI,gzipCommand:()=>pL,zcatCommand:()=>pD});var pR,pT,pN,pP,pL,pI,pD,pM=e2(()=>{ta(),ti(),pR={name:"gzip",summary:"compress or expand files",usage:"gzip [OPTION]... [FILE]...",description:`Compress FILEs (by default, in-place).

When no FILE is given, or when FILE is -, read from standard input.

With -d, decompress instead.`,options:["-c, --stdout      write to standard output, keep original files","-d, --decompress  decompress","-f, --force       force overwrite of output file","-k, --keep        keep (don't delete) input files","-l, --list        list compressed file contents","-n, --no-name     do not save or restore the original name and timestamp","-N, --name        save or restore the original file name and timestamp","-q, --quiet       suppress all warnings","-r, --recursive   operate recursively on directories","-S, --suffix=SUF  use suffix SUF on compressed files (default: .gz)","-t, --test        test compressed file integrity","-v, --verbose     verbose mode","-1, --fast        compress faster","-9, --best        compress better","    --help        display this help and exit"]},pT={name:"gunzip",summary:"decompress files",usage:"gunzip [OPTION]... [FILE]...",description:`Decompress FILEs (by default, in-place).

When no FILE is given, or when FILE is -, read from standard input.`,options:["-c, --stdout      write to standard output, keep original files","-f, --force       force overwrite of output file","-k, --keep        keep (don't delete) input files","-l, --list        list compressed file contents","-n, --no-name     do not restore the original name and timestamp","-N, --name        restore the original file name and timestamp","-q, --quiet       suppress all warnings","-r, --recursive   operate recursively on directories","-S, --suffix=SUF  use suffix SUF on compressed files (default: .gz)","-t, --test        test compressed file integrity","-v, --verbose     verbose mode","    --help        display this help and exit"]},pN={name:"zcat",summary:"decompress files to stdout",usage:"zcat [OPTION]... [FILE]...",description:`Decompress FILEs to standard output.

When no FILE is given, or when FILE is -, read from standard input.`,options:["-f, --force       force; read compressed data even from a terminal","-l, --list        list compressed file contents","-q, --quiet       suppress all warnings","-S, --suffix=SUF  use suffix SUF on compressed files (default: .gz)","-t, --test        test compressed file integrity","-v, --verbose     verbose mode","    --help        display this help and exit"]},pP={stdout:{short:"c",long:"stdout",type:"boolean"},toStdout:{long:"to-stdout",type:"boolean"},decompress:{short:"d",long:"decompress",type:"boolean"},uncompress:{long:"uncompress",type:"boolean"},force:{short:"f",long:"force",type:"boolean"},keep:{short:"k",long:"keep",type:"boolean"},list:{short:"l",long:"list",type:"boolean"},noName:{short:"n",long:"no-name",type:"boolean"},name:{short:"N",long:"name",type:"boolean"},quiet:{short:"q",long:"quiet",type:"boolean"},recursive:{short:"r",long:"recursive",type:"boolean"},suffix:{short:"S",long:"suffix",type:"string",default:".gz"},test:{short:"t",long:"test",type:"boolean"},verbose:{short:"v",long:"verbose",type:"boolean"},fast:{short:"1",long:"fast",type:"boolean"},level2:{short:"2",type:"boolean"},level3:{short:"3",type:"boolean"},level4:{short:"4",type:"boolean"},level5:{short:"5",type:"boolean"},level6:{short:"6",type:"boolean"},level7:{short:"7",type:"boolean"},level8:{short:"8",type:"boolean"},best:{short:"9",long:"best",type:"boolean"}},pL={name:"gzip",execute:async(e,t)=>pO(e,t,"gzip")},pI={name:"gunzip",execute:async(e,t)=>pO(e,t,"gunzip")},pD={name:"zcat",execute:async(e,t)=>pO(e,t,"zcat")}});function pF(e){let t=e.indexOf("=");if(t>=0){let n=e.slice(0,t),r=e.slice(t+1);return n?`${encodeURIComponent(n)}=${encodeURIComponent(r)}`:encodeURIComponent(r)}return encodeURIComponent(e)}function pB(e){let t=e.indexOf("=");if(t<0)return null;let n=e.slice(0,t),r=e.slice(t+1),i,s,a=r.match(/;type=([^;]+)$/);a&&(s=a[1],r=r.slice(0,-a[0].length));let o=r.match(/;filename=([^;]+)/);return o&&(i=o[1],r=r.replace(o[0],"")),(r.startsWith("@")||r.startsWith("<"))&&(i=i??r.slice(1).split("/").pop()),{name:n,value:r,filename:i,contentType:s}}var pH,pU=e2(()=>{}),pj=e2(()=>{pH={name:"curl",summary:"transfer a URL",usage:"curl [OPTIONS] URL",options:["-X, --request METHOD  HTTP method (GET, POST, PUT, DELETE, etc.)","-H, --header HEADER   Add header (can be used multiple times)","-d, --data DATA       HTTP POST data","    --data-raw DATA   HTTP POST data (no @ interpretation)","    --data-binary DATA  HTTP POST binary data","    --data-urlencode DATA  URL-encode and POST data","-F, --form NAME=VALUE  Multipart form data","-u, --user USER:PASS  HTTP authentication","-A, --user-agent STR  Set User-Agent header","-e, --referer URL     Set Referer header","-b, --cookie DATA     Send cookies (name=value or @file)","-c, --cookie-jar FILE Save cookies to file","-T, --upload-file FILE  Upload file (PUT)","-o, --output FILE     Write output to file","-O, --remote-name     Write to file named from URL","-I, --head            Show headers only (HEAD request)","-i, --include         Include response headers in output","-s, --silent          Silent mode (no progress)","-S, --show-error      Show errors even when silent","-f, --fail            Fail silently on HTTP errors (no output)","-L, --location        Follow redirects (default)","    --max-redirs NUM  Maximum redirects (default: 20)","-m, --max-time SECS   Maximum time for request","    --connect-timeout SECS  Connection timeout","-w, --write-out FMT   Output format after completion","-v, --verbose         Verbose output","    --help            Display this help and exit","","Note: Network access must be configured via BashEnv network option.","      curl is not available by default for security reasons."]}}),pW=e2(()=>{ti(),pU()});function pq(e){return Object.entries(e).map(([e,t])=>`${e}: ${t}`).join(`\r
`)}function pz(e,t){let n=e;return(n=(n=(n=(n=n.replace(/%\{http_code\}/g,String(t.status))).replace(/%\{content_type\}/g,t.headers["content-type"]||"")).replace(/%\{url_effective\}/g,t.url)).replace(/%\{size_download\}/g,String(t.bodyLength))).replace(/\\n/g,`
`)}var pG=e2(()=>{}),pV={};async function pZ(e,t){if(e.uploadFile){let n=t.fs.resolvePath(t.cwd,e.uploadFile);return{body:await t.fs.readFile(n)}}if(e.formFields.length>0){let n=new Map;for(let r of e.formFields)if(r.value.startsWith("@")||r.value.startsWith("<")){let e=t.fs.resolvePath(t.cwd,r.value.slice(1));try{let i=await t.fs.readFile(e);n.set(r.value.slice(1),i)}catch{n.set(r.value.slice(1),"")}}let{body:r,boundary:i}=function(e,t){let n=`----CurlFormBoundary${Date.now().toString(36)}`,r=[];for(let i of e){let e=i.value;if(e.startsWith("@")||e.startsWith("<")){let n=e.slice(1);e=t.get(n)??""}let s=`--${n}\r
`;i.filename?(s+=`Content-Disposition: form-data; name="${i.name}"; filename="${i.filename}"\r
`,i.contentType&&(s+=`Content-Type: ${i.contentType}\r
`)):s+=`Content-Disposition: form-data; name="${i.name}"\r
`,s+=`\r
${e}\r
`,r.push(s)}return r.push(`--${n}--\r
`),{body:r.join(""),boundary:n}}(e.formFields,n);return{body:r,contentType:`multipart/form-data; boundary=${i}`}}return void 0!==e.data?{body:e.data}:{}}async function pK(e,t,n){if(!e.cookieJar)return;let r=t["set-cookie"];if(!r)return;let i=n.fs.resolvePath(n.cwd,e.cookieJar);await n.fs.writeFile(i,r)}e5(pV,{curlCommand:()=>pX});var pX,pQ=e2(()=>{tm(),ti(),pU(),pj(),pW(),pG(),pX={name:"curl",async execute(e,t){if(tn(e))return tt(pH);let n=function(e){let t={method:"GET",headers:{},dataBinary:!1,formFields:[],useRemoteName:!1,headOnly:!1,includeHeaders:!1,silent:!1,showError:!1,failSilently:!1,followRedirects:!0,verbose:!1};for(let n=0;n<e.length;n++){let r=e[n];if("-X"===r||"--request"===r)t.method=e[++n]??"GET";else if(r.startsWith("-X"))t.method=r.slice(2);else if(r.startsWith("--request="))t.method=r.slice(10);else if("-H"===r||"--header"===r){let r=e[++n];if(r){let e=r.indexOf(":");if(e>0){let n=r.slice(0,e).trim(),i=r.slice(e+1).trim();t.headers[n]=i}}}else if(r.startsWith("--header=")){let e=r.slice(9),n=e.indexOf(":");if(n>0){let r=e.slice(0,n).trim(),i=e.slice(n+1).trim();t.headers[r]=i}}else if("-d"===r||"--data"===r||"--data-raw"===r)t.data=e[++n]??"","GET"===t.method&&(t.method="POST");else if(r.startsWith("-d"))t.data=r.slice(2),"GET"===t.method&&(t.method="POST");else if(r.startsWith("--data="))t.data=r.slice(7),"GET"===t.method&&(t.method="POST");else if(r.startsWith("--data-raw="))t.data=r.slice(11),"GET"===t.method&&(t.method="POST");else if("--data-binary"===r)t.data=e[++n]??"",t.dataBinary=!0,"GET"===t.method&&(t.method="POST");else if(r.startsWith("--data-binary="))t.data=r.slice(14),t.dataBinary=!0,"GET"===t.method&&(t.method="POST");else if("--data-urlencode"===r){let r=e[++n]??"";t.data=(t.data?`${t.data}&`:"")+pF(r),"GET"===t.method&&(t.method="POST")}else if(r.startsWith("--data-urlencode=")){let e=r.slice(17);t.data=(t.data?`${t.data}&`:"")+pF(e),"GET"===t.method&&(t.method="POST")}else if("-F"===r||"--form"===r){let r=pB(e[++n]??"");r&&t.formFields.push(r),"GET"===t.method&&(t.method="POST")}else if(r.startsWith("--form=")){let e=pB(r.slice(7));e&&t.formFields.push(e),"GET"===t.method&&(t.method="POST")}else if("-u"===r||"--user"===r)t.user=e[++n];else if(r.startsWith("-u"))t.user=r.slice(2);else if(r.startsWith("--user="))t.user=r.slice(7);else if("-A"===r||"--user-agent"===r)t.headers["User-Agent"]=e[++n]??"";else if(r.startsWith("-A"))t.headers["User-Agent"]=r.slice(2);else if(r.startsWith("--user-agent="))t.headers["User-Agent"]=r.slice(13);else if("-e"===r||"--referer"===r)t.headers.Referer=e[++n]??"";else if(r.startsWith("-e"))t.headers.Referer=r.slice(2);else if(r.startsWith("--referer="))t.headers.Referer=r.slice(10);else if("-b"===r||"--cookie"===r)t.headers.Cookie=e[++n]??"";else if(r.startsWith("-b"))t.headers.Cookie=r.slice(2);else if(r.startsWith("--cookie="))t.headers.Cookie=r.slice(9);else if("-c"===r||"--cookie-jar"===r)t.cookieJar=e[++n];else if(r.startsWith("--cookie-jar="))t.cookieJar=r.slice(13);else if("-T"===r||"--upload-file"===r)t.uploadFile=e[++n],"GET"===t.method&&(t.method="PUT");else if(r.startsWith("--upload-file="))t.uploadFile=r.slice(14),"GET"===t.method&&(t.method="PUT");else if("-m"===r||"--max-time"===r){let r=parseFloat(e[++n]??"0");!Number.isNaN(r)&&r>0&&(t.timeoutMs=1e3*r)}else if(r.startsWith("--max-time=")){let e=parseFloat(r.slice(11));!Number.isNaN(e)&&e>0&&(t.timeoutMs=1e3*e)}else if("--connect-timeout"===r){let r=parseFloat(e[++n]??"0");!Number.isNaN(r)&&r>0&&void 0===t.timeoutMs&&(t.timeoutMs=1e3*r)}else if(r.startsWith("--connect-timeout=")){let e=parseFloat(r.slice(18));!Number.isNaN(e)&&e>0&&void 0===t.timeoutMs&&(t.timeoutMs=1e3*e)}else if("-o"===r||"--output"===r)t.outputFile=e[++n];else if(r.startsWith("--output="))t.outputFile=r.slice(9);else if("-O"===r||"--remote-name"===r)t.useRemoteName=!0;else if("-I"===r||"--head"===r)t.headOnly=!0,t.method="HEAD";else if("-i"===r||"--include"===r)t.includeHeaders=!0;else if("-s"===r||"--silent"===r)t.silent=!0;else if("-S"===r||"--show-error"===r)t.showError=!0;else if("-f"===r||"--fail"===r)t.failSilently=!0;else if("-L"===r||"--location"===r)t.followRedirects=!0;else if("--max-redirs"===r)n++;else if(!r.startsWith("--max-redirs="))if("-w"===r||"--write-out"===r)t.writeOut=e[++n];else if(r.startsWith("--write-out="))t.writeOut=r.slice(12);else if("-v"===r||"--verbose"===r)t.verbose=!0;else{if(r.startsWith("--")&&"--"!==r)return tr("curl",r);if(r.startsWith("-")&&"-"!==r)for(let e of r.slice(1))switch(e){case"s":t.silent=!0;break;case"S":t.showError=!0;break;case"f":t.failSilently=!0;break;case"L":t.followRedirects=!0;break;case"I":t.headOnly=!0,t.method="HEAD";break;case"i":t.includeHeaders=!0;break;case"O":t.useRemoteName=!0;break;case"v":t.verbose=!0;break;default:return tr("curl",`-${e}`)}else r.startsWith("-")||(t.url=r)}}return t}(e);if("exitCode"in n)return n;if(!n.url)return{stdout:"",stderr:`curl: no URL specified
`,exitCode:2};if(!t.fetch)return{stdout:"",stderr:`curl: internal error: fetch not available
`,exitCode:1};let r=n.url;r.match(/^https?:\/\//)||(r=`https://${r}`);try{let{body:e,contentType:i}=await pZ(n,t),s=function(e,t){let n={...e.headers};if(e.user){let t=a.Buffer.from(e.user).toString("base64");n.Authorization=`Basic ${t}`}return t&&!n["Content-Type"]&&(n["Content-Type"]=t),n}(n,i),o=await t.fetch(r,{method:n.method,headers:Object.keys(s).length>0?s:void 0,body:e,followRedirects:n.followRedirects,timeoutMs:n.timeoutMs});if(await pK(n,o.headers,t),n.failSilently&&o.status>=400)return{stdout:"",stderr:n.showError||!n.silent?`curl: (22) The requested URL returned error: ${o.status}
`:"",exitCode:22};let l=function(e,t,n){let r="";if(e.verbose){for(let[t,i]of(r+=`> ${e.method} ${n}
`,Object.entries(e.headers)))r+=`> ${t}: ${i}
`;for(let[e,n]of(r+=`>
`,r+=`< HTTP/1.1 ${t.status} ${t.statusText}
`,Object.entries(t.headers)))r+=`< ${e}: ${n}
`;r+=`<
`}return e.includeHeaders&&!e.verbose&&(r+=`HTTP/1.1 ${t.status} ${t.statusText}\r
`,r+=pq(t.headers),r+=`\r
\r
`),e.headOnly?e.includeHeaders||e.verbose||(r+=`HTTP/1.1 ${t.status} ${t.statusText}\r
`,r+=pq(t.headers),r+=`\r
`):r+=t.body,e.writeOut&&(r+=pz(e.writeOut,{status:t.status,headers:t.headers,url:t.url,bodyLength:t.body.length})),r}(n,o,r);if(n.outputFile||n.useRemoteName){let e=n.outputFile||function(e){try{return new URL(e).pathname.split("/").pop()||"index.html"}catch{return"index.html"}}(r),i=t.fs.resolvePath(t.cwd,e);await t.fs.writeFile(i,n.headOnly?"":o.body),n.verbose||(l=""),n.writeOut&&(l=pz(n.writeOut,{status:o.status,headers:o.headers,url:o.url,bodyLength:o.body.length}))}return{stdout:l,stderr:"",exitCode:0}}catch(r){let e=tg(r),t=1;return e.includes("Network access denied")?t=7:e.includes("HTTP method")&&e.includes("not allowed")?t=3:e.includes("Redirect target not in allow-list")||e.includes("Too many redirects")?t=47:e.includes("aborted")&&(t=28),{stdout:"",stderr:!n.silent||n.showError?`curl: (${t}) ${e}
`:"",exitCode:t}}}}});function pJ(){return{pid:o.default.pid,ppid:o.default.ppid,uid:o.default.getuid?.()??1e3,gid:o.default.getgid?.()??1e3}}var pY,p0,p1=e2(()=>{pY="5.1.0(1)-release",p0="Linux version 5.15.0-generic (just-bash) #1 SMP PREEMPT"});function p2(e){let t=e.match(/^[a-zA-Z_][a-zA-Z0-9_]*/);if(!t)return!1;let n=e.slice(t[0].length);if(""===n||"+"===n)return!0;if("["===n[0]){let e=0,t=0;for(;t<n.length;t++)if("["===n[t])e++;else if("]"===n[t]&&0==--e)break;if(0!==e||t>=n.length)return!1;let r=n.slice(t+1);return""===r||"+"===r}return!1}function p3(e){let t=0;for(let n=0;n<e.length;n++){let r=e[n];if("["===r)t++;else if("]"===r)t--;else{if(0===t&&"="===r)return n;if(0===t&&"+"===r&&"="===e[n+1])return n+1}}return -1}function p5(e){return" "===e||"	"===e||e===`
`||";"===e||"&"===e||"|"===e||"("===e||")"===e||"<"===e||">"===e}var p6,p4,p8,p9,p7,he,ht,hn,hr,hi,hs,ha,ho,hl,hc,hu=e2(()=>{var e;(e=p6||(p6={})).EOF="EOF",e.NEWLINE="NEWLINE",e.SEMICOLON="SEMICOLON",e.AMP="AMP",e.PIPE="PIPE",e.PIPE_AMP="PIPE_AMP",e.AND_AND="AND_AND",e.OR_OR="OR_OR",e.BANG="BANG",e.LESS="LESS",e.GREAT="GREAT",e.DLESS="DLESS",e.DGREAT="DGREAT",e.LESSAND="LESSAND",e.GREATAND="GREATAND",e.LESSGREAT="LESSGREAT",e.DLESSDASH="DLESSDASH",e.CLOBBER="CLOBBER",e.TLESS="TLESS",e.AND_GREAT="AND_GREAT",e.AND_DGREAT="AND_DGREAT",e.LPAREN="LPAREN",e.RPAREN="RPAREN",e.LBRACE="LBRACE",e.RBRACE="RBRACE",e.DSEMI="DSEMI",e.SEMI_AND="SEMI_AND",e.SEMI_SEMI_AND="SEMI_SEMI_AND",e.DBRACK_START="DBRACK_START",e.DBRACK_END="DBRACK_END",e.DPAREN_START="DPAREN_START",e.DPAREN_END="DPAREN_END",e.IF="IF",e.THEN="THEN",e.ELSE="ELSE",e.ELIF="ELIF",e.FI="FI",e.FOR="FOR",e.WHILE="WHILE",e.UNTIL="UNTIL",e.DO="DO",e.DONE="DONE",e.CASE="CASE",e.ESAC="ESAC",e.IN="IN",e.FUNCTION="FUNCTION",e.SELECT="SELECT",e.TIME="TIME",e.COPROC="COPROC",e.WORD="WORD",e.NAME="NAME",e.NUMBER="NUMBER",e.ASSIGNMENT_WORD="ASSIGNMENT_WORD",e.FD_VARIABLE="FD_VARIABLE",e.COMMENT="COMMENT",e.HEREDOC_CONTENT="HEREDOC_CONTENT",p4=class extends Error{line;column;constructor(e,t,n){super(`line ${t}: ${e}`),this.line=t,this.column=n,this.name="LexerError"}},p8={if:p6.IF,then:p6.THEN,else:p6.ELSE,elif:p6.ELIF,fi:p6.FI,for:p6.FOR,while:p6.WHILE,until:p6.UNTIL,do:p6.DO,done:p6.DONE,case:p6.CASE,esac:p6.ESAC,in:p6.IN,function:p6.FUNCTION,select:p6.SELECT,time:p6.TIME,coproc:p6.COPROC},p9=[[";",";","&",p6.SEMI_SEMI_AND],["<","<","<",p6.TLESS],["&",">",">",p6.AND_DGREAT]],p7=[["[","[",p6.DBRACK_START],["]","]",p6.DBRACK_END],["(","(",p6.DPAREN_START],[")",")",p6.DPAREN_END],["&","&",p6.AND_AND],["|","|",p6.OR_OR],[";",";",p6.DSEMI],[";","&",p6.SEMI_AND],["|","&",p6.PIPE_AMP],[">",">",p6.DGREAT],["<","&",p6.LESSAND],[">","&",p6.GREATAND],["<",">",p6.LESSGREAT],[">","|",p6.CLOBBER],["&",">",p6.AND_GREAT]],he={"|":p6.PIPE,"&":p6.AMP,";":p6.SEMICOLON,"(":p6.LPAREN,")":p6.RPAREN,"<":p6.LESS,">":p6.GREAT},ht=class{input;pos=0;line=1;column=1;tokens=[];pendingHeredocs=[];dparenDepth=0;constructor(e){this.input=e}tokenize(){let e=this.input.length,t=this.tokens,n=this.pendingHeredocs;for(;this.pos<e;){if(n.length>0&&t.length>0&&t[t.length-1].type===p6.NEWLINE){this.readHeredocContent();continue}if(this.skipWhitespace(),this.pos>=e)break;let r=this.nextToken();r&&t.push(r)}return t.push({type:p6.EOF,value:"",start:this.pos,end:this.pos,line:this.line,column:this.column}),t}skipWhitespace(){let e=this.input,t=e.length,n=this.pos,r=this.column,i=this.line;for(;n<t;){let t=e[n];if(" "===t||"	"===t)n++,r++;else if("\\"===t&&e[n+1]===`
`)n+=2,i++,r=1;else break}this.pos=n,this.column=r,this.line=i}nextToken(){let e=this.input,t=this.pos,n=this.line,r=this.column,i=e[t],s=e[t+1],a=e[t+2];if("#"===i&&0===this.dparenDepth)return this.readComment(t,n,r);if(i===`
`)return this.pos=t+1,this.line++,this.column=1,{type:p6.NEWLINE,value:`
`,start:t,end:t+1,line:n,column:r};if("<"===i&&"<"===s&&"-"===a)return this.pos=t+3,this.column=r+3,this.registerHeredocFromLookahead(!0),this.makeToken(p6.DLESSDASH,"<<-",t,n,r);for(let[e,o,l,c]of p9)if(i===e&&s===o&&a===l)return this.pos=t+3,this.column=r+3,this.makeToken(c,e+o+l,t,n,r);if("<"===i&&"<"===s)return this.pos=t+2,this.column=r+2,this.registerHeredocFromLookahead(!1),this.makeToken(p6.DLESS,"<<",t,n,r);if("("===i&&"("===s)return this.dparenDepth>0?(this.pos=t+1,this.column=r+1,this.dparenDepth++,this.makeToken(p6.LPAREN,"(",t,n,r)):this.looksLikeNestedSubshells(t+2)||this.dparenClosesWithSpacedParens(t+2)?(this.pos=t+1,this.column=r+1,this.makeToken(p6.LPAREN,"(",t,n,r)):(this.pos=t+2,this.column=r+2,this.dparenDepth=1,this.makeToken(p6.DPAREN_START,"((",t,n,r));if(")"===i&&")"===s)return 1===this.dparenDepth?(this.pos=t+2,this.column=r+2,this.dparenDepth=0,this.makeToken(p6.DPAREN_END,"))",t,n,r)):(this.dparenDepth>1?(this.pos=t+1,this.column=r+1,this.dparenDepth--):(this.pos=t+1,this.column=r+1),this.makeToken(p6.RPAREN,")",t,n,r));for(let[a,o,l]of p7)if(("("!==a||"("!==o)&&(")"!==a||")"!==o)&&!(this.dparenDepth>0&&";"===a&&(l===p6.DSEMI||l===p6.SEMI_AND||l===p6.SEMI_SEMI_AND))&&i===a&&s===o){if(l===p6.DBRACK_START||l===p6.DBRACK_END){let n=e[t+2];if(void 0!==n&&" "!==n&&"	"!==n&&n!==`
`&&";"!==n&&"&"!==n&&"|"!==n&&"("!==n&&")"!==n&&"<"!==n&&">"!==n)break}return this.pos=t+2,this.column=r+2,this.makeToken(l,a+o,t,n,r)}if("("===i&&this.dparenDepth>0)return this.pos=t+1,this.column=r+1,this.dparenDepth++,this.makeToken(p6.LPAREN,"(",t,n,r);if(")"===i&&this.dparenDepth>1)return this.pos=t+1,this.column=r+1,this.dparenDepth--,this.makeToken(p6.RPAREN,")",t,n,r);let o=he[i];if(o)return this.pos=t+1,this.column=r+1,this.makeToken(o,i,t,n,r);if("{"===i){let e=this.scanFdVariable(t);return null!==e?(this.pos=e.end,this.column=r+(e.end-t),{type:p6.FD_VARIABLE,value:e.varname,start:t,end:e.end,line:n,column:r}):"}"===s?(this.pos=t+2,this.column=r+2,{type:p6.WORD,value:"{}",start:t,end:t+2,line:n,column:r,quoted:!1,singleQuoted:!1}):null!==this.scanBraceExpansion(t)||null!==this.scanLiteralBraceWord(t)?this.readWordWithBraceExpansion(t,n,r):void 0!==s&&" "!==s&&"	"!==s&&s!==`
`?this.readWord(t,n,r):(this.pos=t+1,this.column=r+1,this.makeToken(p6.LBRACE,"{",t,n,r))}return"}"===i?this.isWordCharFollowing(t+1)?this.readWord(t,n,r):(this.pos=t+1,this.column=r+1,this.makeToken(p6.RBRACE,"}",t,n,r)):"!"===i?"="===s?(this.pos=t+2,this.column=r+2,this.makeToken(p6.WORD,"!=",t,n,r)):(this.pos=t+1,this.column=r+1,this.makeToken(p6.BANG,"!",t,n,r)):this.readWord(t,n,r)}looksLikeNestedSubshells(e){let t=this.input,n=t.length,r=e;for(;r<n&&(" "===t[r]||"	"===t[r]);)r++;if(r>=n)return!1;let i=t[r];if("("===i)return this.looksLikeNestedSubshells(r+1);let s=/[a-zA-Z_]/.test(i),a="!"===i||"["===i;if(!s&&!a)return!1;let o=r;for(;o<n&&/[a-zA-Z0-9_\-.]/.test(t[o]);)o++;if(o===r)return a;let l=o;for(;l<n&&(" "===t[l]||"	"===t[l]);)l++;if(l>=n)return!1;let c=t[l];if("="===c&&"="!==t[l+1]||c===`
`||o===l&&/[+\-*/%<>&|^!~?:]/.test(c)&&"-"!==c||")"===c&&")"===t[l+1])return!1;if(l>o&&("-"===c||'"'===c||"'"===c||"$"===c||/[a-zA-Z_/.]/.test(c))){let e=l;for(;e<n&&t[e]!==`
`;){if(")"===t[e])return!0;e++}return!1}if(")"===c){let e=l+1;for(;e<n&&(" "===t[e]||"	"===t[e]);)e++;if("|"===t[e]&&"|"===t[e+1]||"&"===t[e]&&"&"===t[e+1]||";"===t[e]||"|"===t[e]&&"|"!==t[e+1])return!0}return!1}makeToken(e,t,n,r,i){return{type:e,value:t,start:n,end:this.pos,line:r,column:i}}readComment(e,t,n){let r=this.input,i=r.length,s=this.pos;for(;s<i&&r[s]!==`
`;)s++;let a=r.slice(e,s);return this.pos=s,this.column=n+(s-e),{type:p6.COMMENT,value:a,start:e,end:s,line:t,column:n}}readWord(e,t,n){var r;let i=this.input,s=i.length,a=this.pos,o=a;for(;a<s;){let e=i[a];if(" "===e||"	"===e||e===`
`||";"===e||"&"===e||"|"===e||"("===e||")"===e||"<"===e||">"===e||"'"===e||'"'===e||"\\"===e||"$"===e||"`"===e||"{"===e||"}"===e||"~"===e||"*"===e||"?"===e||"["===e)break;a++}if(a>o){let r=i[a];if(!("("===r&&a>o&&"@*+?!".includes(i[a-1]))&&(a>=s||" "===r||"	"===r||r===`
`||";"===r||"&"===r||"|"===r||"("===r||")"===r||"<"===r||">"===r)){let r=i.slice(o,a);if(this.pos=a,this.column=n+(a-o),p8[r])return{type:p8[r],value:r,start:e,end:a,line:t,column:n};let s=p3(r);return s>0&&p2(r.slice(0,s))?{type:p6.ASSIGNMENT_WORD,value:r,start:e,end:a,line:t,column:n}:/^[0-9]+$/.test(r)?{type:p6.NUMBER,value:r,start:e,end:a,line:t,column:n}:/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r)?{type:p6.NAME,value:r,start:e,end:a,line:t,column:n,quoted:!1,singleQuoted:!1}:{type:p6.WORD,value:r,start:e,end:a,line:t,column:n,quoted:!1,singleQuoted:!1}}}a=this.pos;let l=this.column,c=this.line,u="",p=!1,h=!1,_=!1,f=!1,d='"'===i[a]||"'"===i[a],g=!1,m=0;for(;a<s;){let e=i[a];if(!_&&!f){if("("===e&&u.length>0&&"@*+?!".includes(u[u.length-1])){let e=this.scanExtglobPattern(a);if(null!==e){u+=e.content,a=e.end,l+=e.content.length;continue}}if("["===e&&0===m){if(/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(u)){let t=a+1<s?i[a+1]:"";if("^"===t||"!"===t){u+=e,a++,l++;continue}m=1,u+=e,a++,l++;continue}}else if("["===e&&m>0){u.length>0&&"\\"!==u[u.length-1]&&m++,u+=e,a++,l++;continue}else if("]"===e&&m>0){u.length>0&&"\\"!==u[u.length-1]&&m--,u+=e,a++,l++;continue}if(m>0){if(e===`
`)break;u+=e,a++,l++;continue}if(" "===e||"	"===e||e===`
`||";"===e||"&"===e||"|"===e||"("===e||")"===e||"<"===e||">"===e)break}if("$"===e&&a+1<s&&"'"===i[a+1]&&!_&&!f){for(u+="$'",a+=2,l+=2;a<s&&"'"!==i[a];)"\\"===i[a]&&a+1<s?(u+=i[a]+i[a+1],a+=2,l+=2):(u+=i[a],a++,l++);a<s&&(u+="'",a++,l++);continue}if("$"===e&&a+1<s&&'"'===i[a+1]&&!_&&!f){a++,l++,f=!0,p=!0,""===u&&(d=!0),a++,l++;continue}if("'"===e&&!f){if(_)if(_=!1,!d||g)u+=e;else{let t=a+1<s?i[a+1]:"";t&&!p5(t)&&"'"!==t&&('"'===t?(g=!0,u+=e,h=!1,p=!1):(g=!0,u+=e))}else _=!0,d&&!g?(h=!0,p=!0):u+=e;a++,l++;continue}if('"'===e&&!_){if(f)if(f=!1,!d||g)u+=e;else{let t=a+1<s?i[a+1]:"";t&&!p5(t)&&'"'!==t&&("'"===t?(g=!0,u+=e,h=!1,p=!1):(g=!0,u+=e))}else f=!0,d&&!g?p=!0:u+=e;a++,l++;continue}if("\\"===e&&!_&&a+1<s){let t=i[a+1];if(t===`
`){a+=2,c++,l=1;continue}if(f){if('"'===t||"\\"===t||"$"===t||"`"===t||t===`
`){if(t===`
`){a+=2,l=1,c++;continue}u+=e+t,a+=2,l+=2;continue}}else{"\\"===t||'"'===t||"'"===t||"`"===t||"*"===t||"?"===t||"["===t||"]"===t||"("===t||")"===t||"$"===t||"-"===t||"."===t||"^"===t||"+"===t||"{"===t||"}"===t?u+=e+t:u+=t,a+=2,l+=2;continue}}if("$"===e&&a+1<s&&"("===i[a+1]&&!_){u+=e,a++,l++,u+=i[a],a++,l++;let t=1,n=!1,r=!1,o=0,p=!1,h="",_="("===i[a]&&!this.dollarDparenIsSubshell(a);for(;t>0&&a<s;){let e=i[a];if(u+=e,n)"'"===e&&(n=!1);else if(r)"\\"===e&&a+1<s?(u+=i[a+1],a++,l++):'"'===e&&(r=!1);else if("'"===e)n=!0,h="";else if('"'===e)r=!0,h="";else if("\\"===e&&a+1<s)u+=i[a+1],a++,l++,h="";else if("$"===e&&a+1<s&&"{"===i[a+1]){a++,l++,u+=i[a],a++,l++;let e=1,t=!1,n=!1;for(;e>0&&a<s;){let r=i[a];if("\\"===r&&a+1<s&&!t){u+=r,a++,l++,u+=i[a],a++,l++;continue}u+=r,t?"'"===r&&(t=!1):n?'"'===r&&(n=!1):"'"===r?t=!0:'"'===r?n=!0:"{"===r?e++:"}"===r&&e--,r===`
`?(c++,l=0):l++,a++}h="";continue}else if("#"===e&&!_&&(""===h||/\s/.test(i[a-1]||""))){for(;a+1<s&&i[a+1]!==`
`;)a++,l++,u+=i[a];h=""}else/[a-zA-Z_]/.test(e)?h+=e:("case"===h?(o++,p=!1):"in"===h&&o>0?p=!0:"esac"===h&&o>0&&(o--,p=!1),h="","("===e?a>0&&"$"===i[a-1]?t++:p||t++:")"===e?p?p=!1:t--:";"===e&&o>0&&a+1<s&&";"===i[a+1]&&(p=!0));e===`
`&&(c++,l=0,h=""),a++,l++}continue}if("$"===e&&a+1<s&&"["===i[a+1]&&!_){u+=e,a++,l++,u+=i[a],a++,l++;let t=1;for(;t>0&&a<s;){let e=i[a];u+=e,"["===e?t++:"]"===e?t--:e===`
`&&(c++,l=0),a++,l++}continue}if("$"===e&&a+1<s&&"{"===i[a+1]&&!_){u+=e,a++,l++,u+=i[a],a++;let t=1,n=!1,r=!1,o=c,p=++l,h=c,_=l;for(;t>0&&a<s;){let e=i[a];if("\\"===e&&a+1<s&&i[a+1]===`
`){a+=2,c++,l=1;continue}if("\\"===e&&a+1<s&&!n){u+=e,a++,l++,u+=i[a],a++,l++;continue}u+=e,n?"'"===e&&(n=!1):r?'"'===e&&(r=!1):"'"===e?(n=!0,o=c,p=l):'"'===e?(r=!0,h=c,_=l):"{"===e?t++:"}"===e&&t--,e===`
`&&(c++,l=0),a++,l++}if(n)throw new p4("unexpected EOF while looking for matching `''",o,p);if(r)throw new p4("unexpected EOF while looking for matching `\"'",h,_);continue}if("$"===e&&a+1<s&&!_){let t=i[a+1];if("#"===t||"?"===t||"$"===t||"!"===t||"@"===t||"*"===t||"-"===t||t>="0"&&t<="9"){u+=e+t,a+=2,l+=2;continue}}if("`"===e&&!_){for(u+=e,a++,l++;a<s&&"`"!==i[a];){let e=i[a];u+=e,"\\"===e&&a+1<s&&(u+=i[a+1],a++,l++),e===`
`&&(c++,l=0),a++,l++}a<s&&(u+=i[a],a++,l++);continue}u+=e,a++,e===`
`?(c++,l=1):l++}if(this.pos=a,this.column=l,this.line=c,g&&d&&(u=i[e]+u,p=!1,h=!1),_||f){let e=_?"'":'"';throw new p4(`unexpected EOF while looking for matching \`${e}'`,t,n)}if(!d&&u.length>=2){if("'"===u[0]&&"'"===u[u.length-1]){let e=u.slice(1,-1);e.includes("'")||e.includes('"')||(u=e,p=!0,h=!0)}else if('"'===u[0]&&'"'===u[u.length-1]){let e=u.slice(1,-1),t=!1;for(let n=0;n<e.length;n++){if('"'===e[n]){t=!0;break}"\\"===e[n]&&n+1<e.length&&n++}t||(u=e,p=!0,h=!1)}}if(""===u)return{type:p6.WORD,value:"",start:e,end:a,line:t,column:n,quoted:p,singleQuoted:h};if(!p&&p8[u])return{type:p8[u],value:u,start:e,end:a,line:t,column:n};if(!d){let r=p3(u);if(r>0&&p2(u.slice(0,r)))return{type:p6.ASSIGNMENT_WORD,value:u,start:e,end:a,line:t,column:n,quoted:p,singleQuoted:h}}return/^[0-9]+$/.test(u)?{type:p6.NUMBER,value:u,start:e,end:a,line:t,column:n}:(r=u,/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r))?{type:p6.NAME,value:u,start:e,end:a,line:t,column:n,quoted:p,singleQuoted:h}:{type:p6.WORD,value:u,start:e,end:a,line:t,column:n,quoted:p,singleQuoted:h}}readHeredocContent(){for(;this.pendingHeredocs.length>0;){let e=this.pendingHeredocs.shift();if(!e)break;let t=this.pos,n=this.line,r=this.column,i="";for(;this.pos<this.input.length;){this.pos;let t="";for(;this.pos<this.input.length&&this.input[this.pos]!==`
`;)t+=this.input[this.pos],this.pos++,this.column++;if((e.stripTabs?t.replace(/^\t+/,""):t)===e.delimiter){this.pos<this.input.length&&this.input[this.pos]===`
`&&(this.pos++,this.line++,this.column=1);break}i+=t,this.pos<this.input.length&&this.input[this.pos]===`
`&&(i+=`
`,this.pos++,this.line++,this.column=1)}this.tokens.push({type:p6.HEREDOC_CONTENT,value:i,start:t,end:this.pos,line:n,column:r})}}addPendingHeredoc(e,t,n){this.pendingHeredocs.push({delimiter:e,stripTabs:t,quoted:n})}registerHeredocFromLookahead(e){let t=this.pos,n=this.column;for(;this.pos<this.input.length&&(" "===this.input[this.pos]||"	"===this.input[this.pos]);)this.pos++,this.column++;let r="",i=!1;for(;this.pos<this.input.length;){let e=this.input[this.pos];if(/[\s;<>&|()]/.test(e))break;if("'"===e||'"'===e){for(i=!0,this.pos++,this.column++;this.pos<this.input.length&&this.input[this.pos]!==e;)r+=this.input[this.pos],this.pos++,this.column++;this.pos<this.input.length&&this.input[this.pos]===e&&(this.pos++,this.column++)}else"\\"===e?(i=!0,this.pos++,this.column++,this.pos<this.input.length&&(r+=this.input[this.pos],this.pos++,this.column++)):(r+=e,this.pos++,this.column++)}this.pos=t,this.column=n,r&&this.pendingHeredocs.push({delimiter:r,stripTabs:e,quoted:i})}isWordCharFollowing(e){if(e>=this.input.length)return!1;let t=this.input[e];return" "!==t&&"	"!==t&&t!==`
`&&";"!==t&&"&"!==t&&"|"!==t&&"("!==t&&")"!==t&&"<"!==t&&">"!==t}readWordWithBraceExpansion(e,t,n){let r=this.input,i=r.length,s=e,a=n;for(;s<i;){let e=r[s];if(" "===e||"	"===e||e===`
`||";"===e||"&"===e||"|"===e||"("===e||")"===e||"<"===e||">"===e)break;if("{"===e){if(null!==this.scanBraceExpansion(s)){let e=1;for(s++,a++;s<i&&e>0;)"{"===r[s]?e++:"}"===r[s]&&e--,s++,a++;continue}s++,a++;continue}if("}"===e){s++,a++;continue}if("$"===e&&s+1<i&&"("===r[s+1]){s++,a++,s++,a++;let e=1;for(;e>0&&s<i;)"("===r[s]?e++:")"===r[s]&&e--,s++,a++;continue}if("$"===e&&s+1<i&&"{"===r[s+1]){s++,a++,s++,a++;let e=1;for(;e>0&&s<i;)"{"===r[s]?e++:"}"===r[s]&&e--,s++,a++;continue}if("`"===e){for(s++,a++;s<i&&"`"!==r[s];)"\\"===r[s]&&s+1<i?(s+=2,a+=2):(s++,a++);s<i&&(s++,a++);continue}s++,a++}let o=r.slice(e,s);return this.pos=s,this.column=a,{type:p6.WORD,value:o,start:e,end:s,line:t,column:n,quoted:!1,singleQuoted:!1}}scanBraceExpansion(e){let t=this.input,n=t.length,r=e+1,i=1,s=!1,a=!1;for(;r<n&&i>0;){let e=t[r];if("{"===e)i++,r++;else if("}"===e)i--,r++;else if(","===e&&1===i)s=!0,r++;else if("."===e&&r+1<n&&"."===t[r+1])a=!0,r+=2;else{if(" "===e||"	"===e||e===`
`||";"===e||"&"===e||"|"===e)return null;r++}}return 0===i&&(s||a)?t.slice(e,r):null}scanLiteralBraceWord(e){let t=this.input,n=t.length,r=e+1,i=1;for(;r<n&&i>0;){let n=t[r];if("{"===n)i++,r++;else if("}"===n){if(0==--i)return t.slice(e,r+1);r++}else{if(" "===n||"	"===n||n===`
`||";"===n||"&"===n||"|"===n)return null;r++}}return null}scanExtglobPattern(e){let t=this.input,n=t.length,r=e+1,i=1;for(;r<n&&i>0;){let e=t[r];if("\\"===e&&r+1<n){r+=2;continue}if("@*+?!".includes(e)&&r+1<n&&"("===t[r+1]){r++,i++,r++;continue}if("("===e)i++,r++;else if(")"===e)i--,r++;else{if(e===`
`)return null;r++}}return 0===i?{content:t.slice(e,r),end:r}:null}scanFdVariable(e){let t=this.input,n=t.length,r=e+1,i=r;for(;r<n;){let e=t[r];if(r===i){if(!(e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e))return null}else if(!(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e))break;r++}if(r===i)return null;let s=t.slice(i,r);if(r>=n||"}"!==t[r]||++r>=n)return null;let a=t[r],o=r+1<n?t[r+1]:"";return">"===a||"<"===a||"&"===a&&(">"===o||"<"===o)?{varname:s,end:r}:null}dollarDparenIsSubshell(e){let t=this.input,n=t.length,r=e+1,i=2,s=!1,a=!1,o=!1;for(;r<n&&i>0;){let e=t[r];if(s){"'"===e&&(s=!1),e===`
`&&(o=!0),r++;continue}if(a){if("\\"===e){r+=2;continue}'"'===e&&(a=!1),e===`
`&&(o=!0),r++;continue}if("'"===e){s=!0,r++;continue}if('"'===e){a=!0,r++;continue}if("\\"===e){r+=2;continue}if(e===`
`&&(o=!0),"("===e){i++,r++;continue}if(")"===e){if(1==--i){let e=r+1;if(e<n&&")"===t[e])return!1;let i=e,s=!1;for(;i<n&&(" "===t[i]||"	"===t[i]||t[i]===`
`);)s=!0,i++;if(s&&i<n&&")"===t[i]||o)return!0}if(0===i)return!1;r++;continue}r++}return!1}dparenClosesWithSpacedParens(e){let t=this.input,n=t.length,r=e,i=2,s=!1,a=!1;for(;r<n&&i>0;){let e=t[r];if(s){"'"===e&&(s=!1),r++;continue}if(a){if("\\"===e){r+=2;continue}'"'===e&&(a=!1),r++;continue}if("'"===e){s=!0,r++;continue}if('"'===e){a=!0,r++;continue}if("\\"===e){r+=2;continue}if("("===e){i++,r++;continue}if(")"===e){if(1==--i){let e=r+1;if(e<n&&")"===t[e])return!1;let i=e,s=!1;for(;i<n&&(" "===t[i]||"	"===t[i]||t[i]===`
`);)s=!0,i++;if(s&&i<n&&")"===t[i])return!0}if(0===i)return!1;r++;continue}if(1===i&&("|"===e&&r+1<n&&"|"===t[r+1]||"&"===e&&r+1<n&&"&"===t[r+1]||"|"===e&&r+1<n&&"|"!==t[r+1]))return!0;r++}return!1}}}),hp=e2(()=>{hu(),hn=1e6,hr=1e5,hi=1e6,hs=new Set([p6.LESS,p6.GREAT,p6.DLESS,p6.DGREAT,p6.LESSAND,p6.GREATAND,p6.LESSGREAT,p6.DLESSDASH,p6.CLOBBER,p6.TLESS,p6.AND_GREAT,p6.AND_DGREAT]),ha=new Set([p6.LESS,p6.GREAT,p6.DLESS,p6.DGREAT,p6.LESSAND,p6.GREATAND,p6.LESSGREAT,p6.DLESSDASH,p6.CLOBBER,p6.TLESS]),ho=new Set([p6.LESS,p6.GREAT,p6.DLESS,p6.DGREAT,p6.LESSAND,p6.GREATAND,p6.LESSGREAT,p6.DLESSDASH,p6.CLOBBER,p6.TLESS,p6.AND_GREAT,p6.AND_DGREAT]),hl=class extends Error{line;column;token;constructor(e,t,n,r){super(`Parse error at ${t}:${n}: ${e}`),this.line=t,this.column=n,this.token=r,this.name="ParseException"}}}),hh=e2(()=>{hc={script:e=>({type:"Script",statements:e}),statement(e,t=[],n=!1,r,i){let s={type:"Statement",pipelines:e,operators:t,background:n};return r&&(s.deferredError=r),void 0!==i&&(s.sourceText=i),s},pipeline:(e,t=!1,n=!1,r=!1,i)=>({type:"Pipeline",commands:e,negated:t,timed:n,timePosix:r,pipeStderr:i}),simpleCommand:(e,t=[],n=[],r=[])=>({type:"SimpleCommand",name:e,args:t,assignments:n,redirections:r}),word:e=>({type:"Word",parts:e}),literal:e=>({type:"Literal",value:e}),singleQuoted:e=>({type:"SingleQuoted",value:e}),doubleQuoted:e=>({type:"DoubleQuoted",parts:e}),escaped:e=>({type:"Escaped",value:e}),parameterExpansion:(e,t=null)=>({type:"ParameterExpansion",parameter:e,operation:t}),commandSubstitution:(e,t=!1)=>({type:"CommandSubstitution",body:e,legacy:t}),arithmeticExpansion:e=>({type:"ArithmeticExpansion",expression:e}),assignment:(e,t,n=!1,r=null)=>({type:"Assignment",name:e,value:t,append:n,array:r}),redirection(e,t,n=null,r){let i={type:"Redirection",fd:n,operator:e,target:t};return r&&(i.fdVariable=r),i},hereDoc:(e,t,n=!1,r=!1)=>({type:"HereDoc",delimiter:e,content:t,stripTabs:n,quoted:r}),ifNode:(e,t=null,n=[])=>({type:"If",clauses:e,elseBody:t,redirections:n}),forNode:(e,t,n,r=[])=>({type:"For",variable:e,words:t,body:n,redirections:r}),whileNode:(e,t,n=[])=>({type:"While",condition:e,body:t,redirections:n}),untilNode:(e,t,n=[])=>({type:"Until",condition:e,body:t,redirections:n}),caseNode:(e,t,n=[])=>({type:"Case",word:e,items:t,redirections:n}),caseItem:(e,t,n=";;")=>({type:"CaseItem",patterns:e,body:t,terminator:n}),subshell:(e,t=[])=>({type:"Subshell",body:e,redirections:t}),group:(e,t=[])=>({type:"Group",body:e,redirections:t}),functionDef:(e,t,n=[],r)=>({type:"FunctionDef",name:e,body:t,redirections:n,sourceFile:r}),conditionalCommand:(e,t=[],n)=>({type:"ConditionalCommand",expression:e,redirections:t,line:n}),arithmeticCommand:(e,t=[],n)=>({type:"ArithmeticCommand",expression:e,redirections:t,line:n})}});function h_(e,t){for(;t<e.length;){if("\\"===e[t]&&e[t+1]===`
`){t+=2;continue}if(/\s/.test(e[t])){t++;continue}break}return t}function hf(e){if(e.includes("#")){let[t,n]=e.split("#"),r=Number.parseInt(t,10);if(r<2||r>64)return NaN;if(r<=36)return Number.parseInt(n,r);let i=0;for(let e of n){let t;if(/[0-9]/.test(e))t=e.charCodeAt(0)-48;else if(/[a-z]/.test(e))t=e.charCodeAt(0)-97+10;else if(/[A-Z]/.test(e))t=e.charCodeAt(0)-65+36;else if("@"===e)t=62;else{if("_"!==e)return NaN;t=63}if(t>=r)return NaN;i=i*r+t}return i}return e.startsWith("0x")||e.startsWith("0X")?Number.parseInt(e.slice(2),16):e.startsWith("0")&&e.length>1&&/^[0-9]+$/.test(e)?/[89]/.test(e)?NaN:Number.parseInt(e,8):Number.parseInt(e,10)}var hd,hg=e2(()=>{hd=["=","+=","-=","*=","/=","%=","<<=",">>=","&=","|=","^="]});function hm(e,t){let n=function(e){let t="",n=0;for(;n<e.length;)if('"'===e[n]){for(n++;n<e.length&&'"'!==e[n];)"\\"===e[n]&&n+1<e.length?(t+=e[n+1],n+=2):(t+=e[n],n++);n<e.length&&n++}else t+=e[n],n++;return t}(t),{expr:r,pos:i}=hy(e,n,0),s=h_(n,i);if(s<n.length){let e=t.slice(s).trim();if(e)return{type:"ArithmeticExpression",originalText:t,expression:{type:"ArithSyntaxError",errorToken:e,message:`${e}: syntax error: invalid arithmetic operator (error token is "${e}")`}}}return{type:"ArithmeticExpression",expression:r,originalText:t}}function hv(e,t){return{expr:{type:"ArithSyntaxError",errorToken:e,message:`syntax error: operand expected (error token is "${e}")`},pos:t}}function hb(e,t){return h_(e,t)>=e.length}function hy(e,t,n){return function(e,t,n){let{expr:r,pos:i}=h$(e,t,n);for(i=h_(t,i);","===t[i];){if(hb(t,++i))return hv(",",i);let{expr:n,pos:s}=h$(e,t,i);r={type:"ArithBinary",operator:",",left:r,right:n},i=h_(t,s)}return{expr:r,pos:i}}(e,t,n)}function h$(e,t,n){let{expr:r,pos:i}=function(e,t,n){let{expr:r,pos:i}=hx(e,t,n);for(;i=h_(t,i),"||"===t.slice(i,i+2);){if(hb(t,i+=2))return hv("||",i);let{expr:n,pos:s}=hx(e,t,i);r={type:"ArithBinary",operator:"||",left:r,right:n},i=s}return{expr:r,pos:i}}(e,t,n);if(i=h_(t,i),"?"===t[i]){let{expr:n,pos:s}=hy(e,t,++i);if(i=h_(t,s),":"===t[i]){let{expr:s,pos:a}=hy(e,t,++i);return{expr:{type:"ArithTernary",condition:r,consequent:n,alternate:s},pos:a}}}return{expr:r,pos:i}}function hx(e,t,n){let{expr:r,pos:i}=hS(e,t,n);for(;i=h_(t,i),"&&"===t.slice(i,i+2);){if(hb(t,i+=2))return hv("&&",i);let{expr:n,pos:s}=hS(e,t,i);r={type:"ArithBinary",operator:"&&",left:r,right:n},i=s}return{expr:r,pos:i}}function hS(e,t,n){let{expr:r,pos:i}=hA(e,t,n);for(;i=h_(t,i),"|"===t[i]&&"|"!==t[i+1];){if(hb(t,++i))return hv("|",i);let{expr:n,pos:s}=hA(e,t,i);r={type:"ArithBinary",operator:"|",left:r,right:n},i=s}return{expr:r,pos:i}}function hA(e,t,n){let{expr:r,pos:i}=hw(e,t,n);for(;i=h_(t,i),"^"===t[i];){if(hb(t,++i))return hv("^",i);let{expr:n,pos:s}=hw(e,t,i);r={type:"ArithBinary",operator:"^",left:r,right:n},i=s}return{expr:r,pos:i}}function hw(e,t,n){let{expr:r,pos:i}=hE(e,t,n);for(;i=h_(t,i),"&"===t[i]&&"&"!==t[i+1];){if(hb(t,++i))return hv("&",i);let{expr:n,pos:s}=hE(e,t,i);r={type:"ArithBinary",operator:"&",left:r,right:n},i=s}return{expr:r,pos:i}}function hE(e,t,n){let{expr:r,pos:i}=hk(e,t,n);for(;i=h_(t,i),"=="===t.slice(i,i+2)||"!="===t.slice(i,i+2);){let n=t.slice(i,i+2);if(hb(t,i+=2))return hv(n,i);let{expr:s,pos:a}=hk(e,t,i);r={type:"ArithBinary",operator:n,left:r,right:s},i=a}return{expr:r,pos:i}}function hk(e,t,n){let{expr:r,pos:i}=hC(e,t,n);for(;;)if(i=h_(t,i),"<="===t.slice(i,i+2)||">="===t.slice(i,i+2)){let n=t.slice(i,i+2);if(hb(t,i+=2))return hv(n,i);let{expr:s,pos:a}=hC(e,t,i);r={type:"ArithBinary",operator:n,left:r,right:s},i=a}else if("<"===t[i]||">"===t[i]){let n=t[i];if(hb(t,++i))return hv(n,i);let{expr:s,pos:a}=hC(e,t,i);r={type:"ArithBinary",operator:n,left:r,right:s},i=a}else break;return{expr:r,pos:i}}function hC(e,t,n){let{expr:r,pos:i}=hO(e,t,n);for(;i=h_(t,i),"<<"===t.slice(i,i+2)||">>"===t.slice(i,i+2);){let n=t.slice(i,i+2);if(hb(t,i+=2))return hv(n,i);let{expr:s,pos:a}=hO(e,t,i);r={type:"ArithBinary",operator:n,left:r,right:s},i=a}return{expr:r,pos:i}}function hO(e,t,n){let{expr:r,pos:i}=hR(e,t,n);for(;i=h_(t,i),("+"===t[i]||"-"===t[i])&&t[i+1]!==t[i];){let n=t[i];if(hb(t,++i))return hv(n,i);let{expr:s,pos:a}=hR(e,t,i);r={type:"ArithBinary",operator:n,left:r,right:s},i=a}return{expr:r,pos:i}}function hR(e,t,n){let{expr:r,pos:i}=hT(e,t,n);for(;;)if(i=h_(t,i),"*"===t[i]&&"*"!==t[i+1]){if(hb(t,++i))return hv("*",i);let{expr:n,pos:s}=hT(e,t,i);r={type:"ArithBinary",operator:"*",left:r,right:n},i=s}else if("/"===t[i]||"%"===t[i]){let n=t[i];if(hb(t,++i))return hv(n,i);let{expr:s,pos:a}=hT(e,t,i);r={type:"ArithBinary",operator:n,left:r,right:s},i=a}else break;return{expr:r,pos:i}}function hT(e,t,n){let{expr:r,pos:i}=function e(t,n,r){let i=h_(n,r);if("++"===n.slice(i,i+2)||"--"===n.slice(i,i+2)){let r=n.slice(i,i+2),{expr:s,pos:a}=e(t,n,i+=2);return{expr:{type:"ArithUnary",operator:r,operand:s,prefix:!0},pos:a}}if("+"===n[i]||"-"===n[i]||"!"===n[i]||"~"===n[i]){let r=n[i],{expr:s,pos:a}=e(t,n,++i);return{expr:{type:"ArithUnary",operator:r,operand:s,prefix:!0},pos:a}}return function(e,t,n){let r,i,{expr:s,pos:a}=hN(e,t,n,!1),o=[s];for(;"$"===(r=t[a])||"`"===r;){let{expr:n,pos:r}=hN(e,t,a,!0);o.push(n),a=r}if(o.length>1&&(s={type:"ArithConcat",parts:o}),"["===t[a]&&"ArithConcat"===s.type){let{expr:n,pos:r}=hy(e,t,++a);i=n,"]"===t[a=r]&&a++}if(i&&"ArithConcat"===s.type&&(s={type:"ArithDynamicElement",nameExpr:s,subscript:i},i=void 0),a=h_(t,a),"ArithConcat"===s.type||"ArithVariable"===s.type||"ArithDynamicElement"===s.type){for(let n of hd)if(t.slice(a,a+n.length)===n&&"=="!==t.slice(a,a+n.length+1)){let{expr:r,pos:i}=h$(e,t,a+=n.length);return"ArithDynamicElement"===s.type?{expr:{type:"ArithDynamicAssignment",operator:n,target:s.nameExpr,subscript:s.subscript,value:r},pos:i}:"ArithConcat"===s.type?{expr:{type:"ArithDynamicAssignment",operator:n,target:s,value:r},pos:i}:{expr:{type:"ArithAssignment",operator:n,variable:s.name,value:r},pos:i}}}return"++"===t.slice(a,a+2)||"--"===t.slice(a,a+2)?{expr:{type:"ArithUnary",operator:t.slice(a,a+2),operand:s,prefix:!1},pos:a+=2}:{expr:s,pos:a}}(t,n,i)}(e,t,n),s=h_(t,i);if("**"===t.slice(s,s+2)){if(hb(t,s+=2))return hv("**",s);let{expr:n,pos:i}=hT(e,t,s);return{expr:{type:"ArithBinary",operator:"**",left:r,right:n},pos:i}}return{expr:r,pos:i}}function hN(e,t,n,r=!1){let i=h_(t,n),s=function(e,t,n,r){if("$(("!==n.slice(r,r+3))return null;let i=r+3,s=1,a=i;for(;i<n.length-1&&s>0;)"("===n[i]&&"("===n[i+1]?(s++,i+=2):")"===n[i]&&")"===n[i+1]?--s>0&&(i+=2):i++;let{expr:o}=e(t,n.slice(a,i),0);return{expr:{type:"ArithNested",expression:o},pos:i+=2}}(hy,e,t,i);if(s)return s;let a=function(e,t){if("$'"!==e.slice(t,t+2))return null;let n=t+2,r="";for(;n<e.length&&"'"!==e[n];)if("\\"===e[n]&&n+1<e.length){let t=e[n+1];switch(t){case"n":r+=`
`;break;case"t":r+="	";break;case"r":r+="\r";break;case"\\":r+="\\";break;case"'":r+="'";break;default:r+=t}n+=2}else r+=e[n],n++;"'"===e[n]&&n++;let i=Number.parseInt(r,10);return{expr:{type:"ArithNumber",value:Number.isNaN(i)?0:i},pos:n}}(t,i);if(a)return a;let o=function(e,t){if('$"'!==e.slice(t,t+2))return null;let n=t+2,r="";for(;n<e.length&&'"'!==e[n];)"\\"===e[n]&&n+1<e.length?(r+=e[n+1],n+=2):(r+=e[n],n++);'"'===e[n]&&n++;let i=Number.parseInt(r,10);return{expr:{type:"ArithNumber",value:Number.isNaN(i)?0:i},pos:n}}(t,i);if(o)return o;if("$("===t.slice(i,i+2)&&"("!==t[i+2]){let e=1,n=i+=2;for(;i<t.length&&e>0;)"("===t[i]?e++:")"===t[i]&&e--,e>0&&i++;return{expr:{type:"ArithCommandSubst",command:t.slice(n,i)},pos:++i}}if("`"===t[i]){let e=++i;for(;i<t.length&&"`"!==t[i];)i++;let n=t.slice(e,i);return"`"===t[i]&&i++,{expr:{type:"ArithCommandSubst",command:n},pos:i}}if("("===t[i]){let{expr:n,pos:r}=hy(e,t,++i);return i=h_(t,r),")"===t[i]&&i++,{expr:{type:"ArithGroup",expression:n},pos:i}}if("'"===t[i]){i++;let e="";for(;i<t.length&&"'"!==t[i];)e+=t[i],i++;"'"===t[i]&&i++;let n=Number.parseInt(e,10);return{expr:{type:"ArithSingleQuote",content:e,value:Number.isNaN(n)?0:n},pos:i}}if('"'===t[i]){i++;let n="";for(;i<t.length&&'"'!==t[i];)"\\"===t[i]&&i+1<t.length?(n+=t[i+1],i+=2):(n+=t[i],i++);'"'===t[i]&&i++;let r=n.trim();if(!r)return{expr:{type:"ArithNumber",value:0},pos:i};let{expr:s}=hy(e,r,0);return{expr:s,pos:i}}if(/[0-9]/.test(t[i])){let e="",n=!1,r=!1;for(;i<t.length;){let s=t[i];if(n)if(/[0-9a-zA-Z@_]/.test(s))e+=s,i++;else break;else if("#"===s)n=!0,e+=s,i++;else if("0"===e&&("x"===s||"X"===s)&&i+1<t.length&&/[0-9a-fA-F]/.test(t[i+1]))r=!0,e+=s,i++;else if(r&&/[0-9a-fA-F]/.test(s))e+=s,i++;else if(!r&&/[0-9]/.test(s))e+=s,i++;else break}if(i<t.length&&/[a-zA-Z_]/.test(t[i])){let n=e;for(;i<t.length&&/[a-zA-Z0-9_]/.test(t[i]);)n+=t[i],i++;return{expr:{type:"ArithSyntaxError",errorToken:n,message:`${n}: value too great for base (error token is "${n}")`},pos:i}}if("."===t[i]&&/[0-9]/.test(t[i+1]))throw new rH(`${e}.${t[i+1]}...: syntax error: invalid arithmetic operator`);return"["===t[i]?{expr:{type:"ArithNumberSubscript",number:e,errorToken:t.slice(i).trim()},pos:t.length}:{expr:{type:"ArithNumber",value:hf(e)},pos:i}}if("$"===t[i]&&"{"===t[i+1]){let e=i+2,n=1,r=e;for(;r<t.length&&n>0;)"{"===t[r]?n++:"}"===t[r]&&n--,n>0&&r++;let s=t.slice(e,r),a=r+1;if("#"===t[a]){let e=a+1;for(;e<t.length&&/[0-9a-zA-Z@_]/.test(t[e]);)e++;return{expr:{type:"ArithDynamicBase",baseExpr:s,value:t.slice(a+1,e)},pos:e}}if(/[0-9]/.test(t[a])||"x"===t[a]||"X"===t[a]){let e=a;if("x"===t[a]||"X"===t[a])for(e++;e<t.length&&/[0-9a-fA-F]/.test(t[e]);)e++;else for(;e<t.length&&/[0-9]/.test(t[e]);)e++;return{expr:{type:"ArithDynamicNumber",prefix:s,suffix:t.slice(a,e)},pos:e}}return{expr:{type:"ArithBracedExpansion",content:s},pos:i=a}}if("$"===t[i]&&i+1<t.length&&/[0-9]/.test(t[i+1])){i++;let e="";for(;i<t.length&&/[0-9]/.test(t[i]);)e+=t[i],i++;return{expr:{type:"ArithVariable",name:e,hasDollarPrefix:!0},pos:i}}if("$"===t[i]&&i+1<t.length&&/[*@#?\-!$]/.test(t[i+1]))return{expr:{type:"ArithSpecialVar",name:t[i+1]},pos:i+=2};let l=!1;if("$"===t[i]&&i+1<t.length&&/[a-zA-Z_]/.test(t[i+1])&&(l=!0,i++),i<t.length&&/[a-zA-Z_]/.test(t[i])){let n="";for(;i<t.length&&/[a-zA-Z0-9_]/.test(t[i]);)n+=t[i],i++;if("["===t[i]&&!r){let s,a;if("'"===t[++i]||'"'===t[i]){let e=t[i];for(i++,s="";i<t.length&&t[i]!==e;)s+=t[i],i++;t[i]===e&&i++,i=h_(t,i),"]"===t[i]&&i++}if(void 0===s){let{expr:n,pos:r}=hy(e,t,i);a=n,"]"===t[i=r]&&i++}if(i=h_(t,i),"["===t[i]&&a)return{expr:{type:"ArithDoubleSubscript",array:n,index:a},pos:i};if(!r){for(let r of hd)if(t.slice(i,i+r.length)===r&&"=="!==t.slice(i,i+r.length+1)){let{expr:o,pos:l}=h$(e,t,i+=r.length);return{expr:{type:"ArithAssignment",operator:r,variable:n,subscript:a,stringKey:s,value:o},pos:l}}}return{expr:{type:"ArithArrayElement",array:n,index:a,stringKey:s},pos:i}}if(i=h_(t,i),!r){for(let r of hd)if(t.slice(i,i+r.length)===r&&"=="!==t.slice(i,i+r.length+1)){let{expr:s,pos:a}=h$(e,t,i+=r.length);return{expr:{type:"ArithAssignment",operator:r,variable:n,value:s},pos:a}}}return{expr:{type:"ArithVariable",name:n,hasDollarPrefix:l},pos:i}}if("#"===t[i]){let e=i+1;for(;e<t.length&&t[e]!==`
`;)e++;let n=t.slice(i,e).trim()||"#";return{expr:{type:"ArithSyntaxError",errorToken:n,message:`${n}: syntax error: invalid arithmetic operator (error token is "${n}")`},pos:t.length}}return{expr:{type:"ArithNumber",value:0},pos:i}}var hP=e2(()=>{rV(),hg()});function hL(e,t,n,r,i){let s=1,a=n+1;for(;a<t.length&&s>0;)t[a]===r?s++:t[a]===i&&s--,s>0&&a++;return 0===s?a:-1}function hI(e,t,n){let r=n,i=1;for(;r<t.length&&i>0;){let e=t[r];if("\\"===e&&r+1<t.length){r+=2;continue}if("'"===e){let e=t.indexOf("'",r+1);if(-1!==e){r=e+1;continue}}if('"'===e){for(r++;r<t.length&&'"'!==t[r];)"\\"===t[r]&&r+1<t.length?r+=2:r++;r<t.length&&r++;continue}"{"===e?i++:"}"===e&&i--,i>0&&r++}return r}function hD(e,t){let n=t.trim();return""===n?{type:"ArithmeticExpression",expression:{type:"ArithNumber",value:0}}:hm(e,n)}function hM(e){let t=[],n="",r=0;for(let i=0;i<e.length;i++){let s=e[i];"{"===s?(r++,n+=s):"}"===s?(r--,n+=s):","===s&&0===r?(t.push(n),n=""):n+=s}return t.push(n),t}var hF=e2(()=>{hh(),hP(),hu()});function hB(e){let t=e.current(),n=t.type;if(n===p6.NUMBER){let n=e.peek(1);return t.end===n.start&&ha.has(n.type)}if(n===p6.FD_VARIABLE){let t=e.peek(1);return ho.has(t.type)}return hs.has(n)}function hH(e){var t,n,r,i;let s=null,a;e.check(p6.NUMBER)?s=Number.parseInt(e.advance().value,10):e.check(p6.FD_VARIABLE)&&(a=e.advance().value);let o=e.advance(),l=(t=o.type,({[p6.LESS]:"<",[p6.GREAT]:">",[p6.DGREAT]:">>",[p6.LESSAND]:"<&",[p6.GREATAND]:">&",[p6.LESSGREAT]:"<>",[p6.CLOBBER]:">|",[p6.TLESS]:"<<<",[p6.AND_GREAT]:"&>",[p6.AND_DGREAT]:"&>>",[p6.DLESS]:"<",[p6.DLESSDASH]:"<"})[t]||">");if(o.type===p6.DLESS||o.type===p6.DLESSDASH){let t,a,l,c;return n=e,r=s,i=o.type===p6.DLESSDASH,n.isWord()||n.error("Expected here-document delimiter"),a=(t=n.advance()).value,l=t.quoted||!1,(a.startsWith("'")&&a.endsWith("'")||a.startsWith('"')&&a.endsWith('"'))&&(a=a.slice(1,-1)),c=hc.redirection(i?"<<-":"<<",hc.hereDoc(a,hc.word([]),i,l),r),n.addPendingHeredoc(c,a,i,l),c}e.isWord()||e.error("Expected redirection target");let c=e.parseWord();return hc.redirection(l,c,s,a)}function hU(e){let t=[];for(e.skipNewlines();!e.check(p6.RPAREN,p6.EOF);)e.checkIterationLimit(),e.isWord()?t.push(e.parseWord()):hj.has(e.current().type)?e.error(`syntax error near unexpected token \`${e.current().value}'`):e.advance(),e.skipNewlines();return t}var hj,hW=e2(()=>{hh(),hu(),hp(),hF(),hj=new Set([p6.AMP,p6.PIPE,p6.PIPE_AMP,p6.SEMICOLON,p6.AND_AND,p6.OR_OR,p6.DSEMI,p6.SEMI_AND,p6.SEMI_SEMI_AND])});function hq(e,t){e.expect(p6.IF);let n=[],r=e.parseCompoundList();e.expect(p6.THEN);let i=e.parseCompoundList();if(0===i.length){let t=e.check(p6.FI)?"fi":e.check(p6.ELSE)?"else":e.check(p6.ELIF)?"elif":"fi";e.error(`syntax error near unexpected token \`${t}'`)}for(n.push({condition:r,body:i});e.check(p6.ELIF);){e.advance();let t=e.parseCompoundList();e.expect(p6.THEN);let r=e.parseCompoundList();if(0===r.length){let t=e.check(p6.FI)?"fi":e.check(p6.ELSE)?"else":e.check(p6.ELIF)?"elif":"fi";e.error(`syntax error near unexpected token \`${t}'`)}n.push({condition:t,body:r})}let s=null;e.check(p6.ELSE)&&(e.advance(),0===(s=e.parseCompoundList()).length&&e.error("syntax error near unexpected token `fi'")),e.expect(p6.FI);let a=t?.skipRedirections?[]:e.parseOptionalRedirections();return hc.ifNode(n,s,a)}function hz(e,t){let n=e.expect(p6.FOR);if(e.check(p6.DPAREN_START))return function(e,t,n){let r;e.expect(p6.DPAREN_START);let i=null,s=null,a=null,o=["","",""],l=0,c=0;for(;!e.check(p6.DPAREN_END,p6.EOF);){let t=e.advance();if(t.type===p6.SEMICOLON&&0===c){if(++l>2)break}else"("===t.value&&c++,")"===t.value&&c--,o[l]+=t.value}return e.expect(p6.DPAREN_END),o[0].trim()&&(i=hm(e,o[0].trim())),o[1].trim()&&(s=hm(e,o[1].trim())),o[2].trim()&&(a=hm(e,o[2].trim())),e.skipNewlines(),e.check(p6.SEMICOLON)&&e.advance(),e.skipNewlines(),e.check(p6.LBRACE)?(e.advance(),r=e.parseCompoundList(),e.expect(p6.RBRACE)):(e.expect(p6.DO),r=e.parseCompoundList(),e.expect(p6.DONE)),{type:"CStyleFor",init:i,condition:s,update:a,body:r,redirections:t?.skipRedirections?[]:e.parseOptionalRedirections(),line:n}}(e,t,n.line);e.isWord()||e.error("Expected variable name in for loop");let r=e.advance().value,i=null;if(e.skipNewlines(),e.check(p6.IN))for(e.advance(),i=[];!e.check(p6.SEMICOLON,p6.NEWLINE,p6.DO,p6.EOF)&&e.isWord();)i.push(e.parseWord());e.check(p6.SEMICOLON)&&e.advance(),e.skipNewlines(),e.expect(p6.DO);let s=e.parseCompoundList();e.expect(p6.DONE);let a=t?.skipRedirections?[]:e.parseOptionalRedirections();return hc.forNode(r,i,s,a)}function hG(e,t){e.expect(p6.WHILE);let n=e.parseCompoundList();e.expect(p6.DO);let r=e.parseCompoundList();0===r.length&&e.error("syntax error near unexpected token `done'"),e.expect(p6.DONE);let i=t?.skipRedirections?[]:e.parseOptionalRedirections();return hc.whileNode(n,r,i)}function hV(e,t){e.expect(p6.UNTIL);let n=e.parseCompoundList();e.expect(p6.DO);let r=e.parseCompoundList();0===r.length&&e.error("syntax error near unexpected token `done'"),e.expect(p6.DONE);let i=t?.skipRedirections?[]:e.parseOptionalRedirections();return hc.untilNode(n,r,i)}function hZ(e,t){e.expect(p6.CASE),e.isWord()||e.error("Expected word after 'case'");let n=e.parseWord();e.skipNewlines(),e.expect(p6.IN),e.skipNewlines();let r=[];for(;!e.check(p6.ESAC,p6.EOF);){e.checkIterationLimit();let t=e.getPos(),n=function(e){e.check(p6.LPAREN)&&e.advance();let t=[];for(;e.isWord()&&(t.push(e.parseWord()),e.check(p6.PIPE));)e.advance();if(0===t.length)return null;e.expect(p6.RPAREN),e.skipNewlines();let n=[];for(;!e.check(p6.DSEMI,p6.SEMI_AND,p6.SEMI_SEMI_AND,p6.ESAC,p6.EOF);){e.checkIterationLimit(),e.isWord()&&e.peek(1).type===p6.RPAREN&&e.error("syntax error near unexpected token `)'"),e.check(p6.LPAREN)&&e.peek(1).type===p6.WORD&&e.error(`syntax error near unexpected token \`${e.peek(1).value}'`);let t=e.getPos(),r=e.parseStatement();if(r&&n.push(r),e.skipSeparators(!1),e.getPos()===t&&!r)break}let r=";;";return e.check(p6.DSEMI)?(e.advance(),r=";;"):e.check(p6.SEMI_AND)?(e.advance(),r=";&"):e.check(p6.SEMI_SEMI_AND)&&(e.advance(),r=";;&"),hc.caseItem(t,n,r)}(e);if(n&&r.push(n),e.skipNewlines(),e.getPos()===t&&!n)break}e.expect(p6.ESAC);let i=t?.skipRedirections?[]:e.parseOptionalRedirections();return hc.caseNode(n,r,i)}function hK(e,t){e.expect(p6.LPAREN);let n=e.parseCompoundList();e.expect(p6.RPAREN);let r=t?.skipRedirections?[]:e.parseOptionalRedirections();return hc.subshell(n,r)}function hX(e,t){e.expect(p6.LBRACE);let n=e.parseCompoundList();e.expect(p6.RBRACE);let r=t?.skipRedirections?[]:e.parseOptionalRedirections();return hc.group(n,r)}var hQ=e2(()=>{hh(),hP(),hu()});function hJ(e){return e.isWord()||e.check(p6.LBRACE)||e.check(p6.RBRACE)||e.check(p6.ASSIGNMENT_WORD)}function hY(e){if(e.check(p6.BANG)&&e.peek(1).type===p6.LPAREN){e.advance(),e.advance();let t=1,n="!(";for(;t>0&&!e.check(p6.EOF);)if(e.check(p6.LPAREN))t++,n+="(",e.advance();else if(e.check(p6.RPAREN))--t>0&&(n+=")"),e.advance();else if(e.isWord())n+=e.advance().value;else if(e.check(p6.PIPE))n+="|",e.advance();else break;return n+=")",e.parseWordFromString(n,!1,!1,!1,!1,!0)}return e.parseWordNoBraceExpansion()}function h0(e){return e.skipNewlines(),function(e){let t=h1(e);for(e.skipNewlines();e.check(p6.OR_OR);)e.advance(),e.skipNewlines(),t={type:"CondOr",left:t,right:h1(e)},e.skipNewlines();return t}(e)}function h1(e){let t=h2(e);for(e.skipNewlines();e.check(p6.AND_AND);)e.advance(),e.skipNewlines(),t={type:"CondAnd",left:t,right:h2(e)},e.skipNewlines();return t}function h2(e){return e.skipNewlines(),e.check(p6.BANG)?(e.advance(),e.skipNewlines(),{type:"CondNot",operand:h2(e)}):function(e){if(e.check(p6.LPAREN)){e.advance();let t=h0(e);return e.expect(p6.RPAREN),{type:"CondGroup",expression:t}}if(hJ(e)){let t=e.current(),n=t.value;if(h3.includes(n)&&!t.quoted){if(e.advance(),e.check(p6.DBRACK_END)&&e.error(`Expected operand after ${n}`),hJ(e))return{type:"CondUnary",operator:n,operand:e.parseWordNoBraceExpansion()};let t=e.current();e.error(`unexpected argument \`${t.value}' to conditional unary operator`)}let r=e.parseWordNoBraceExpansion();if(e.isWord()&&h5.includes(e.current().value)){let t=e.advance().value,n;return n="=~"===t?function(e){let t=[],n=0,r=-1,i=e.getInput(),s=()=>e.check(p6.DBRACK_END)||e.check(p6.AND_AND)||e.check(p6.OR_OR)||e.check(p6.NEWLINE)||e.check(p6.EOF);for(;!s();){let s=e.current(),a=r>=0&&s.start>r;if(0===n&&a)break;if(n>0&&a){let e=i.slice(r,s.start);t.push({type:"Literal",value:e})}if(e.isWord()||e.check(p6.ASSIGNMENT_WORD)){let n=e.parseWordForRegex();t.push(...n.parts),r=e.peek(-1).end}else if(e.check(p6.LPAREN)){let i=e.advance();t.push({type:"Literal",value:"("}),n++,r=i.end}else if(e.check(p6.DPAREN_START)){let i=e.advance();t.push({type:"Literal",value:"(("}),n+=2,r=i.end}else if(e.check(p6.DPAREN_END))if(n>=2){let i=e.advance();t.push({type:"Literal",value:"))"}),n-=2,r=i.end}else break;else if(e.check(p6.RPAREN))if(n>0){let i=e.advance();t.push({type:"Literal",value:")"}),n--,r=i.end}else break;else if(e.check(p6.PIPE)){let n=e.advance();t.push({type:"Literal",value:"|"}),r=n.end}else if(e.check(p6.SEMICOLON))if(n>0){let n=e.advance();t.push({type:"Literal",value:";"}),r=n.end}else break;else if(n>0&&e.check(p6.LESS)){let n=e.advance();t.push({type:"Literal",value:"<"}),r=n.end}else if(n>0&&e.check(p6.GREAT)){let n=e.advance();t.push({type:"Literal",value:">"}),r=n.end}else if(n>0&&e.check(p6.DGREAT)){let n=e.advance();t.push({type:"Literal",value:">>"}),r=n.end}else if(n>0&&e.check(p6.DLESS)){let n=e.advance();t.push({type:"Literal",value:"<<"}),r=n.end}else if(n>0&&e.check(p6.LESSAND)){let n=e.advance();t.push({type:"Literal",value:"<&"}),r=n.end}else if(n>0&&e.check(p6.GREATAND)){let n=e.advance();t.push({type:"Literal",value:">&"}),r=n.end}else if(n>0&&e.check(p6.LESSGREAT)){let n=e.advance();t.push({type:"Literal",value:"<>"}),r=n.end}else if(n>0&&e.check(p6.CLOBBER)){let n=e.advance();t.push({type:"Literal",value:">|"}),r=n.end}else if(n>0&&e.check(p6.TLESS)){let n=e.advance();t.push({type:"Literal",value:"<<<"}),r=n.end}else if(n>0&&e.check(p6.AMP)){let n=e.advance();t.push({type:"Literal",value:"&"}),r=n.end}else if(n>0&&e.check(p6.LBRACE)){let n=e.advance();t.push({type:"Literal",value:"{"}),r=n.end}else if(n>0&&e.check(p6.RBRACE)){let n=e.advance();t.push({type:"Literal",value:"}"}),r=n.end}else break}return 0===t.length&&e.error("Expected regex pattern after =~"),{type:"Word",parts:t}}(e):"=="===t||"!="===t?hY(e):e.parseWordNoBraceExpansion(),{type:"CondBinary",operator:t,left:r,right:n}}return e.check(p6.LESS)?(e.advance(),{type:"CondBinary",operator:"<",left:r,right:e.parseWordNoBraceExpansion()}):e.check(p6.GREAT)?(e.advance(),{type:"CondBinary",operator:">",left:r,right:e.parseWordNoBraceExpansion()}):e.isWord()&&"="===e.current().value?(e.advance(),{type:"CondBinary",operator:"==",left:r,right:hY(e)}):{type:"CondWord",word:r}}e.error("Expected conditional expression")}(e)}var h3,h5,h6=e2(()=>{hu(),h3=["-a","-b","-c","-d","-e","-f","-g","-h","-k","-p","-r","-s","-t","-u","-w","-x","-G","-L","-N","-O","-S","-z","-n","-o","-v","-R"],h5=["==","!=","=~","<",">","-eq","-ne","-lt","-le","-gt","-ge","-nt","-ot","-ef"]});function h4(e,t,n,r,i=!1){let s=n,a=t[s],o=t[s+1]||"";if(":"===a){if("-=?+".includes(o)){let n=hI(e,t,s+=2),r=h7(e,t.slice(s,n),!1,!1,!0,!1,i,!1,!1,!0),a=hc.word(r.length>0?r:[hc.literal("")]);if("-"===o)return{operation:{type:"DefaultValue",word:a,checkEmpty:!0},endIndex:n};if("="===o)return{operation:{type:"AssignDefault",word:a,checkEmpty:!0},endIndex:n};if("?"===o)return{operation:{type:"ErrorIfUnset",word:a,checkEmpty:!0},endIndex:n};if("+"===o)return{operation:{type:"UseAlternative",word:a,checkEmpty:!0},endIndex:n}}let n=hI(e,t,++s),r=t.slice(s,n),a=-1,l=0,c=0;for(let e=0;e<r.length;e++){let t=r[e];if("("===t||"["===t)l++;else if(")"===t||"]"===t)l--;else if("?"===t&&0===l)c++;else if(":"===t&&0===l)if(c>0)c--;else{a=e;break}}let u=a>=0?r.slice(0,a):r,p=a>=0?r.slice(a+1):null;return{operation:{type:"Substring",offset:hD(e,u),length:null!==p?hD(e,p):null},endIndex:n}}if("-=?+".includes(a)){let n=hI(e,t,++s),r=t.slice(s,n),o=h7(e,r,!1,!1,!0,!1,i,!1,!1,!0),l=hc.word(o.length>0?o:[hc.literal("")]);if("-"===a)return{operation:{type:"DefaultValue",word:l,checkEmpty:!1},endIndex:n};if("="===a)return{operation:{type:"AssignDefault",word:l,checkEmpty:!1},endIndex:n};if("?"===a)return{operation:{type:"ErrorIfUnset",word:r?l:null,checkEmpty:!1},endIndex:n};if("+"===a)return{operation:{type:"UseAlternative",word:l,checkEmpty:!1},endIndex:n}}if("#"===a||"%"===a){let n=o===a,r=hI(e,t,s+=n?2:1),i=h7(e,t.slice(s,r),!1,!1,!1);return{operation:{type:"PatternRemoval",pattern:hc.word(i.length>0?i:[hc.literal("")]),side:"#"===a?"prefix":"suffix",greedy:n},endIndex:r}}if("/"===a){let n,r="/"===o,i=null;"#"===t[s+=r?2:1]?(i="start",s++):"%"===t[s]&&(i="end",s++),n=null!==i&&("/"===t[s]||"}"===t[s])?s:function(e,t,n){let r=n,i=!1;for(;r<t.length;){let e=t[r];if("/"===e&&i||"}"===e)break;if("'"===e){let e=t.indexOf("'",r+1);if(-1!==e){r=e+1,i=!0;continue}}if('"'===e){for(r++;r<t.length&&'"'!==t[r];)"\\"===t[r]&&r+1<t.length?r+=2:r++;r<t.length&&r++,i=!0;continue}"\\"===e?r+=2:r++,i=!0}return r}(0,t,s);let a=h7(e,t.slice(s,n),!1,!1,!1),l=hc.word(a.length>0?a:[hc.literal("")]),c=null,u=n;if("/"===t[n]){let r=n+1,i=hI(e,t,r),s=h7(e,t.slice(r,i),!1,!1,!1);c=hc.word(s.length>0?s:[hc.literal("")]),u=i}return{operation:{type:"PatternReplacement",pattern:l,replacement:c,all:r,anchor:i},endIndex:u}}if("^"===a||","===a){let n=o===a,r=hI(e,t,s+=n?2:1),i=t.slice(s,r);return{operation:{type:"CaseModification",direction:"^"===a?"upper":"lower",all:n,pattern:i?hc.word([hc.literal(i)]):null},endIndex:r}}return"@"===a&&/[QPaAEKkuUL]/.test(o)?{operation:{type:"Transform",operator:o},endIndex:s+2}:{operation:null,endIndex:s}}function h8(e,t,n,r=!1){let i=n+1;if(i>=t.length)return{part:hc.literal("$"),endIndex:i};let s=t[i];if("("===s&&"("===t[i+1])return e.isDollarDparenSubshell(t,n)?e.parseCommandSubstitution(t,n):e.parseArithmeticExpansion(t,n);if("["===s){let n=1,r=i+1;for(;r<t.length&&n>0;)"["===t[r]?n++:"]"===t[r]&&n--,n>0&&r++;if(0===n){let n=hm(e,t.slice(i+1,r));return{part:hc.arithmeticExpansion(n),endIndex:r+1}}}return"("===s?e.parseCommandSubstitution(t,n):"{"===s?function(e,t,n,r=!1){let i=n+2,s=!1;"!"===t[i]&&(s=!0,i++);let a=!1;"#"===t[i]&&!/[}:#%/^,]/.test(t[i+1]||"}")&&(a=!0,i++);let o="",l=t[i];if(/[@*#?$!-]/.test(l)&&!/[a-zA-Z0-9_]/.test(t[i+1]||""))o=l,i++;else for(;i<t.length&&/[a-zA-Z0-9_]/.test(t[i]);)o+=t[i],i++;if("["===t[i]){let r=hL(e,t,i,"[","]");if(o+=t.slice(i,r+1),"["===t[i=r+1]){let e=1,r=i;for(;r<t.length&&e>0;)"{"===t[r]?e++:"}"===t[r]&&e--,e>0&&r++;let s=t.slice(n+2,r);return{part:hc.parameterExpansion("",{type:"BadSubstitution",text:s}),endIndex:r+1}}}if(""===o&&!s&&!a&&"}"!==t[i]){let e=1,r=i;for(;r<t.length&&e>0;)"{"===t[r]?e++:"}"===t[r]&&e--,e>0&&r++;if(e>0)throw new hl("unexpected EOF while looking for matching '}'",0,0);let s=t.slice(n+2,r);return{part:hc.parameterExpansion("",{type:"BadSubstitution",text:s}),endIndex:r+1}}let c=null;if(s){let n=o.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if(n)if(i<t.length&&"}"!==t[i]&&/[:=\-+?#%/^,@]/.test(t[i])){let s=h4(e,t,i,o,r);s.operation?(c={type:"Indirection",innerOp:s.operation},i=s.endIndex):(c={type:"ArrayKeys",array:n[1],star:"*"===n[2]},o="")}else c={type:"ArrayKeys",array:n[1],star:"*"===n[2]},o="";else if("*"!==t[i]&&("@"!==t[i]||/[QPaAEKkuUL]/.test(t[i+1]||"")))if(i<t.length&&"}"!==t[i]&&/[:=\-+?#%/^,@]/.test(t[i])){let n=h4(e,t,i,o,r);n.operation?(c={type:"Indirection",innerOp:n.operation},i=n.endIndex):c={type:"Indirection"}}else c={type:"Indirection"};else{let e=t[i];i++,c={type:"VarNamePrefix",prefix:o,star:"*"===e},o=""}}else if(a)if(":"===t[i])for(c={type:"LengthSliceError"};i<t.length&&"}"!==t[i];)i++;else"}"!==t[i]&&/[-+=?]/.test(t[i])||"/"===t[i]?e.error(`\${#${o}${t.slice(i,t.indexOf("}",i))}}: bad substitution`):c={type:"Length"};if(!c&&i<t.length&&"}"!==t[i]){let n=h4(e,t,i,o,r);c=n.operation,i=n.endIndex}if(i<t.length&&"}"!==t[i]){let r=t[i];if(!/[:\-+=?#%/^,@[]/.test(r)){let r=i;for(;r<t.length&&"}"!==t[r];)r++;let s=t.slice(n,r+1);e.error(`\${${s.slice(2,-1)}}: bad substitution`)}}for(;i<t.length&&"}"!==t[i];)i++;if(i>=t.length)throw new hl("unexpected EOF while looking for matching '}'",0,0);return{part:hc.parameterExpansion(o,c),endIndex:i+1}}(e,t,n,r):/[a-zA-Z_0-9@*#?$!-]/.test(s)?function(e,t,n){let r=n+1,i=t[r];if("@*#?$!-0123456789".includes(i))return{part:hc.parameterExpansion(i),endIndex:r+1};let s="";for(;r<t.length&&/[a-zA-Z0-9_]/.test(t[r]);)s+=t[r],r++;return{part:hc.parameterExpansion(s),endIndex:r}}(0,t,n):{part:hc.literal("$"),endIndex:i}}function h9(e,t){let n=[],r=0,i="",s=()=>{i&&(n.push(hc.literal(i)),i="")};for(;r<t.length;){let a=t[r];if("\\"===a&&r+1<t.length){let e=t[r+1];if("$"===e||"`"===e||'"'===e||"\\"===e){i+=e,r+=2;continue}i+=a,r++;continue}if("$"===a){s();let{part:i,endIndex:a}=h8(e,t,r,!0);i&&n.push(i),r=a;continue}if("`"===a){s();let{part:i,endIndex:a}=e.parseBacktickSubstitution(t,r,!0);n.push(i),r=a;continue}i+=a,r++}return s(),n}function h7(e,t,n=!1,r=!1,i=!1,s=!1,a=!1,o=!1,l=!1,c=!1){if(r)return[hc.singleQuoted(t)];if(n){let n=h9(e,t);return[hc.doubleQuoted(n)]}if(t.length>=2&&'"'===t[0]&&'"'===t[t.length-1]){let n=t.slice(1,-1),r=!1;for(let e=0;e<n.length;e++){if('"'===n[e]){r=!0;break}"\\"===n[e]&&e+1<n.length&&e++}if(!r){let t=h9(e,n);return[hc.doubleQuoted(t)]}}let u=[],p=0,h="",_=()=>{h&&(u.push(hc.literal(h)),h="")};for(;p<t.length;){let n=t[p];if("\\"===n&&p+1<t.length){let e=t[p+1];if(l){_(),u.push(hc.escaped(e)),p+=2;continue}let n=s?"$"===e||"`"===e||e===`
`:"$"===e||"`"===e||'"'===e||"'"===e||e===`
`||c&&"}"===e,r=a?"*?[]\\".includes(e):"*?[]\\(){}.^+".includes(e);n?h+=e:r?(_(),u.push(hc.escaped(e))):h+=`\\${e}`,p+=2;continue}if("'"===n&&!a&&!s){_();let e=t.indexOf("'",p+1);if(-1===e){h+=t.slice(p);break}u.push(hc.singleQuoted(t.slice(p+1,e))),p=e+1;continue}if('"'===n&&!s){_();let{part:n,endIndex:r}=function(e,t,n){let r=[],i=n,s="",a=()=>{s&&(r.push(hc.literal(s)),s="")};for(;i<t.length&&'"'!==t[i];){let n=t[i];if("\\"===n&&i+1<t.length){let e=t[i+1];if('"\\$`\n'.includes(e)){s+=e,i+=2;continue}s+=n,i++;continue}if("$"===n){a();let{part:n,endIndex:s}=h8(e,t,i,!0);n&&r.push(n),i=s;continue}if("`"===n){a();let{part:n,endIndex:s}=e.parseBacktickSubstitution(t,i,!0);r.push(n),i=s;continue}s+=n,i++}return a(),{part:hc.doubleQuoted(r),endIndex:i}}(e,t,p+1);u.push(n),p=r+1;continue}if("$"===n&&"'"===t[p+1]){_();let{part:e,endIndex:n}=function(e,t,n){let r="",i=n;for(;i<t.length&&"'"!==t[i];){let e=t[i];if("\\"===e&&i+1<t.length)switch(t[i+1]){case"n":r+=`
`,i+=2;break;case"t":r+="	",i+=2;break;case"r":r+="\r",i+=2;break;case"\\":r+="\\",i+=2;break;case"'":r+="'",i+=2;break;case'"':r+='"',i+=2;break;case"a":r+="\x07",i+=2;break;case"b":r+="\b",i+=2;break;case"e":case"E":r+="\x1b",i+=2;break;case"f":r+="\f",i+=2;break;case"v":r+="\v",i+=2;break;case"x":{let e=[],n=i;for(;n+1<t.length&&"\\"===t[n]&&"x"===t[n+1];){let r=t.slice(n+2,n+4),i=parseInt(r,16);if(!Number.isNaN(i)&&r.length>0)e.push(i),n+=2+r.length;else break}e.length>0?(r+=function(e){let t="",n=0;for(;n<e.length;){let r=e[n];if(r<128){t+=String.fromCharCode(r),n++;continue}if((224&r)==192){if(n+1<e.length&&(192&e[n+1])==128&&r>=194){t+=String.fromCharCode((31&r)<<6|63&e[n+1]),n+=2;continue}t+=String.fromCharCode(r),n++;continue}if((240&r)==224){if(n+2<e.length&&(192&e[n+1])==128&&(192&e[n+2])==128){if(224===r&&e[n+1]<160){t+=String.fromCharCode(r),n++;continue}let i=(15&r)<<12|(63&e[n+1])<<6|63&e[n+2];if(i>=55296&&i<=57343){t+=String.fromCharCode(r),n++;continue}t+=String.fromCharCode(i),n+=3;continue}t+=String.fromCharCode(r),n++;continue}if((248&r)==240&&r<=244){if(n+3<e.length&&(192&e[n+1])==128&&(192&e[n+2])==128&&(192&e[n+3])==128){if(240===r&&e[n+1]<144){t+=String.fromCharCode(r),n++;continue}let i=(7&r)<<18|(63&e[n+1])<<12|(63&e[n+2])<<6|63&e[n+3];if(i>1114111){t+=String.fromCharCode(r),n++;continue}t+=String.fromCodePoint(i),n+=4;continue}t+=String.fromCharCode(r),n++;continue}t+=String.fromCharCode(r),n++}return t}(e),i=n):(r+="\\x",i+=2);break}case"u":{let e=parseInt(t.slice(i+2,i+6),16);Number.isNaN(e)?(r+="\\u",i+=2):(r+=String.fromCharCode(e),i+=6);break}case"c":i+2<t.length?(r+=String.fromCharCode(31&t[i+2].charCodeAt(0)),i+=3):(r+="\\c",i+=2);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{let e="",n=i+1;for(;n<t.length&&n<i+4&&/[0-7]/.test(t[n]);)e+=t[n],n++;r+=String.fromCharCode(parseInt(e,8)),i=n;break}default:r+=e,i++}else r+=e,i++}return i<t.length&&"'"===t[i]&&i++,{part:hc.literal(r),endIndex:i}}(0,t,p+2);u.push(e),p=n;continue}if("$"===n){_();let{part:n,endIndex:r}=h8(e,t,p);n&&u.push(n),p=r;continue}if("`"===n){_();let{part:n,endIndex:r}=e.parseBacktickSubstitution(t,p);u.push(n),p=r;continue}if("~"===n){let e=p>0?t[p-1]:"";if(0===p||"="===e||i&&":"===e){let e=function(e,t,n){let r=n+1;for(;r<t.length&&/[a-zA-Z0-9_-]/.test(t[r]);)r++;return r}(0,t,p),n=t[e];if(void 0===n||"/"===n||":"===n){_();let n=t.slice(p+1,e)||null;u.push({type:"TildeExpansion",user:n}),p=e;continue}}}if("@*+?!".includes(n)&&p+1<t.length&&"("===t[p+1]){let e=function(e,t){let n=1,r=t+1;for(;r<e.length&&n>0;){let t=e[r];if("\\"===t){r+=2;continue}if("@*+?!".includes(t)&&r+1<e.length&&"("===e[r+1]){r++,n++,r++;continue}if("("===t)n++;else if(")"===t&&0==--n)return r;r++}return -1}(t,p+1);if(-1!==e){_();let n=t.slice(p,e+1);u.push({type:"Glob",pattern:n}),p=e+1;continue}}if("*"===n||"?"===n||"["===n){_();let{pattern:e,endIndex:n}=function(e,t,n){let r=n,i="";for(;r<t.length;){let e=t[r];if("*"===e||"?"===e)i+=e,r++;else if("["===e){let n=function(e,t){let n=t+1;for(n<e.length&&"^"===e[n]&&n++,n<e.length&&"]"===e[n]&&n++;n<e.length;){let t=e[n];if("\\"===t&&n+1<e.length){let t=e[n+1];if('"'===t||"'"===t)return -1;n+=2;continue}if("]"===t)return n;if('"'===t||"$"===t||"`"===t)break;if("'"===t){let t=e.indexOf("'",n+1);if(-1!==t){n=t+1;continue}}if("["===t&&n+1<e.length&&":"===e[n+1]){let t=e.indexOf(":]",n+2);if(-1!==t){n=t+2;continue}}if("["===t&&n+1<e.length&&("."===e[n+1]||"="===e[n+1])){let t=`${e[n+1]}]`,r=e.indexOf(t,n+2);if(-1!==r){n=r+2;continue}}n++}return -1}(t,r);-1===n?(i+=e,r++):(i+=t.slice(r,n+1),r=n+1)}else break}return{pattern:i,endIndex:r}}(0,t,p);u.push({type:"Glob",pattern:e}),p=n;continue}if("{"===n&&!i&&!o){let n=function(e,t,n,r){let i=hL(e,t,n,"{","}");if(-1===i)return null;let s=t.slice(n+1,i),a=s.match(/^(-?\d+)\.\.(-?\d+)(?:\.\.(-?\d+))?$/);if(a)return{part:{type:"BraceExpansion",items:[{type:"Range",start:Number.parseInt(a[1],10),end:Number.parseInt(a[2],10),step:a[3]?Number.parseInt(a[3],10):void 0,startStr:a[1],endStr:a[2]}]},endIndex:i+1};let o=s.match(/^([a-zA-Z])\.\.([a-zA-Z])(?:\.\.(-?\d+))?$/);return o?{part:{type:"BraceExpansion",items:[{type:"Range",start:o[1],end:o[2],step:o[3]?Number.parseInt(o[3],10):void 0}]},endIndex:i+1}:s.includes(",")&&r?{part:{type:"BraceExpansion",items:hM(s).map(t=>({type:"Word",word:hc.word(r(e,t,!1,!1,!1))}))},endIndex:i+1}:s.includes(",")?{part:{type:"BraceExpansion",items:hM(s).map(e=>({type:"Word",word:hc.word([hc.literal(e)])}))},endIndex:i+1}:null}(e,t,p,h7);if(n){_(),u.push(n.part),p=n.endIndex;continue}}h+=n,p++}return _(),u}var _e=e2(()=>{hh(),hP(),hp(),hF()}),_t=e2(()=>{hh()});function _n(e){return new _r().parse(e)}var _r,_i=e2(()=>{hh(),hP(),hW(),hQ(),h6(),_e(),hu(),_t(),hp(),hp(),_r=class e{tokens=[];pos=0;pendingHeredocs=[];parseIterations=0;_input="";getInput(){return this._input}checkIterationLimit(){if(this.parseIterations++,this.parseIterations>hi)throw new hl("Maximum parse iterations exceeded (possible infinite loop)",this.current().line,this.current().column)}parse(e){if(e.length>hn)throw new hl(`Input too large: ${e.length} bytes exceeds limit of ${hn}`,1,1);this._input=e;let t=new ht(e);if(this.tokens=t.tokenize(),this.tokens.length>hr)throw new hl(`Too many tokens: ${this.tokens.length} exceeds limit of ${hr}`,1,1);return this.pos=0,this.pendingHeredocs=[],this.parseIterations=0,this.parseScript()}parseTokens(e){return this.tokens=e,this.pos=0,this.pendingHeredocs=[],this.parseScript()}current(){return this.tokens[this.pos]||this.tokens[this.tokens.length-1]}peek(e=0){return this.tokens[this.pos+e]||this.tokens[this.tokens.length-1]}advance(){let e=this.current();return this.pos<this.tokens.length-1&&this.pos++,e}getPos(){return this.pos}check(e,t,n,r,...i){let s=this.tokens[this.pos]?.type;return s===e||void 0!==t&&s===t||void 0!==n&&s===n||void 0!==r&&s===r||i.length>0&&i.includes(s)}expect(e,t){if(this.check(e))return this.advance();let n=this.current();throw new hl(t||`Expected ${e}, got ${n.type}`,n.line,n.column,n)}error(e){let t=this.current();throw new hl(e,t.line,t.column,t)}skipNewlines(){for(;this.check(p6.NEWLINE,p6.COMMENT);)this.check(p6.NEWLINE)?(this.advance(),this.processHeredocs()):this.advance()}skipSeparators(e=!0){for(;;){if(this.check(p6.NEWLINE)){this.advance(),this.processHeredocs();continue}if(this.check(p6.SEMICOLON,p6.COMMENT)||e&&this.check(p6.DSEMI,p6.SEMI_AND,p6.SEMI_SEMI_AND)){this.advance();continue}break}}addPendingHeredoc(e,t,n,r){this.pendingHeredocs.push({redirect:e,delimiter:t,stripTabs:n,quoted:r})}processHeredocs(){for(let e of this.pendingHeredocs)if(this.check(p6.HEREDOC_CONTENT)){let t=this.advance(),n;n=e.quoted?hc.word([hc.literal(t.value)]):this.parseWordFromString(t.value,!1,!1,!1,!0),e.redirect.target=hc.hereDoc(e.delimiter,n,e.stripTabs,e.quoted)}this.pendingHeredocs=[]}isStatementEnd(){return this.check(p6.EOF,p6.NEWLINE,p6.SEMICOLON,p6.AMP,p6.AND_AND,p6.OR_OR,p6.RPAREN,p6.RBRACE,p6.DSEMI,p6.SEMI_AND,p6.SEMI_SEMI_AND)}isCommandStart(){let e=this.current().type;return e===p6.WORD||e===p6.NAME||e===p6.NUMBER||e===p6.ASSIGNMENT_WORD||e===p6.IF||e===p6.FOR||e===p6.WHILE||e===p6.UNTIL||e===p6.CASE||e===p6.LPAREN||e===p6.LBRACE||e===p6.DPAREN_START||e===p6.DBRACK_START||e===p6.FUNCTION||e===p6.BANG||e===p6.TIME||e===p6.IN||e===p6.LESS||e===p6.GREAT||e===p6.DLESS||e===p6.DGREAT||e===p6.LESSAND||e===p6.GREATAND||e===p6.LESSGREAT||e===p6.DLESSDASH||e===p6.CLOBBER||e===p6.TLESS||e===p6.AND_GREAT||e===p6.AND_DGREAT}parseScript(){let e=[],t=0;for(this.skipNewlines();!this.check(p6.EOF);){++t>1e4&&this.error("Parser stuck: too many iterations (>10000)");let n=this.checkUnexpectedToken();if(n){e.push(n),this.skipSeparators(!1);continue}let r=this.pos,i=this.parseStatement();i&&e.push(i),this.skipSeparators(!1),this.check(p6.DSEMI,p6.SEMI_AND,p6.SEMI_SEMI_AND)&&this.error(`syntax error near unexpected token \`${this.current().value}'`),this.pos!==r||this.check(p6.EOF)||this.advance()}return hc.script(e)}checkUnexpectedToken(){let e=this.current().type,t=this.current().value;if((e===p6.DO||e===p6.DONE||e===p6.THEN||e===p6.ELSE||e===p6.ELIF||e===p6.FI||e===p6.ESAC)&&this.error(`syntax error near unexpected token \`${t}'`),e===p6.RBRACE||e===p6.RPAREN){let e=`syntax error near unexpected token \`${t}'`;return this.advance(),hc.statement([hc.pipeline([hc.simpleCommand(null,[],[],[])])],[],!1,{message:e,token:t})}return(e===p6.DSEMI||e===p6.SEMI_AND||e===p6.SEMI_SEMI_AND)&&this.error(`syntax error near unexpected token \`${t}'`),e===p6.SEMICOLON&&this.error(`syntax error near unexpected token \`${t}'`),(e===p6.PIPE||e===p6.PIPE_AMP)&&this.error(`syntax error near unexpected token \`${t}'`),null}parseStatement(){if(this.skipNewlines(),!this.isCommandStart())return null;let e=this.current().start,t=[],n=[],r=!1,i=this.parsePipeline();for(t.push(i);this.check(p6.AND_AND,p6.OR_OR);){let e=this.advance();n.push(e.type===p6.AND_AND?"&&":"||"),this.skipNewlines();let r=this.parsePipeline();t.push(r)}this.check(p6.AMP)&&(this.advance(),r=!0);let s=this.pos>0?this.tokens[this.pos-1].end:e,a=this._input.slice(e,s);return hc.statement(t,n,r,void 0,a)}parsePipeline(){let e=!1,t=!1;this.check(p6.TIME)&&(this.advance(),e=!0,this.check(p6.WORD,p6.NAME)&&"-p"===this.current().value&&(this.advance(),t=!0));let n=0;for(;this.check(p6.BANG);)this.advance(),n++;let r=n%2==1,i=[],s=[],a=this.parseCommand();for(i.push(a);this.check(p6.PIPE,p6.PIPE_AMP);){let e=this.advance();this.skipNewlines(),s.push(e.type===p6.PIPE_AMP);let t=this.parseCommand();i.push(t)}return hc.pipeline(i,r,e,t,s.length>0?s:void 0)}parseCommand(){return this.check(p6.IF)?hq(this):this.check(p6.FOR)?hz(this):this.check(p6.WHILE)?hG(this):this.check(p6.UNTIL)?hV(this):this.check(p6.CASE)?hZ(this):this.check(p6.LPAREN)?hK(this):this.check(p6.LBRACE)?hX(this):this.check(p6.DPAREN_START)?this.dparenClosesWithSpacedParens()?this.parseNestedSubshellsFromDparen():this.parseArithmeticCommand():this.check(p6.DBRACK_START)?this.parseConditionalCommand():this.check(p6.FUNCTION)||this.check(p6.NAME,p6.WORD)&&this.peek(1).type===p6.LPAREN&&this.peek(2).type===p6.RPAREN?this.parseFunctionDef():function(e){let t=e.current().line,n=[],r=null,i=[],s=[];for(;e.check(p6.ASSIGNMENT_WORD)||hB(e);)e.checkIterationLimit(),e.check(p6.ASSIGNMENT_WORD)?n.push(function(e){let t=e.expect(p6.ASSIGNMENT_WORD),n=t.value,r=n.match(/^[a-zA-Z_][a-zA-Z0-9_]*/);r||e.error(`Invalid assignment: ${n}`);let i=r[0],s,a=i.length;if("["===n[a]){let t=0,r=a+1;for(;a<n.length;a++)if("["===n[a])t++;else if("]"===n[a]&&0==--t)break;0!==t&&e.error(`Invalid assignment: ${n}`),s=n.slice(r,a),a++}let o="+"===n[a];o&&a++,"="!==n[a]&&e.error(`Invalid assignment: ${n}`),a++;let l=n.slice(a);if("("===l){let t=hU(e);e.expect(p6.RPAREN);let n=void 0!==s?`${i}[${s}]`:i;return hc.assignment(n,null,o,t)}if(""===l&&e.check(p6.LPAREN)){let n=e.current();if(t.end===n.start){e.advance();let t=hU(e);e.expect(p6.RPAREN);let n=void 0!==s?`${i}[${s}]`:i;return hc.assignment(n,null,o,t)}}let c=l?e.parseWordFromString(l,t.quoted,t.singleQuoted,!0):null,u=void 0!==s?`${i}[${s}]`:i;return hc.assignment(u,c,o,null)}(e)):s.push(hH(e));if(e.isWord())r=e.parseWord();else if(n.length>0&&(e.check(p6.DBRACK_START)||e.check(p6.DPAREN_START))){let t=e.advance();r=hc.word([hc.literal(t.value)])}for(;(!e.isStatementEnd()||e.check(p6.RBRACE))&&!e.check(p6.PIPE,p6.PIPE_AMP);)if(e.checkIterationLimit(),hB(e))s.push(hH(e));else if(e.check(p6.RBRACE)){let t=e.advance();i.push(e.parseWordFromString(t.value,!1,!1))}else if(e.check(p6.LBRACE)){let t=e.advance();i.push(e.parseWordFromString(t.value,!1,!1))}else if(e.check(p6.DBRACK_END)){let t=e.advance();i.push(e.parseWordFromString(t.value,!1,!1))}else if(e.isWord())i.push(e.parseWord());else if(e.check(p6.ASSIGNMENT_WORD)){let t=e.advance(),n=t.value,r=n.endsWith("="),s=n.endsWith("=(");if((r||s)&&(s||e.check(p6.LPAREN))){let t=s?n.slice(0,-2):n.slice(0,-1);s||e.expect(p6.LPAREN);let r=hU(e);e.expect(p6.RPAREN);let a=r.map(t=>(function e(t,n){let r="";for(let i of n.parts)switch(i.type){case"Literal":case"Escaped":r+=i.value;break;case"SingleQuoted":r+=`'${i.value}'`;break;case"DoubleQuoted":for(let e of(r+='"',i.parts))"Literal"===e.type||"Escaped"===e.type?r+=e.value:"ParameterExpansion"===e.type&&(r+=`\${${e.parameter}}`);r+='"';break;case"ParameterExpansion":r+=`\${${i.parameter}}`;break;case"Glob":r+=i.pattern;break;case"TildeExpansion":r+="~",i.user&&(r+=i.user);break;case"BraceExpansion":{r+="{";let n=[];for(let r of i.items)if("Range"===r.type){let e=r.startStr??String(r.start),t=r.endStr??String(r.end);void 0!==r.step?n.push(`${e}..${t}..${r.step}`):n.push(`${e}..${t}`)}else n.push(e(t,r.word));1===n.length&&"Range"===i.items[0].type?r+=n[0]:r+=n.join(","),r+="}";break}default:r+=i.type}return r})(e,t)),o=`${t}=(${a.join(" ")})`;i.push(e.parseWordFromString(o,!1,!1))}else i.push(e.parseWordFromString(n,t.quoted,t.singleQuoted))}else if(e.check(p6.LPAREN))e.error("syntax error near unexpected token `('");else break;let a=hc.simpleCommand(r,i,n,s);return a.line=t,a}(this)}dparenClosesWithSpacedParens(){let e=1,t=1;for(;t<this.tokens.length-this.pos;){let n=this.peek(t);if(n.type===p6.EOF)break;if(n.type===p6.DPAREN_START||n.type===p6.LPAREN)e++;else if(n.type===p6.DPAREN_END){if((e-=2)<=0)break}else if(n.type===p6.RPAREN&&0==--e&&this.peek(t+1).type===p6.RPAREN)return!0;t++}return!1}parseNestedSubshellsFromDparen(){this.advance();let e=this.parseCompoundList();this.expect(p6.RPAREN),this.expect(p6.RPAREN);let t=this.parseOptionalRedirections(),n=hc.subshell(e,[]);return hc.subshell([hc.statement([hc.pipeline([n],!1,!1,!1)])],t)}isWord(){let e=this.current().type;return e===p6.WORD||e===p6.NAME||e===p6.NUMBER||e===p6.IF||e===p6.FOR||e===p6.WHILE||e===p6.UNTIL||e===p6.CASE||e===p6.FUNCTION||e===p6.ELSE||e===p6.ELIF||e===p6.FI||e===p6.THEN||e===p6.DO||e===p6.DONE||e===p6.ESAC||e===p6.IN||e===p6.SELECT||e===p6.TIME||e===p6.COPROC||e===p6.BANG}parseWord(){let e=this.advance();return this.parseWordFromString(e.value,e.quoted,e.singleQuoted)}parseWordNoBraceExpansion(){let e=this.advance();return this.parseWordFromString(e.value,e.quoted,e.singleQuoted,!1,!1,!0)}parseWordForRegex(){let e=this.advance();return this.parseWordFromString(e.value,e.quoted,e.singleQuoted,!1,!1,!0,!0)}parseWordFromString(e,t=!1,n=!1,r=!1,i=!1,s=!1,a=!1){let o=h7(this,e,t,n,r,i,!1,s,a);return hc.word(o)}parseCommandSubstitution(t,n){return function(e,t,n,r){let i=t+2,s=1,a=i,o=!1,l=!1,c=0,u=!1,p="";for(;a<e.length&&s>0;){let t=e[a];o?"'"===t&&(o=!1):l?"\\"===t&&a+1<e.length?a++:'"'===t&&(l=!1):"'"===t?(o=!0,p=""):'"'===t?(l=!0,p=""):"\\"===t&&a+1<e.length?(a++,p=""):/[a-zA-Z_]/.test(t)?p+=t:("case"===p?(c++,u=!1):"in"===p&&c>0?u=!0:"esac"===p&&c>0&&(c--,u=!1),p="","("===t?a>0&&"$"===e[a-1]?s++:u||s++:")"===t?u?u=!1:s--:";"===t&&c>0&&a+1<e.length&&";"===e[a+1]&&(u=!0)),s>0&&a++}s>0&&r("unexpected EOF while looking for matching `)'");let h=e.slice(i,a),_=n().parse(h);return{part:hc.commandSubstitution(_,!1),endIndex:a+1}}(t,n,()=>new e,e=>this.error(e))}parseBacktickSubstitution(t,n,r=!1){return function(e,t,n,r,i){let s=t+1,a="";for(;s<e.length&&"`"!==e[s];)if("\\"===e[s]){let t=e[s+1];"$"===t||"`"===t||"\\"===t||t===`
`||n&&'"'===t?(t!==`
`&&(a+=t),s+=2):(a+=e[s],s++)}else a+=e[s],s++;s>=e.length&&i("unexpected EOF while looking for matching ``'");let o=r().parse(a);return{part:hc.commandSubstitution(o,!0),endIndex:s+1}}(t,n,r,()=>new e,e=>this.error(e))}isDollarDparenSubshell(e,t){return function(e,t){let n=e.length,r=t+3,i=2,s=!1,a=!1;for(;r<n&&i>0;){let t=e[r];if(s){"'"===t&&(s=!1),r++;continue}if(a){if("\\"===t){r+=2;continue}'"'===t&&(a=!1),r++;continue}if("'"===t){s=!0,r++;continue}if('"'===t){a=!0,r++;continue}if("\\"===t){r+=2;continue}if("("===t){i++,r++;continue}if(")"===t){if(1==--i){let t=r+1;return!(t<n&&")"===e[t])}if(0===i)return!1;r++;continue}if(1===i&&("|"===t&&r+1<n&&"|"===e[r+1]||"&"===t&&r+1<n&&"&"===e[r+1]||"|"===t&&r+1<n&&"|"!==e[r+1]))return!0;r++}return!1}(e,t)}parseArithmeticExpansion(e,t){let n=t+3,r=1,i=0,s=n;for(;s<e.length-1&&r>0;)"$"===e[s]&&"("===e[s+1]?"("===e[s+2]?(r++,s+=3):(i++,s+=2):"("===e[s]&&"("===e[s+1]?(r++,s+=2):")"===e[s]&&")"===e[s+1]?i>0?(i--,s++):--r>0&&(s+=2):("("===e[s]?i++:")"===e[s]&&i>0&&i--,s++);let a=e.slice(n,s),o=this.parseArithmeticExpression(a);return{part:hc.arithmeticExpansion(o),endIndex:s+2}}parseArithmeticCommand(){let e=this.expect(p6.DPAREN_START),t="",n=1,r=0,i=!1,s=!1;for(;n>0&&!this.check(p6.EOF);){if(i){if(i=!1,r>0){r--,t+=")";continue}if(this.check(p6.RPAREN)){n--,s=!0,this.advance();continue}if(this.check(p6.DPAREN_END)){n--,s=!0;continue}t+=")";continue}if(this.check(p6.DPAREN_START))n++,t+="((",this.advance();else if(this.check(p6.DPAREN_END))r>=2?(r-=2,t+="))"):1===r?(r--,t+=")",i=!0):(s=!0,--n>0&&(t+="))")),this.advance();else if(this.check(p6.LPAREN))r++,t+="(",this.advance();else if(this.check(p6.RPAREN))r>0&&r--,t+=")",this.advance();else{let e=this.current().value,n=t.length>0?t[t.length-1]:"";!(t.length>0)||t.endsWith(" ")||"="===e&&/[|&^+\-*/%<>]$/.test(t)||"<"===e&&"<"===n||">"===e&&">"===n||(t+=" "),t+=e,this.advance()}}s||this.expect(p6.DPAREN_END);let a=this.parseArithmeticExpression(t.trim()),o=this.parseOptionalRedirections();return hc.arithmeticCommand(a,o,e.line)}parseConditionalCommand(){let e=this.expect(p6.DBRACK_START),t=h0(this);this.expect(p6.DBRACK_END);let n=this.parseOptionalRedirections();return hc.conditionalCommand(t,n,e.line)}parseFunctionDef(){let e;if(this.check(p6.FUNCTION)){if(this.advance(),this.check(p6.NAME)||this.check(p6.WORD))e=this.advance().value;else{let e=this.current();throw new hl("Expected function name",e.line,e.column,e)}this.check(p6.LPAREN)&&(this.advance(),this.expect(p6.RPAREN))}else(e=this.advance().value).includes("$")&&this.error(`\`${e}': not a valid identifier`),this.expect(p6.LPAREN),this.expect(p6.RPAREN);this.skipNewlines();let t=this.parseCompoundCommandBody({forFunctionBody:!0}),n=this.parseOptionalRedirections();return hc.functionDef(e,t,n)}parseCompoundCommandBody(e){let t=e?.forFunctionBody;return this.check(p6.LBRACE)?hX(this,{skipRedirections:t}):this.check(p6.LPAREN)?hK(this,{skipRedirections:t}):this.check(p6.IF)?hq(this,{skipRedirections:t}):this.check(p6.FOR)?hz(this,{skipRedirections:t}):this.check(p6.WHILE)?hG(this,{skipRedirections:t}):this.check(p6.UNTIL)?hV(this,{skipRedirections:t}):this.check(p6.CASE)?hZ(this,{skipRedirections:t}):void this.error("Expected compound command for function body")}parseCompoundList(){let e=[];for(this.skipNewlines();!this.check(p6.EOF,p6.FI,p6.ELSE,p6.ELIF,p6.THEN,p6.DO,p6.DONE,p6.ESAC,p6.RPAREN,p6.RBRACE,p6.DSEMI,p6.SEMI_AND,p6.SEMI_SEMI_AND)&&this.isCommandStart();){this.checkIterationLimit();let t=this.pos,n=this.parseStatement();if(n&&e.push(n),this.skipSeparators(),this.pos===t&&!n)break}return e}parseOptionalRedirections(){let e=[];for(;hB(this);){this.checkIterationLimit();let t=this.pos;if(e.push(hH(this)),this.pos===t)break}return e}parseArithmeticExpression(e){return hm(this,e)}}});function _s(e,t){let n=1,r=t+1;for(;r<e.length&&n>0;){let t=e[r];if("\\"===t){r+=2;continue}if("("===t)n++;else if(")"===t&&0==--n)return r;r++}return -1}function _a(e){let t=[],n="",r=0,i=!1,s=0;for(;s<e.length;){let a=e[s];if("'"===a&&!i){i=!0,n+="\0QUOTE_START\0",s++;continue}if("'"===a&&i){i=!1,n+="\0QUOTE_END\0",s++;continue}if(i){n+=a,s++;continue}if("\\"===a){n+=a,s+1<e.length?(n+=e[s+1],s+=2):s++;continue}"("===a?(r++,n+=a):")"===a?(r--,n+=a):"|"===a&&0===r?(t.push(n),n=""):n+=a,s++}return t.push(n),t}var _o,_l,_c=e2(()=>{_o={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"!-~",lower:"a-z",print:" -~",punct:"!-/:-@\\[-`{-~",space:" \\t\\n\\r\\f\\v",upper:"A-Z",word:"a-zA-Z0-9_",xdigit:"0-9a-fA-F"}}),_u=e2(()=>{to(),_c(),_l=class{fs;cwd;globignorePatterns=[];hasGlobignore=!1;globstar=!1;nullglob=!1;failglob=!1;dotglob=!1;extglob=!1;globskipdots=!0;constructor(e,t,n,r){this.fs=e,this.cwd=t,"boolean"==typeof r?this.globstar=r:r&&(this.globstar=r.globstar??!1,this.nullglob=r.nullglob??!1,this.failglob=r.failglob??!1,this.dotglob=r.dotglob??!1,this.extglob=r.extglob??!1,this.globskipdots=r.globskipdots??!0);let i=n?.GLOBIGNORE;void 0!==i&&""!==i&&(this.hasGlobignore=!0,this.globignorePatterns=function(e){let t=[],n="",r=0;for(;r<e.length;){let i=e[r];if("["===i){for(n+=i,++r<e.length&&("!"===e[r]||"^"===e[r])&&(n+=e[r],r++),r<e.length&&"]"===e[r]&&(n+=e[r],r++);r<e.length&&"]"!==e[r];){if("["===e[r]&&r+1<e.length&&":"===e[r+1]){let t=e.indexOf(":]",r+2);if(-1!==t){n+=e.slice(r,t+2),r=t+2;continue}}if("\\"===e[r]&&r+1<e.length){n+=e[r]+e[r+1],r+=2;continue}n+=e[r],r++}r<e.length&&"]"===e[r]&&(n+=e[r],r++)}else":"===i?(""!==n&&t.push(n),n="",r++):"\\"===i&&r+1<e.length?(n+=i+e[r+1],r+=2):(n+=i,r++)}return""!==n&&t.push(n),t}(i))}hasNullglob(){return this.nullglob}hasFailglob(){return this.failglob}filterGlobignore(e){return this.hasGlobignore||this.globskipdots?e.filter(e=>{let t=e.split("/").pop()||e;if((this.hasGlobignore||this.globskipdots)&&("."===t||".."===t))return!1;if(this.hasGlobignore){for(let t of this.globignorePatterns)if(this.matchGlobignorePattern(e,t))return!1}return!0}):e}matchGlobignorePattern(e,t){return(function(e){let t="^";for(let n=0;n<e.length;n++){let r=e[n];if("*"===r)t+="[^/]*";else if("?"===r)t+="[^/]";else if("["===r){let r=n+1,i="[";r<e.length&&("^"===e[r]||"!"===e[r])&&(i+="^",r++),r<e.length&&"]"===e[r]&&(i+="\\]",r++);let s=r;for(;s<e.length;){if("\\"===e[s]&&s+1<e.length){s+=2;continue}if("["===e[s]&&s+1<e.length&&":"===e[s+1]){let t=e.indexOf(":]",s+2);if(-1!==t){s=t+2;continue}}if("]"===e[s])break;s++}let a=r;for(;r<e.length&&"]"!==e[r];){if("["===e[r]&&r+1<e.length&&":"===e[r+1]){let t=e.indexOf(":]",r+2);if(-1!==t){i+=_o[e.slice(r+2,t)]||"",r=t+2;continue}}if("\\"===e[r]&&r+1<e.length){i+=`\\${e[r+1]}`,r+=2;continue}if("-"===e[r]){let e=r===a,t=r+1===s;e||t?i+="\\-":i+="-"}else i+=e[r];r++}i+="]",t+=i,n=r}else if("\\"===r&&n+1<e.length){let r=e[n+1];/[.+^${}()|\\*?[\]]/.test(r)?t+=`\\${r}`:t+=r,n++}else/[.+^${}()|]/.test(r)?t+=`\\${r}`:t+=r}return new RegExp(t+="$")})(t).test(e)}isGlobPattern(e){return!!(e.includes("*")||e.includes("?")||/\[.*\]/.test(e)||this.extglob&&/[@*+?!]\(/.test(e))}async expandArgs(e,t){let n=e.map((e,n)=>t?.[n]||!this.isGlobPattern(e)?null:this.expand(e)),r=await Promise.all(n.map(e=>e||Promise.resolve(null))),i=[];for(let t=0;t<e.length;t++){let n=r[t];null===n?i.push(e[t]):n.length>0?i.push(...n):i.push(e[t])}return i}async expand(e){let t;if(e.includes("**")&&this.globstar&&this.isGlobstarValid(e))t=await this.expandRecursive(e);else{let n=e.replace(/\*\*+/g,"*");t=await this.expandSimple(n)}return this.filterGlobignore(t)}isGlobstarValid(e){for(let t of e.split("/"))if(t.includes("**")&&"**"!==t)return!1;return!0}hasGlobChars(e){return!!(e.includes("*")||e.includes("?")||/\[.*\]/.test(e)||this.extglob&&/[@*+?!]\(/.test(e))}async expandSimple(e){let t,n,r=e.startsWith("/"),i=e.split("/").filter(e=>""!==e),s=-1;for(let e=0;e<i.length;e++)if(this.hasGlobChars(i[e])){s=e;break}if(-1===s)return[e];if(0===s)r?(t="/",n="/"):(t=this.cwd,n="");else{let e=i.slice(0,s);r?(t=`/${e.join("/")}`,n=`/${e.join("/")}`):(t=this.fs.resolvePath(this.cwd,e.join("/")),n=e.join("/"))}let a=i.slice(s);return(await this.expandSegments(t,n,a)).sort()}async expandSegments(e,t,n){if(0===n.length)return[t];let[r,...i]=n,s=[];try{if(this.fs.readdirWithFileTypes){let n=await this.fs.readdirWithFileTypes(e),a=[],o=[...n],l=this.dotglob||this.hasGlobignore;if(r.startsWith(".")||this.dotglob){let e=n.some(e=>"."===e.name),t=n.some(e=>".."===e.name);e||o.push({name:".",isFile:!1,isDirectory:!0,isSymbolicLink:!1}),t||o.push({name:"..",isFile:!1,isDirectory:!0,isSymbolicLink:!1})}for(let n of o)if(!(n.name.startsWith(".")&&!r.startsWith(".")&&!l)&&this.matchPattern(n.name,r)){let r="/"===e?`/${n.name}`:`${e}/${n.name}`,s;s=""===t?n.name:"/"===t?`/${n.name}`:`${t}/${n.name}`,0===i.length?a.push(Promise.resolve([s])):n.isDirectory&&a.push(this.expandSegments(r,s,i))}for(let e of(await Promise.all(a)))s.push(...e)}else{let n=await this.fs.readdir(e),a=[],o=[...n],l=this.dotglob||this.hasGlobignore;for(let s of((r.startsWith(".")||this.dotglob)&&(n.includes(".")||o.push("."),n.includes("..")||o.push("..")),o))if(!(s.startsWith(".")&&!r.startsWith(".")&&!l)&&this.matchPattern(s,r)){let n="/"===e?`/${s}`:`${e}/${s}`,r;r=""===t?s:"/"===t?`/${s}`:`${t}/${s}`,0===i.length?a.push(Promise.resolve([r])):a.push((async()=>{try{if((await this.fs.stat(n)).isDirectory)return this.expandSegments(n,r,i)}catch{}return[]})())}for(let e of(await Promise.all(a)))s.push(...e)}}catch{}return s}async expandRecursive(e){let t=[],n=e.indexOf("**"),r=e.slice(0,n).replace(/\/$/,"")||".",i=e.slice(n+2).replace(/^\//,"");return i.includes("**")&&this.isGlobstarValid(i)?(await this.walkDirectoryMultiGlobstar(r,i,t),[...new Set(t)].sort()):(await this.walkDirectory(r,i,t),t.sort())}async walkDirectoryMultiGlobstar(e,t,n){let r=this.fs.resolvePath(this.cwd,e);try{let i=this.fs.readdirWithFileTypes?await this.fs.readdirWithFileTypes(r):null;if(i){let r=[];for(let t of i){let n="."===e?t.name:`${e}/${t.name}`;t.isDirectory&&r.push(n)}let s="."===e?t:`${e}/${t}`,a=await this.expandRecursive(s);n.push(...a);for(let e=0;e<r.length;e+=100){let i=r.slice(e,e+100);await Promise.all(i.map(e=>this.walkDirectoryMultiGlobstar(e,t,n)))}}else{let i=await this.fs.readdir(r),s=[];for(let t of i){let n="."===e?t:`${e}/${t}`,r=this.fs.resolvePath(this.cwd,n);try{(await this.fs.stat(r)).isDirectory&&s.push(n)}catch{}}let a="."===e?t:`${e}/${t}`,o=await this.expandRecursive(a);n.push(...o);for(let e=0;e<s.length;e+=100){let r=s.slice(e,e+100);await Promise.all(r.map(e=>this.walkDirectoryMultiGlobstar(e,t,n)))}}}catch{}}async walkDirectory(e,t,n){let r=this.fs.resolvePath(this.cwd,e);try{if(this.fs.readdirWithFileTypes){let i=await this.fs.readdirWithFileTypes(r),s=[],a=[];for(let n of i){let r="."===e?n.name:`${e}/${n.name}`;n.isDirectory?a.push(r):t&&this.matchPattern(n.name,t)&&s.push(r)}n.push(...s);for(let e=0;e<a.length;e+=100){let r=a.slice(e,e+100);await Promise.all(r.map(e=>this.walkDirectory(e,t,n)))}}else{let i=await this.fs.readdir(r),s=[];for(let t=0;t<i.length;t+=100){let n=i.slice(t,t+100),r=await Promise.all(n.map(async t=>{let n="."===e?t:`${e}/${t}`,r=this.fs.resolvePath(this.cwd,n);try{let e=await this.fs.stat(r);return{name:t,path:n,isDirectory:e.isDirectory}}catch{return null}}));s.push(...r.filter(e=>null!==e))}for(let e of s)!e.isDirectory&&t&&this.matchPattern(e.name,t)&&n.push(e.path);let a=s.filter(e=>e.isDirectory);for(let e=0;e<a.length;e+=100){let r=a.slice(e,e+100);await Promise.all(r.map(e=>this.walkDirectory(e.path,t,n)))}}}catch{}}matchPattern(e,t){return this.patternToRegex(t).test(e)}patternToRegex(e){let t=this.patternToRegexStr(e);return RegExp(`^${t}$`)}patternToRegexStr(e){let t="",n=!1;for(let r=0;r<e.length;r++){if("\0QUOTE_START\0"===e.slice(r,r+13)){n=!0,r+=12;continue}if("\0QUOTE_END\0"===e.slice(r,r+11)){n=!1,r+=10;continue}let i=e[r];if(n){/[.+^${}()|\\*?[\]]/.test(i)?t+=`\\${i}`:t+=i;continue}if(this.extglob&&("@"===i||"*"===i||"+"===i||"?"===i||"!"===i)&&r+1<e.length&&"("===e[r+1]){let n=_s(e,r+1);if(-1!==n){let s=_a(e.slice(r+2,n)),a=s.map(e=>this.patternToRegexStr(e)),o=a.length>0?a.join("|"):"(?:)";if("@"===i)t+=`(?:${o})`;else if("*"===i)t+=`(?:${o})*`;else if("+"===i)t+=`(?:${o})+`;else if("?"===i)t+=`(?:${o})?`;else if("!"===i)if(n<e.length-1){let e=s.map(e=>this.computePatternLength(e));if(e.every(e=>null!==e)&&e.every(t=>t===e[0])&&null!==e[0]){let n=e[0];if(0===n)t+="(?:.+)";else{let e=[];n>0&&e.push(`.{0,${n-1}}`),e.push(`.{${n+1},}`),e.push(`(?!(?:${o})).{${n}}`),t+=`(?:${e.join("|")})`}}else t+=`(?:(?!(?:${o})).)*?`}else t+=`(?!(?:${o})$).*`;r=n;continue}}if("*"===i)t+=".*";else if("?"===i)t+=".";else if("["===i){let n=r+1,i="[";n<e.length&&("^"===e[n]||"!"===e[n])&&(i+="^",n++),n<e.length&&"]"===e[n]&&(i+="\\]",n++);let s=n;for(;s<e.length;){if("\\"===e[s]&&s+1<e.length){s+=2;continue}if("["===e[s]&&s+1<e.length&&":"===e[s+1]){let t=e.indexOf(":]",s+2);if(-1!==t){s=t+2;continue}}if("]"===e[s])break;s++}let a=n;for(;n<e.length&&"]"!==e[n];){if("["===e[n]&&n+1<e.length&&":"===e[n+1]){let t=e.indexOf(":]",n+2);if(-1!==t){i+=_o[e.slice(n+2,t)]||"",n=t+2;continue}}if("\\"===e[n]&&n+1<e.length){i+=`\\${e[n+1]}`,n+=2;continue}if("-"===e[n]){let e=n===a,t=n+1===s;e||t?i+="\\-":i+="-"}else i+=e[n];n++}i+="]",t+=i,r=n}else if("\\"===i&&r+1<e.length){let n=e[r+1];/[.+^${}()|\\*?[\]]/.test(n)?t+=`\\${n}`:t+=n,r++}else/[.+^${}()|]/.test(i)?t+=`\\${i}`:t+=i}return t}computePatternLength(e){let t=0,n=0,r=!1;for(;n<e.length;){if("\0QUOTE_START\0"===e.slice(n,n+13)){r=!0,n+=13;continue}if("\0QUOTE_END\0"===e.slice(n,n+11)){r=!1,n+=11;continue}let i=e[n];if(r){t+=1,n++;continue}if(("@"===i||"*"===i||"+"===i||"?"===i||"!"===i)&&n+1<e.length&&"("===e[n+1]){let r=_s(e,n+1);if(-1!==r){if("@"===i){let i=_a(e.slice(n+2,r)).map(e=>this.computePatternLength(e));if(i.every(e=>null!==e)&&i.every(e=>e===i[0])){t+=i[0],n=r+1;continue}}return null}}if("*"===i)return null;if("?"===i){t+=1,n++;continue}if("["===i){let r=e.indexOf("]",n+1);if(-1!==r){t+=1,n=r+1;continue}t+=1,n++;continue}if("\\"===i){t+=1,n+=2;continue}t+=1,n++}return t}}});function _p(e){for(let t=0;t<e.length;t++){if("\\"===e[t]){t++;continue}if("$"===e[t]){let n=e[t+1];if("{"===n||n&&/[a-zA-Z_]/.test(n))return!0}}return!1}function _h(e){let t=!1,n=!1,r=!1,i=!1,s=!1,a=!1,o=!1;for(let l of e){if(("SingleQuoted"===l.type||"DoubleQuoted"===l.type)&&(t=!0,"DoubleQuoted"===l.type))for(let e of l.parts)"ParameterExpansion"===e.type&&(e.parameter.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[[@*]\]$/)&&(!e.operation||"PatternRemoval"===e.operation.type||"PatternReplacement"===e.operation.type)&&(i=!0),(e.operation?.type==="VarNamePrefix"||e.operation?.type==="ArrayKeys")&&(a=!0),e.operation?.type==="Indirection"&&(o=!0));"CommandSubstitution"===l.type&&(n=!0),"ParameterExpansion"===l.type&&(s=!0,("@"===l.parameter||"*"===l.parameter)&&(r=!0),function(e){if(!e.operation)return!1;let t=e.operation,n;if(("DefaultValue"===t.type||"AssignDefault"===t.type||"UseAlternative"===t.type||"ErrorIfUnset"===t.type)&&(n=t.word?.parts),!n)return!1;for(let e of n)if("DoubleQuoted"===e.type||"SingleQuoted"===e.type)return!0;return!1}(l)&&(t=!0),(l.operation?.type==="VarNamePrefix"||l.operation?.type==="ArrayKeys")&&(a=!0),l.operation?.type==="Indirection"&&(o=!0)),"Glob"===l.type&&_p(l.pattern)&&(s=!0)}return{hasQuoted:t,hasCommandSub:n,hasArrayVar:r,hasArrayAtExpansion:i,hasParamExpansion:s,hasVarNamePrefixExpansion:a,hasIndirection:o}}var __=e2(()=>{});function _f(e,t){let n=`${t}_`,r=[];for(let t of Object.keys(e.state.env))if(t.startsWith(n)){let e=t.slice(n.length),i=Number.parseInt(e,10);Number.isNaN(i)||String(i)!==e||r.push(i)}return r.sort((e,t)=>e-t)}function _d(e,t){let n=`${t}_`;for(let t of Object.keys(e.state.env))t.startsWith(n)&&delete e.state.env[t]}function _g(e,t){let n=`${t}_`,r=`${t}__length`,i=[];for(let t of Object.keys(e.state.env))if(t!==r&&t.startsWith(n)){let e=t.slice(n.length);if(e.startsWith("_length"))continue;i.push(e)}return i.sort()}function _m(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function _v(e){let t;if(e.parts.length<2)return null;let n=e.parts[0],r=e.parts[1];if("Glob"!==n.type||!n.pattern.startsWith("["))return null;let i,s=r,a=1;if("Literal"===r.type&&r.value.startsWith("]")){let t=r.value.slice(1);if(t.startsWith("+=")||t.startsWith("="))i=n.pattern.slice(1);else{if(""!==t||e.parts.length<3)return null;let r=e.parts[2];if("Literal"!==r.type||!r.value.startsWith("=")&&!r.value.startsWith("+="))return null;i=n.pattern.slice(1),s=r,a=2}}else if("["===n.pattern&&("DoubleQuoted"===r.type||"SingleQuoted"===r.type)){if(e.parts.length<3)return null;let t=e.parts[2];if("Literal"!==t.type||!t.value.startsWith("]=")&&!t.value.startsWith("]+="))return null;if("SingleQuoted"===r.type)i=r.value;else for(let e of(i="",r.parts))("Literal"===e.type||"Escaped"===e.type)&&(i+=e.value);s=t,a=2}else{if(!n.pattern.endsWith("]")||"Literal"!==r.type||!r.value.startsWith("=")&&!r.value.startsWith("+="))return null;i=n.pattern.slice(1,-1)}if(i=_m(i),"Literal"!==s.type)return null;let o=(t=s.value.startsWith("]=")||s.value.startsWith("]+=")?s.value.slice(1):s.value).startsWith("+=");if(!o&&!t.startsWith("="))return null;let l=[],c=t.slice(o?2:1);c&&l.push({type:"Literal",value:c});for(let t=a+1;t<e.parts.length;t++){var u;let n=e.parts[t];"BraceExpansion"===n.type?l.push({type:"Literal",value:(u=n,`{${u.items.map(e=>{if("Range"===e.type){let t=e.startStr??String(e.start),n=e.endStr??String(e.end),r=`${t}..${n}`;return e.step&&(r+=`..${e.step}`),r}return _b(e.word)}).join(",")}}`)}):l.push(n)}return{key:i,valueParts:l,append:o}}function _b(e){let t="";for(let n of e.parts)switch(n.type){case"Literal":case"SingleQuoted":case"Escaped":t+=n.value;break;case"Glob":t+=n.pattern;break;case"DoubleQuoted":for(let e of n.parts)("Literal"===e.type||"Escaped"===e.type)&&(t+=e.value);break;case"BraceExpansion":t+="{",t+=n.items.map(e=>"Range"===e.type?`${e.startStr}..${e.endStr}${e.step?`..${e.step}`:""}`:_b(e.word)).join(","),t+="}";break;case"TildeExpansion":t+="~",n.user&&(t+=n.user)}return t}var _y=e2(()=>{});function _$(e){return e.IFS??` 	
`}function _x(e){return""===e.IFS}function _S(e){let t=_$(e);if(""===t)return!0;for(let e of t)if(" "!==e&&"	"!==e&&e!==`
`)return!1;return!0}function _A(e){return e.split("").map(e=>/[\\^$.*+?()[\]{}|-]/.test(e)?`\\${e}`:"	"===e?"\\t":e===`
`?"\\n":e).join("")}function _w(e){let t=e.IFS;return void 0===t?" ":t[0]||""}function _E(e){let t=new Set,n=new Set;for(let r of e)_R.includes(r)?t.add(r):n.add(r);return{whitespace:t,nonWhitespace:n}}function _k(e,t,n,r){if(""===t)return""===e?{words:[],wordStarts:[]}:{words:[e],wordStarts:[0]};let{whitespace:i,nonWhitespace:s}=_E(t),a=[],o=[],l=0;for(;l<e.length&&i.has(e[l]);)l++;if(l>=e.length)return{words:[],wordStarts:[]};if(s.has(e[l]))for(a.push(""),o.push(l),l++;l<e.length&&i.has(e[l]);)l++;for(;l<e.length&&!(void 0!==n&&a.length>=n);){let t=l;for(o.push(t);l<e.length;){let t=e[l];if(!r&&"\\"===t){++l<e.length&&l++;continue}if(i.has(t)||s.has(t))break;l++}if(a.push(e.substring(t,l)),l>=e.length)break;for(;l<e.length&&i.has(e[l]);)l++;if(l<e.length&&s.has(e[l])){for(l++;l<e.length&&i.has(e[l]);)l++;for(;l<e.length&&s.has(e[l])&&!(void 0!==n&&a.length>=n);)for(a.push(""),o.push(l),l++;l<e.length&&i.has(e[l]);)l++}}return{words:a,wordStarts:o}}function _C(e,t){if(""===t)return{words:e?[e]:[],hadLeadingDelimiter:!1,hadTrailingDelimiter:!1};if(""===e)return{words:[],hadLeadingDelimiter:!1,hadTrailingDelimiter:!1};let{whitespace:n,nonWhitespace:r}=_E(t),i=[],s=0,a=!1,o=!1;for(;s<e.length&&n.has(e[s]);)s++;if(s>0&&(a=!0),s>=e.length)return{words:[],hadLeadingDelimiter:!0,hadTrailingDelimiter:!0};if(r.has(e[s]))for(i.push(""),s++;s<e.length&&n.has(e[s]);)s++;for(;s<e.length;){let t=s;for(;s<e.length;){let t=e[s];if(n.has(t)||r.has(t))break;s++}if(i.push(e.substring(t,s)),s>=e.length){o=!1;break}let a=s;for(;s<e.length&&n.has(e[s]);)s++;if(s<e.length&&r.has(e[s])){for(s++;s<e.length&&n.has(e[s]);)s++;for(;s<e.length&&r.has(e[s]);)for(i.push(""),s++;s<e.length&&n.has(e[s]);)s++}s>=e.length&&s>a&&(o=!0)}return{words:i,hadLeadingDelimiter:a,hadTrailingDelimiter:o}}function _O(e,t){return _C(e,t).words}var _R,_T=e2(()=>{_R=` 	
`});function _N(e,t){return e.state.namerefs?.has(t)??!1}function _P(e,t){e.state.namerefs??=new Set,e.state.namerefs.add(t)}function _L(e,t){return e.state.invalidNamerefs?.has(t)??!1}function _I(e,t){e.state.boundNamerefs??=new Set,e.state.boundNamerefs.add(t)}function _D(e,t){let n=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(.+)\]$/);if(n){let t=n[1],r=Object.keys(e.state.env).some(e=>e.startsWith(`${t}_`)&&!e.includes("__")),i=e.state.associativeArrays?.has(t)??!1;return r||i}return!!Object.keys(e.state.env).some(e=>e.startsWith(`${t}_`)&&!e.includes("__"))||void 0!==e.state.env[t]}function _M(e,t,n=100){if(!_N(e,t)||_L(e,t))return t;let r=new Set,i=t;for(;n-- >0;){if(r.has(i))return;if(r.add(i),!_N(e,i))return i;let t=e.state.env[i];if(void 0===t||""===t||!/^[a-zA-Z_][a-zA-Z0-9_]*(\[.+\])?$/.test(t))return i;i=t}}function _F(e,t){if(_N(e,t))return e.state.env[t]}var _B=e2(()=>{});function _H(e,t){return"FUNCNAME"===t?(e.state.funcNameStack??[]).map((e,t)=>[t,e]):"BASH_LINENO"===t?(e.state.callLineStack??[]).map((e,t)=>[t,String(e)]):"BASH_SOURCE"===t?(e.state.sourceStack??[]).map((e,t)=>[t,e]):e.state.associativeArrays?.has(t)?_g(e,t).map(n=>[n,e.state.env[`${t}_${n}`]]):_f(e,t).map(n=>[n,e.state.env[`${t}_${n}`]])}function _U(e,t){return"FUNCNAME"===t?(e.state.funcNameStack?.length??0)>0:"BASH_LINENO"===t?(e.state.callLineStack?.length??0)>0:"BASH_SOURCE"===t?(e.state.sourceStack?.length??0)>0:e.state.associativeArrays?.has(t)?_g(e,t).length>0:_f(e,t).length>0}async function _j(e,t,n=!0,r=!1){switch(t){case"?":return String(e.state.lastExitCode);case"$":return String(o.default.pid);case"#":return e.state.env["#"]||"0";case"@":return e.state.env["@"]||"";case"_":return e.state.lastArg;case"-":{let t="";return t+="h",e.state.options.errexit&&(t+="e"),e.state.options.noglob&&(t+="f"),e.state.options.nounset&&(t+="u"),e.state.options.verbose&&(t+="v"),e.state.options.xtrace&&(t+="x"),t+="B",e.state.options.noclobber&&(t+="C"),t+="s"}case"*":{let t=Number.parseInt(e.state.env["#"]||"0",10);if(0===t)return"";let n=[];for(let r=1;r<=t;r++)n.push(e.state.env[String(r)]||"");return n.join(_w(e.state.env))}case"0":return e.state.env[0]||"bash";case"PWD":return void 0!==e.state.env.PWD?e.state.env.PWD:"";case"OLDPWD":return void 0!==e.state.env.OLDPWD?e.state.env.OLDPWD:"";case"PPID":{let{ppid:e}=pJ();return String(e)}case"UID":{let{uid:e}=pJ();return String(e)}case"EUID":return String(o.default.geteuid?.()??pJ().uid);case"RANDOM":return String(Math.floor(32768*Math.random()));case"SECONDS":return String(Math.floor((Date.now()-e.state.startTime)/1e3));case"BASH_VERSION":return pY;case"!":return String(e.state.lastBackgroundPid);case"BASHPID":return String(e.state.bashPid);case"LINENO":return String(e.state.currentLine);case"FUNCNAME":{let t=e.state.funcNameStack?.[0];if(void 0!==t)return t;if(n&&e.state.options.nounset)throw new rF("FUNCNAME");return""}case"BASH_LINENO":{let t=e.state.callLineStack?.[0];if(void 0!==t)return String(t);if(n&&e.state.options.nounset)throw new rF("BASH_LINENO");return""}case"BASH_SOURCE":{let t=e.state.sourceStack?.[0];if(void 0!==t)return t;if(n&&e.state.options.nounset)throw new rF("BASH_SOURCE");return""}}if(/^[a-zA-Z_][a-zA-Z0-9_]*\[\]$/.test(t))throw new rU(`\${${t}}`);let i=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(.+)\]$/);if(i){let t,r=i[1],s=i[2];if(_N(e,r)){let t=_M(e,r);if(t&&t!==r){if(t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(.+)\]$/))return"";r=t}}if("@"===s||"*"===s){let t=_H(e,r);if(t.length>0)return t.map(([,e])=>e).join(" ");let n=e.state.env[r];return void 0!==n?n:""}if("FUNCNAME"===r){let t=Number.parseInt(s,10);return!Number.isNaN(t)&&t>=0?e.state.funcNameStack?.[t]??"":""}if("BASH_LINENO"===r){let t=Number.parseInt(s,10);if(!Number.isNaN(t)&&t>=0){let n=e.state.callLineStack?.[t];return void 0!==n?String(n):""}return""}if("BASH_SOURCE"===r){let t=Number.parseInt(s,10);return!Number.isNaN(t)&&t>=0?e.state.sourceStack?.[t]??"":""}if(e.state.associativeArrays?.has(r)){let t=_m(s);t=t.replace(/\$\{([a-zA-Z_][a-zA-Z0-9_]*)\}/g,(t,n)=>e.state.env[n]??"").replace(/\$([a-zA-Z_][a-zA-Z0-9_]*)/g,(t,n)=>e.state.env[n]??"");let i=e.state.env[`${r}_${t}`];if(void 0===i&&n&&e.state.options.nounset)throw new rF(`${r}[${s}]`);return i||""}if(/^-?\d+$/.test(s))t=Number.parseInt(s,10);else try{let n=new _r,r=hm(n,s);t=await dU(e,r.expression)}catch{let n=e.state.env[s];Number.isNaN(t=n?Number.parseInt(n,10):0)&&(t=0)}if(t<0){let n=_H(e,r),i=e.state.currentLine;if(0===n.length)return e.state.expansionStderr=(e.state.expansionStderr||"")+`bash: line ${i}: ${r}: bad array subscript
`,"";let s=Math.max(...n.map(([e])=>"number"==typeof e?e:0))+1+t;return s<0?(e.state.expansionStderr=(e.state.expansionStderr||"")+`bash: line ${i}: ${r}: bad array subscript
`,""):e.state.env[`${r}_${s}`]||""}let a=e.state.env[`${r}_${t}`];if(void 0!==a)return a;if(0===t){let t=e.state.env[r];if(void 0!==t)return t}if(n&&e.state.options.nounset)throw new rF(`${r}[${t}]`);return""}if(/^[1-9][0-9]*$/.test(t)){let r=e.state.env[t];if(void 0===r&&n&&e.state.options.nounset)throw new rF(t);return r||""}if(_N(e,t)){let i=_M(e,t);if(void 0===i)return"";if(i!==t)return await _j(e,i,n,r);let s=e.state.env[t];if((void 0===s||""===s)&&n&&e.state.options.nounset)throw new rF(t);return s||""}let s=e.state.env[t];if(void 0!==s)return e.state.tempEnvBindings?.some(e=>e.has(t))&&(e.state.accessedTempEnvVars=e.state.accessedTempEnvVars||new Set,e.state.accessedTempEnvVars.add(t)),s;if(_U(e,t)){let n=e.state.env[`${t}_0`];return void 0!==n?n:""}if(n&&e.state.options.nounset)throw new rF(t);return""}async function _W(e,t){if(new Set(["?","$","#","_","-","0","PPID","UID","EUID","RANDOM","SECONDS","BASH_VERSION","!","BASHPID","LINENO"]).has(t))return!0;if("@"===t||"*"===t)return Number.parseInt(e.state.env["#"]||"0",10)>0;if("PWD"===t||"OLDPWD"===t)return t in e.state.env;let n=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(.+)\]$/);if(n){let t,r=n[1],i=n[2];if(_N(e,r)){let t=_M(e,r);if(t&&t!==r){if(t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(.+)\]$/))return!1;r=t}}if("@"===i||"*"===i)return _H(e,r).length>0||r in e.state.env;if(e.state.associativeArrays?.has(r)){let t=_m(i);return`${r}_${t}`in e.state.env}if(/^-?\d+$/.test(i))t=Number.parseInt(i,10);else try{let n=new _r,r=hm(n,i);t=await dU(e,r.expression)}catch{let n=e.state.env[i];Number.isNaN(t=n?Number.parseInt(n,10):0)&&(t=0)}if(t<0){let n=_H(e,r);if(0===n.length)return!1;let i=Math.max(...n.map(([e])=>"number"==typeof e?e:0))+1+t;return!(i<0)&&`${r}_${i}`in e.state.env}return`${r}_${t}`in e.state.env}if(_N(e,t)){let n=_M(e,t);return void 0===n||n===t?t in e.state.env:_W(e,n)}return!!(t in e.state.env||_U(e,t))}var _q=e2(()=>{hP(),_i(),p1(),dW(),rV(),_y(),_T(),_B()});async function _z(e,t){let n="",r=0;for(;r<t.length;){if("$"===t[r]){if("{"===t[r+1]){let e=1,i=r+2;for(;i<t.length&&e>0;)"{"===t[i]?e++:"}"===t[i]&&e--,i++;n+=t.slice(r,i),r=i;continue}if("("===t[r+1]){let e=1,i=r+2;for(;i<t.length&&e>0;)"("===t[i]?e++:")"===t[i]&&e--,i++;n+=t.slice(r,i),r=i;continue}if(/[a-zA-Z_]/.test(t[r+1]||"")){let i=r+1;for(;i<t.length&&/[a-zA-Z0-9_]/.test(t[i]);)i++;let s=t.slice(r+1,i);n+=await _j(e,s),r=i;continue}if(/[0-9]/.test(t[r+1]||"")){let i=r+1;for(;i<t.length&&/[0-9]/.test(t[i]);)i++;let s=t.slice(r+1,i);n+=await _j(e,s),r=i;continue}if(/[*@#?\-!$]/.test(t[r+1]||"")){let i=t[r+1];n+=await _j(e,i),r+=2;continue}}if('"'===t[r]){for(n+='"',r++;r<t.length&&'"'!==t[r];)if("$"===t[r]&&/[a-zA-Z_]/.test(t[r+1]||"")){let i=r+1;for(;i<t.length&&/[a-zA-Z0-9_]/.test(t[i]);)i++;let s=t.slice(r+1,i);n+=await _j(e,s),r=i}else"\\"===t[r]?(n+=t[r],++r<t.length&&(n+=t[r],r++)):(n+=t[r],r++);r<t.length&&(n+='"',r++);continue}n+=t[r],r++}return n}async function _G(e,t){let n=t,r=t.startsWith('"')&&t.endsWith('"'),i=t.startsWith("'")&&t.endsWith("'");if((r||i)&&(n=t.slice(1,-1)),i)return n;let s="",a=0;for(;a<n.length;)if("$"===n[a])if("("===n[a+1]){let t=1,r=a+2;for(;r<n.length&&t>0;)"("===n[r]&&"$"===n[r-1]||"("===n[r]?t++:")"===n[r]&&t--,r++;let i=n.slice(a+2,r-1);if(e.execFn){let t=await e.execFn(i);s+=t.stdout.replace(/\n+$/,""),t.stderr&&(e.state.expansionStderr=(e.state.expansionStderr||"")+t.stderr)}a=r}else if("{"===n[a+1]){let t=1,r=a+2;for(;r<n.length&&t>0;)"{"===n[r]?t++:"}"===n[r]&&t--,r++;let i=n.slice(a+2,r-1);s+=await _j(e,i),a=r}else if(/[a-zA-Z_]/.test(n[a+1]||"")){let t=a+1;for(;t<n.length&&/[a-zA-Z0-9_]/.test(n[t]);)t++;let r=n.slice(a+1,t);s+=await _j(e,r),a=t}else s+=n[a],a++;else if("`"===n[a]){let t=a+1;for(;t<n.length&&"`"!==n[t];)t++;let r=n.slice(a+1,t);if(e.execFn){let t=await e.execFn(r);s+=t.stdout.replace(/\n+$/,""),t.stderr&&(e.state.expansionStderr=(e.state.expansionStderr||"")+t.stderr)}a=t+1}else s+=n[a],a++;return s}var _V=e2(()=>{_q()});function _Z(e,t,n,r,i){let s=void 0!==n?`..${n}`:"";return"number"==typeof e&&"number"==typeof t?{expanded:function(e,t,n,r,i){let s=n??1;0===s&&(s=1);let a=Math.abs(s),o=[],l=0;r?.match(/^-?0\d/)&&(l=Math.max(l,r.replace(/^-/,"").length)),i?.match(/^-?0\d/)&&(l=Math.max(l,i.replace(/^-/,"").length));let c=e=>{if(l>0){let t=String(Math.abs(e)).padStart(l,"0");return e<0?`-${t}`:t}return String(e)};if(e<=t)for(let n=e,r=0;n<=t&&r<_K;n+=a,r++)o.push(c(n));else for(let n=e,r=0;n>=t&&r<_K;n-=a,r++)o.push(c(n));return o}(e,t,n,r,i),literal:`{${e}..${t}${s}}`}:"string"==typeof e&&"string"==typeof t?{expanded:function(e,t,n){let r=n??1;0===r&&(r=1);let i=e.charCodeAt(0),s=t.charCodeAt(0),a=Math.abs(r),o=e>="A"&&e<="Z",l=e>="a"&&e<="z",c=t>="A"&&t<="Z",u=t>="a"&&t<="z";if(o&&u||l&&c){let r=void 0!==n?`..${n}`:"";throw new rW(`{${e}..${t}${r}}: invalid sequence`)}let p=[];if(i<=s)for(let e=i,t=0;e<=s&&t<_K;e+=a,t++)p.push(String.fromCharCode(e));else for(let e=i,t=0;e>=s&&t<_K;e-=a,t++)p.push(String.fromCharCode(e));return p}(e,t,n),literal:`{${e}..${t}${s}}`}:{expanded:null,literal:`{${e}..${t}${s}}`}}var _K,_X=e2(()=>{rV(),_K=1e4}),_Q=e2(()=>{});function _J(e,t){return!!(/[*?[]/.test(e)||t&&/[@*+?!]\(/.test(e))}function _Y(e){let t="",n=0;for(;n<e.length;)"\\"===e[n]&&n+1<e.length?(t+=e[n+1],n+=2):(t+=e[n],n++);return t}function _0(e){return e.replace(/([*?[\]\\()|])/g,"\\$1")}function _1(e){return e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}var _2=e2(()=>{});function _3(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var _5=e2(()=>{});function _6(e,t,n=!1){let r="",i=0;for(;i<e.length;){let s=e[i];if(n&&("@"===s||"*"===s||"+"===s||"?"===s||"!"===s)&&i+1<e.length&&"("===e[i+1]){let a=function(e,t){let n=1,r=t+1;for(;r<e.length&&n>0;){let t=e[r];if("\\"===t){r+=2;continue}if("("===t)n++;else if(")"===t&&0==--n)return r;r++}return -1}(e,i+1);if(-1!==a){let o=(function(e){let t=[],n="",r=0,i=0;for(;i<e.length;){let s=e[i];if("\\"===s){n+=s,i+1<e.length?(n+=e[i+1],i+=2):i++;continue}"("===s?(r++,n+=s):")"===s?(r--,n+=s):"|"===s&&0===r?(t.push(n),n=""):n+=s,i++}return t.push(n),t})(e.slice(i+2,a)).map(e=>_6(e,t,n)),l=o.length>0?o.join("|"):"(?:)";"@"===s?r+=`(?:${l})`:"*"===s?r+=`(?:${l})*`:"+"===s?r+=`(?:${l})+`:"?"===s?r+=`(?:${l})?`:"!"===s&&(r+=`(?!(?:${l})$).*`),i=a+1;continue}}if("\\"===s)if(i+1<e.length){let t=e[i+1];/[\\^$.|+(){}[\]*?]/.test(t)?r+=`\\${t}`:r+=t,i+=2}else r+="\\\\",i++;else if("*"===s)r+=t?".*":".*?",i++;else if("?"===s)r+=".",i++;else if("["===s){let t=function(e,t){let n=t+1;for(n<e.length&&"^"===e[n]&&n++,n<e.length&&"]"===e[n]&&n++;n<e.length;){if("\\"===e[n]&&n+1<e.length){n+=2;continue}if("]"===e[n])return n;if("'"===e[n]){let t=e.indexOf("'",n+1);if(-1!==t){n=t+1;continue}}if("["===e[n]&&n+1<e.length&&":"===e[n+1]){let t=e.indexOf(":]",n+2);if(-1!==t){n=t+2;continue}}n++}return -1}(e,i);-1===t?(r+="\\[",i++):(r+=function(e){let t="[",n=0;for(("^"===e[0]||"!"===e[0])&&(t+="^",n++);n<e.length;){if("'"===e[n]){let r=e.indexOf("'",n+1);if(-1!==r){for(let i of e.slice(n+1,r))"\\"===i?t+="\\\\":"]"===i?t+="\\]":"^"===i&&"["===t?t+="\\^":t+=i;n=r+1;continue}}if("["===e[n]&&n+1<e.length&&":"===e[n+1]){let r=e.indexOf(":]",n+2);if(-1!==r){t+=_4[e.slice(n+2,r)]??"",n=r+2;continue}}let r=e[n];"\\"===r?n+1<e.length?(t+=`\\${e[n+1]}`,n+=2):(t+="\\\\",n++):("-"===r&&n>0&&n<e.length-1?t+="-":"^"===r&&0===n?t+="^":"]"===r&&0===n?t+="\\]":t+=r,n++)}return t+"]"}(e.slice(i+1,t)),i=t+1)}else/[\^$.|+(){}]/.test(s)?r+=`\\${s}`:r+=s,i++}return r}var _4,_8=e2(()=>{_4={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"!-~",lower:"a-z",print:" -~",punct:"!-/:-@\\[-`{-~",space:" \\t\\n\\r\\f\\v",upper:"A-Z",word:"a-zA-Z0-9_",xdigit:"0-9A-Fa-f"}});function _9(e,t,n,r){if("prefix"===n)return e.replace(RegExp(`^${t}`,"s"),"");let i=RegExp(`${t}$`,"s");if(r)return e.replace(i,"");for(let t=e.length;t>=0;t--){let n=e.slice(t);if(i.test(n))return e.slice(0,t)}return e}function _7(e,t){let n=Object.keys(e.state.env),r=new Set,i=e.state.associativeArrays??new Set,s=new Set;for(let e of n){let t=e.match(/^([a-zA-Z_][a-zA-Z0-9_]*)_\d+$/);t&&s.add(t[1]);let n=e.match(/^([a-zA-Z_][a-zA-Z0-9_]*)__length$/);n&&s.add(n[1])}let a=e=>{for(let t of i){let n=`${t}_`;if(e.startsWith(n)&&e!==t)return!0}return!1};for(let e of n)if(e.startsWith(t))if(e.includes("__")){let n=e.match(/^([a-zA-Z_][a-zA-Z0-9_]*)__length$/);n?.[1].startsWith(t)&&r.add(n[1])}else if(/_\d+$/.test(e)){let n=e.match(/^([a-zA-Z_][a-zA-Z0-9_]*)_\d+$/);n?.[1].startsWith(t)&&r.add(n[1])}else a(e)||r.add(e);return[...r].sort()}var fe=e2(()=>{});function ft(e,t){let n="",r=0,i=e.state.env.USER||e.state.env.LOGNAME||"user",s=e.state.env.HOSTNAME||"localhost",a=s.split(".")[0],o=e.state.env.PWD||"/",l=e.state.env.HOME||"/",c=o.startsWith(l)?`~${o.slice(l.length)}`:o,u=o.split("/").pop()||o,p=new Date,h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=e.state.env.__COMMAND_NUMBER||"1";for(;r<t.length;){let e=t[r];if("\\"===e){if(r+1>=t.length){n+="\\",r++;continue}let e=t[r+1];if(e>="0"&&e<="7"){let e="",i=r+1;for(;i<t.length&&i<r+4&&t[i]>="0"&&t[i]<="7";)e+=t[i],i++;n+=String.fromCharCode(Number.parseInt(e,8)%256),r=i;continue}switch(e){case"\\":n+="\\",r+=2;break;case"a":n+="\x07",r+=2;break;case"e":n+="\x1b",r+=2;break;case"n":n+=`
`,r+=2;break;case"r":n+="\r",r+=2;break;case"$":n+="$",r+=2;break;case"[":case"]":r+=2;break;case"u":n+=i,r+=2;break;case"h":n+=a,r+=2;break;case"H":n+=s,r+=2;break;case"w":n+=c,r+=2;break;case"W":n+=u,r+=2;break;case"d":{let e=String(p.getDate()).padStart(2," ");n+=`${h[p.getDay()]} ${_[p.getMonth()]} ${e}`,r+=2;break}case"t":{let e=String(p.getHours()).padStart(2,"0"),t=String(p.getMinutes()).padStart(2,"0"),i=String(p.getSeconds()).padStart(2,"0");n+=`${e}:${t}:${i}`,r+=2;break}case"T":{let e=p.getHours()%12;0===e&&(e=12);let t=String(e).padStart(2,"0"),i=String(p.getMinutes()).padStart(2,"0"),s=String(p.getSeconds()).padStart(2,"0");n+=`${t}:${i}:${s}`,r+=2;break}case"@":{let e=p.getHours()%12;0===e&&(e=12);let t=String(e).padStart(2,"0"),i=String(p.getMinutes()).padStart(2,"0"),s=12>p.getHours()?"AM":"PM";n+=`${t}:${i} ${s}`,r+=2;break}case"A":{let e=String(p.getHours()).padStart(2,"0"),t=String(p.getMinutes()).padStart(2,"0");n+=`${e}:${t}`,r+=2;break}case"D":if(r+2<t.length&&"{"===t[r+2]){let e=t.indexOf("}",r+3);-1!==e?(n+=function(e,t){let n=(e,t=2)=>String(e).padStart(t,"0");if(""===e){let e=n(t.getHours()),r=n(t.getMinutes()),i=n(t.getSeconds());return`${e}:${r}:${i}`}let r="",i=0;for(;i<e.length;)if("%"===e[i]){if(i+1>=e.length){r+="%",i++;continue}let s=e[i+1];switch(s){case"H":r+=n(t.getHours());break;case"M":r+=n(t.getMinutes());break;case"S":r+=n(t.getSeconds());break;case"d":r+=n(t.getDate());break;case"m":r+=n(t.getMonth()+1);break;case"Y":r+=t.getFullYear();break;case"y":r+=n(t.getFullYear()%100);break;case"I":{let e=t.getHours()%12;0===e&&(e=12),r+=n(e);break}case"p":r+=12>t.getHours()?"AM":"PM";break;case"P":r+=12>t.getHours()?"am":"pm";break;case"%":r+="%";break;case"a":r+=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()];break;case"b":r+=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];break;default:r+=`%${s}`}i+=2}else r+=e[i],i++;return r}(t.slice(r+3,e),p),r=e+1):(n+="\\D",r+=2)}else n+="\\D",r+=2;break;case"s":n+="bash",r+=2;break;case"v":n+="5.0",r+=2;break;case"V":n+="5.0.0",r+=2;break;case"j":n+="0",r+=2;break;case"l":n+="tty",r+=2;break;case"#":case"!":n+=f,r+=2;break;case"x":n+="\\x",r+=2;break;default:n+=`\\${e}`,r+=2}}else n+=e,r++}return n}var fn=e2(()=>{});function fr(e){if(""===e)return"''";if(/[\n\r\t\x00-\x1f\x7f']/.test(e)){let t="$'";for(let n of e)switch(n){case"'":t+="\\'";break;case"\\":t+="\\\\";break;case`
`:t+="\\n";break;case"\r":t+="\\r";break;case"	":t+="\\t";break;default:{let e=n.charCodeAt(0);e<32||127===e?t+=`\\${e.toString(8).padStart(3,"0")}`:t+=n}}return`${t}'`}return`'${e}'`}var fi=e2(()=>{});function fs(e,t){e.state.readonlyVars=e.state.readonlyVars||new Set,e.state.readonlyVars.add(t)}function fa(e,t){return e.state.readonlyVars?.has(t)??!1}function fo(e,t,n="bash"){if(fa(e,t)){let e=`${n}: ${t}: readonly variable
`;throw new rB(1,"",e)}return null}function fl(e,t){let n=e.state.exportedVars?.has(t)??!1;if(e.state.exportedVars=e.state.exportedVars||new Set,e.state.exportedVars.add(t),e.state.localScopes.length>0&&e.state.localScopes[e.state.localScopes.length-1].has(t)&&!n){for(e.state.localExportedVars||(e.state.localExportedVars=[]);e.state.localExportedVars.length<e.state.localScopes.length;)e.state.localExportedVars.push(new Set);e.state.localExportedVars[e.state.localExportedVars.length-1].add(t)}}function fc(e,t){e.state.exportedVars?.delete(t)}var fu=e2(()=>{rV()});function fp(e,t){if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(t))return"";let n="",r=void 0!==e.state.env[`${t}__length`]||Object.keys(e.state.env).some(e=>e.startsWith(`${t}_`)&&/^[0-9]+$/.test(e.slice(t.length+1))),i=e.state.associativeArrays?.has(t)??!1;return r&&!i&&(n+="a"),i&&(n+="A"),e.state.integerVars?.has(t)&&(n+="i"),_N(e,t)&&(n+="n"),fa(e,t)&&(n+="r"),e.state.exportedVars?.has(t)&&(n+="x"),n}var fh=e2(()=>{_B(),fu()});async function f_(e,t,n,r){return(n.isUnset||t.checkEmpty&&n.isEmpty)&&t.word?r(e,t.word.parts,n.inDoubleQuotes):n.effectiveValue}async function ff(e,t,n,r,i){if((r.isUnset||n.checkEmpty&&r.isEmpty)&&n.word){let s=await i(e,n.word.parts,r.inDoubleQuotes),a=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(.+)\]$/);if(a){let[,t,n]=a,r;if(/^\d+$/.test(n))r=Number.parseInt(n,10);else{try{let t=new _r,i=hm(t,n);r=await dU(e,i.expression)}catch{let t=e.state.env[n];r=t?Number.parseInt(t,10):0}Number.isNaN(r)&&(r=0)}e.state.env[`${t}_${r}`]=s,r>=Number.parseInt(e.state.env[`${t}__length`]||"0",10)&&(e.state.env[`${t}__length`]=String(r+1))}else e.state.env[t]=s;return s}return r.effectiveValue}async function fd(e,t,n,r,i){if(r.isUnset||n.checkEmpty&&r.isEmpty){let s=n.word?await i(e,n.word.parts,r.inDoubleQuotes):`${t}: parameter null or not set`;throw new rB(1,"",`bash: ${s}
`)}return r.effectiveValue}async function fg(e,t,n,r){return!(n.isUnset||t.checkEmpty&&n.isEmpty)&&t.word?r(e,t.word.parts,n.inDoubleQuotes):""}async function fm(e,t,n,r,i){let s="",a=e.state.shoptOptions.extglob;if(n.pattern)for(let t of n.pattern.parts)"Glob"===t.type?s+=_6(t.pattern,n.greedy,a):"Literal"===t.type?s+=_6(t.value,n.greedy,a):"SingleQuoted"===t.type||"Escaped"===t.type?s+=_3(t.value):"DoubleQuoted"===t.type?s+=_3(await r(e,t.parts)):"ParameterExpansion"===t.type?s+=_6(await i(e,t),n.greedy,a):s+=_3(await i(e,t));if("prefix"===n.side)return t.replace(RegExp(`^${s}`,"s"),"");let o=RegExp(`${s}$`,"s");if(n.greedy)return t.replace(o,"");for(let e=t.length;e>=0;e--){let n=t.slice(e);if(o.test(n))return t.slice(0,e)}return t}async function fv(e,t,n,r,i){let s="",a=e.state.shoptOptions.extglob;if(n.pattern)for(let t of n.pattern.parts)"Glob"===t.type?s+=_6(t.pattern,!0,a):"Literal"===t.type?s+=_6(t.value,!0,a):"SingleQuoted"===t.type||"Escaped"===t.type?s+=_3(t.value):"DoubleQuoted"===t.type?s+=_3(await r(e,t.parts)):"ParameterExpansion"===t.type?s+=_6(await i(e,t),!0,a):s+=_3(await i(e,t));let o=n.replacement?await r(e,n.replacement.parts):"";if("start"===n.anchor?s=`^${s}`:"end"===n.anchor&&(s=`${s}$`),""===s)return t;let l=n.all?"gs":"s";try{let e=new RegExp(s,l);if(n.all){let n="",r=0,i=e.exec(t);for(;null!==i&&(0!==i[0].length||i.index!==t.length);)n+=t.slice(r,i.index)+o,r=i.index+i[0].length,0===i[0].length&&r++,i=e.exec(t);return n+=t.slice(r)}return t.replace(e,o)}catch{return t}}async function fb(e,t,n,r){let i=await dU(e,r.offset.expression),s=r.length?await dU(e,r.length.expression):void 0;if("@"===t||"*"===t){let t=Number.parseInt(e.state.env["#"]||"0",10),n=[];for(let r=1;r<=t;r++)n.push(e.state.env[String(r)]||"");let r=e.state.env[0]||"bash",a,o;if(i<=0)if(a=[r,...n],i<0){if((o=a.length+i)<0)return""}else o=0;else a=n,o=i-1;if(o<0||o>=a.length)return"";if(void 0!==s){let e=s<0?a.length+s:o+s;return a.slice(o,Math.max(o,e)).join(" ")}return a.slice(o).join(" ")}let a=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[[@*]\]$/);if(a){let t=a[1];if(e.state.associativeArrays?.has(t))throw new rB(1,"",`bash: \${${t}[@]: 0: 3}: bad substitution
`);let n=_H(e,t),r=0;if(i<0){if(n.length>0){let e=n[n.length-1][0],t=("number"==typeof e?e:0)+1+i;if(t<0||(r=n.findIndex(([e])=>"number"==typeof e&&e>=t))<0)return""}}else if((r=n.findIndex(([e])=>"number"==typeof e&&e>=i))<0)return"";if(void 0!==s){if(s<0)throw new rH(`${a[1]}[@]: substring expression < 0`);return n.slice(r,r+s).map(([,e])=>e).join(" ")}return n.slice(r).map(([,e])=>e).join(" ")}let o=[...n],l=i;if(l<0&&(l=Math.max(0,o.length+l)),void 0!==s){if(s<0){let e=o.length+s;return o.slice(l,Math.max(l,e)).join("")}return o.slice(l,l+s).join("")}return o.slice(l).join("")}async function fy(e,t,n,r,i){if(n.pattern){let s=e.state.shoptOptions.extglob,a="";for(let t of n.pattern.parts)"Glob"===t.type?a+=_6(t.pattern,!0,s):"Literal"===t.type?a+=_6(t.value,!0,s):"SingleQuoted"===t.type||"Escaped"===t.type?a+=_3(t.value):"DoubleQuoted"===t.type?a+=_3(await r(e,t.parts)):"ParameterExpansion"===t.type&&(a+=_6(await i(e,t),!0,s));let o=RegExp(`^(?:${a})$`),l="upper"===n.direction?e=>e.toUpperCase():e=>e.toLowerCase(),c="",u=!1;for(let e of t)!n.all&&u?c+=e:o.test(e)?(c+=l(e),u=!0):c+=e;return c}return"upper"===n.direction?n.all?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1):n.all?t.toLowerCase():t.charAt(0).toLowerCase()+t.slice(1)}async function f$(e,t,n,r,i,s,a=!1){if(_N(e,t))return _F(e,t)||"";let o=/^[a-zA-Z_][a-zA-Z0-9_]*\[([@*])\]$/.test(t);if(r){if(i.innerOp?.type==="UseAlternative")return"";throw new rU(`\${!${t}}`)}if(o&&(""===n||n.includes(" ")))throw new rU(`\${!${t}}`);let l=n.match(/^[a-zA-Z_][a-zA-Z0-9_]*\[(.+)\]$/);if(l&&l[1].includes("~"))throw new rU(`\${!${t}}`);return i.innerOp?s(e,{type:"ParameterExpansion",parameter:n,operation:i.innerOp},a):await _j(e,n)}var fx=e2(()=>{hP(),_i(),dW(),rV(),_T(),_B(),_5(),_8(),fe(),fn(),fi(),_q(),fh()});function fS(e,t){let n=1,r=t,i=!1,s=!1;for(;r<e.length&&n>0;){let t=e[r];if("\\"===t&&!i&&r+1<e.length){r+=2;continue}if("'"===t&&!s){i=!i,r++;continue}if('"'===t&&!i){s=!s,r++;continue}if(!i&&!s){if("("===t)n++;else if(")"===t&&0==--n)return r}r++}return -1}async function fA(e,t){let n=new _r,r;try{r=n.parse(t)}catch{return""}let i=e.state.bashPid;e.state.bashPid=e.state.nextVirtualPid++;let s={...e.state.env},a=e.state.cwd,o=e.state.suppressVerbose;e.state.suppressVerbose=!0;try{let t=await e.executeScript(r),n=t.exitCode;return e.state.env=s,e.state.cwd=a,e.state.suppressVerbose=o,e.state.lastExitCode=n,e.state.env["?"]=String(n),t.stderr&&(e.state.expansionStderr=(e.state.expansionStderr||"")+t.stderr),e.state.bashPid=i,t.stdout.replace(/\n+$/,"")}catch(t){if(e.state.env=s,e.state.cwd=a,e.state.bashPid=i,e.state.suppressVerbose=o,t instanceof rq)throw t;return t instanceof rB?(e.state.lastExitCode=t.exitCode,e.state.env["?"]=String(t.exitCode),t.stdout?.replace(/\n+$/,"")??""):""}}function fw(e,t){let n="",r=0;for(;r<t.length;){let i=t[r];if("'"===i){let e=t.indexOf("'",r+1);if(-1!==e){n+=_0(t.slice(r+1,e)),r=e+1;continue}}if('"'===i){let i=-1,s=r+1;for(;s<t.length;){if("\\"===t[s]){s+=2;continue}if('"'===t[s]){i=s;break}s++}if(-1!==i){n+=_0(function(e,t){let n="",r=0;for(;r<t.length;){let i=t[r];if("\\"===i&&r+1<t.length){let e=t[r+1];if("$"===e||"`"===e||"\\"===e||'"'===e){n+=e,r+=2;continue}n+=i,r++;continue}if("$"===i&&r+1<t.length){let i=t[r+1];if("{"===i){let i=t.indexOf("}",r+2);if(-1!==i){let s=t.slice(r+2,i);n+=e.state.env[s]??"",r=i+1;continue}}else if(/[a-zA-Z_]/.test(i)){let i=r+1;for(;i<t.length&&/[a-zA-Z0-9_]/.test(t[i]);)i++;let s=t.slice(r+1,i);n+=e.state.env[s]??"",r=i;continue}}n+=i,r++}return n}(e,t.slice(r+1,i))),r=i+1;continue}}if("$"===i&&r+1<t.length){let i=t[r+1];if("{"===i){let i=t.indexOf("}",r+2);if(-1!==i){let s=t.slice(r+2,i);n+=e.state.env[s]??"",r=i+1;continue}}else if(/[a-zA-Z_]/.test(i)){let i=r+1;for(;i<t.length&&/[a-zA-Z0-9_]/.test(t[i]);)i++;let s=t.slice(r+1,i);n+=e.state.env[s]??"",r=i;continue}}if("\\"===i&&r+1<t.length){n+=i+t[r+1],r+=2;continue}n+=i,r++}return n}async function fE(e,t){let n="",r=0;for(;r<t.length;){let i=t[r];if("'"===i){let e=t.indexOf("'",r+1);if(-1!==e){n+=_0(t.slice(r+1,e)),r=e+1;continue}}if('"'===i){let i=-1,s=r+1;for(;s<t.length;){if("\\"===t[s]){s+=2;continue}if('"'===t[s]){i=s;break}s++}if(-1!==i){let s=t.slice(r+1,i);n+=_0(await fk(e,s)),r=i+1;continue}}if("$"===i&&r+1<t.length&&"("===t[r+1]){let i=fS(t,r+2);if(-1!==i){let s=t.slice(r+2,i);n+=await fA(e,s),r=i+1;continue}}if("`"===i){let i=t.indexOf("`",r+1);if(-1!==i){let s=t.slice(r+1,i);n+=await fA(e,s),r=i+1;continue}}if("$"===i&&r+1<t.length){let i=t[r+1];if("{"===i){let i=t.indexOf("}",r+2);if(-1!==i){let s=t.slice(r+2,i);n+=e.state.env[s]??"",r=i+1;continue}}else if(/[a-zA-Z_]/.test(i)){let i=r+1;for(;i<t.length&&/[a-zA-Z0-9_]/.test(t[i]);)i++;let s=t.slice(r+1,i);n+=e.state.env[s]??"",r=i;continue}}if("\\"===i&&r+1<t.length){n+=i+t[r+1],r+=2;continue}n+=i,r++}return n}async function fk(e,t){let n="",r=0;for(;r<t.length;){let i=t[r];if("\\"===i&&r+1<t.length){let e=t[r+1];if("$"===e||"`"===e||"\\"===e||'"'===e){n+=e,r+=2;continue}n+=i,r++;continue}if("$"===i&&r+1<t.length&&"("===t[r+1]){let i=fS(t,r+2);if(-1!==i){let s=t.slice(r+2,i);n+=await fA(e,s),r=i+1;continue}}if("`"===i){let i=t.indexOf("`",r+1);if(-1!==i){let s=t.slice(r+1,i);n+=await fA(e,s),r=i+1;continue}}if("$"===i&&r+1<t.length){let i=t[r+1];if("{"===i){let i=t.indexOf("}",r+2);if(-1!==i){let s=t.slice(r+2,i);n+=e.state.env[s]??"",r=i+1;continue}}else if(/[a-zA-Z_]/.test(i)){let i=r+1;for(;i<t.length&&/[a-zA-Z0-9_]/.test(t[i]);)i++;let s=t.slice(r+1,i);n+=e.state.env[s]??"",r=i;continue}}n+=i,r++}return n}var fC=e2(()=>{_i(),rV(),_2()}),fO=e2(()=>{});async function fR(e,t,n,r){let i="";for(let s of t.parts)"Glob"===s.type?i+=_6(s.pattern,!0,e.state.shoptOptions.extglob):"Literal"===s.type?i+=_6(s.value,!0,e.state.shoptOptions.extglob):"SingleQuoted"===s.type||"Escaped"===s.type?i+=_3(s.value):"DoubleQuoted"===s.type?i+=_3(await n(e,s.parts)):"ParameterExpansion"===s.type?i+=_6(await r(e,s),!0,e.state.shoptOptions.extglob):i+=_3(await r(e,s));return i}async function fT(e,t,n,r){if(1!==t.length||"DoubleQuoted"!==t[0].type)return null;let i=t[0];if(1!==i.parts.length||"ParameterExpansion"!==i.parts[0].type||i.parts[0].operation?.type!=="PatternReplacement")return null;let s=i.parts[0],a=s.parameter.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if(!a)return null;let o=a[1],l="*"===a[2],c=s.operation,u=_H(e,o),p=u.map(([,e])=>e);if(0===u.length){let t=e.state.env[o];void 0!==t&&p.push(t)}if(0===p.length)return{values:[],quoted:!0};let h="";c.pattern&&(h=await fR(e,c.pattern,n,r));let _=c.replacement?await n(e,c.replacement.parts):"",f=h;"start"===c.anchor?f=`^${h}`:"end"===c.anchor&&(f=`${h}$`);let d=[];try{let e=new RegExp(f,c.all?"g":"");for(let t of p)d.push(t.replace(e,_))}catch{d.push(...p)}if(l){let t=_w(e.state.env);return{values:[d.join(t)],quoted:!0}}return{values:d,quoted:!0}}async function fN(e,t,n,r){if(1!==t.length||"DoubleQuoted"!==t[0].type)return null;let i=t[0];if(1!==i.parts.length||"ParameterExpansion"!==i.parts[0].type||i.parts[0].operation?.type!=="PatternRemoval")return null;let s=i.parts[0],a=s.parameter.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if(!a)return null;let o=a[1],l="*"===a[2],c=s.operation,u=_H(e,o),p=u.map(([,e])=>e);if(0===u.length){let t=e.state.env[o];void 0!==t&&p.push(t)}if(0===p.length)return{values:[],quoted:!0};let h="",_=e.state.shoptOptions.extglob;if(c.pattern)for(let t of c.pattern.parts)"Glob"===t.type?h+=_6(t.pattern,c.greedy,_):"Literal"===t.type?h+=_6(t.value,c.greedy,_):"SingleQuoted"===t.type||"Escaped"===t.type?h+=_3(t.value):"DoubleQuoted"===t.type?h+=_3(await n(e,t.parts)):"ParameterExpansion"===t.type?h+=_6(await r(e,t),c.greedy,_):h+=_3(await r(e,t));let f=[];for(let e of p)f.push(_9(e,h,c.side,c.greedy));if(l){let t=_w(e.state.env);return{values:[f.join(t)],quoted:!0}}return{values:f,quoted:!0}}var fP=e2(()=>{_T(),_5(),_8(),fe(),_q()});async function fL(e,t){if(1!==t.length||"DoubleQuoted"!==t[0].type)return null;let n=t[0];if(1!==n.parts.length||"ParameterExpansion"!==n.parts[0].type||n.parts[0].operation?.type!=="DefaultValue"&&n.parts[0].operation?.type!=="UseAlternative"&&n.parts[0].operation?.type!=="AssignDefault")return null;let r=n.parts[0],i=r.operation,s=r.parameter.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/),a,o=!1;if(s){let t=s[1];o="*"===s[2];let n=_H(e,t),r=n.length>0||void 0!==e.state.env[t],l=0===n.length||1===n.length&&n.every(([,e])=>""===e),c=i.checkEmpty??!1;if(!(a="UseAlternative"===i.type?r&&!(c&&l):!r||c&&l)){if(n.length>0){let t=n.map(([,e])=>e);if(o){let n=_w(e.state.env);return{values:[t.join(n)],quoted:!0}}return{values:t,quoted:!0}}let r=e.state.env[t];return void 0!==r?{values:[r],quoted:!0}:{values:[],quoted:!0}}}else{let t=r.parameter,n=await _W(e,t),s=await _j(e,t),o=""===s,l=i.checkEmpty??!1;if(!(a="UseAlternative"===i.type?n&&!(l&&o):!n||l&&o))return{values:[s],quoted:!0}}if(a&&i.word){let t=i.word.parts,n=null,r=!1;for(let e of t)if("ParameterExpansion"===e.type&&!e.operation){let t=e.parameter.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if(t){n=t[1],r="*"===t[2];break}}if(n){let t=_H(e,n);if(t.length>0){let n=t.map(([,e])=>e);if(r||o){let t=_w(e.state.env);return{values:[n.join(t)],quoted:!0}}return{values:n,quoted:!0}}let i=e.state.env[n];return void 0!==i?{values:[i],quoted:!0}:{values:[],quoted:!0}}}return null}async function fI(e,t,n,r,i){if(!n||1!==t.length||"DoubleQuoted"!==t[0].type)return null;let s=t[0],a=-1,o="",l=!1,c=null;for(let e=0;e<s.parts.length;e++){let t=s.parts[e];if("ParameterExpansion"===t.type&&(t.operation?.type==="PatternRemoval"||t.operation?.type==="PatternReplacement")){let n=t.parameter.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if(n){a=e,o=n[1],l="*"===n[2],c=t.operation;break}}}if(-1===a||0===a&&a===s.parts.length-1)return null;let u="";for(let t=0;t<a;t++)u+=await r(e,s.parts[t]);let p="";for(let t=a+1;t<s.parts.length;t++)p+=await r(e,s.parts[t]);let h=_H(e,o),_=h.map(([,e])=>e);if(0===h.length){let t=e.state.env[o];if(void 0!==t)_=[t];else{if(l)return{values:[u+p],quoted:!0};let e=u+p;return{values:e?[e]:[],quoted:!0}}}if(c?.type==="PatternRemoval"){let t=c,n="",s=e.state.shoptOptions.extglob;if(t.pattern)for(let a of t.pattern.parts)if("Glob"===a.type)n+=_6(a.pattern,t.greedy,s);else if("Literal"===a.type)n+=_6(a.value,t.greedy,s);else if("SingleQuoted"===a.type||"Escaped"===a.type)n+=_3(a.value);else if("DoubleQuoted"===a.type){let t=await i(e,a.parts);n+=_3(t)}else if("ParameterExpansion"===a.type){let i=await r(e,a);n+=_6(i,t.greedy,s)}else{let t=await r(e,a);n+=_3(t)}_=_.map(e=>_9(e,n,t.side,t.greedy))}else if(c?.type==="PatternReplacement"){let t=c,n="";if(t.pattern)for(let s of t.pattern.parts)"Glob"===s.type?n+=_6(s.pattern,!0,e.state.shoptOptions.extglob):"Literal"===s.type?n+=_6(s.value,!0,e.state.shoptOptions.extglob):"SingleQuoted"===s.type||"Escaped"===s.type?n+=_3(s.value):"DoubleQuoted"===s.type?n+=_3(await i(e,s.parts)):"ParameterExpansion"===s.type?n+=_6(await r(e,s),!0,e.state.shoptOptions.extglob):n+=_3(await r(e,s));let s=t.replacement?await i(e,t.replacement.parts):"",a=n;"start"===t.anchor?a=`^${n}`:"end"===t.anchor&&(a=`${n}$`);try{let e=new RegExp(a,t.all?"g":"");_=_.map(t=>t.replace(e,s))}catch{}}if(l){let t=_w(e.state.env);return{values:[u+_.join(t)+p],quoted:!0}}return 1===_.length?{values:[u+_[0]+p],quoted:!0}:{values:[u+_[0],..._.slice(1,-1),_[_.length-1]+p],quoted:!0}}async function fD(e,t,n,r){if(!n||1!==t.length||"DoubleQuoted"!==t[0].type)return null;let i=t[0],s=-1,a="",o=!1;for(let e=0;e<i.parts.length;e++){let t=i.parts[e];if("ParameterExpansion"===t.type&&!t.operation){let n=t.parameter.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if(n){s=e,a=n[1],o="*"===n[2];break}}}if(-1===s)return null;let l="";for(let t=0;t<s;t++)l+=await r(e,i.parts[t]);let c="";for(let t=s+1;t<i.parts.length;t++)c+=await r(e,i.parts[t]);let u=_H(e,a),p=u.map(([,e])=>e);if(0===u.length){let t=e.state.env[a];if(void 0!==t)return{values:[l+t+c],quoted:!0};if(o)return{values:[l+c],quoted:!0};let n=l+c;return{values:n?[n]:[],quoted:!0}}if(o){let t=_w(e.state.env);return{values:[l+p.join(t)+c],quoted:!0}}return 1===p.length?{values:[l+p[0]+c],quoted:!0}:{values:[l+p[0],...p.slice(1,-1),p[p.length-1]+c],quoted:!0}}var fM=e2(()=>{_T(),_5(),_8(),fe(),_q()});async function fF(e,t,n){let r;if(1!==t.length||"DoubleQuoted"!==t[0].type)return null;let i=t[0];if(1!==i.parts.length||"ParameterExpansion"!==i.parts[0].type||i.parts[0].operation?.type!=="Substring")return null;let s=i.parts[0],a=s.parameter.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if(!a)return null;let o=a[1],l="*"===a[2],c=s.operation;if(e.state.associativeArrays?.has(o))throw new rB(1,"",`bash: \${${o}[@]: 0: 3}: bad substitution
`);let u=c.offset?await n(e,c.offset.expression):0,p=c.length?await n(e,c.length.expression):void 0,h=_H(e,o),_=0;if(u<0){if(h.length>0){let e=h[h.length-1][0],t=("number"==typeof e?e:0)+1+u;if(t<0)return{values:[],quoted:!0};(_=h.findIndex(([e])=>"number"==typeof e&&e>=t))<0&&(_=h.length)}}else(_=h.findIndex(([e])=>"number"==typeof e&&e>=u))<0&&(_=h.length);if(void 0!==p){if(p<0)throw new rH(`${o}[@]: substring expression < 0`);r=h.slice(_,_+p).map(([,e])=>e)}else r=h.slice(_).map(([,e])=>e);if(0===r.length)return{values:[],quoted:!0};if(l){let t=_w(e.state.env);return{values:[r.join(t)],quoted:!0}}return{values:r,quoted:!0}}var fB=e2(()=>{rV(),_T(),fn(),fi(),_q(),fh()}),fH=e2(()=>{_B(),_q()});async function fU(e,t,n,r,i){if(!n||1!==t.length||"DoubleQuoted"!==t[0].type)return null;let s=t[0];if(1!==s.parts.length||"ParameterExpansion"!==s.parts[0].type||s.parts[0].operation?.type!=="Indirection")return null;let a=s.parts[0],o=a.operation,l=await _j(e,a.parameter),c=l.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if(!c){if(!o.innerOp&&("@"===l||"*"===l)){let t=Number.parseInt(e.state.env["#"]||"0",10),n=[];for(let r=1;r<=t;r++)n.push(e.state.env[String(r)]||"");return"*"===l?{values:[n.join(_w(e.state.env))],quoted:!0}:{values:n,quoted:!0}}return null}let u=c[1],p="*"===c[2],h=_H(e,u);if(o.innerOp){if("Substring"===o.innerOp.type)return fj(e,h,u,p,o.innerOp);if("DefaultValue"===o.innerOp.type||"UseAlternative"===o.innerOp.type||"AssignDefault"===o.innerOp.type||"ErrorIfUnset"===o.innerOp.type)return fW(e,h,u,p,o.innerOp,i);if("Transform"===o.innerOp.type&&"a"===o.innerOp.operator){let t=fp(e,u),n=h.map(()=>t);return p?{values:[n.join(_w(e.state.env))],quoted:!0}:{values:n,quoted:!0}}let t=[];for(let[,n]of h){let i={type:"ParameterExpansion",parameter:"_indirect_elem_",operation:o.innerOp},s=e.state.env._indirect_elem_;e.state.env._indirect_elem_=n;try{let n=await r(e,i,!0);t.push(n)}finally{void 0!==s?e.state.env._indirect_elem_=s:delete e.state.env._indirect_elem_}}return p?{values:[t.join(_w(e.state.env))],quoted:!0}:{values:t,quoted:!0}}if(h.length>0){let t=h.map(([,e])=>e);return p?{values:[t.join(_w(e.state.env))],quoted:!0}:{values:t,quoted:!0}}let _=e.state.env[u];return void 0!==_?{values:[_],quoted:!0}:{values:[],quoted:!0}}async function fj(e,t,n,r,i){let s,a=i.offset?await dU(e,i.offset.expression):0,o=i.length?await dU(e,i.length.expression):void 0,l=0;if(a<0){if(t.length>0){let e=t[t.length-1][0],n=("number"==typeof e?e:0)+1+a;if(n<0||(l=t.findIndex(([e])=>"number"==typeof e&&e>=n))<0)return{values:[],quoted:!0}}}else if((l=t.findIndex(([e])=>"number"==typeof e&&e>=a))<0)return{values:[],quoted:!0};if(void 0!==o){if(o<0)throw new rH(`${n}[@]: substring expression < 0`);s=t.slice(l,l+o)}else s=t.slice(l);let c=s.map(([,e])=>e);return r?{values:[c.join(_w(e.state.env))],quoted:!0}:{values:c,quoted:!0}}async function fW(e,t,n,r,i,s){let a=i.checkEmpty??!1,o=t.map(([,e])=>e),l=0===t.length,c=0===t.length;if("UseAlternative"===i.type)return c||a&&l||!i.word?{values:[],quoted:!0}:{values:[await s(e,i.word.parts,!0)],quoted:!0};if("DefaultValue"===i.type)return(c||a&&l)&&i.word?{values:[await s(e,i.word.parts,!0)],quoted:!0}:r?{values:[o.join(_w(e.state.env))],quoted:!0}:{values:o,quoted:!0};if("AssignDefault"===i.type&&(c||a&&l)&&i.word){let t=await s(e,i.word.parts,!0);return e.state.env[`${n}_0`]=t,e.state.env[`${n}__length`]="1",{values:[t],quoted:!0}}return r?{values:[o.join(_w(e.state.env))],quoted:!0}:{values:o,quoted:!0}}async function fq(e,t){if(1!==t.length||"ParameterExpansion"!==t[0].type||t[0].operation?.type!=="UseAlternative"&&t[0].operation?.type!=="DefaultValue")return null;let n=t[0],r=n.operation,i=r?.word;if(!i||1!==i.parts.length||"DoubleQuoted"!==i.parts[0].type)return null;let s=i.parts[0];if(1!==s.parts.length||"ParameterExpansion"!==s.parts[0].type||s.parts[0].operation?.type!=="Indirection")return null;let a=s.parts[0],o=(await _j(e,a.parameter)).match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if(!o)return null;let l=await _W(e,n.parameter),c=await _j(e,n.parameter)==="",u=r.checkEmpty??!1;if("UseAlternative"===r.type?l&&!(u&&c):!l||u&&c){let t=o[1],n="*"===o[2],r=_H(e,t);if(r.length>0){let t=r.map(([,e])=>e);return n?{values:[t.join(_w(e.state.env))],quoted:!0}:{values:t,quoted:!0}}let i=e.state.env[t];return void 0!==i?{values:[i],quoted:!0}:{values:[],quoted:!0}}return{values:[],quoted:!1}}async function fz(e,t){if(1!==t.length||"ParameterExpansion"!==t[0].type||t[0].operation?.type!=="Indirection")return null;let n=t[0],r=n.operation.innerOp;if(!r||"UseAlternative"!==r.type&&"DefaultValue"!==r.type)return null;let i=r.word;if(!i||1!==i.parts.length||"DoubleQuoted"!==i.parts[0].type)return null;let s=i.parts[0];if(1!==s.parts.length||"ParameterExpansion"!==s.parts[0].type||s.parts[0].operation?.type!=="Indirection")return null;let a=s.parts[0],o=(await _j(e,a.parameter)).match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if(!o)return null;let l=await _j(e,n.parameter),c=await _W(e,n.parameter),u=""===l,p=r.checkEmpty??!1;if("UseAlternative"===r.type?c&&!(p&&u):!c||p&&u){let t=o[1],n="*"===o[2],r=_H(e,t);if(r.length>0){let t=r.map(([,e])=>e);return n?{values:[t.join(_w(e.state.env))],quoted:!0}:{values:t,quoted:!0}}let i=e.state.env[t];return void 0!==i?{values:[i],quoted:!0}:{values:[],quoted:!0}}return{values:[],quoted:!1}}var fG=e2(()=>{dW(),rV(),_T(),_q(),fh()});function fV(e){let t=Number.parseInt(e.state.env["#"]||"0",10),n=[];for(let r=1;r<=t;r++)n.push(e.state.env[String(r)]||"");return n}async function fZ(e,t,n,r){if(1!==t.length||"DoubleQuoted"!==t[0].type)return null;let i=t[0],s=-1,a=!1;for(let e=0;e<i.parts.length;e++){let t=i.parts[e];if("ParameterExpansion"===t.type&&("@"===t.parameter||"*"===t.parameter)&&t.operation?.type==="Substring"){s=e,a="*"===t.parameter;break}}if(-1===s)return null;let o=i.parts[s].operation,l=o.offset?await n(e,o.offset.expression):0,c=o.length?await n(e,o.length.expression):void 0,u=Number.parseInt(e.state.env["#"]||"0",10),p=[];for(let t=1;t<=u;t++)p.push(e.state.env[String(t)]||"");let h=e.state.env[0]||"bash",_;if(l<=0){let e=[h,...p],t=e.length+l;if(t<0)_=[];else{let n=l<0?t:0;if(void 0!==c){let t=c<0?e.length+c:n+c;_=e.slice(n,Math.max(n,t))}else _=e.slice(n)}}else{let e=l-1;if(e>=p.length)_=[];else if(void 0!==c){let t=c<0?p.length+c:e+c;_=p.slice(e,Math.max(e,t))}else _=p.slice(e)}let f="";for(let t=0;t<s;t++)f+=await r(e,i.parts[t]);let d="";for(let t=s+1;t<i.parts.length;t++)d+=await r(e,i.parts[t]);if(0===_.length){let e=f+d;return{values:e?[e]:[],quoted:!0}}if(a){let t=_w(e.state.env);return{values:[f+_.join(t)+d],quoted:!0}}return 1===_.length?{values:[f+_[0]+d],quoted:!0}:{values:[f+_[0],..._.slice(1,-1),_[_.length-1]+d],quoted:!0}}async function fK(e,t,n,r){if(1!==t.length||"DoubleQuoted"!==t[0].type)return null;let i=t[0],s=-1,a=!1;for(let e=0;e<i.parts.length;e++){let t=i.parts[e];if("ParameterExpansion"===t.type&&("@"===t.parameter||"*"===t.parameter)&&t.operation?.type==="PatternReplacement"){s=e,a="*"===t.parameter;break}}if(-1===s)return null;let o=i.parts[s].operation,l=fV(e),c="";for(let t=0;t<s;t++)c+=await n(e,i.parts[t]);let u="";for(let t=s+1;t<i.parts.length;t++)u+=await n(e,i.parts[t]);if(0===l.length){let e=c+u;return{values:e?[e]:[],quoted:!0}}let p="";if(o.pattern)for(let t of o.pattern.parts)"Glob"===t.type?p+=_6(t.pattern,!0,e.state.shoptOptions.extglob):"Literal"===t.type?p+=_6(t.value,!0,e.state.shoptOptions.extglob):"SingleQuoted"===t.type||"Escaped"===t.type?p+=_3(t.value):"DoubleQuoted"===t.type?p+=_3(await r(e,t.parts)):"ParameterExpansion"===t.type?p+=_6(await n(e,t),!0,e.state.shoptOptions.extglob):p+=_3(await n(e,t));let h=o.replacement?await r(e,o.replacement.parts):"",_=p;"start"===o.anchor?_=`^${p}`:"end"===o.anchor&&(_=`${p}$`);let f=[];try{let e=new RegExp(_,o.all?"g":"");for(let t of l)f.push(t.replace(e,h))}catch{f.push(...l)}if(a){let t=_w(e.state.env);return{values:[c+f.join(t)+u],quoted:!0}}return 1===f.length?{values:[c+f[0]+u],quoted:!0}:{values:[c+f[0],...f.slice(1,-1),f[f.length-1]+u],quoted:!0}}async function fX(e,t,n,r){if(1!==t.length||"DoubleQuoted"!==t[0].type)return null;let i=t[0],s=-1,a=!1;for(let e=0;e<i.parts.length;e++){let t=i.parts[e];if("ParameterExpansion"===t.type&&("@"===t.parameter||"*"===t.parameter)&&t.operation?.type==="PatternRemoval"){s=e,a="*"===t.parameter;break}}if(-1===s)return null;let o=i.parts[s].operation,l=fV(e),c="";for(let t=0;t<s;t++)c+=await n(e,i.parts[t]);let u="";for(let t=s+1;t<i.parts.length;t++)u+=await n(e,i.parts[t]);if(0===l.length){let e=c+u;return{values:e?[e]:[],quoted:!0}}let p="",h=e.state.shoptOptions.extglob;if(o.pattern)for(let t of o.pattern.parts)"Glob"===t.type?p+=_6(t.pattern,o.greedy,h):"Literal"===t.type?p+=_6(t.value,o.greedy,h):"SingleQuoted"===t.type||"Escaped"===t.type?p+=_3(t.value):"DoubleQuoted"===t.type?p+=_3(await r(e,t.parts)):"ParameterExpansion"===t.type?p+=_6(await n(e,t),o.greedy,h):p+=_3(await n(e,t));let _=[];for(let e of l)_.push(_9(e,p,o.side,o.greedy));if(a){let t=_w(e.state.env);return{values:[c+_.join(t)+u],quoted:!0}}return 1===_.length?{values:[c+_[0]+u],quoted:!0}:{values:[c+_[0],..._.slice(1,-1),_[_.length-1]+u],quoted:!0}}async function fQ(e,t,n){if(1!==t.length||"DoubleQuoted"!==t[0].type)return null;let r=t[0],i=-1,s=!1;for(let e=0;e<r.parts.length;e++){let t=r.parts[e];if("ParameterExpansion"===t.type&&("@"===t.parameter||"*"===t.parameter)){i=e,s="*"===t.parameter;break}}if(-1===i)return null;let a=r.parts[i];if("ParameterExpansion"===a.type&&a.operation)return null;let o=Number.parseInt(e.state.env["#"]||"0",10),l="";for(let t=0;t<i;t++)l+=await n(e,r.parts[t]);let c="";for(let t=i+1;t<r.parts.length;t++)c+=await n(e,r.parts[t]);if(0===o){if(s)return{values:[l+c],quoted:!0};let e=l+c;return{values:e?[e]:[],quoted:!0}}let u=[];for(let t=1;t<=o;t++)u.push(e.state.env[String(t)]||"");if(s){let t=_w(e.state.env);return{values:[l+u.join(t)+c],quoted:!0}}return 1===u.length?{values:[l+u[0]+c],quoted:!0}:{values:[l+u[0],...u.slice(1,-1),u[u.length-1]+c],quoted:!0}}var fJ=e2(()=>{_T(),_5(),_8(),fe()});async function fY(e,t){if(e.state.options.noglob)return t;let n=new _l(e.fs,e.state.cwd,e.state.env,{globstar:e.state.shoptOptions.globstar,nullglob:e.state.shoptOptions.nullglob,failglob:e.state.shoptOptions.failglob,dotglob:e.state.shoptOptions.dotglob,extglob:e.state.shoptOptions.extglob,globskipdots:e.state.shoptOptions.globskipdots}),r=[];for(let i of t)if(_J(i,e.state.shoptOptions.extglob)){let e=await n.expand(i);if(e.length>0)r.push(...e);else{if(n.hasFailglob())throw new rj(i);n.hasNullglob()||r.push(i)}}else r.push(i);return r}async function f0(e,t,n,r){let i=-1,s="",a=!1;for(let e=0;e<t.length;e++){let n=t[e];if("ParameterExpansion"===n.type&&n.operation?.type==="PatternReplacement"){let t=n.parameter.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if(t){i=e,s=t[1],a="*"===t[2];break}}}if(-1===i)return null;let o=t[i].operation,l=_H(e,s),c=l.map(([,e])=>e);if(0===l.length){let t=e.state.env[s];void 0!==t&&(c=[t])}if(0===c.length)return{values:[],quoted:!1};let u="";if(o.pattern)for(let t of o.pattern.parts)"Glob"===t.type?u+=_6(t.pattern,!0,e.state.shoptOptions.extglob):"Literal"===t.type?u+=_6(t.value,!0,e.state.shoptOptions.extglob):"SingleQuoted"===t.type||"Escaped"===t.type?u+=_3(t.value):"DoubleQuoted"===t.type?u+=_3(await n(e,t.parts)):"ParameterExpansion"===t.type?u+=_6(await r(e,t),!0,e.state.shoptOptions.extglob):u+=_3(await r(e,t));let p=o.replacement?await n(e,o.replacement.parts):"",h=u;"start"===o.anchor?h=`^${u}`:"end"===o.anchor&&(h=`${u}$`);let _=[];try{let e=new RegExp(h,o.all?"g":"");for(let t of c)_.push(t.replace(e,p))}catch{_.push(...c)}let f=_$(e.state.env),d=_x(e.state.env);if(a){let t=_w(e.state.env),n=_.join(t);return d?{values:n?[n]:[],quoted:!1}:{values:_O(n,f),quoted:!1}}if(d)return{values:_,quoted:!1};let g=[];for(let e of _)""===e?g.push(""):g.push(..._O(e,f));return{values:g,quoted:!1}}async function f1(e,t,n,r){let i=-1,s="",a=!1;for(let e=0;e<t.length;e++){let n=t[e];if("ParameterExpansion"===n.type&&n.operation?.type==="PatternRemoval"){let t=n.parameter.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if(t){i=e,s=t[1],a="*"===t[2];break}}}if(-1===i)return null;let o=t[i].operation,l=_H(e,s),c=l.map(([,e])=>e);if(0===l.length){let t=e.state.env[s];void 0!==t&&(c=[t])}if(0===c.length)return{values:[],quoted:!1};let u="",p=e.state.shoptOptions.extglob;if(o.pattern)for(let t of o.pattern.parts)"Glob"===t.type?u+=_6(t.pattern,o.greedy,p):"Literal"===t.type?u+=_6(t.value,o.greedy,p):"SingleQuoted"===t.type||"Escaped"===t.type?u+=_3(t.value):"DoubleQuoted"===t.type?u+=_3(await n(e,t.parts)):"ParameterExpansion"===t.type?u+=_6(await r(e,t),o.greedy,p):u+=_3(await r(e,t));let h=[];for(let e of c)h.push(_9(e,u,o.side,o.greedy));let _=_$(e.state.env),f=_x(e.state.env);if(a){let t=_w(e.state.env),n=h.join(t);return f?{values:n?[n]:[],quoted:!1}:{values:_O(n,_),quoted:!1}}if(f)return{values:h,quoted:!1};let d=[];for(let e of h)""===e?d.push(""):d.push(..._O(e,_));return{values:d,quoted:!1}}async function f2(e,t,n,r){let i=-1,s=!1;for(let e=0;e<t.length;e++){let n=t[e];if("ParameterExpansion"===n.type&&("@"===n.parameter||"*"===n.parameter)&&n.operation?.type==="PatternRemoval"){i=e,s="*"===n.parameter;break}}if(-1===i)return null;let a=t[i].operation,o=Number.parseInt(e.state.env["#"]||"0",10),l=[];for(let t=1;t<=o;t++)l.push(e.state.env[String(t)]||"");if(0===l.length)return{values:[],quoted:!1};let c="",u=e.state.shoptOptions.extglob;if(a.pattern)for(let t of a.pattern.parts)"Glob"===t.type?c+=_6(t.pattern,a.greedy,u):"Literal"===t.type?c+=_6(t.value,a.greedy,u):"SingleQuoted"===t.type||"Escaped"===t.type?c+=_3(t.value):"DoubleQuoted"===t.type?c+=_3(await n(e,t.parts)):"ParameterExpansion"===t.type?c+=_6(await r(e,t),a.greedy,u):c+=_3(await r(e,t));let p=[];for(let e of l)p.push(_9(e,c,a.side,a.greedy));let h=_$(e.state.env),_=_x(e.state.env);if(s){let t=_w(e.state.env),n=p.join(t);return _?{values:n?[n]:[],quoted:!1}:{values:_O(n,h),quoted:!1}}if(_)return{values:p,quoted:!1};let f=[];for(let e of p)""===e?f.push(""):f.push(..._O(e,h));return{values:f,quoted:!1}}async function f3(e,t,n,r){let i,s=-1,a=!1;for(let e=0;e<t.length;e++){let n=t[e];if("ParameterExpansion"===n.type&&("@"===n.parameter||"*"===n.parameter)&&n.operation?.type==="Substring"){s=e,a="*"===n.parameter;break}}if(-1===s)return null;let o=t[s].operation,l=o.offset?await n(e,o.offset.expression):0,c=o.length?await n(e,o.length.expression):void 0,u=Number.parseInt(e.state.env["#"]||"0",10),p=[];for(let t=1;t<=u;t++)p.push(e.state.env[String(t)]||"");let h=e.state.env[0]||"bash",_;if(l<=0){let e=[h,...p],t=e.length+l;if(t<0)_=[];else{let n=l<0?t:0;if(void 0!==c){let t=c<0?e.length+c:n+c;_=e.slice(n,Math.max(n,t))}else _=e.slice(n)}}else{let e=l-1;if(e>=p.length)_=[];else if(void 0!==c){let t=c<0?p.length+c:e+c;_=p.slice(e,Math.max(e,t))}else _=p.slice(e)}let f="";for(let n=0;n<s;n++)f+=await r(e,t[n]);let d="";for(let n=s+1;n<t.length;n++)d+=await r(e,t[n]);let g=_$(e.state.env),m=_x(e.state.env);if(0===_.length){let e=f+d;return e?m?{values:[e],quoted:!1}:{values:_O(e,g),quoted:!1}:{values:[],quoted:!1}}if(a){let t=_w(e.state.env),n=f+_.join(t)+d;i=m?n?[n]:[]:_O(n,g)}else if(m)i=1===_.length?[f+_[0]+d]:[f+_[0],..._.slice(1,-1),_[_.length-1]+d];else{i=[];for(let e=0;e<_.length;e++){let t=_[e];if(0===e&&(t=f+t),e===_.length-1&&(t+=d),""===t)i.push("");else{let e=_O(t,g);i.push(...e)}}}return{values:await fY(e,i),quoted:!1}}async function f5(e,t){if(1!==t.length||"ParameterExpansion"!==t[0].type||"@"!==t[0].parameter&&"*"!==t[0].parameter||t[0].operation)return null;let n="*"===t[0].parameter,r=Number.parseInt(e.state.env["#"]||"0",10);if(0===r)return{values:[],quoted:!1};let i=[];for(let t=1;t<=r;t++)i.push(e.state.env[String(t)]||"");let s=_$(e.state.env),a=_x(e.state.env),o=_S(e.state.env),l;if(n)if(a)l=i.filter(e=>""!==e);else{let t=_w(e.state.env);l=_O(i.join(t),s)}else if(a)l=i.filter(e=>""!==e);else if(o)for(let e of(l=[],i)){if(""===e)continue;let t=_O(e,s);l.push(...t)}else{for(let e of(l=[],i))if(""===e)l.push("");else{let t=_O(e,s);l.push(...t)}for(;l.length>0&&""===l[l.length-1];)l.pop()}return{values:await fY(e,l),quoted:!1}}async function f6(e,t){if(1!==t.length||"ParameterExpansion"!==t[0].type||t[0].operation)return null;let n=t[0].parameter.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if(!n)return null;let r=n[1],i="*"===n[2],s=_H(e,r),a;if(0===s.length){let t=e.state.env[r];if(void 0===t)return{values:[],quoted:!1};a=[t]}else a=s.map(([,e])=>e);let o=_$(e.state.env),l=_x(e.state.env),c=_S(e.state.env),u;if(i)if(l)u=a.filter(e=>""!==e);else{let t=_w(e.state.env);u=_O(a.join(t),o)}else if(l)u=a.filter(e=>""!==e);else if(c)for(let e of(u=[],a)){if(""===e)continue;let t=_O(e,o);u.push(...t)}else{for(let e of(u=[],a))if(""===e)u.push("");else{let t=_O(e,o);u.push(...t)}for(;u.length>0&&""===u[u.length-1];)u.pop()}return{values:await fY(e,u),quoted:!1}}async function f4(e,t,n){let r,i=-1;for(let e=0;e<t.length;e++){let n=t[e];if("ParameterExpansion"===n.type&&("@"===n.parameter||"*"===n.parameter)&&!n.operation){i=e;break}}if(-1===i||t.length<=1)return null;let s=Number.parseInt(e.state.env["#"]||"0",10),a=[];for(let t=1;t<=s;t++)a.push(e.state.env[String(t)]||"");let o="";for(let r=0;r<i;r++)o+=await n(e,t[r]);let l="";for(let r=i+1;r<t.length;r++)l+=await n(e,t[r]);let c=_$(e.state.env),u=_x(e.state.env),p=_S(e.state.env);if(0===s){let e=o+l;return{values:e?[e]:[],quoted:!1}}{let e=[];for(let t=0;t<a.length;t++){let n=a[t];0===t&&(n=o+n),t===a.length-1&&(n+=l),e.push(n)}if(u)r=e.filter(e=>""!==e);else if(p)for(let t of(r=[],e)){if(""===t)continue;let e=_O(t,c);r.push(...e)}else{for(let t of(r=[],e))if(""===t)r.push("");else{let e=_O(t,c);r.push(...e)}for(;r.length>0&&""===r[r.length-1];)r.pop()}}return 0===r.length?{values:[],quoted:!1}:{values:await fY(e,r),quoted:!1}}var f8=e2(()=>{_u(),rV(),_T(),_5(),_2(),_8(),fe(),_q()});async function f9(e,t,n){let r=t.parts,{hasQuoted:i,hasCommandSub:s,hasArrayVar:a,hasArrayAtExpansion:o,hasParamExpansion:l,hasVarNamePrefixExpansion:c,hasIndirection:u}=_h(r),p=n.hasBraceExpansion(r)?await n.expandWordWithBracesAsync(e,t):null;if(p&&p.length>1)return f7(e,p,i);let h=await de(e,r,o,c,u,n);if(null!==h)return h;let _=await dt(e,r,n);if(null!==_)return _;let f=await dn(e,r,n);if(null!==f)return f;let d=await ds(e,r,n.expandPart);if(null!==d)return da(e,d);if((s||a||l)&&!_x(e.state.env)){let t=_$(e.state.env),i=n.buildIfsCharClassPattern(t),s=await n.smartWordSplit(e,r,t,i,n.expandPart);return da(e,s)}let g=await n.expandWordAsync(e,t);return dc(e,t,r,g,i,n.expandWordForGlobbing)}async function f7(e,t,n){let r=[];for(let i of t)if(!(!n&&""===i))if(!n&&!e.state.options.noglob&&_J(i,e.state.shoptOptions.extglob)){let t=await dl(e,i);r.push(...t)}else r.push(i);return{values:r,quoted:!1}}async function de(e,t,n,r,i,s){if(n){let n=function(e,t){if(1!==t.length||"DoubleQuoted"!==t[0].type)return null;let n=t[0];if(1!==n.parts.length||"ParameterExpansion"!==n.parts[0].type)return null;let r=n.parts[0];if(r.operation)return null;let i=r.parameter.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(@)\]$/);if(!i)return null;let s=i[1];if(_N(e,s)){let t=_F(e,s);if(t?.endsWith("[@]")||t?.endsWith("[*]"))return{values:[],quoted:!0}}let a=_H(e,s);if(a.length>0)return{values:a.map(([,e])=>e),quoted:!0};let o=e.state.env[s];return void 0!==o?{values:[o],quoted:!0}:{values:[],quoted:!0}}(e,t);if(null!==n)return n}{let n=function(e,t){if(1!==t.length||"DoubleQuoted"!==t[0].type)return null;let n=t[0];if(1!==n.parts.length||"ParameterExpansion"!==n.parts[0].type||n.parts[0].operation)return null;let r=n.parts[0].parameter;if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r)||!_N(e,r))return null;let i=_F(e,r);if(!i)return null;let s=i.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(@)\]$/);if(!s)return null;let a=s[1],o=_H(e,a);if(o.length>0)return{values:o.map(([,e])=>e),quoted:!0};let l=e.state.env[a];return void 0!==l?{values:[l],quoted:!0}:{values:[],quoted:!0}}(e,t);if(null!==n)return n}{let n=await fL(e,t);if(null!==n)return n}{let r=await fI(e,t,n,s.expandPart,s.expandWordPartsAsync);if(null!==r)return r}{let r=await fD(e,t,n,s.expandPart);if(null!==r)return r}{let n=await fF(e,t,s.evaluateArithmetic);if(null!==n)return n}{let n=function(e,t){if(1!==t.length||"DoubleQuoted"!==t[0].type)return null;let n=t[0];if(1!==n.parts.length||"ParameterExpansion"!==n.parts[0].type||n.parts[0].operation?.type!=="Transform")return null;let r=n.parts[0],i=r.parameter.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if(!i)return null;let s=i[1],a="*"===i[2],o=r.operation,l=_H(e,s);if(0===l.length){let t=e.state.env[s];if(void 0!==t){let n;switch(o.operator){case"a":n="";break;case"P":n=ft(e,t);break;case"Q":n=fr(t);break;default:n=t}return{values:[n],quoted:!0}}return a?{values:[""],quoted:!0}:{values:[],quoted:!0}}let c=fp(e,s),u;switch(o.operator){case"a":u=l.map(()=>c);break;case"P":u=l.map(([,t])=>ft(e,t));break;case"Q":u=l.map(([,e])=>fr(e));break;case"u":u=l.map(([,e])=>e.charAt(0).toUpperCase()+e.slice(1));break;case"U":u=l.map(([,e])=>e.toUpperCase());break;case"L":u=l.map(([,e])=>e.toLowerCase());break;default:u=l.map(([,e])=>e)}if(a){let t=_w(e.state.env);return{values:[u.join(t)],quoted:!0}}return{values:u,quoted:!0}}(e,t);if(null!==n)return n}{let n=await fT(e,t,s.expandWordPartsAsync,s.expandPart);if(null!==n)return n}{let n=await fN(e,t,s.expandWordPartsAsync,s.expandPart);if(null!==n)return n}if(r&&1===t.length&&"DoubleQuoted"===t[0].type){let n=function(e,t){let n=t[0];if("DoubleQuoted"!==n.type)return null;if(1===n.parts.length&&"ParameterExpansion"===n.parts[0].type&&n.parts[0].operation?.type==="VarNamePrefix"){let t=n.parts[0].operation,r=_7(e,t.prefix);return t.star?{values:[r.join(_w(e.state.env))],quoted:!0}:{values:r,quoted:!0}}if(1===n.parts.length&&"ParameterExpansion"===n.parts[0].type&&n.parts[0].operation?.type==="ArrayKeys"){let t=n.parts[0].operation,r=_H(e,t.array).map(([e])=>String(e));return t.star?{values:[r.join(_w(e.state.env))],quoted:!0}:{values:r,quoted:!0}}return null}(e,t);if(null!==n)return n}{let n=await fU(e,t,i,s.expandParameterAsync,s.expandWordPartsAsync);if(null!==n)return n}{let n=await fq(e,t);if(null!==n)return n}{let n=await fz(e,t);if(null!==n)return n}return null}async function dt(e,t,n){{let r=await fZ(e,t,n.evaluateArithmetic,n.expandPart);if(null!==r)return r}{let r=await fK(e,t,n.expandPart,n.expandWordPartsAsync);if(null!==r)return r}{let r=await fX(e,t,n.expandPart,n.expandWordPartsAsync);if(null!==r)return r}{let r=await fQ(e,t,n.expandPart);if(null!==r)return r}return null}async function dn(e,t,n){{let r=await f0(e,t,n.expandWordPartsAsync,n.expandPart);if(null!==r)return r}{let r=await f1(e,t,n.expandWordPartsAsync,n.expandPart);if(null!==r)return r}{let r=await f2(e,t,n.expandWordPartsAsync,n.expandPart);if(null!==r)return r}{let r=await f3(e,t,n.evaluateArithmetic,n.expandPart);if(null!==r)return r}{let n=await f5(e,t);if(null!==n)return n}{let n=await f6(e,t);if(null!==n)return n}{let n=function(e,t){if(1!==t.length||"ParameterExpansion"!==t[0].type||t[0].operation?.type!=="VarNamePrefix")return null;let n=t[0].operation,r=_7(e,n.prefix);if(0===r.length)return{values:[],quoted:!1};let i=_$(e.state.env),s=_x(e.state.env),a;if(n.star)if(s)a=r;else{let t=_w(e.state.env);a=_O(r.join(t),i)}else if(s)a=r;else for(let e of(a=[],r)){let t=_O(e,i);a.push(...t)}return{values:a,quoted:!1}}(e,t);if(null!==n)return n}{let n=function(e,t){if(1!==t.length||"ParameterExpansion"!==t[0].type||t[0].operation?.type!=="ArrayKeys")return null;let n=t[0].operation,r=_H(e,n.array).map(([e])=>String(e));if(0===r.length)return{values:[],quoted:!1};let i=_$(e.state.env),s=_x(e.state.env),a;if(n.star)if(s)a=r;else{let t=_w(e.state.env);a=_O(r.join(t),i)}else if(s)a=r;else for(let e of(a=[],r)){let t=_O(e,i);a.push(...t)}return{values:a,quoted:!1}}(e,t);if(null!==n)return n}{let r=await f4(e,t,n.expandPart);if(null!==r)return r}return null}function dr(e){if("DoubleQuoted"!==e.type)return null;for(let t=0;t<e.parts.length;t++){let n=e.parts[t];if("ParameterExpansion"!==n.type||n.operation)continue;let r=n.parameter.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if(r)return{type:"array",name:r[1],atIndex:t,isStar:"*"===r[2]};if("@"===n.parameter||"*"===n.parameter)return{type:"positional",atIndex:t,isStar:"*"===n.parameter}}return null}async function di(e,t,n,r){let i,s="";for(let i=0;i<n.atIndex;i++)s+=await r(e,t.parts[i]);let a="";for(let i=n.atIndex+1;i<t.parts.length;i++)a+=await r(e,t.parts[i]);if("array"===n.type){if(0===(i=_H(e,n.name).map(([,e])=>e)).length){let t=e.state.env[n.name];void 0!==t&&(i=[t])}}else{let t=Number.parseInt(e.state.env["#"]||"0",10);i=[];for(let n=1;n<=t;n++)i.push(e.state.env[String(n)]||"")}if(n.isStar){let t=_w(e.state.env);return[s+i.join(t)+a]}if(0===i.length){let e=s+a;return e?[e]:[]}return 1===i.length?[s+i[0]+a]:[s+i[0],...i.slice(1,-1),i[i.length-1]+a]}async function ds(e,t,n){if(t.length<2)return null;let r=!1;for(let e of t)if(dr(e)){r=!0;break}if(!r)return null;let i=_$(e.state.env),s=_x(e.state.env),a=[];for(let r of t){let t=dr(r);if(t&&"DoubleQuoted"===r.type){let i=await di(e,r,t,n);a.push(i)}else if("DoubleQuoted"===r.type||"SingleQuoted"===r.type){let t=await n(e,r);a.push([t])}else if("Literal"===r.type)a.push([r.value]);else if("ParameterExpansion"===r.type){let t=await n(e,r);if(s)a.push(t?[t]:[]);else{let e=_O(t,i);a.push(e)}}else{let t=await n(e,r);if(s)a.push(t?[t]:[]);else{let e=_O(t,i);a.push(e)}}}let o=[];for(let e of a)if(0!==e.length)if(0===o.length)o.push(...e);else{let t=o.length-1;o[t]=o[t]+e[0];for(let t=1;t<e.length;t++)o.push(e[t])}return o}async function da(e,t){if(e.state.options.noglob)return{values:t,quoted:!1};let n=[];for(let r of t)if(_J(r,e.state.shoptOptions.extglob)){let t=await dl(e,r);n.push(...t)}else n.push(r);return{values:n,quoted:!1}}async function dl(e,t){let n=new _l(e.fs,e.state.cwd,e.state.env,{globstar:e.state.shoptOptions.globstar,nullglob:e.state.shoptOptions.nullglob,failglob:e.state.shoptOptions.failglob,dotglob:e.state.shoptOptions.dotglob,extglob:e.state.shoptOptions.extglob,globskipdots:e.state.shoptOptions.globskipdots}),r=await n.expand(t);if(r.length>0)return r;if(n.hasFailglob())throw new rj(t);return n.hasNullglob()?[]:[t]}async function dc(e,t,n,r,i,s){let a=n.some(e=>"Glob"===e.type);if(!e.state.options.noglob&&a){let n=await s(e,t);if(_J(n,e.state.shoptOptions.extglob)){let t=await dl(e,n);if(t.length>0&&t[0]!==n)return{values:t,quoted:!1};if(0===t.length)return{values:[],quoted:!1}}let i=_Y(r);return _x(e.state.env)?{values:[i],quoted:!1}:{values:_O(i,_$(e.state.env)),quoted:!1}}if(!i&&!e.state.options.noglob&&_J(r,e.state.shoptOptions.extglob)){let n=await s(e,t);if(_J(n,e.state.shoptOptions.extglob)){let t=await dl(e,n);if(t.length>0&&t[0]!==n)return{values:t,quoted:!1}}}if(""===r&&!i)return{values:[],quoted:!1};if(a&&!i){let t=_Y(r);return _x(e.state.env)?{values:[t],quoted:!1}:{values:_O(t,_$(e.state.env)),quoted:!1}}return{values:[r],quoted:i}}var du=e2(()=>{_u(),rV(),_T(),__(),fP(),fM(),fB(),fH(),_2(),fG(),fe(),fJ(),f8(),_q()});async function dp(e,t){let n=t.operation;if(!n||"DefaultValue"!==n.type&&"AssignDefault"!==n.type&&"UseAlternative"!==n.type)return null;let r=n.word;if(!r||0===r.parts.length)return null;let i=await _W(e,t.parameter),s=await _j(e,t.parameter,!1)==="",a=n.checkEmpty??!1;return("UseAlternative"===n.type?i&&!(a&&s):!i||a&&s)?r.parts:null}async function dh(e,t){if("ParameterExpansion"!==t.type)return null;let n=await dp(e,t);if(!n||n.length<=1)return null;let r=n.some(e=>"SingleQuoted"===e.type||"DoubleQuoted"===e.type&&e.parts.every(e=>"Literal"===e.type)),i=n.some(e=>"Literal"===e.type||"ParameterExpansion"===e.type||"CommandSubstitution"===e.type||"ArithmeticExpansion"===e.type);return r&&i?n:null}async function d_(e,t,n,r,i){if(1===t.length&&"ParameterExpansion"===t[0].type){let s=t[0],a=await dp(e,s);if(a&&a.length>0&&a.length>1&&a.some(e=>"DoubleQuoted"===e.type||"SingleQuoted"===e.type)&&a.some(e=>"Literal"===e.type||"ParameterExpansion"===e.type||"CommandSubstitution"===e.type||"ArithmeticExpansion"===e.type))return df(e,a,n,r,i)}let s=[],a=!1;for(let n of t){let t="DoubleQuoted"!==n.type&&"SingleQuoted"!==n.type&&"Literal"!==n.type&&("Glob"===n.type?_p(n.pattern):!("ParameterExpansion"!==n.type&&"CommandSubstitution"!==n.type&&"ArithmeticExpansion"!==n.type||"ParameterExpansion"===n.type&&function(e){if(!e.operation)return!1;let t=e.operation,n;if(("DefaultValue"===t.type||"AssignDefault"===t.type||"UseAlternative"===t.type||"ErrorIfUnset"===t.type)&&(n=t.word?.parts),!n||0===n.length)return!1;for(let e of n)if("DoubleQuoted"!==e.type&&"SingleQuoted"!==e.type)return!1;return!0}(n))),r="DoubleQuoted"===n.type||"SingleQuoted"===n.type,o=t?await dh(e,n):null,l=await i(e,n);s.push({value:l,isSplittable:t,isQuoted:r,mixedDefaultParts:o??void 0}),t&&(a=!0)}if(!a){let e=s.map(e=>e.value).join("");return e?[e]:[]}let o=[],l="",c=!1,u=!1,p=!1;for(let t of s)if(t.isSplittable)if(t.mixedDefaultParts){let s=await df(e,t.mixedDefaultParts,n,r,i);if(0!==s.length)if(1===s.length)l+=s[0],c=!0;else{l+=s[0],o.push(l),c=!0;for(let e=1;e<s.length-1;e++)o.push(s[e]);l=s[s.length-1]}u=!1,p=!1}else{let{words:e,hadLeadingDelimiter:r,hadTrailingDelimiter:i}=_C(t.value,n);if(p&&r&&""===l&&(o.push(""),c=!0),0===e.length)i&&(u=!0);else if(1===e.length)l+=e[0],c=!0,u=i;else{l+=e[0],o.push(l),c=!0;for(let t=1;t<e.length-1;t++)o.push(e[t]);l=e[e.length-1],u=i}p=!1}else u?t.isQuoted&&""===t.value?(""!==l&&o.push(l),o.push(""),c=!0,l="",u=!1,p=!0):(""!==t.value?(""!==l&&o.push(l),l=t.value,u=!1):l+=t.value,p=!1):(l+=t.value,p=t.isQuoted&&""===t.value);return""!==l?o.push(l):0===o.length&&c&&o.push(""),o}async function df(e,t,n,r,i){let s=[];for(let n of t){let t="DoubleQuoted"!==n.type&&"SingleQuoted"!==n.type,r=await i(e,n);s.push({value:r,isSplittable:t})}let a=[],o="",l=!1,c=!1;for(let e of s)if(e.isSplittable){var u;u=e.value,u.length>0&&n.includes(u[0])&&""!==o&&(a.push(o),o="",l=!0);let{words:t,hadTrailingDelimiter:r}=_C(e.value,n);if(0===t.length)r&&(c=!0);else if(1===t.length)o+=t[0],l=!0,c=r;else{o+=t[0],a.push(o),l=!0;for(let e=1;e<t.length-1;e++)a.push(t[e]);o=t[t.length-1],c=r}}else c&&""!==e.value?(""!==o&&a.push(o),o=e.value,c=!1):o+=e.value;return""!==o?a.push(o):0===a.length&&l&&a.push(""),a}var dd=e2(()=>{_q(),_T(),__()}),dg=e2(()=>{}),dm={};async function dv(e,t,n=!1){let r=[];for(let i of t)r.push(await dT(e,i,n));return r.join("")}function db(e){if(0===e.parts.length)return!0;for(let t of e.parts)if(!function(e){switch(e.type){case"SingleQuoted":case"Escaped":case"DoubleQuoted":return!0;case"Literal":return""===e.value;default:return!1}}(t))return!1;return!0}async function dy(e,t){return dR(e,t)}async function d$(e,t){let n=[];for(let r of t.parts)if("Escaped"===r.type)n.push(`\\${r.value}`);else if("SingleQuoted"===r.type)n.push(r.value);else if("DoubleQuoted"===r.type){let t=await dv(e,r.parts);n.push(t)}else if("TildeExpansion"===r.type){let t=await dT(e,r);n.push(_1(t))}else n.push(await dT(e,r));return n.join("")}async function dx(e,t){let n=[];for(let r of t.parts)if("Escaped"===r.type){let e=r.value;"()|*?[]".includes(e)?n.push(`\\${e}`):n.push(e)}else if("SingleQuoted"===r.type)n.push(_0(r.value));else if("DoubleQuoted"===r.type){let t=await dv(e,r.parts);n.push(_0(t))}else n.push(await dT(e,r));return n.join("")}async function dS(e,t){let n=[];for(let r of t.parts)if("SingleQuoted"===r.type)n.push(_0(r.value));else if("Escaped"===r.type){let e=r.value;"*?[]\\()|".includes(e)?n.push(`\\${e}`):n.push(e)}else if("DoubleQuoted"===r.type){let t=await dv(e,r.parts);n.push(_0(t))}else"Glob"===r.type?function(e){let t=0;for(;t<e.length;){let n=e[t];if("\\"===n&&t+1<e.length){t+=2;continue}if("'"===n){let n=e.indexOf("'",t+1);if(-1!==n){t=n+1;continue}}if("$"===n&&t+1<e.length&&"("===e[t+1]||"`"===n)return!0;t++}return!1}(r.pattern)?n.push(await fE(e,r.pattern)):n.push(fw(e,r.pattern)):"Literal"===r.type?n.push(r.value):n.push(await dT(e,r));return n.join("")}function dA(e){for(let t of e)if("BraceExpansion"===t.type||"DoubleQuoted"===t.type&&dA(t.parts))return!0;return!1}async function dw(e,t,n={count:0}){if(n.count>dL)return[[]];let r=[[]];for(let i of t)if("BraceExpansion"===i.type){let t=[],s=!1,a="";for(let r of i.items)if("Range"===r.type){let e=_Z(r.start,r.end,r.step,r.startStr,r.endStr);if(e.expanded)for(let r of e.expanded)n.count++,t.push(r);else{s=!0,a=e.literal;break}}else for(let i of(await dw(e,r.word.parts,n))){n.count++;let r=[];for(let t of i)"string"==typeof t?r.push(t):r.push(await dT(e,t));t.push(r.join(""))}if(s){for(let e of r)n.count++,e.push(a);continue}if(r.length*t.length>dP||n.count>dL)return r;let o=[];for(let e of r)for(let i of t){if(n.count++,n.count>dL)return o.length>0?o:r;o.push([...e,i])}r=o}else for(let e of r)n.count++,e.push(i);return r}async function dE(e,t){let n=t.parts;if(!dA(n))return[await dy(e,t)];let r=await dw(e,n),i=[];for(let t of r){let n=[];for(let r of t)"string"==typeof r?n.push(r):n.push(await dT(e,r));i.push(function(e,t){if(!t.startsWith("~"))return t;let n=void 0!==e.state.env.HOME?e.state.env.HOME:"/home/user";if("~"===t||t.startsWith("~/"))return n+t.slice(1);let r=1;for(;r<t.length&&/[a-zA-Z0-9_-]/.test(t[r]);)r++;let i=t.slice(1,r),s=t.slice(r);return(""===s||s.startsWith("/"))&&"root"===i?`/root${s}`:t}(e,n.join("")))}return i}async function dk(e,t){return f9(e,t,{expandWordAsync:dR,expandWordForGlobbing:dS,expandWordWithBracesAsync:dE,expandWordPartsAsync:dv,expandPart:dT,expandParameterAsync:dN,hasBraceExpansion:dA,evaluateArithmetic:dU,buildIfsCharClassPattern:_A,smartWordSplit:d_})}function dC(e,t){if(2>Number.parseInt(e.state.env["#"]||"0",10))return!1;for(let e of t.parts)if("DoubleQuoted"===e.type){for(let t of e.parts)if("ParameterExpansion"===t.type&&"@"===t.parameter&&!t.operation)return!0}return!1}async function dO(e,t){if(dC(e,t))return{error:`bash: $@: ambiguous redirect
`};let n=t.parts,{hasQuoted:r}=_h(n);if(dA(n)&&(await dE(e,t)).length>1)return{error:`bash: ${n.map(e=>"Literal"===e.type?e.value:"BraceExpansion"===e.type?`{${e.items.map(e=>{if("Range"===e.type){let t=e.step?`..${e.step}`:"";return`${e.startStr??e.start}..${e.endStr??e.end}${t}`}return e.word.parts.map(e=>"Literal"===e.type?e.value:"").join("")}).join(",")}}`:"").join("")}: ambiguous redirect
`};let i=await dR(e,t),{hasParamExpansion:s,hasCommandSub:a}=_h(n);if((s||a)&&!r&&!_x(e.state.env)&&_O(i,_$(e.state.env)).length>1)return{error:`bash: $${function(e){for(let t of e){if("ParameterExpansion"===t.type)return t.parameter;if("Literal"===t.type)return t.value}return""}(n)}: ambiguous redirect
`};if(r||e.state.options.noglob)return{target:i};let o=await dS(e,t);if(!_J(o,e.state.shoptOptions.extglob))return{target:i};let l=new _l(e.fs,e.state.cwd,e.state.env,{globstar:e.state.shoptOptions.globstar,nullglob:e.state.shoptOptions.nullglob,failglob:e.state.shoptOptions.failglob,dotglob:e.state.shoptOptions.dotglob,extglob:e.state.shoptOptions.extglob,globskipdots:e.state.shoptOptions.globskipdots}),c=await l.expand(o);return 0===c.length?l.hasFailglob()?{error:`bash: no match: ${i}
`}:{target:i}:1===c.length?{target:c[0]}:{error:`bash: ${i}: ambiguous redirect
`}}async function dR(e,t){let n=t.parts,r=n.length;if(1===r)return dT(e,n[0]);let i=[];for(let t=0;t<r;t++)i.push(await dT(e,n[t]));return i.join("")}async function dT(e,t,n=!1){if("ParameterExpansion"===t.type)return dN(e,t,n);let r=function(e,t,n=!1){let r=function(e){switch(e.type){case"Literal":case"SingleQuoted":case"Escaped":return e.value;default:return null}}(t);if(null!==r)return r;switch(t.type){case"TildeExpansion":return n?null===t.user?"~":`~${t.user}`:null===t.user?void 0!==e.state.env.HOME?e.state.env.HOME:"/home/user":"root"===t.user?"/root":`~${t.user}`;case"Glob":return fw(e,t.pattern);default:return null}}(e,t,n);if(null!==r)return r;switch(t.type){case"DoubleQuoted":{let n=[];for(let r of t.parts)n.push(await dT(e,r,!0));return n.join("")}case"CommandSubstitution":{let n=function(e){if(1!==e.statements.length)return null;let t=e.statements[0];if(0!==t.operators.length||1!==t.pipelines.length)return null;let n=t.pipelines[0];if(n.negated||1!==n.commands.length)return null;let r=n.commands[0];if("SimpleCommand"!==r.type||null!==r.name||0!==r.args.length||0!==r.assignments.length||1!==r.redirections.length)return null;let i=r.redirections[0];return"<"!==i.operator||"Word"!==i.target.type?null:{target:i.target}}(t.body);if(n)try{let t=await dy(e,n.target),r=t.startsWith("/")?t:`${e.state.cwd}/${t}`,i=await e.fs.readFile(r);return e.state.lastExitCode=0,e.state.env["?"]="0",i.replace(/\n+$/,"")}catch{return e.state.lastExitCode=1,e.state.env["?"]="1",""}let r=e.state.bashPid;e.state.bashPid=e.state.nextVirtualPid++;let i={...e.state.env},s=e.state.cwd,a=e.state.suppressVerbose;e.state.suppressVerbose=!0;try{let n=await e.executeScript(t.body),o=n.exitCode;return e.state.env=i,e.state.cwd=s,e.state.suppressVerbose=a,e.state.lastExitCode=o,e.state.env["?"]=String(o),n.stderr&&(e.state.expansionStderr=(e.state.expansionStderr||"")+n.stderr),e.state.bashPid=r,n.stdout.replace(/\n+$/,"")}catch(t){if(e.state.env=i,e.state.cwd=s,e.state.bashPid=r,e.state.suppressVerbose=a,t instanceof rq)throw t;if(t instanceof rB)return e.state.lastExitCode=t.exitCode,e.state.env["?"]=String(t.exitCode),t.stderr&&(e.state.expansionStderr=(e.state.expansionStderr||"")+t.stderr),t.stdout.replace(/\n+$/,"");throw t}}case"ArithmeticExpansion":{let n=t.expression.originalText;if(n&&/\$[a-zA-Z_][a-zA-Z0-9_]*(?![{[(])/.test(n)){let t=await _z(e,n),r=hm(new _r,t);return String(await dU(e,r.expression,!0))}return String(await dU(e,t.expression.expression,!0))}case"BraceExpansion":{let n=[];for(let r of t.items)if("Range"===r.type){let e=_Z(r.start,r.end,r.step,r.startStr,r.endStr);if(!e.expanded)return e.literal;n.push(...e.expanded)}else n.push(await dy(e,r.word));return n.join(" ")}default:return""}}async function dN(e,t,n=!1){let{parameter:r}=t,{operation:i}=t,s=r.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(.+)\]$/);if(s){let[,t,n]=s;if(e.state.associativeArrays?.has(t)||n.includes("$(")||n.includes("`")||n.includes("${")){let i=await _G(e,n);r=`${t}[${i}]`}}else if(/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r)&&_N(e,r)){let t=_M(e,r);if(t&&t!==r){let n=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(.+)\]$/);if(n){let[,t,i]=n;if(e.state.associativeArrays?.has(t)||i.includes("$(")||i.includes("`")||i.includes("${")){let n=await _G(e,i);r=`${t}[${n}]`}}}}let a=i&&("DefaultValue"===i.type||"AssignDefault"===i.type||"UseAlternative"===i.type||"ErrorIfUnset"===i.type),o=await _j(e,r,!a);if(!i)return o;let l=!await _W(e,r),{isEmpty:c,effectiveValue:u}=function(e,t,n,r){let i=Number.parseInt(e.state.env["#"]||"0",10),s=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([@*])\]$/);if("*"===t)return{isEmpty:0===i,effectiveValue:n};if("@"===t)return{isEmpty:0===i||1===i&&""===e.state.env[1],effectiveValue:n};if(s){let[,t,n]=s,i=_H(e,t);if(0===i.length)return{isEmpty:!0,effectiveValue:""};if("*"===n){let t=_w(e.state.env),n=i.map(([,e])=>e).join(t);return{isEmpty:!!r&&""===n,effectiveValue:n}}return{isEmpty:1===i.length&&i.every(([,e])=>""===e),effectiveValue:i.map(([,e])=>e).join(" ")}}return{isEmpty:""===n,effectiveValue:n}}(e,r,o,n),p={value:o,isUnset:l,isEmpty:c,effectiveValue:u,inDoubleQuotes:n};switch(i.type){case"DefaultValue":return f_(e,i,p,dv);case"AssignDefault":return ff(e,r,i,p,dv);case"ErrorIfUnset":return fd(e,r,i,p,dv);case"UseAlternative":return fg(e,i,p,dv);case"PatternRemoval":return fm(e,o,i,dv,dT);case"PatternReplacement":return fv(e,o,i,dv,dT);case"Length":var h=r;let _=h.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[[@*]\]$/);if(_){let t=_[1],n=_H(e,t);return n.length>0?String(n.length):void 0!==e.state.env[t]?"1":"0"}if(/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(h)&&_U(e,h)){if("FUNCNAME"===h)return String([...e.state.funcNameStack?.[0]||""].length);if("BASH_LINENO"===h){let t=e.state.callLineStack?.[0];return String(void 0!==t?[...String(t)].length:0)}return String([...e.state.env[`${h}_0`]||""].length)}return String([...o].length);case"LengthSliceError":throw new rU(r);case"BadSubstitution":throw new rU(i.text);case"Substring":return fb(e,r,o,i);case"CaseModification":return fy(e,o,i,dv,dN);case"Transform":var f=r;let d=f.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[[@*]\]$/);if(d&&"Q"===i.operator)return _H(e,d[1]).map(([,e])=>fr(e)).join(" ");if(d&&"a"===i.operator)return fp(e,d[1]);let g=f.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[.+\]$/);if(g&&"a"===i.operator)return fp(e,g[1]);switch(i.operator){case"Q":case"K":case"k":return l?"":fr(o);case"P":return ft(e,o);case"a":return fp(e,f);case"A":return l?"":`${f}=${fr(o)}`;case"E":return o.replace(/\\([\\abefnrtv'"?])/g,(e,t)=>{switch(t){case"\\":return"\\";case"a":return"\x07";case"b":return"\b";case"e":return"\x1b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"'":return"'";case'"':return'"';case"?":return"?";default:return t}});case"u":return o.charAt(0).toUpperCase()+o.slice(1);case"U":return o.toUpperCase();case"L":return o.toLowerCase();default:return o}case"Indirection":return f$(e,r,o,l,i,dN,n);case"ArrayKeys":let m;return m=_H(e,i.array).map(([e])=>String(e)),i.star?m.join(_w(e.state.env)):m.join(" ");case"VarNamePrefix":let v;return v=_7(e,i.prefix),i.star?v.join(_w(e.state.env)):v.join(" ");default:return o}}e5(dm,{escapeGlobChars:()=>_0,escapeRegexChars:()=>_1,expandRedirectTarget:()=>dO,expandWord:()=>dy,expandWordForPattern:()=>dx,expandWordForRegex:()=>d$,expandWordWithGlob:()=>dk,getArrayElements:()=>_H,getVariable:()=>_j,hasQuotedMultiValueAt:()=>dC,isArray:()=>_U,isWordFullyQuoted:()=>db});var dP,dL,dI=e2(()=>{hP(),_i(),_u(),dW(),rV(),__(),_V(),_X(),_Q(),_2(),fx(),fC(),fO(),_q(),du(),dd(),_T(),_B(),dg(),_2(),_q(),dP=1e4,dL=1e5});function dD(e,t,n){switch(n){case"=":default:return t;case"+=":return e+t;case"-=":return e-t;case"*=":return e*t;case"/=":return 0!==t?Math.trunc(e/t):0;case"%=":return 0!==t?e%t:0;case"<<=":return e<<t;case">>=":return e>>t;case"&=":return e&t;case"|=":return e|t;case"^=":return e^t}}async function dM(e,t){let n=e.state.env[t];if(void 0!==n)return n;let r=e.state.env[`${t}_0`];return void 0!==r?r:await _j(e,t)}async function dF(e,t){if(!t)return 0;let n=Number.parseInt(t,10);if(!Number.isNaN(n)&&/^-?\d+$/.test(t.trim()))return n;let r=t.trim();if(!r)return 0;let{expr:i,pos:s}=hy(new _r,r,0);if(s<r.length){let e=r.slice(s).trim(),t=e.split(/\s+/)[0]||e;throw new rH(`syntax error in expression (error token is "${t}")`,"","")}return await dU(e,i)}async function dB(e,t,n=new Set){if(n.has(t))return 0;n.add(t);let r=await dM(e,t);if(!r)return 0;let i=Number.parseInt(r,10);if(!Number.isNaN(i)&&/^-?\d+$/.test(r.trim()))return i;let s=r.trim();if(/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(s))return await dB(e,s,n);let{expr:a,pos:o}=hy(new _r,s,0);if(o<s.length){let e=s.slice(o).trim(),t=e.split(/\s+/)[0]||e;throw new rH(`${s}: syntax error in expression (error token is "${t}")`)}return await dU(e,a)}async function dH(e,t){if(t.startsWith("#")){let n=t.slice(1),r=n.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[[@*]\]$/);return r?String(_H(e,r[1]).length):String((e.state.env[n]||"").length)}if(t.startsWith("!")){let n=t.slice(1),r=e.state.env[n]||"";return e.state.env[r]||""}let n=-1,r="";for(let e of[":-",":=",":?",":+","-","=","?","+"]){let i=t.indexOf(e);i>0&&(-1===n||i<n)&&(n=i,r=e)}if(-1===n)return await _j(e,t);let i=t.slice(0,n),s=t.slice(n+r.length),a=e.state.env[i],o=void 0===a,l=""===a,c=r.startsWith(":");switch(r){case":-":case"-":return o||c&&l?s:a||"";case":=":case"=":return o||c&&l?(e.state.env[i]=s,s):a||"";case":+":case"+":return o||c&&l?"":s;case":?":case"?":if(o||c&&l)throw Error(s||`${i}: parameter null or not set`);return a||"";default:return a||""}}async function dU(e,t,n=!1){switch(t.type){case"ArithNumber":if(Number.isNaN(t.value))throw new rH("value too great for base");return t.value;case"ArithVariable":return await dB(e,t.name);case"ArithSpecialVar":{let n=(await _j(e,t.name)).trim();if(!n)return 0;let r=Number.parseInt(n,10);if(!Number.isNaN(r)&&/^-?\d+$/.test(n))return r;let{expr:i}=hy(new _r,n,0);return await dU(e,i)}case"ArithNested":return await dU(e,t.expression);case"ArithCommandSubst":if(e.execFn){let n=await e.execFn(t.command);return n.stderr&&(e.state.expansionStderr=(e.state.expansionStderr||"")+n.stderr),Number.parseInt(n.stdout.trim(),10)||0}return 0;case"ArithBracedExpansion":return Number.parseInt(await dH(e,t.content),10)||0;case"ArithDynamicBase":{let n=Number.parseInt(await dH(e,t.baseExpr),10);if(n<2||n>64)return 0;return hf(`${n}#${t.value}`)}case"ArithDynamicNumber":return hf(await dH(e,t.prefix)+t.suffix);case"ArithArrayElement":{let r=e.state.associativeArrays?.has(t.array),i=async t=>{let n=e.state.env[t];return void 0!==n?await dF(e,n):0};if(void 0!==t.stringKey)return await i(`${t.array}_${t.stringKey}`);if(r&&t.index?.type==="ArithVariable"&&!t.index.hasDollarPrefix)return await i(`${t.array}_${t.index.name}`);if(r&&t.index?.type==="ArithVariable"&&t.index.hasDollarPrefix){let n=await _j(e,t.index.name);return await i(`${t.array}_${n}`)}if(t.index){let r=await dU(e,t.index,n);if(r<0){let n=_H(e,t.array),i=e.state.currentLine;if(0===n.length)return e.state.expansionStderr=(e.state.expansionStderr||"")+`bash: line ${i}: ${t.array}: bad array subscript
`,0;let s=Math.max(...n.map(([e])=>"number"==typeof e?e:0))+1+r;if(s<0)return e.state.expansionStderr=(e.state.expansionStderr||"")+`bash: line ${i}: ${t.array}: bad array subscript
`,0;r=s}let i=`${t.array}_${r}`,s=e.state.env[i];if(void 0!==s)return dF(e,s);if(0===r){let n=e.state.env[t.array];if(void 0!==n)return dF(e,n)}if(e.state.options.nounset&&!Object.keys(e.state.env).some(e=>e===t.array||e.startsWith(`${t.array}_`)))throw new rF(`${t.array}[${r}]`)}return 0}case"ArithDoubleSubscript":throw new rH("double subscript","","");case"ArithNumberSubscript":throw new rH(`${t.number}${t.errorToken}: syntax error: invalid arithmetic operator (error token is "${t.errorToken}")`);case"ArithSyntaxError":throw new rH(t.message,"","",!0);case"ArithSingleQuote":if(n)throw new rH(`syntax error: operand expected (error token is "'${t.content}'")`);return t.value;case"ArithBinary":{if("||"===t.operator)return await dU(e,t.left,n)||await dU(e,t.right,n)?1:0;if("&&"===t.operator)return await dU(e,t.left,n)&&await dU(e,t.right,n)?1:0;let r=await dU(e,t.left,n),i=await dU(e,t.right,n);switch(t.operator){case"+":return r+i;case"-":return r-i;case"*":return r*i;case"/":if(0===i)throw new rH("division by 0");return Math.trunc(r/i);case"%":if(0===i)throw new rH("division by 0");return r%i;case"**":if(i<0)throw new rH("exponent less than 0");return r**i;case"<<":return r<<i;case">>":return r>>i;case"<":return+(r<i);case"<=":return+(r<=i);case">":return+(r>i);case">=":return+(r>=i);case"==":return+(r===i);case"!=":return+(r!==i);case"&":return r&i;case"|":return r|i;case"^":return r^i;case",":return i;default:return 0}}case"ArithUnary":{let r=await dU(e,t.operand,n);if("++"===t.operator||"--"===t.operator){if("ArithVariable"===t.operand.type){let n=t.operand.name,r=Number.parseInt(await _j(e,n),10)||0,i="++"===t.operator?r+1:r-1;return e.state.env[n]=String(i),t.prefix?i:r}if("ArithArrayElement"===t.operand.type){let i=t.operand.array,s=e.state.associativeArrays?.has(i),a;if(void 0!==t.operand.stringKey)a=`${i}_${t.operand.stringKey}`;else if(s&&t.operand.index?.type==="ArithVariable"&&!t.operand.index.hasDollarPrefix)a=`${i}_${t.operand.index.name}`;else if(s&&t.operand.index?.type==="ArithVariable"&&t.operand.index.hasDollarPrefix){let n=await _j(e,t.operand.index.name);a=`${i}_${n}`}else{if(!t.operand.index)return r;let s=await dU(e,t.operand.index,n);a=`${i}_${s}`}let o=Number.parseInt(e.state.env[a]||"0",10)||0,l="++"===t.operator?o+1:o-1;return e.state.env[a]=String(l),t.prefix?l:o}if("ArithConcat"===t.operand.type){let r="";for(let i of t.operand.parts)r+=await dj(e,i,n);if(r&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r)){let n=Number.parseInt(e.state.env[r]||"0",10)||0,i="++"===t.operator?n+1:n-1;return e.state.env[r]=String(i),t.prefix?i:n}}if("ArithDynamicElement"===t.operand.type){let r="";if("ArithConcat"===t.operand.nameExpr.type)for(let i of t.operand.nameExpr.parts)r+=await dj(e,i,n);else"ArithVariable"===t.operand.nameExpr.type&&(r=t.operand.nameExpr.hasDollarPrefix?await _j(e,t.operand.nameExpr.name):t.operand.nameExpr.name);if(r&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r)){let i=await dU(e,t.operand.subscript,n),s=`${r}_${i}`,a=Number.parseInt(e.state.env[s]||"0",10)||0,o="++"===t.operator?a+1:a-1;return e.state.env[s]=String(o),t.prefix?o:a}}return r}switch(t.operator){case"-":return-r;case"+":return+r;case"!":return+(0===r);case"~":return~r;default:return r}}case"ArithTernary":return await dU(e,t.condition,n)?await dU(e,t.consequent,n):await dU(e,t.alternate,n);case"ArithAssignment":{let r=t.variable,i=r;if(void 0!==t.stringKey)i=`${r}_${t.stringKey}`;else if(t.subscript){let s=e.state.associativeArrays?.has(r);if(s&&"ArithVariable"===t.subscript.type&&!t.subscript.hasDollarPrefix)i=`${r}_${t.subscript.name}`;else if(s&&"ArithVariable"===t.subscript.type&&t.subscript.hasDollarPrefix){let n=await _j(e,t.subscript.name);i=`${r}_${n||"\\"}`}else if(s){let s=await dU(e,t.subscript,n);i=`${r}_${s}`}else{let s=await dU(e,t.subscript,n);if(s<0){let t=_H(e,r);t.length>0&&(s=Math.max(...t.map(([e])=>"number"==typeof e?e:0))+1+s)}i=`${r}_${s}`}}let s=dD(Number.parseInt(e.state.env[i]||"0",10)||0,await dU(e,t.value,n),t.operator);return e.state.env[i]=String(s),s}case"ArithGroup":return await dU(e,t.expression,n);case"ArithConcat":{let r="";for(let i of t.parts)r+=await dj(e,i,n);return/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r)?await dB(e,r):Number.parseInt(r,10)||0}case"ArithDynamicAssignment":{let r="";if("ArithConcat"===t.target.type)for(let i of t.target.parts)r+=await dj(e,i,n);else"ArithVariable"===t.target.type&&(r=t.target.hasDollarPrefix?await _j(e,t.target.name):t.target.name);if(!r||!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r))return 0;let i=r;if(t.subscript){let s=await dU(e,t.subscript,n);i=`${r}_${s}`}let s=dD(Number.parseInt(e.state.env[i]||"0",10)||0,await dU(e,t.value,n),t.operator);return e.state.env[i]=String(s),s}case"ArithDynamicElement":{let r="";if("ArithConcat"===t.nameExpr.type)for(let i of t.nameExpr.parts)r+=await dj(e,i,n);else"ArithVariable"===t.nameExpr.type&&(r=t.nameExpr.hasDollarPrefix?await _j(e,t.nameExpr.name):t.nameExpr.name);if(!r||!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r))return 0;let i=await dU(e,t.subscript,n),s=`${r}_${i}`,a=e.state.env[s];return void 0!==a?function(e){if(!e)return 0;let t=Number.parseInt(e,10);if(!Number.isNaN(t)&&/^-?\d+$/.test(e.trim()))return t;let n=e.trim();if(!n)return 0;try{let e=new _r,{expr:r,pos:i}=hy(e,n,0);if(i<n.length){let e=n.slice(i).trim().split(/\s+/)[0];throw new rH(`${n}: syntax error in expression (error token is "${e}")`)}return"ArithNumber"===r.type?r.value:t||0}catch(t){if(t instanceof rH)throw t;let e=n.split(/\s+/).slice(1)[0]||n;throw new rH(`${n}: syntax error in expression (error token is "${e}")`)}}(a):0}default:return 0}}async function dj(e,t,n=!1){switch(t.type){case"ArithNumber":return String(t.value);case"ArithSingleQuote":default:return String(await dU(e,t,n));case"ArithVariable":return t.hasDollarPrefix?await _j(e,t.name):t.name;case"ArithSpecialVar":return await _j(e,t.name);case"ArithBracedExpansion":return await dH(e,t.content);case"ArithCommandSubst":return e.execFn?(await e.execFn(t.command)).stdout.trim():"0";case"ArithConcat":{let r="";for(let i of t.parts)r+=await dj(e,i,n);return r}}}var dW=e2(()=>{hP(),_i(),rV(),dI()}),dq=[{name:"echo",load:async()=>(await Promise.resolve().then(()=>(te(),e4))).echoCommand},{name:"cat",load:async()=>(await Promise.resolve().then(()=>(td(),tp))).catCommand},{name:"printf",load:async()=>(await Promise.resolve().then(()=>(tT(),tw))).printfCommand},{name:"ls",load:async()=>(await Promise.resolve().then(()=>(tH(),tN))).lsCommand},{name:"mkdir",load:async()=>(await Promise.resolve().then(()=>(tq(),tU))).mkdirCommand},{name:"rmdir",load:async()=>(await Promise.resolve().then(()=>(tJ(),tz))).rmdirCommand},{name:"touch",load:async()=>(await Promise.resolve().then(()=>(t1(),tY))).touchCommand},{name:"rm",load:async()=>(await Promise.resolve().then(()=>(t6(),t2))).rmCommand},{name:"cp",load:async()=>(await Promise.resolve().then(()=>(ne(),t4))).cpCommand},{name:"mv",load:async()=>(await Promise.resolve().then(()=>(ns(),nt))).mvCommand},{name:"ln",load:async()=>(await Promise.resolve().then(()=>(nc(),na))).lnCommand},{name:"chmod",load:async()=>(await Promise.resolve().then(()=>(nd(),nu))).chmodCommand},{name:"pwd",load:async()=>(await Promise.resolve().then(()=>(nv(),ng))).pwdCommand},{name:"readlink",load:async()=>(await Promise.resolve().then(()=>(nx(),nb))).readlinkCommand},{name:"head",load:async()=>(await Promise.resolve().then(()=>(nO(),nE))).headCommand},{name:"tail",load:async()=>(await Promise.resolve().then(()=>(nP(),nR))).tailCommand},{name:"wc",load:async()=>(await Promise.resolve().then(()=>(nH(),nL))).wcCommand},{name:"stat",load:async()=>(await Promise.resolve().then(()=>(nG(),nU))).statCommand},{name:"grep",load:async()=>(await Promise.resolve().then(()=>(ri(),n5))).grepCommand},{name:"fgrep",load:async()=>(await Promise.resolve().then(()=>(ri(),n5))).fgrepCommand},{name:"egrep",load:async()=>(await Promise.resolve().then(()=>(ri(),n5))).egrepCommand},{name:"rg",load:async()=>(await Promise.resolve().then(()=>(rT(),rC))).rgCommand},{name:"sed",load:async()=>(await Promise.resolve().then(()=>(ii(),r7))).sedCommand},{name:"awk",load:async()=>(await Promise.resolve().then(()=>(sV(),sj))).awkCommand2},{name:"sort",load:async()=>(await Promise.resolve().then(()=>(s8(),s5))).sortCommand},{name:"uniq",load:async()=>(await Promise.resolve().then(()=>(an(),s9))).uniqCommand},{name:"comm",load:async()=>(await Promise.resolve().then(()=>(aa(),ar))).commCommand},{name:"cut",load:async()=>(await Promise.resolve().then(()=>(au(),ao))).cutCommand},{name:"paste",load:async()=>(await Promise.resolve().then(()=>(ag(),ap))).pasteCommand},{name:"tr",load:async()=>(await Promise.resolve().then(()=>(aS(),am))).trCommand},{name:"rev",load:async()=>(await Promise.resolve().then(()=>(aC(),aA))).rev},{name:"nl",load:async()=>(await Promise.resolve().then(()=>(aP(),aO))).nl},{name:"fold",load:async()=>(await Promise.resolve().then(()=>(aF(),aL))).fold},{name:"expand",load:async()=>(await Promise.resolve().then(()=>(aq(),aB))).expand},{name:"unexpand",load:async()=>(await Promise.resolve().then(()=>(aQ(),az))).unexpand},{name:"strings",load:async()=>(await Promise.resolve().then(()=>(a3(),aJ))).strings},{name:"split",load:async()=>(await Promise.resolve().then(()=>(a9(),a5))).split},{name:"column",load:async()=>(await Promise.resolve().then(()=>(oi(),a7))).column},{name:"join",load:async()=>(await Promise.resolve().then(()=>(oc(),os))).join},{name:"tee",load:async()=>(await Promise.resolve().then(()=>(of(),ou))).teeCommand},{name:"find",load:async()=>(await Promise.resolve().then(()=>(oS(),ob))).findCommand},{name:"basename",load:async()=>(await Promise.resolve().then(()=>(ok(),oA))).basenameCommand},{name:"dirname",load:async()=>(await Promise.resolve().then(()=>(oT(),oC))).dirnameCommand},{name:"tree",load:async()=>(await Promise.resolve().then(()=>(oF(),oN))).treeCommand},{name:"du",load:async()=>(await Promise.resolve().then(()=>(oz(),oB))).duCommand},{name:"env",load:async()=>(await Promise.resolve().then(()=>(oQ(),oG))).envCommand},{name:"printenv",load:async()=>(await Promise.resolve().then(()=>(oQ(),oG))).printenvCommand},{name:"alias",load:async()=>(await Promise.resolve().then(()=>(o3(),oJ))).aliasCommand},{name:"unalias",load:async()=>(await Promise.resolve().then(()=>(o3(),oJ))).unaliasCommand},{name:"history",load:async()=>(await Promise.resolve().then(()=>(o8(),o5))).historyCommand},{name:"xargs",load:async()=>(await Promise.resolve().then(()=>(lt(),o9))).xargsCommand},{name:"true",load:async()=>(await Promise.resolve().then(()=>(ls(),ln))).trueCommand},{name:"false",load:async()=>(await Promise.resolve().then(()=>(ls(),ln))).falseCommand},{name:"clear",load:async()=>(await Promise.resolve().then(()=>(lc(),la))).clearCommand},{name:"bash",load:async()=>(await Promise.resolve().then(()=>(ld(),lu))).bashCommand},{name:"sh",load:async()=>(await Promise.resolve().then(()=>(ld(),lu))).shCommand},{name:"jq",load:async()=>(await Promise.resolve().then(()=>(l4(),l2))).jqCommand},{name:"base64",load:async()=>(await Promise.resolve().then(()=>(cn(),l8))).base64Command},{name:"diff",load:async()=>(await Promise.resolve().then(()=>(co(),cr))).diffCommand},{name:"date",load:async()=>(await Promise.resolve().then(()=>(cd(),cl))).dateCommand},{name:"sleep",load:async()=>(await Promise.resolve().then(()=>(cb(),cg))).sleepCommand},{name:"timeout",load:async()=>(await Promise.resolve().then(()=>(cS(),cy))).timeoutCommand},{name:"time",load:async()=>(await Promise.resolve().then(()=>(cE(),cA))).timeCommand},{name:"seq",load:async()=>(await Promise.resolve().then(()=>(cO(),ck))).seqCommand},{name:"expr",load:async()=>(await Promise.resolve().then(()=>(cN(),cR))).exprCommand},{name:"md5sum",load:async()=>(await Promise.resolve().then(()=>(cB(),cM))).md5sumCommand},{name:"sha1sum",load:async()=>(await Promise.resolve().then(()=>(cj(),cH))).sha1sumCommand},{name:"sha256sum",load:async()=>(await Promise.resolve().then(()=>(cV(),cW))).sha256sumCommand},{name:"file",load:async()=>(await Promise.resolve().then(()=>(u1(),uK))).fileCommand},{name:"html-to-markdown",load:async()=>(await Promise.resolve().then(()=>(u6(),u2))).htmlToMarkdownCommand},{name:"help",load:async()=>(await Promise.resolve().then(()=>(u7(),u4))).helpCommand},{name:"which",load:async()=>(await Promise.resolve().then(()=>(pi(),pe))).whichCommand},{name:"tac",load:async()=>(await Promise.resolve().then(()=>(pl(),ps))).tac},{name:"hostname",load:async()=>(await Promise.resolve().then(()=>(ph(),pc))).hostname},{name:"whoami",load:async()=>(await Promise.resolve().then(()=>(pg(),p_))).whoami},{name:"od",load:async()=>(await Promise.resolve().then(()=>(py(),pm))).od},{name:"gzip",load:async()=>(await Promise.resolve().then(()=>(pM(),p$))).gzipCommand},{name:"gunzip",load:async()=>(await Promise.resolve().then(()=>(pM(),p$))).gunzipCommand},{name:"zcat",load:async()=>(await Promise.resolve().then(()=>(pM(),p$))).zcatCommand}],dz=[{name:"curl",load:async()=>(await Promise.resolve().then(()=>(pQ(),pV))).curlCommand}],dG=new Map;function dV(e){return{name:e.name,async execute(t,n){let r=dG.get(e.name);return r||(r=await e.load(),dG.set(e.name,r)),r.execute(t,n)}}}var dZ=new TextEncoder,dK=new TextDecoder;function dX(e,t){if(e instanceof Uint8Array)return e;if("base64"===t)return Uint8Array.from(atob(e),e=>e.charCodeAt(0));if("hex"===t){let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}return"binary"===t||"latin1"===t?Uint8Array.from(e,e=>e.charCodeAt(0)):dZ.encode(e)}function dQ(e){if(null!=e)return"string"==typeof e?e:e.encoding??void 0}var dJ=new TextEncoder,dY=class{data=new Map;constructor(e){if(this.data.set("/",{type:"directory",mode:493,mtime:new Date}),e)for(let[t,n]of Object.entries(e))!function(e){return"object"==typeof e&&null!==e&&!(e instanceof Uint8Array)&&"content"in e}(n)?this.writeFileSync(t,n):this.writeFileSync(t,n.content,void 0,{mode:n.mode,mtime:n.mtime})}normalizePath(e){if(!e||"/"===e)return"/";let t=e.endsWith("/")&&"/"!==e?e.slice(0,-1):e;t.startsWith("/")||(t=`/${t}`);let n=t.split("/").filter(e=>e&&"."!==e),r=[];for(let e of n)".."===e?r.pop():r.push(e);return`/${r.join("/")}`||"/"}dirname(e){let t=this.normalizePath(e);if("/"===t)return"/";let n=t.lastIndexOf("/");return 0===n?"/":t.slice(0,n)}ensureParentDirs(e){let t=this.dirname(e);"/"!==t&&(this.data.has(t)||(this.ensureParentDirs(t),this.data.set(t,{type:"directory",mode:493,mtime:new Date})))}writeFileSync(e,t,n,r){let i=this.normalizePath(e);this.ensureParentDirs(i);let s=dX(t,dQ(n));this.data.set(i,{type:"file",content:s,mode:r?.mode??420,mtime:r?.mtime??new Date})}async readFile(e,t){let n=await this.readFileBuffer(e),r=dQ(t);return"base64"===r?btoa(String.fromCharCode(...n)):"hex"===r?Array.from(n).map(e=>e.toString(16).padStart(2,"0")).join(""):"binary"===r||"latin1"===r?String.fromCharCode(...n):dK.decode(n)}async readFileBuffer(e){let t=this.resolvePathWithSymlinks(e),n=this.data.get(t);if(!n)throw Error(`ENOENT: no such file or directory, open '${e}'`);if("file"!==n.type)throw Error(`EISDIR: illegal operation on a directory, read '${e}'`);return n.content instanceof Uint8Array?n.content:dJ.encode(n.content)}async writeFile(e,t,n){this.writeFileSync(e,t,n)}async appendFile(e,t,n){let r=this.normalizePath(e),i=this.data.get(r);if(i&&"directory"===i.type)throw Error(`EISDIR: illegal operation on a directory, write '${e}'`);let s=dX(t,dQ(n));if(i?.type==="file"){let e=i.content instanceof Uint8Array?i.content:dJ.encode(i.content),t=new Uint8Array(e.length+s.length);t.set(e),t.set(s,e.length),this.data.set(r,{type:"file",content:t,mode:i.mode,mtime:new Date})}else this.writeFileSync(e,t,n)}async exists(e){try{let t=this.resolvePathWithSymlinks(e);return this.data.has(t)}catch{return!1}}async stat(e){let t=this.resolvePathWithSymlinks(e),n=this.data.get(t);if(!n)throw Error(`ENOENT: no such file or directory, stat '${e}'`);let r=0;return"file"===n.type&&n.content&&(r=n.content instanceof Uint8Array?n.content.length:dJ.encode(n.content).length),{isFile:"file"===n.type,isDirectory:"directory"===n.type,isSymbolicLink:!1,mode:n.mode,size:r,mtime:n.mtime||new Date}}async lstat(e){let t=this.resolveIntermediateSymlinks(e),n=this.data.get(t);if(!n)throw Error(`ENOENT: no such file or directory, lstat '${e}'`);if("symlink"===n.type)return{isFile:!1,isDirectory:!1,isSymbolicLink:!0,mode:n.mode,size:n.target.length,mtime:n.mtime||new Date};let r=0;return"file"===n.type&&n.content&&(r=n.content instanceof Uint8Array?n.content.length:dJ.encode(n.content).length),{isFile:"file"===n.type,isDirectory:"directory"===n.type,isSymbolicLink:!1,mode:n.mode,size:r,mtime:n.mtime||new Date}}resolveSymlink(e,t){if(t.startsWith("/"))return this.normalizePath(t);let n=this.dirname(e);return this.normalizePath("/"===n?`/${t}`:`${n}/${t}`)}resolveIntermediateSymlinks(e){let t=this.normalizePath(e);if("/"===t)return"/";let n=t.slice(1).split("/");if(n.length<=1)return t;let r="",i=new Set;for(let t=0;t<n.length-1;t++){let s=n[t];r=`${r}/${s}`;let a=this.data.get(r),o=0;for(;a&&"symlink"===a.type&&o<40;){if(i.has(r))throw Error(`ELOOP: too many levels of symbolic links, lstat '${e}'`);i.add(r),r=this.resolveSymlink(r,a.target),a=this.data.get(r),o++}if(o>=40)throw Error(`ELOOP: too many levels of symbolic links, lstat '${e}'`)}return`${r}/${n[n.length-1]}`}resolvePathWithSymlinks(e){let t=this.normalizePath(e);if("/"===t)return"/";let n=t.slice(1).split("/"),r="",i=new Set;for(let t of n){r=`${r}/${t}`;let n=this.data.get(r),s=0;for(;n&&"symlink"===n.type&&s<40;){if(i.has(r))throw Error(`ELOOP: too many levels of symbolic links, open '${e}'`);i.add(r),r=this.resolveSymlink(r,n.target),n=this.data.get(r),s++}if(s>=40)throw Error(`ELOOP: too many levels of symbolic links, open '${e}'`)}return r}async mkdir(e,t){this.mkdirSync(e,t)}mkdirSync(e,t){let n=this.normalizePath(e);if(this.data.has(n)){if(this.data.get(n)?.type==="file")throw Error(`EEXIST: file already exists, mkdir '${e}'`);if(!t?.recursive)throw Error(`EEXIST: directory already exists, mkdir '${e}'`);return}let r=this.dirname(n);if("/"!==r&&!this.data.has(r))if(t?.recursive)this.mkdirSync(r,{recursive:!0});else throw Error(`ENOENT: no such file or directory, mkdir '${e}'`);this.data.set(n,{type:"directory",mode:493,mtime:new Date})}async readdir(e){return(await this.readdirWithFileTypes(e)).map(e=>e.name)}async readdirWithFileTypes(e){let t=this.normalizePath(e),n=this.data.get(t);if(!n)throw Error(`ENOENT: no such file or directory, scandir '${e}'`);let r=new Set;for(;n&&"symlink"===n.type;){if(r.has(t))throw Error(`ELOOP: too many levels of symbolic links, scandir '${e}'`);r.add(t),t=this.resolveSymlink(t,n.target),n=this.data.get(t)}if(!n)throw Error(`ENOENT: no such file or directory, scandir '${e}'`);if("directory"!==n.type)throw Error(`ENOTDIR: not a directory, scandir '${e}'`);let i="/"===t?"/":`${t}/`,s=new Map;for(let[e,n]of this.data.entries())if(e!==t&&e.startsWith(i)){let t=e.slice(i.length),r=t.split("/")[0];!r||t.includes("/",r.length)||s.has(r)||s.set(r,{name:r,isFile:"file"===n.type,isDirectory:"directory"===n.type,isSymbolicLink:"symlink"===n.type})}return Array.from(s.values()).sort((e,t)=>e.name<t.name?-1:+(e.name>t.name))}async rm(e,t){let n=this.normalizePath(e),r=this.data.get(n);if(!r){if(t?.force)return;throw Error(`ENOENT: no such file or directory, rm '${e}'`)}if("directory"===r.type){let r=await this.readdir(n);if(r.length>0){if(!t?.recursive)throw Error(`ENOTEMPTY: directory not empty, rm '${e}'`);for(let e of r){let r="/"===n?`/${e}`:`${n}/${e}`;await this.rm(r,t)}}}this.data.delete(n)}async cp(e,t,n){let r=this.normalizePath(e),i=this.normalizePath(t),s=this.data.get(r);if(!s)throw Error(`ENOENT: no such file or directory, cp '${e}'`);if("file"===s.type)this.ensureParentDirs(i),this.data.set(i,{...s});else if("directory"===s.type){if(!n?.recursive)throw Error(`EISDIR: is a directory, cp '${e}'`);for(let e of(await this.mkdir(i,{recursive:!0}),await this.readdir(r))){let t="/"===r?`/${e}`:`${r}/${e}`,s="/"===i?`/${e}`:`${i}/${e}`;await this.cp(t,s,n)}}}async mv(e,t){await this.cp(e,t,{recursive:!0}),await this.rm(e,{recursive:!0})}getAllPaths(){return Array.from(this.data.keys())}resolvePath(e,t){if(t.startsWith("/"))return this.normalizePath(t);let n="/"===e?`/${t}`:`${e}/${t}`;return this.normalizePath(n)}async chmod(e,t){let n=this.normalizePath(e),r=this.data.get(n);if(!r)throw Error(`ENOENT: no such file or directory, chmod '${e}'`);r.mode=t}async symlink(e,t){let n=this.normalizePath(t);if(this.data.has(n))throw Error(`EEXIST: file already exists, symlink '${t}'`);this.ensureParentDirs(n),this.data.set(n,{type:"symlink",target:e,mode:511,mtime:new Date})}async link(e,t){let n=this.normalizePath(e),r=this.normalizePath(t),i=this.data.get(n);if(!i)throw Error(`ENOENT: no such file or directory, link '${e}'`);if("file"!==i.type)throw Error(`EPERM: operation not permitted, link '${e}'`);if(this.data.has(r))throw Error(`EEXIST: file already exists, link '${t}'`);this.ensureParentDirs(r),this.data.set(r,{type:"file",content:i.content,mode:i.mode,mtime:i.mtime})}async readlink(e){let t=this.normalizePath(e),n=this.data.get(t);if(!n)throw Error(`ENOENT: no such file or directory, readlink '${e}'`);if("symlink"!==n.type)throw Error(`EINVAL: invalid argument, readlink '${e}'`);return n.target}async realpath(e){let t=this.resolvePathWithSymlinks(e);if(!this.data.has(t))throw Error(`ENOENT: no such file or directory, realpath '${e}'`);return t}async utimes(e,t,n){let r=this.normalizePath(e),i=this.resolvePathWithSymlinks(r),s=this.data.get(i);if(!s)throw Error(`ENOENT: no such file or directory, utimes '${e}'`);s.mtime=n}};p1(),rV();var d0=["allexport","errexit","noglob","noclobber","noexec","nounset","pipefail","posix","verbose","xtrace"],d1=["braceexpand","hashall","interactive-comments"];function d2(e){let t=[];for(let n of[...d1.map(e=>({name:e,enabled:!0})),...d0.map(t=>({name:t,enabled:e[t]}))].sort((e,t)=>e.name.localeCompare(t.name)))n.enabled&&t.push(n.name);return t.join(":")}function d3(e){e.state.env.SHELLOPTS=d2(e.state.options)}var d5=["dotglob","expand_aliases","extglob","failglob","globskipdots","globstar","lastpipe","nocaseglob","nocasematch","nullglob","xpg_echo"];function d6(e){let t=[];for(let n of d5)e[n]&&t.push(n);return t.join(":")}function d4(e){e.state.env.BASHOPTS=d6(e.state.shoptOptions)}function d8(e){return 1===e.parts.length&&"Literal"===e.parts[0].type}function d9(e){if(1!==e.parts.length)return null;let t=e.parts[0];return"Literal"===t.type?t.value:null}function d7(e,t){return e.env[`BASH_ALIAS_${t}`]}function ge(e,t){let n=t;for(let t of e.args){let e=gt(t);n+=` ${e}`}let r=new _r;return{type:"SimpleCommand",name:r.parseWordFromString("eval",!1,!1),args:[r.parseWordFromString(`'${n.replace(/'/g,"'\\''")}'`,!1,!1)],assignments:e.assignments,redirections:e.redirections,line:e.line}}function gt(e){let t="";for(let n of e.parts)switch(n.type){case"Literal":t+=n.value.replace(/([\s"'$`\\*?[\]{}()<>|&;#!])/g,"\\$1");break;case"SingleQuoted":t+=`'${n.value}'`;break;case"DoubleQuoted":t+=`"${n.parts.map(e=>"Literal"===e.type?e.value:`$${e.type}`).join("")}"`;break;case"ParameterExpansion":t+=`\${${n.parameter}}`;break;case"CommandSubstitution":t+="$(...)";break;case"ArithmeticExpansion":t+=`$((${n.expression}))`;break;case"Glob":t+=n.pattern}return t}async function gn(e,t){let n=t.parts.map(e=>"Literal"===e.type?e.value:"\0").join(""),r=n.match(/^([a-zA-Z_][a-zA-Z0-9_]*)=\(/);if(!r||!n.endsWith(")"))return null;let i=r[1],s=[],a=!1,o="",l=!1;for(let n of t.parts)if("Literal"===n.type){let e=n.value;if(!a){let t=e.indexOf("=(");-1!==t&&(a=!0,e=e.slice(t+2))}if(a)for(let t of(e.endsWith(")")&&(e=e.slice(0,-1)),e.split(/(\s+)/)))/^\s+$/.test(t)?(o||l)&&(s.push(o),o="",l=!1):t&&(o+=t)}else if(a)if("BraceExpansion"===n.type)if(/^\[.+\]=/.test(o))o+=_b({type:"Word",parts:[n]});else{(o||l)&&(s.push(o),o="",l=!1);let t=await dk(e,{type:"Word",parts:[n]});s.push(...t.values)}else("SingleQuoted"===n.type||"DoubleQuoted"===n.type||"Escaped"===n.type)&&(l=!0),o+=await dy(e,{type:"Word",parts:[n]});(o||l)&&s.push(o);let c=s.map(e=>/^\[.+\]=/.test(e)?e:""===e?"''":!/[\s"'\\$`!*?[\]{}|&;<>()]/.test(e)||e.startsWith("'")||e.startsWith('"')?e:`'${e.replace(/'/g,"'\\''")}'`);return`${i}=(${c.join(" ")})`}async function gr(e,t){let n=-1,r=-1,i=!1;for(let e=0;e<t.parts.length;e++){let s=t.parts[e];if("Literal"===s.type){let t=s.value.indexOf("+=");if(-1!==t){let a=s.value.slice(0,t);if(/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(a)||/^[a-zA-Z_][a-zA-Z0-9_]*\[[^\]]+\]$/.test(a)){n=e,r=t,i=!0;break}}let a=s.value.indexOf("=");if(-1!==a&&(0===a||"+"!==s.value[a-1])){let t=s.value.slice(0,a);if(/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(t)||/^[a-zA-Z_][a-zA-Z0-9_]*\[[^\]]+\]$/.test(t)){n=e,r=a;break}}}}if(-1===n)return null;let s=t.parts.slice(0,n),a=t.parts[n];if("Literal"!==a.type)return null;let o=i?2:1,l=a.value.slice(0,r),c=a.value.slice(r+o),u=t.parts.slice(n+1),p="";for(let t of s)p+=await dy(e,{type:"Word",parts:[t]});p+=l;let h={type:"Word",parts:""!==c?[{type:"Literal",value:c},...u]:u},_=h.parts.length>0?await dy(e,h):"";return`${p}${i?"+=":"="}${_}`}hp(),_i(),hp(),dW(),dI(),_y();var gi=["tar","yq","xan","sqlite3","python3","python"];rV(),rV();var gs=Object.freeze({stdout:"",stderr:"",exitCode:0});function ga(e=""){return{stdout:e,stderr:"",exitCode:0}}function go(e,t=1){return{stdout:"",stderr:e,exitCode:t}}function gl(e,t,n){return{stdout:e,stderr:t,exitCode:n}}function gc(e){return{stdout:"",stderr:"",exitCode:+!e}}function gu(e,t,n="",r=""){throw new rq(e,t,n,r)}async function gp(e,t){let n,r=!1,i=!1,s=0;for(;s<t.length;)if("--"===t[s]){s++;break}else if("-L"===t[s])i=!1,s++;else if("-P"===t[s])i=!0,s++;else if(t[s].startsWith("-")&&"-"!==t[s])s++;else break;let a=t.slice(s);if(0===a.length||"~"===a[0]?n=e.state.env.HOME||"/":"-"===a[0]?(n=e.state.previousDir,r=!0):n=a[0],!n.startsWith("/")&&!n.startsWith("./")&&!n.startsWith("../")&&"."!==n&&".."!==n){let t=e.state.env.CDPATH;if(t)for(let i of t.split(":").filter(e=>e)){let t=i.startsWith("/")?`${i}/${n}`:`${e.state.cwd}/${i}/${n}`;try{if((await e.fs.stat(t)).isDirectory){n=t,r=!0;break}}catch{}}}let o=(n.startsWith("/")?n:`${e.state.cwd}/${n}`).split("/").filter(e=>e&&"."!==e),l="";for(let t of o)if(".."===t)l=l.split("/").slice(0,-1).join("/")||"/";else{l=l?`${l}/${t}`:`/${t}`;try{if(!(await e.fs.stat(l)).isDirectory)return go(`bash: cd: ${n}: Not a directory
`)}catch{return go(`bash: cd: ${n}: No such file or directory
`)}}let c=l||"/";if(i)try{c=await e.fs.realpath(c)}catch{}return e.state.previousDir=e.state.cwd,e.state.cwd=c,e.state.env.PWD=e.state.cwd,e.state.env.OLDPWD=e.state.previousDir,ga(r?`${c}
`:"")}function gh(e,t){return e.fs.resolvePath(e.state.cwd,t)}_i(),hP(),_i(),dW(),dI(),_y();var g_=["-e","-a","-f","-d","-r","-w","-x","-s","-L","-h","-k","-g","-u","-G","-O","-b","-c","-p","-S","-t","-N"];function gf(e){return g_.includes(e)}async function gd(e,t,n){let r=gh(e,n);switch(t){case"-e":case"-a":case"-G":case"-O":case"-N":return e.fs.exists(r);case"-f":return!!await e.fs.exists(r)&&(await e.fs.stat(r)).isFile;case"-d":return!!await e.fs.exists(r)&&(await e.fs.stat(r)).isDirectory;case"-r":return!!await e.fs.exists(r)&&(256&(await e.fs.stat(r)).mode)!=0;case"-w":return!!await e.fs.exists(r)&&(128&(await e.fs.stat(r)).mode)!=0;case"-x":return!!await e.fs.exists(r)&&(64&(await e.fs.stat(r)).mode)!=0;case"-s":return!!await e.fs.exists(r)&&(await e.fs.stat(r)).size>0;case"-L":case"-h":try{return(await e.fs.lstat(r)).isSymbolicLink}catch{return!1}case"-k":return!!await e.fs.exists(r)&&(512&(await e.fs.stat(r)).mode)!=0;case"-g":return!!await e.fs.exists(r)&&(1024&(await e.fs.stat(r)).mode)!=0;case"-u":return!!await e.fs.exists(r)&&(2048&(await e.fs.stat(r)).mode)!=0;case"-b":case"-p":case"-S":case"-t":default:return!1;case"-c":return["/dev/null","/dev/zero","/dev/random","/dev/urandom","/dev/tty","/dev/stdin","/dev/stdout","/dev/stderr"].some(e=>r===e||r.endsWith(e))}}var gg=["-nt","-ot","-ef"];function gm(e){return gg.includes(e)}async function gv(e,t,n,r){let i=gh(e,n),s=gh(e,r);switch(t){case"-nt":try{let t=await e.fs.stat(i),n=await e.fs.stat(s);return t.mtime>n.mtime}catch{return!1}case"-ot":try{let t=await e.fs.stat(i),n=await e.fs.stat(s);return t.mtime<n.mtime}catch{return!1}case"-ef":try{if(!await e.fs.exists(i)||!await e.fs.exists(s))return!1;let t=e.fs.resolvePath(e.state.cwd,i),n=e.fs.resolvePath(e.state.cwd,s);return t===n}catch{return!1}default:return!1}}var gb=new Set(["-eq","-ne","-lt","-le","-gt","-ge"]);function gy(e,t,n){switch(e){case"-eq":return t===n;case"-ne":return t!==n;case"-lt":return t<n;case"-le":return t<=n;case"-gt":return t>n;case"-ge":return t>=n}}function g$(e){return"="===e||"=="===e||"!="===e}function gx(e,t,n,r=!1,i=!1,s=!1){if(r){let r=gP(t,n,i,s);return"!="===e?!r:r}if(i){let r=t.toLowerCase()===n.toLowerCase();return"!="===e?!r:r}let a=t===n;return"!="===e?!a:a}var gS=new Set(["-z","-n"]);function gA(e,t){switch(e){case"-z":return""===t;case"-n":return""!==t}}async function gw(e,t){let n=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(.+)\]$/);if(n){let t,r=n[1],i=n[2];if(e.state.associativeArrays?.has(r)){let t=i;return(t.startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"'))&&(t=t.slice(1,-1)),t=t.replace(/\$([a-zA-Z_][a-zA-Z0-9_]*)/g,(t,n)=>e.state.env[n]||""),`${r}_${t}`in e.state.env}try{let n=new _r,r=hm(n,i);t=await dU(e,r.expression)}catch{if(/^-?\d+$/.test(i))t=Number.parseInt(i,10);else{let n=e.state.env[i];t=n?Number.parseInt(n,10):0}}if(t<0){let n=_f(e,r),i=e.state.currentLine;if(0===n.length||(t=Math.max(...n)+1+t)<0)return e.state.expansionStderr=(e.state.expansionStderr||"")+`bash: line ${i}: ${r}: bad array subscript
`,!1}return`${r}_${t}`in e.state.env}return t in e.state.env||(e.state.associativeArrays?.has(t)?_g(e,t).length>0:_f(e,t).length>0)}async function gE(e,t){var n,r;switch(t.type){case"CondBinary":{let r=await dy(e,t.left),i=t.right.parts.length>0&&t.right.parts.every(e=>"SingleQuoted"===e.type||"DoubleQuoted"===e.type||"Escaped"===e.type&&"=~"!==t.operator),s;if(s="=~"===t.operator?i?_1(await dy(e,t.right)):await d$(e,t.right):g$(t.operator)&&!i?await dx(e,t.right):await dy(e,t.right),g$(t.operator)){let n=e.state.shoptOptions.nocasematch;return gx(t.operator,r,s,!i,n,!0)}if(n=t.operator,gb.has(n))return gy(t.operator,await gM(e,r),await gM(e,s));if(gm(t.operator))return gv(e,t.operator,r,s);switch(t.operator){case"=~":try{let t=e.state.shoptOptions.nocasematch,n=function(e){let t="",n=0;for(;n<e.length;)if("\\"===e[n]&&n+1<e.length)t+=e[n]+e[n+1],n+=2;else if("["===e[n]){let r=function(e,t){let n=t+1,r="[";n<e.length&&("^"===e[n]||"!"===e[n])&&(r+="^",n++);let i=!1;n<e.length&&"]"===e[n]&&(i=!0,n++);let s=!1;n<e.length&&"["===e[n]&&n+1<e.length&&":"!==e[n+1]&&(s=!0,n++);let a="",o=!1;for(;n<e.length;){let t=e[n];if("]"===t){o=!0,n++;break}if("["===t&&n+1<e.length&&":"===e[n+1]){let t=e.indexOf(":]",n+2);if(-1!==t){a+=({alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"!-~",lower:"a-z",print:" -~",punct:"!-/:-@\\[-`{-~",space:" \\t\\n\\r\\f\\v",upper:"A-Z",word:"a-zA-Z0-9_",xdigit:"0-9A-Fa-f"})[e.slice(n+2,t)]??"",n=t+2;continue}}if("["===t&&n+1<e.length){let t=e[n+1];if("."===t||"="===t){let r=`${t}]`,i=e.indexOf(r,n+2);if(-1!==i){a+=e.slice(n+2,i),n=i+2;continue}}}if("\\"===t&&n+1<e.length){a+=t+e[n+1],n+=2;continue}a+=t,n++}return o?(i&&(r+="\\]"),s&&(r+="\\["),r+=a,{converted:r+="]",endIndex:n}):{converted:"\\[",endIndex:t+1}}(e,n);t+=r.converted,n=r.endIndex}else t+=e[n],n++;return t}(s),i=new RegExp(n,t?"i":""),a=r.match(i);if(_d(e,"BASH_REMATCH"),a)for(let t=0;t<a.length;t++)e.state.env[`BASH_REMATCH_${t}`]=a[t]||"";return null!==a}catch{throw Error("syntax error in regular expression")}case"<":return r<s;case">":return r>s;default:return!1}}case"CondUnary":{let n=await dy(e,t.operand);return gf(t.operator)?gd(e,t.operator,n):(r=t.operator,gS.has(r))?gA(t.operator,n):"-v"===t.operator?await gw(e,n):"-o"===t.operator&&gD(e,n)}case"CondNot":return e.state.shoptOptions.extglob&&"CondGroup"===t.operand.type&&"CondWord"===t.operand.expression.type?""!=`!(${await dy(e,t.operand.expression.word)})`:!await gE(e,t.operand);case"CondAnd":return!!await gE(e,t.left)&&await gE(e,t.right);case"CondOr":return!!await gE(e,t.left)||await gE(e,t.right);case"CondGroup":return await gE(e,t.expression);case"CondWord":return await dy(e,t.word)!=="";default:return!1}}async function gk(e,t){if(0===t.length)return gl("","",1);if(1===t.length)return gc(!!t[0]);if(2===t.length){let n=t[0],r=t[1];return"("===n?go(`test: '(' without matching ')'
`,2):gf(n)?gc(await gd(e,n,r)):gS.has(n)?gc(gA(n,r)):"!"===n?gc(!r):"-v"===n?gc(await gw(e,r)):"-o"===n?gc(gD(e,r)):"="===n||"=="===n||"!="===n||"<"===n||">"===n||"-eq"===n||"-ne"===n||"-lt"===n||"-le"===n||"-gt"===n||"-ge"===n||"-nt"===n||"-ot"===n||"-ef"===n?go(`test: ${n}: unary operator expected
`,2):gl("","",1)}if(3===t.length){let n=t[0],r=t[1],i=t[2];if(g$(r))return gc(gx(r,n,i));if(gb.has(r)){let e=gB(n),t=gB(i);return e.valid&&t.valid?gc(gy(r,e.value,t.value)):gl("","",2)}if(gm(r))return gc(await gv(e,r,n,i));switch(r){case"-a":return gc(""!==n&&""!==i);case"-o":return gc(""!==n||""!==i);case">":return gc(n>i);case"<":return gc(n<i)}if("!"===n){let t=await gk(e,[r,i]);return gl("",t.stderr,0===t.exitCode?1:1===t.exitCode?0:t.exitCode)}if("("===n&&")"===i)return gc(""!==r)}if(4===t.length){if("!"===t[0]){let n=await gk(e,t.slice(1));return gl("",n.stderr,0===n.exitCode?1:1===n.exitCode?0:n.exitCode)}if("("===t[0]&&")"===t[3])return gk(e,[t[1],t[2]])}let n=await gC(e,t,0);return n.pos<t.length?go(`test: too many arguments
`,2):gc(n.value)}async function gC(e,t,n){return gO(e,t,n)}async function gO(e,t,n){let{value:r,pos:i}=await gR(e,t,n);for(;"-o"===t[i];){let n=await gR(e,t,i+1);r=r||n.value,i=n.pos}return{value:r,pos:i}}async function gR(e,t,n){let{value:r,pos:i}=await gT(e,t,n);for(;"-a"===t[i];){let n=await gT(e,t,i+1);r=r&&n.value,i=n.pos}return{value:r,pos:i}}async function gT(e,t,n){if("!"===t[n]){let{value:r,pos:i}=await gT(e,t,n+1);return{value:!r,pos:i}}return gN(e,t,n)}async function gN(e,t,n){let r=t[n];if("("===r){let{value:r,pos:i}=await gC(e,t,n+1);return{value:r,pos:")"===t[i]?i+1:i}}let i=t[n+1];if(g$(i))return{value:gx(i,r,t[n+2]??""),pos:n+3};if(gb.has(i)){let e=gB(r),s=gB(t[n+2]??"0");return e.valid&&s.valid?{value:gy(i,e.value,s.value),pos:n+3}:{value:!1,pos:n+3}}if(gm(i)){let s=t[n+2]??"";return{value:await gv(e,i,r,s),pos:n+3}}if(gf(r)){let i=t[n+1]??"";return{value:await gd(e,r,i),pos:n+2}}if(gS.has(r))return{value:gA(r,t[n+1]??""),pos:n+2};if("-v"===r){let r=t[n+1]??"";return{value:await gw(e,r),pos:n+2}}return"-o"===r?{value:gD(e,t[n+1]??""),pos:n+2}:{value:void 0!==r&&""!==r,pos:n+1}}function gP(e,t,n=!1,r=!1){return RegExp(`^${function e(t,n){let r="";for(let i=0;i<t.length;i++){let s=t[i];if(n&&("@"===s||"*"===s||"+"===s||"?"===s||"!"===s)&&i+1<t.length&&"("===t[i+1]){let a=gL(t,i+1);if(-1!==a){let o=gI(t.slice(i+2,a)),l=o.map(t=>e(t,n)),c=l.length>0?l.join("|"):"(?:)";if("@"===s)r+=`(?:${c})`;else if("*"===s)r+=`(?:${c})*`;else if("+"===s)r+=`(?:${c})+`;else if("?"===s)r+=`(?:${c})?`;else if("!"===s)if(a<t.length-1){let e=o.map(e=>(function e(t,n){let r=0,i=0;for(;i<t.length;){let s=t[i];if(n&&("@"===s||"*"===s||"+"===s||"?"===s||"!"===s)&&i+1<t.length&&"("===t[i+1]){let a=gL(t,i+1);if(-1!==a){if("@"===s){let s=gI(t.slice(i+2,a)).map(t=>e(t,n));if(s.every(e=>null!==e)&&s.every(e=>e===s[0])){r+=s[0],i=a+1;continue}}return null}}if("*"===s)return null;if("?"===s){r+=1,i++;continue}if("["===s){let e=t.indexOf("]",i+1);if(-1!==e){r+=1,i=e+1;continue}r+=1,i++;continue}if("\\"===s){r+=1,i+=2;continue}r+=1,i++}return r})(e,n));if(e.every(e=>null!==e)&&e.every(t=>t===e[0])&&null!==e[0]){let t=e[0];if(0===t)r+="(?:.+)";else{let e=[];t>0&&e.push(`.{0,${t-1}}`),e.push(`.{${t+1},}`),e.push(`(?!(?:${c})).{${t}}`),r+=`(?:${e.join("|")})`}}else r+=`(?:(?!(?:${c})).)*?`}else r+=`(?!(?:${c})$).*`;i=a;continue}}if("\\"===s)if(i+1<t.length){let e=t[i+1];/[\\^$.|+(){}[\]*?]/.test(e)?r+=`\\${e}`:r+=e,i++}else r+="\\\\";else if("*"===s)r+=".*";else if("?"===s)r+=".";else if("["===s){let e=t.indexOf("]",i+1);-1!==e?(r+=t.slice(i,e+1),i=e):r+="\\["}else/[\\^$.|+(){}]/.test(s)?r+=`\\${s}`:r+=s}return r}(t,r)}$`,n?"is":"s").test(e)}function gL(e,t){let n=1,r=t+1;for(;r<e.length&&n>0;){let t=e[r];if("\\"===t){r+=2;continue}if("("===t)n++;else if(")"===t&&0==--n)return r;r++}return -1}function gI(e){let t=[],n="",r=0,i=0;for(;i<e.length;){let s=e[i];if("\\"===s){n+=s,i+1<e.length?(n+=e[i+1],i+=2):i++;continue}"("===s?(r++,n+=s):")"===s?(r--,n+=s):"|"===s&&0===r?(t.push(n),n=""):n+=s,i++}return t.push(n),t}function gD(e,t){let n={errexit:()=>!0===e.state.options.errexit,nounset:()=>!0===e.state.options.nounset,pipefail:()=>!0===e.state.options.pipefail,xtrace:()=>!0===e.state.options.xtrace,e:()=>!0===e.state.options.errexit,u:()=>!0===e.state.options.nounset,x:()=>!0===e.state.options.xtrace}[t];return!!n&&n()}async function gM(e,t){if(""===(t=t.trim()))return 0;if(/^[+-]?(\d+#[a-zA-Z0-9@_]+|0[xX][0-9a-fA-F]+|0[0-7]+|\d+)$/.test(t))return gF(t);try{let n=new _r,r=hm(n,t);return await dU(e,r.expression)}catch{return gF(t)}}function gF(e){if(""===(e=e.trim()))return 0;let t=!1;e.startsWith("-")?(t=!0,e=e.slice(1)):e.startsWith("+")&&(e=e.slice(1));let n,r=e.match(/^(\d+)#([a-zA-Z0-9@_]+)$/);if(r){let e=Number.parseInt(r[1],10);n=e>=2&&e<=64?function(e,t){let n=0;for(let r of e){let e;if(r>="0"&&r<="9")e=r.charCodeAt(0)-48;else if(r>="a"&&r<="z")e=r.charCodeAt(0)-97+10;else if(r>="A"&&r<="Z")e=r.charCodeAt(0)-65+36;else if("@"===r)e=62;else{if("_"!==r)return NaN;e=63}if(e>=t)return NaN;n=n*t+e}return n}(r[2],e):0}else n=/^0[xX][0-9a-fA-F]+$/.test(e)?Number.parseInt(e,16):/^0[0-7]+$/.test(e)?Number.parseInt(e,8):Number.parseInt(e,10);return Number.isNaN(n)&&(n=0),t?-n:n}function gB(e){if(""===(e=e.trim()))return{value:0,valid:!0};let t=!1;if(e.startsWith("-")?(t=!0,e=e.slice(1)):e.startsWith("+")&&(e=e.slice(1)),!/^\d+$/.test(e))return{value:0,valid:!1};let n=Number.parseInt(e,10);return Number.isNaN(n)?{value:0,valid:!1}:{value:t?-n:n,valid:!0}}function gH(e){let t=[],n="",r=!1,i=!1,s=!1,a=!1;for(let o of e){if(s){n+=o,s=!1,a=!0;continue}if("\\"===o){s=!0;continue}if("'"===o&&!i){r||(a=!0),r=!r;continue}if('"'===o&&!r){i||(a=!0),i=!i;continue}if((" "===o||"	"===o||o===`
`)&&!r&&!i){a&&(t.push(n),n="",a=!1);continue}n+=o,a=!0}return a&&t.push(n),t}function gU(e){let t=[],n=0;for(;n<e.length;){for(;n<e.length&&/\s/.test(e[n]);)n++;if(n>=e.length)break;if("["!==e[n]){n++;continue}let r="";if("'"===e[++n]||'"'===e[n]){let t=e[n];for(n++;n<e.length&&e[n]!==t;)r+=e[n],n++;e[n]===t&&n++}else for(;n<e.length&&"]"!==e[n]&&"="!==e[n];)r+=e[n],n++;for(;n<e.length&&"]"!==e[n];)n++;if("]"===e[n]&&n++,"="!==e[n])continue;let i="";if("'"===e[++n]||'"'===e[n]){let t=e[n];for(n++;n<e.length&&e[n]!==t;)"\\"===e[n]&&n+1<e.length&&n++,i+=e[n],n++;e[n]===t&&n++}else for(;n<e.length&&!/\s/.test(e[n]);)i+=e[n],n++;t.push([r,i])}return t}async function gj(e,t){try{let n=new _r,r=hm(n,t);return await dU(e,r.expression)}catch{let e=parseInt(t,10);return Number.isNaN(e)?0:e}}async function gW(e,t,n={}){let{name:r,isArray:i,arrayElements:s,value:a,arrayIndex:o}=t,{makeReadonly:l=!1,checkReadonly:c=!0}=n;if(c&&fo(e,r),i&&s){for(let t=0;t<s.length;t++)e.state.env[`${r}_${t}`]=s[t];e.state.env[`${r}__length`]=String(s.length)}else if(void 0!==o&&void 0!==a){let t=await gj(e,o);e.state.env[`${r}_${t}`]=a,t>=parseInt(e.state.env[`${r}__length`]??"0",10)&&(e.state.env[`${r}__length`]=String(t+1))}else void 0!==a&&(e.state.env[r]=a);return l&&fs(e,r),null}function gq(e,t){e.state.localVarDepth=e.state.localVarDepth||new Map,e.state.localVarDepth.set(t,e.state.callDepth)}function gz(e,t){return e.state.localVarDepth?.get(t)}function gG(e,t){e.state.localVarDepth?.delete(t)}function gV(e,t){let n=e.state.localVarStack?.get(t);if(!(!n||0===n.length))return n.pop()}hP(),_i(),dW(),_y(),dI(),hP(),_i(),dW(),fu(),rV(),dI();var gZ=new Set([":",".","break","continue","eval","exec","exit","export","readonly","return","set","shift","trap","unset"]),gK=new Set(["if","then","else","elif","fi","case","esac","for","select","while","until","do","done","in","function","{","}","time","[[","]]","!"]),gX=new Set([":","true","false","cd","export","unset","exit","local","set","break","continue","return","eval","shift","getopts","compgen","complete","compopt","pushd","popd","dirs","source",".","read","mapfile","readarray","declare","typeset","readonly","let","command","shopt","exec","test","[","echo","printf","pwd","alias","unalias","type","hash","ulimit","umask","trap","times","wait","kill","jobs","fg","bg","disown","suspend","fc","history","help","enable","builtin","caller"]);async function gQ(e,t,n,r){try{if((await e.fs.stat(t)).isDirectory)return`bash: ${n}: Is a directory
`;if(r.checkNoclobber&&e.state.options.noclobber&&!r.isClobber&&"/dev/null"!==n)return`bash: ${n}: cannot overwrite existing file
`}catch{}return null}function gJ(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return"utf8";return"binary"}async function gY(e,t){let n=new Map;for(let r=0;r<t.length;r++){let i=t[r];if("HereDoc"!==i.target.type)if(">&"===i.operator||"<&"===i.operator){if(dC(e,i.target))return{targets:n,error:`bash: $@: ambiguous redirect
`};n.set(r,await dy(e,i.target))}else{let t=await dO(e,i.target);if("error"in t)return{targets:n,error:t.error};n.set(r,t.target)}}return{targets:n}}async function g0(e,t){for(let n of t){if(!n.fdVariable)continue;if(e.state.fileDescriptors||(e.state.fileDescriptors=new Map),(">&"===n.operator||"<&"===n.operator)&&"Word"===n.target.type&&await dy(e,n.target)==="-"){let t=e.state.env[n.fdVariable];if(void 0!==t){let n=Number.parseInt(t,10);Number.isNaN(n)||e.state.fileDescriptors.delete(n)}continue}let t=function(e){void 0===e.state.nextFd&&(e.state.nextFd=10);let t=e.state.nextFd;return e.state.nextFd++,t}(e);if(e.state.env[n.fdVariable]=String(t),"Word"===n.target.type){let r=await dy(e,n.target);if(">&"===n.operator||"<&"===n.operator){let n=Number.parseInt(r,10);if(!Number.isNaN(n)){let r=e.state.fileDescriptors.get(n);void 0!==r&&e.state.fileDescriptors.set(t,r);continue}}if(">"===n.operator||">>"===n.operator||">|"===n.operator||"&>"===n.operator||"&>>"===n.operator){let i=e.fs.resolvePath(e.state.cwd,r);(">"===n.operator||">|"===n.operator||"&>"===n.operator)&&await e.fs.writeFile(i,"","binary"),e.state.fileDescriptors.set(t,`__file__:${i}`)}else if("<<<"===n.operator)e.state.fileDescriptors.set(t,`${r}
`);else if("<"===n.operator||"<>"===n.operator)try{let n=e.fs.resolvePath(e.state.cwd,r),i=await e.fs.readFile(n);e.state.fileDescriptors.set(t,i)}catch{return gl("",`bash: ${r}: No such file or directory
`,1)}}}return null}async function g1(e,t){for(let n of t){let t;if("HereDoc"===n.target.type)continue;let r=">&"===n.operator;if(">"!==n.operator&&">|"!==n.operator&&"&>"!==n.operator&&!r)continue;if(r){if("-"===(t=await dy(e,n.target))||!Number.isNaN(Number.parseInt(t,10))||null!=n.fd)continue}else{let r=await dO(e,n.target);if("error"in r)return gl("",r.error,1);t=r.target}let i=e.fs.resolvePath(e.state.cwd,t),s=">|"===n.operator;try{let n=await e.fs.stat(i);if(n.isDirectory)return gl("",`bash: ${t}: Is a directory
`,1);if(e.state.options.noclobber&&!s&&!n.isDirectory&&"/dev/null"!==t)return gl("",`bash: ${t}: cannot overwrite existing file
`,1)}catch{}if("/dev/null"!==t&&"/dev/stdout"!==t&&"/dev/stderr"!==t&&"/dev/full"!==t&&await e.fs.writeFile(i,"","binary"),"/dev/full"===t)return gl("",`bash: /dev/full: No space left on device
`,1)}return null}async function g2(e,t,n,r){let{stdout:i,stderr:s,exitCode:a}=t;for(let t=0;t<n.length;t++){let o=n[t];if("HereDoc"===o.target.type)continue;let l,c=r?.get(t);if(void 0!==c)l=c;else if(">&"===o.operator||"<&"===o.operator){if(dC(e,o.target)){s+=`bash: $@: ambiguous redirect
`,a=1,i="";continue}l=await dy(e,o.target)}else{let t=await dO(e,o.target);if("error"in t){s+=t.error,a=1,i="";continue}l=t.target}if(!o.fdVariable)switch(o.operator){case">":case">|":{let t=o.fd??1,n=">|"===o.operator;if(1===t){if("/dev/stdout"===l)break;if("/dev/stderr"===l){s+=i,i="";break}if("/dev/full"===l){s+=`bash: echo: write error: No space left on device
`,a=1,i="";break}let t=e.fs.resolvePath(e.state.cwd,l),r=await gQ(e,t,l,{checkNoclobber:!0,isClobber:n});if(r){s+=r,a=1,i="";break}await e.fs.writeFile(t,i,gJ(i)),i=""}else if(2===t){if("/dev/stderr"===l)break;if("/dev/stdout"===l){i+=s,s="";break}if("/dev/full"===l){s+=`bash: echo: write error: No space left on device
`,a=1;break}if("/dev/null"===l)s="";else{let t=e.fs.resolvePath(e.state.cwd,l),r=await gQ(e,t,l,{checkNoclobber:!0,isClobber:n});if(r){s+=r,a=1;break}await e.fs.writeFile(t,s,gJ(s)),s=""}}break}case">>":{let t=o.fd??1;if(1===t){if("/dev/stdout"===l)break;if("/dev/stderr"===l){s+=i,i="";break}if("/dev/full"===l){s+=`bash: echo: write error: No space left on device
`,a=1,i="";break}let t=e.fs.resolvePath(e.state.cwd,l),n=await gQ(e,t,l,{});if(n){s+=n,a=1,i="";break}await e.fs.appendFile(t,i,gJ(i)),i=""}else if(2===t){if("/dev/stderr"===l)break;if("/dev/stdout"===l){i+=s,s="";break}if("/dev/full"===l){s+=`bash: echo: write error: No space left on device
`,a=1;break}let t=e.fs.resolvePath(e.state.cwd,l),n=await gQ(e,t,l,{});if(n){s+=n,a=1;break}await e.fs.appendFile(t,s,gJ(s)),s=""}break}case">&":case"<&":{let t=o.fd??1;if("-"===l)break;if(l.endsWith("-")){let n=Number.parseInt(l.slice(0,-1),10);if(!Number.isNaN(n)){let r=e.state.fileDescriptors?.get(n);void 0!==r?(e.state.fileDescriptors||(e.state.fileDescriptors=new Map),e.state.fileDescriptors.set(t,r),n>=3&&e.state.fileDescriptors?.delete(n)):1===n||2===n?(e.state.fileDescriptors||(e.state.fileDescriptors=new Map),e.state.fileDescriptors.set(t,`__dupout__:${n}`)):0===n?(e.state.fileDescriptors||(e.state.fileDescriptors=new Map),e.state.fileDescriptors.set(t,`__dupin__:${n}`)):n>=3&&(s+=`bash: ${n}: Bad file descriptor
`,a=1)}break}if("2"===l||"&2"===l)1===t&&(s+=i,i="");else if("1"===l||"&1"===l)i+=s,s="";else{let n=Number.parseInt(l,10);if(Number.isNaN(n)){if(">&"===o.operator){let n=e.fs.resolvePath(e.state.cwd,l),r=await gQ(e,n,l,{checkNoclobber:!0});if(r){s=r,a=1,i="";break}if(null==o.fd){let t=i+s;await e.fs.writeFile(n,t,gJ(t)),i="",s=""}else 1===t?(await e.fs.writeFile(n,i,gJ(i)),i=""):2===t&&(await e.fs.writeFile(n,s,gJ(s)),s="")}}else{let r=e.state.fileDescriptors?.get(n);if(r?.startsWith("__file__:")){let n=r.slice(9);1===t?(await e.fs.appendFile(n,i,gJ(i)),i=""):2===t&&(await e.fs.appendFile(n,s,gJ(s)),s="")}else if(r?.startsWith("__rw__:")){let n=function(e){if(!e.startsWith("__rw__:"))return null;let t=e.slice(7),n=t.indexOf(":");if(-1===n)return null;let r=Number.parseInt(t.slice(0,n),10);if(Number.isNaN(r)||r<0)return null;let i=n+1,s=t.slice(i,i+r),a=t.slice(i+r+1),o=a.indexOf(":");if(-1===o)return null;let l=Number.parseInt(a.slice(0,o),10);return Number.isNaN(l)||l<0?null:{path:s,position:l,content:a.slice(o+1)}}(r);n&&(1===t?(await e.fs.appendFile(n.path,i,gJ(i)),i=""):2===t&&(await e.fs.appendFile(n.path,s,gJ(s)),s=""))}else if(r?.startsWith("__dupout__:")){let n=Number.parseInt(r.slice(11),10);if(1!==n)if(2===n)1===t&&(s+=i,i="");else{let r=e.state.fileDescriptors?.get(n);if(r?.startsWith("__file__:")){let n=r.slice(9);1===t?(await e.fs.appendFile(n,i,gJ(i)),i=""):2===t&&(await e.fs.appendFile(n,s,gJ(s)),s="")}}}else r?.startsWith("__dupin__:")?(s+=`bash: ${n}: Bad file descriptor
`,a=1,i=""):n>=3&&(s+=`bash: ${n}: Bad file descriptor
`,a=1,i="")}}break}case"&>":{if("/dev/full"===l){s=`bash: echo: write error: No space left on device
`,a=1,i="";break}let t=e.fs.resolvePath(e.state.cwd,l),n=await gQ(e,t,l,{checkNoclobber:!0});if(n){s=n,a=1,i="";break}let r=i+s;await e.fs.writeFile(t,r,gJ(r)),i="",s="";break}case"&>>":{if("/dev/full"===l){s=`bash: echo: write error: No space left on device
`,a=1,i="";break}let t=e.fs.resolvePath(e.state.cwd,l),n=await gQ(e,t,l,{});if(n){s=n,a=1,i="";break}let r=i+s;await e.fs.appendFile(t,r,gJ(r)),i="",s=""}}}let o=e.state.fileDescriptors?.get(1);if(o){if("__dupout__:2"===o)s+=i,i="";else if(o.startsWith("__file__:")){let t=o.slice(9);await e.fs.appendFile(t,i,gJ(i)),i=""}else if(o.startsWith("__file_append__:")){let t=o.slice(16);await e.fs.appendFile(t,i,gJ(i)),i=""}}let l=e.state.fileDescriptors?.get(2);if(l){if("__dupout__:1"===l)i+=s,s="";else if(l.startsWith("__file__:")){let t=l.slice(9);await e.fs.appendFile(t,s,gJ(s)),s=""}else if(l.startsWith("__file_append__:")){let t=l.slice(16);await e.fs.appendFile(t,s,gJ(s)),s=""}}return gl(i,s,a)}async function g3(e,t){let n="";for(let r of t)if(("<<"===r.operator||"<<-"===r.operator)&&"HereDoc"===r.target.type){let t=r.target,i=await dy(e,t.content);t.stripTabs&&(i=i.split(`
`).map(e=>e.replace(/^\t+/,"")).join(`
`)),(r.fd??0)===0&&(n=i)}else if("<<<"===r.operator&&"Word"===r.target.type)n=`${await dy(e,r.target)}
`;else if("<"===r.operator&&"Word"===r.target.type){let t=await dy(e,r.target),i=e.fs.resolvePath(e.state.cwd,t);try{n=await e.fs.readFile(i)}catch{}}return n}async function g5(e,t,n,r="",i){e.state.callDepth++,e.state.callDepth>e.limits.maxCallDepth&&(e.state.callDepth--,gu(`${t.name}: maximum recursion depth (${e.limits.maxCallDepth}) exceeded, increase executionLimits.maxCallDepth`,"recursion")),e.state.funcNameStack||(e.state.funcNameStack=[]),e.state.callLineStack||(e.state.callLineStack=[]),e.state.sourceStack||(e.state.sourceStack=[]),e.state.funcNameStack.unshift(t.name),e.state.callLineStack.unshift(i??e.state.currentLine),e.state.sourceStack.unshift(t.sourceFile??"main"),e.state.localScopes.push(new Map),e.state.localExportedVars||(e.state.localExportedVars=[]),e.state.localExportedVars.push(new Set);let s={};for(let t=0;t<n.length;t++)s[String(t+1)]=e.state.env[String(t+1)],e.state.env[String(t+1)]=n[t];s["@"]=e.state.env["@"],s["#"]=e.state.env["#"],e.state.env["@"]=n.join(" "),e.state.env["#"]=String(n.length);let a=()=>{let t=e.state.localScopes.length-1,n=e.state.localScopes.pop();if(n)for(let[t,r]of n)void 0===r?delete e.state.env[t]:e.state.env[t]=r;if(function(e,t){if(e.state.localVarStack)for(let[n,r]of e.state.localVarStack.entries()){for(;r.length>0&&r[r.length-1].scopeIndex===t;)r.pop();0===r.length&&e.state.localVarStack.delete(n)}}(e,t),e.state.fullyUnsetLocals)for(let[n,r]of e.state.fullyUnsetLocals.entries())r===t&&e.state.fullyUnsetLocals.delete(n);if(e.state.localExportedVars&&e.state.localExportedVars.length>0){let t=e.state.localExportedVars.pop();if(t)for(let n of t)e.state.exportedVars?.delete(n)}for(let[t,n]of Object.entries(s))void 0===n?delete e.state.env[t]:e.state.env[t]=n;e.state.funcNameStack?.shift(),e.state.callLineStack?.shift(),e.state.sourceStack?.shift(),e.state.callDepth--},{targets:o,error:l}=await gY(e,t.redirections);if(l)return a(),gl("",l,1);try{let n=await g3(e,t.redirections),i=await e.executeCommand(t.body,r||n);return a(),g2(e,i,t.redirections,o)}catch(n){if(a(),n instanceof rD)return g2(e,gl(n.stdout,n.stderr,n.exitCode),t.redirections,o);throw n}}dI();var g6=["!","[[","]]","case","do","done","elif","else","esac","fi","for","function","if","in","then","time","until","while","{","}"],g4=[".",":","[","alias","bg","bind","break","builtin","caller","cd","command","compgen","complete","compopt","continue","declare","dirs","disown","echo","enable","eval","exec","exit","export","false","fc","fg","getopts","hash","help","history","jobs","kill","let","local","logout","mapfile","popd","printf","pushd","pwd","read","readarray","readonly","return","set","shift","shopt","source","suspend","test","times","trap","true","type","typeset","ulimit","umask","unalias","unset","wait"],g8=["autocd","assoc_expand_once","cdable_vars","cdspell","checkhash","checkjobs","checkwinsize","cmdhist","compat31","compat32","compat40","compat41","compat42","compat43","compat44","complete_fullquote","direxpand","dirspell","dotglob","execfail","expand_aliases","extdebug","extglob","extquote","failglob","force_fignore","globasciiranges","globstar","gnu_errfmt","histappend","histreedit","histverify","hostcomplete","huponexit","inherit_errexit","interactive_comments","lastpipe","lithist","localvar_inherit","localvar_unset","login_shell","mailwarn","no_empty_cmd_completion","nocaseglob","nocasematch","nullglob","progcomp","progcomp_alias","promptvars","restricted_shell","shift_verbose","sourcepath","xpg_echo"];async function g9(e,t){let n=[],r=null,i="",s="",a=null,o=!1,l=!1,c=!1,u=null,p=null,h=null,_=[],f=["alias","arrayvar","binding","builtin","command","directory","disabled","enabled","export","file","function","group","helptopic","hostname","job","keyword","running","service","setopt","shopt","signal","stopped","user","variable"];for(let e=0;e<t.length;e++){let a=t[e];if("-v"===a)n.push("variable");else if("-e"===a)n.push("export");else if("-f"===a)n.push("file");else if("-d"===a)n.push("directory");else if("-k"===a)n.push("keyword");else if("-A"===a){if(++e>=t.length)return go(`compgen: -A: option requires an argument
`,2);let r=t[e];if(!f.includes(r))return go(`compgen: ${r}: invalid action name
`,2);n.push(r)}else if("-W"===a){if(++e>=t.length)return go(`compgen: -W: option requires an argument
`,2);r=t[e]}else if("-P"===a){if(++e>=t.length)return go(`compgen: -P: option requires an argument
`,2);i=t[e]}else if("-S"===a){if(++e>=t.length)return go(`compgen: -S: option requires an argument
`,2);s=t[e]}else if("-o"===a){if(++e>=t.length)return go(`compgen: -o: option requires an argument
`,2);let n=t[e];if("plusdirs"===n)o=!0;else if("dirnames"===n)l=!0;else if("default"===n)c=!0;else if("filenames"!==n&&"nospace"!==n&&"bashdefault"!==n&&"noquote"!==n)return go(`compgen: ${n}: invalid option name
`,2)}else if("-F"===a){if(++e>=t.length)return go(`compgen: -F: option requires an argument
`,2);p=t[e]}else if("-C"===a){if(++e>=t.length)return go(`compgen: -C: option requires an argument
`,2);h=t[e]}else if("-X"===a){if(++e>=t.length)return go(`compgen: -X: option requires an argument
`,2);u=t[e]}else if("-G"===a){if(++e>=t.length)return go(`compgen: -G: option requires an argument
`,2)}else if("--"===a){_.push(...t.slice(e+1));break}else a.startsWith("-")||_.push(a)}a=_[0]??null;let d=[];if(l){let t=await g7(e,a);d.push(...t)}if(c){let t=await me(e,a);d.push(...t)}for(let t of n)if("variable"===t){let t=function(e,t){let n=new Set;for(let t of Object.keys(e.state.env)){if(t.includes("_")&&/^[a-zA-Z_][a-zA-Z0-9_]*_\d+$/.test(t)||t.endsWith("__length"))continue;let r=t.split("_")[0];/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(t)?n.add(t):r&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r)&&void 0!==e.state.env[`${r}__length`]&&n.add(r)}let r=Array.from(n);return null!==t&&(r=r.filter(e=>e.startsWith(t))),r.sort()}(e,a);d.push(...t)}else if("export"===t){let t=function(e,t){let n=Array.from(e.state.exportedVars??new Set);return null!==t&&(n=n.filter(e=>e.startsWith(t))),(n=n.filter(t=>!(t.includes("_")&&/^[a-zA-Z_][a-zA-Z0-9_]*_\d+$/.test(t)||t.endsWith("__length"))&&void 0!==e.state.env[t])).sort()}(e,a);d.push(...t)}else if("function"===t){let t=function(e,t){let n=Array.from(e.state.functions.keys());return null!==t&&(n=n.filter(e=>e.startsWith(t))),n.sort()}(e,a);d.push(...t)}else if("builtin"===t){let e=function(e){let t=[...g4];return null!==e&&(t=t.filter(t=>t.startsWith(e))),t.sort()}(a);d.push(...e)}else if("keyword"===t){let e=function(e){let t=[...g6];return null!==e&&(t=t.filter(t=>t.startsWith(e))),t.sort()}(a);d.push(...e)}else if("alias"===t){let t=function(e,t){let n=[];for(let t of Object.keys(e.state.env))if(t.startsWith("BASH_ALIAS_")){let e=t.slice(11);n.push(e)}let r=n;return null!==t&&(r=r.filter(e=>e.startsWith(t))),r.sort()}(e,a);d.push(...t)}else if("shopt"===t){let e=function(e){let t=[...g8];return null!==e&&(t=t.filter(t=>t.startsWith(e))),t.sort()}(a);d.push(...e)}else if("helptopic"===t){let e=function(e){let t=[...g4];return null!==e&&(t=t.filter(t=>t.startsWith(e))),t.sort()}(a);d.push(...e)}else if("directory"===t){let t=await g7(e,a);d.push(...t)}else if("file"===t){let t=await me(e,a);d.push(...t)}else if("user"===t){let e=["root","nobody"];d.push(...e)}else if("command"===t){let t=await mt(e,a);d.push(...t)}if(null!==r)try{let t=await mn(e,r);for(let n of function(e,t){let n=e.state.env.IFS??` 	
`;if(0===n.length)return[t];let r=new Set(n.split("")),i=[],s="",a=0;for(;a<t.length;){let e=t[a];"\\"===e&&a+1<t.length?(s+=t[a+1],a+=2):(r.has(e)?s.length>0&&(i.push(s),s=""):s+=e,a++)}return s.length>0&&i.push(s),i}(e,t))(null===a||n.startsWith(a))&&d.push(n)}catch{return gl("","",1)}if(o)for(let t of(await g7(e,a)))d.includes(t)||d.push(t);let g="";if(null!==p){let t=e.state.functions.get(p);if(t){let n={};n.COMP_WORDS__length=e.state.env.COMP_WORDS__length,e.state.env.COMP_WORDS__length="0",n.COMP_CWORD=e.state.env.COMP_CWORD,e.state.env.COMP_CWORD="-1",n.COMP_LINE=e.state.env.COMP_LINE,e.state.env.COMP_LINE="",n.COMP_POINT=e.state.env.COMP_POINT,e.state.env.COMP_POINT="0";let r={};for(let t of Object.keys(e.state.env))("COMPREPLY"===t||t.startsWith("COMPREPLY_")||"COMPREPLY__length"===t)&&(r[t]=e.state.env[t],delete e.state.env[t]);let i=["compgen",_[0]??"",""];try{let s=await g5(e,t,i,"");if(0!==s.exitCode)return mr(e,n),mr(e,r),gl("",s.stderr,1);g=s.stdout;let a=function(e){let t=[];if(void 0!==e.state.env.COMPREPLY__length)for(let[,n]of _H(e,"COMPREPLY"))t.push(n);else void 0!==e.state.env.COMPREPLY&&t.push(e.state.env.COMPREPLY);return t}(e);d.push(...a)}catch{return mr(e,n),mr(e,r),gl("","",1)}mr(e,n),mr(e,r)}}if(null!==h)try{let t=_n(h),n=await e.executeScript(t);if(0!==n.exitCode)return gl("",n.stderr,n.exitCode);if(n.stdout)for(let e of n.stdout.split(`
`))e.length>0&&d.push(e)}catch(e){if("ParseException"===e.name)return go(`compgen: -C: ${e.message}
`,2);throw e}let m=d;if(null!==u){let e=u.startsWith("!"),t=e?u.slice(1):u;m=d.filter(n=>{let r=gP(n,t,!1,!0);return e?r:!r})}if(0===m.length&&null!==a)return gl(g,"",1);let v=m.map(e=>`${i}${e}${s}`).join(`
`);return ga(g+(v?`${v}
`:""))}async function g7(e,t){let n=[];try{let r=e.state.cwd,i=t??"";if(t){let n=t.lastIndexOf("/");if(-1!==n){let s=t.slice(0,n)||"/";i=t.slice(n+1),r=s.startsWith("/")?s:`${e.state.cwd}/${s}`}}for(let s of(await e.fs.readdir(r))){let a=`${r}/${s}`;try{if((await e.fs.stat(a)).isDirectory&&(!i||s.startsWith(i)))if(t?.includes("/")){let e=t.lastIndexOf("/"),r=t.slice(0,e+1);n.push(r+s)}else n.push(s)}catch{}}}catch{}return n.sort()}async function me(e,t){let n=[];try{let r=e.state.cwd,i=t??"";if(t){let n=t.lastIndexOf("/");if(-1!==n){let s=t.slice(0,n)||"/";i=t.slice(n+1),r=s.startsWith("/")?s:`${e.state.cwd}/${s}`}}for(let s of(await e.fs.readdir(r)))if(!i||s.startsWith(i))if(t?.includes("/")){let e=t.lastIndexOf("/"),r=t.slice(0,e+1);n.push(r+s)}else n.push(s)}catch{}return n.sort()}async function mt(e,t){let n=new Set;for(let e of g4)n.add(e);for(let t of e.state.functions.keys())n.add(t);for(let t of Object.keys(e.state.env))t.startsWith("BASH_ALIAS_")&&n.add(t.slice(11));for(let e of g6)n.add(e);for(let t of(e.state.env.PATH??"/usr/bin:/bin").split(":"))if(t)try{for(let r of(await e.fs.readdir(t)))n.add(r)}catch{}let r=Array.from(n);return null!==t&&(r=r.filter(e=>e.startsWith(t))),r.sort()}async function mn(e,t){let n=new _r().parseWordFromString(t,!1,!1);return await dy(e,n)}function mr(e,t){for(let[n,r]of Object.entries(t))void 0===r?delete e.state.env[n]:e.state.env[n]=r}var mi=["bashdefault","default","dirnames","filenames","noquote","nosort","nospace","plusdirs"];function ms(e,t){let n=e.state.completionSpecs;if(!n||0===n.size){if(t&&t.length>0){let e="";for(let n of t)e+=`complete: ${n}: no completion specification
`;return gl("",e,1)}return ga("")}let r=[];for(let e of t||Array.from(n.keys())){if("__default__"===e)continue;let i=n.get(e);if(!i){if(t)return gl(r.join(`
`)+(r.length>0?`
`:""),`complete: ${e}: no completion specification
`,1);continue}let s="complete";if(i.options)for(let e of i.options)s+=` -o ${e}`;if(i.actions)for(let e of i.actions)s+=` -A ${e}`;void 0!==i.wordlist&&(i.wordlist.includes(" ")||i.wordlist.includes("'")?s+=` -W '${i.wordlist}'`:s+=` -W ${i.wordlist}`),void 0!==i.function&&(s+=` -F ${i.function}`),i.isDefault&&(s+=" -D"),s+=` ${e}`,r.push(s)}return 0===r.length?ga(""):ga(`${r.join(`
`)}
`)}var ma=["bashdefault","default","dirnames","filenames","noquote","nosort","nospace","plusdirs"];function mo(e,t){let n=e.state.env.HOME||"/home/user";return t.split(":").map(e=>"~"===e?n:"~root"===e?"/root":e.startsWith("~/")?n+e.slice(1):e.startsWith("~root/")?`/root${e.slice(5)}`:e).join(":")}function ml(e){for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<32||127===n)return!0}return!1}function mc(e){let t="$'";for(let n=0;n<e.length;n++){let r=e[n],i=e.charCodeAt(n);7===i?t+="\\a":8===i?t+="\\b":9===i?t+="\\t":10===i?t+="\\n":11===i?t+="\\v":12===i?t+="\\f":13===i?t+="\\r":27===i?t+="\\e":39===i?t+="\\'":92===i?t+="\\\\":i<32||127===i?t+=`\\${i.toString(8).padStart(3,"0")}`:t+=r}return t+"'"}function mu(e){return ml(e)?mc(e):/^[a-zA-Z0-9_/.:\-@%+,=]*$/.test(e)?e:`'${e.replace(/'/g,"'\\''")}'`}function mp(e){return ml(e)?mc(e):`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function mh(e){return ml(e)?mc(e):`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function m_(e,t){let n="";return e.state.integerVars?.has(t)&&(n+="i"),e.state.lowercaseVars?.has(t)&&(n+="l"),_N(e,t)&&(n+="n"),e.state.readonlyVars?.has(t)&&(n+="r"),e.state.uppercaseVars?.has(t)&&(n+="u"),e.state.exportedVars?.has(t)&&(n+="x"),""===n?"--":`-${n}`}function mf(e){return""===e?"''":/[\s'\\]/.test(e)?`'${e.replace(/'/g,"'\\''")}'`:e}function md(e,t){e.state.integerVars??=new Set,e.state.integerVars.add(t)}function mg(e,t){return e.state.integerVars?.has(t)??!1}function mm(e,t){e.state.lowercaseVars??=new Set,e.state.lowercaseVars.add(t),e.state.uppercaseVars?.delete(t)}function mv(e,t){e.state.uppercaseVars??=new Set,e.state.uppercaseVars.add(t),e.state.lowercaseVars?.delete(t)}function mb(e,t,n){return e.state.lowercaseVars?.has(t)?n.toLowerCase():e.state.uppercaseVars?.has(t)?n.toUpperCase():n}async function my(e,t){try{let n=new _r,r=hm(n,t),i=await dU(e,r.expression);return String(i)}catch{return"0"}}async function m$(e,t){let n=!1,r=!1,i=!1,s=!1,a=!1,o=!1,l=!1,c=!1,u=!1,p=!1,h=!1,_=!1,f=!1,d=!1,g=!1,m=[];for(let e=0;e<t.length;e++){let v=t[e];if("-a"===v)n=!0;else if("-A"===v)r=!0;else if("-r"===v)i=!0;else if("-x"===v)s=!0;else if("-p"===v)a=!0;else if("-n"===v)o=!0;else if("+n"===v)l=!0;else if("+a"===v)c=!0;else if("+x"===v)u=!0;else if("--"===v){m.push(...t.slice(e+1));break}else if(v.startsWith("+")){for(let e of v.slice(1))if("n"===e)l=!0;else if("a"===e)c=!0;else if("x"===e)u=!0;else if("r"!==e&&"i"!==e&&"f"!==e&&"F"!==e)return gl("",`bash: typeset: +${e}: invalid option
`,2)}else if("-i"===v)p=!0;else if("-l"===v)h=!0;else if("-u"===v)_=!0;else if("-f"===v)f=!0;else if("-F"===v)d=!0;else if("-g"===v)g=!0;else if(v.startsWith("-"))for(let e of v.slice(1))if("a"===e)n=!0;else if("A"===e)r=!0;else if("r"===e)i=!0;else if("x"===e)s=!0;else if("p"===e)a=!0;else if("n"===e)o=!0;else if("i"===e)p=!0;else if("l"===e)h=!0;else if("u"===e)_=!0;else if("f"===e)f=!0;else if("F"===e)d=!0;else{if("g"!==e)return gl("",`bash: typeset: -${e}: invalid option
`,2);g=!0}else m.push(v)}let v=e.state.localScopes.length>0&&!g,b=t=>{if(!v)return;let n=e.state.localScopes[e.state.localScopes.length-1];n.has(t)||n.set(t,e.state.env[t])},y=t=>{if(!v)return;let n=e.state.localScopes[e.state.localScopes.length-1];n.has(t)||n.set(t,e.state.env[t]);let r=`${t}_`;for(let t of Object.keys(e.state.env))t.startsWith(r)&&!t.includes("__")&&(n.has(t)||n.set(t,e.state.env[t]));let i=`${t}__length`;void 0===e.state.env[i]||n.has(i)||n.set(i,e.state.env[i])},$=t=>{v&&gq(e,t)};if(d){if(0===m.length){let t=Array.from(e.state.functions.keys()).sort(),n="";for(let e of t)n+=`declare -f ${e}
`;return ga(n)}let t=!0,n="";for(let r of m)e.state.functions.has(r)?n+=`${r}
`:t=!1;return gl(n,"",+!t)}if(f){if(0===m.length){let t="";for(let n of Array.from(e.state.functions.keys()).sort())t+=`${n} ()
{
    # function body
}
`;return ga(t)}let t=!0;for(let n of m)e.state.functions.has(n)||(t=!1);return gl("","",+!t)}if(a&&m.length>0)return function(e,t){let n="",r="",i=!1;for(let s of t){let t=m_(e,s);if(e.state.associativeArrays?.has(s)){let t=_g(e,s);if(0===t.length)n+=`declare -A ${s}=()
`;else{let r=t.map(t=>{let n=mf(e.state.env[`${s}_${t}`]??"");return`['${t}']=${n}`});n+=`declare -A ${s}=(${r.join(" ")})
`}continue}let a=_f(e,s);if(a.length>0){let t=a.map(t=>{let n=e.state.env[`${s}_${t}`]??"";return`[${t}]=${mp(n)}`});n+=`declare -a ${s}=(${t.join(" ")})
`;continue}if(void 0!==e.state.env[`${s}__length`]){n+=`declare -a ${s}=()
`;continue}let o=e.state.env[s];if(void 0!==o)n+=`declare ${t} ${s}=${mh(o)}
`;else{let a=e.state.declaredVars?.has(s),o=e.state.localVarDepth?.has(s);a||o?n+=`declare ${t} ${s}
`:(r+=`bash: declare: ${s}: not found
`,i=!0)}}return gl(n,r,+!!i)}(e,m);if(a&&0===m.length)return function(e,t){let{filterExport:n,filterReadonly:r,filterNameref:i,filterIndexedArray:s,filterAssocArray:a}=t,o=n||r||i||s||a,l="",c=new Set;for(let t of Object.keys(e.state.env)){if(t.startsWith("BASH_"))continue;if(t.endsWith("__length")){let e=t.slice(0,-8);c.add(e);continue}let n=t.lastIndexOf("_");if(n>0){let r=t.slice(0,n),i=t.slice(n+1);if(/^\d+$/.test(i)||e.state.associativeArrays?.has(r)){c.add(r);continue}}c.add(t)}if(e.state.localVarDepth)for(let t of e.state.localVarDepth.keys())c.add(t);if(e.state.associativeArrays)for(let t of e.state.associativeArrays)c.add(t);for(let t of Array.from(c).sort()){let c=m_(e,t),u=e.state.associativeArrays?.has(t),p=_f(e,t),h=!u&&(p.length>0||void 0!==e.state.env[`${t}__length`]);if(o&&(a&&!u||s&&!h||n&&!e.state.exportedVars?.has(t)||r&&!e.state.readonlyVars?.has(t)||i&&!_N(e,t)))continue;if(u){let n=_g(e,t);if(0===n.length)l+=`declare -A ${t}=()
`;else{let r=n.map(n=>{let r=mf(e.state.env[`${t}_${n}`]??"");return`['${n}']=${r}`});l+=`declare -A ${t}=(${r.join(" ")})
`}continue}if(p.length>0){let n=p.map(n=>{let r=e.state.env[`${t}_${n}`]??"";return`[${n}]=${mp(r)}`});l+=`declare -a ${t}=(${n.join(" ")})
`;continue}if(void 0!==e.state.env[`${t}__length`]){l+=`declare -a ${t}=()
`;continue}let _=e.state.env[t];void 0!==_&&(l+=`declare ${c} ${t}=${mh(_)}
`)}return ga(l)}(e,{filterExport:s,filterReadonly:i,filterNameref:o,filterIndexedArray:n,filterAssocArray:r});if(0===m.length&&r&&!a){let t="";for(let n of Array.from(e.state.associativeArrays??[]).sort()){let r=_g(e,n);if(0===r.length)t+=`declare -A ${n}=()
`;else{let i=r.map(t=>{let r=mf(e.state.env[`${n}_${t}`]??"");return`['${t}']=${r}`});t+=`declare -A ${n}=(${i.join(" ")})
`}}return ga(t)}if(0===m.length&&n&&!a)return function(e){let t="",n=new Set;for(let t of Object.keys(e.state.env)){if(t.startsWith("BASH_"))continue;if(t.endsWith("__length")){let r=t.slice(0,-8);e.state.associativeArrays?.has(r)||n.add(r);continue}let r=t.lastIndexOf("_");if(r>0){let i=t.slice(0,r),s=t.slice(r+1);/^\d+$/.test(s)&&(e.state.associativeArrays?.has(i)||n.add(i))}}for(let r of Array.from(n).sort()){let n=_f(e,r);if(0===n.length)t+=`declare -a ${r}=()
`;else{let i=n.map(t=>{let n=e.state.env[`${r}_${t}`]??"";return`[${t}]=${mp(n)}`});t+=`declare -a ${r}=(${i.join(" ")})
`}}return ga(t)}(e);if(0===m.length&&!a)return function(e){let t="",n=new Set;for(let t of Object.keys(e.state.env)){if(t.startsWith("BASH_"))continue;if(t.endsWith("__length")){let e=t.slice(0,-8);n.add(e);continue}let r=t.lastIndexOf("_");if(r>0){let i=t.slice(0,r),s=t.slice(r+1);if(/^\d+$/.test(s)||e.state.associativeArrays?.has(i)){n.add(i);continue}}n.add(t)}for(let r of Array.from(n).sort()){if(e.state.associativeArrays?.has(r)||_f(e,r).length>0||void 0!==e.state.env[`${r}__length`])continue;let n=e.state.env[r];void 0!==n&&(t+=`${r}=${mu(n)}
`)}return ga(t)}(e);let x="",S=0;for(let t of m){let a=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)=\((.*)\)$/s);if(a&&!c){let t=a[1],o=a[2];if(r&&_f(e,t).length>0){x+=`bash: declare: ${t}: cannot convert indexed to associative array
`,S=1;continue}if((n||!r&&!n)&&e.state.associativeArrays?.has(t)){x+=`bash: declare: ${t}: cannot convert associative to indexed array
`,S=1;continue}if(y(t),r&&(e.state.associativeArrays??=new Set,e.state.associativeArrays.add(t)),_d(e,t),delete e.state.env[t],delete e.state.env[`${t}__length`],r&&o.includes("["))for(let[n,r]of gU(o)){let i=mo(e,r);e.state.env[`${t}_${n}`]=i}else if(r){let n=gH(o);for(let r=0;r<n.length;r+=2){let i=n[r],s=r+1<n.length?mo(e,n[r+1]):"";e.state.env[`${t}_${i}`]=s}}else{let n=gH(o);if(n.some(e=>/^\[[^\]]+\]=/.test(e))){let r=0;for(let i of n){let n=i.match(/^\[([^\]]+)\]=(.*)$/);if(n){let i=n[1],s=mo(e,n[2]),a;if(/^-?\d+$/.test(i))a=Number.parseInt(i,10);else try{let t=new _r,n=hm(t,i);a=await dU(e,n.expression)}catch{a=0}e.state.env[`${t}_${a}`]=s,r=a+1}else{let n=mo(e,i);e.state.env[`${t}_${r}`]=n,r++}}}else{for(let r=0;r<n.length;r++)e.state.env[`${t}_${r}`]=n[r];e.state.env[`${t}__length`]=String(n.length)}}$(t),i&&fs(e,t),s&&fl(e,t);continue}if(l){let n=t.includes("=")?t.slice(0,t.indexOf("=")):t;if(e.state.namerefs?.delete(n),e.state.boundNamerefs?.delete(n),e.state.invalidNamerefs?.delete(n),!t.includes("="))continue}if(u&&(fc(e,t.includes("=")?t.slice(0,t.indexOf("=")):t),!t.includes("=")))continue;let f=function(e){let t=e.match(/^[a-zA-Z_][a-zA-Z0-9_]*/);if(!t)return null;let n=t[0],r=n.length;if("["!==e[r])return null;let i=0,s=r+1;for(;r<e.length;r++)if("["===e[r])i++;else if("]"===e[r]&&0==--i)break;if(0!==i)return null;let a=e.slice(s,r);return"="!==e[++r]?null:(r++,{name:n,indexExpr:a,value:e.slice(r)})}(t);if(f){let t,{name:n,indexExpr:r,value:a}=f;fo(e,n),y(n);try{let n=new _r,i=hm(n,r);t=await dU(e,i.expression)}catch{let e=parseInt(r,10);t=Number.isNaN(e)?0:e}e.state.env[`${n}_${t}`]=a,t>=parseInt(e.state.env[`${n}__length`]??"0",10)&&(e.state.env[`${n}__length`]=String(t+1)),$(n),i&&fs(e,n),s&&fl(e,n);continue}let d=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\+=\((.*)\)$/s);if(d&&!c){let t=d[1],n=d[2];fo(e,t),y(t);let r=gH(n);if(e.state.associativeArrays?.has(t))for(let[r,i]of gU(n)){let n=mo(e,i);e.state.env[`${t}_${r}`]=n}else{let n=_f(e,t),i=0;if(0===n.length&&void 0!==e.state.env[t]){let n=e.state.env[t];e.state.env[`${t}_0`]=n,delete e.state.env[t],i=1}else n.length>0&&(i=Math.max(...n)+1);for(let n=0;n<r.length;n++)e.state.env[`${t}_${i+n}`]=mo(e,r[n]);let s=i+r.length;e.state.env[`${t}__length`]=String(s)}$(t),i&&fs(e,t),s&&fl(e,t);continue}let g=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\+=(.*)$/);if(g){let t=g[1],n=mo(e,g[2]);fo(e,t),b(t),p&&md(e,t),h&&mm(e,t),_&&mv(e,t);let r=_f(e,t).length>0||e.state.associativeArrays?.has(t);if(mg(e,t))n=String((parseInt(e.state.env[t]??"0",10)||0)+(parseInt(await my(e,n),10)||0)),e.state.env[t]=n;else if(r){n=mb(e,t,n);let r=`${t}_0`,i=e.state.env[r]??"";e.state.env[r]=i+n}else{n=mb(e,t,n);let r=e.state.env[t]??"";e.state.env[t]=r+n}$(t),i&&fs(e,t),s&&fl(e,t),e.state.options.allexport&&!u&&(e.state.exportedVars=e.state.exportedVars||new Set,e.state.exportedVars.add(t));continue}if(t.includes("=")){let n=t.indexOf("="),r=t.slice(0,n),a=t.slice(n+1);if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r)){x+=`bash: typeset: \`${r}': not a valid identifier
`,S=1;continue}if(fo(e,r),b(r),o){if(""!==a&&!/^[a-zA-Z_][a-zA-Z0-9_]*(\[.+\])?$/.test(a)){x+=`bash: declare: \`${a}': invalid variable name for name reference
`,S=1;continue}e.state.env[r]=a,_P(e,r),""!==a&&_D(e,a)&&_I(e,r),$(r),i&&fs(e,r),s&&fl(e,r);continue}if(p&&md(e,r),h&&mm(e,r),_&&mv(e,r),mg(e,r)&&(a=await my(e,a)),a=mb(e,r,a),_N(e,r)){let t=_M(e,r);t&&t!==r?e.state.env[t]=a:e.state.env[r]=a}else e.state.env[r]=a;$(r),i&&fs(e,r),s&&fl(e,r),e.state.options.allexport&&!u&&(e.state.exportedVars=e.state.exportedVars||new Set,e.state.exportedVars.add(r))}else{let a=t;if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(a)){x+=`bash: typeset: \`${a}': not a valid identifier
`,S=1;continue}if(n||r?y(a):b(a),o){_P(e,a);let t=e.state.env[a];void 0===t||""===t||/^[a-zA-Z_][a-zA-Z0-9_]*(\[.+\])?$/.test(t)?t&&_D(e,t)&&_I(e,a):(e.state.invalidNamerefs??=new Set,e.state.invalidNamerefs.add(a)),$(a),i&&fs(e,a),s&&fl(e,a);continue}if(p&&md(e,a),h&&mm(e,a),_&&mv(e,a),r){if(_f(e,a).length>0){x+=`bash: declare: ${a}: cannot convert indexed to associative array
`,S=1;continue}e.state.associativeArrays??=new Set,e.state.associativeArrays.add(a)}let l=Object.keys(e.state.env).some(e=>e.startsWith(`${a}_`)&&!e.startsWith(`${a}__length`));a in e.state.env||l||(n||r?e.state.env[`${a}__length`]="0":(e.state.declaredVars??=new Set,e.state.declaredVars.add(a))),$(a),i&&fs(e,a),s&&fl(e,a)}}return gl("",x,S)}async function mx(e,t){let n=[];for(let e=0;e<t.length;e++){let r=t[e];if("-a"===r);else if("-A"===r);else if("-p"===r);else if("--"===r){n.push(...t.slice(e+1));break}else r.startsWith("-")||n.push(r)}if(0===n.length){let t="";for(let n of Array.from(e.state.readonlyVars||[]).sort()){let r=e.state.env[n];if(void 0!==r){let e=r.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t+=`declare -r ${n}="${e}"
`}}return ga(t)}for(let t of n){let n=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\+=\((.*)\)$/s);if(n){let t=n[1],r=n[2];fo(e,t);let i=gH(r);if(e.state.associativeArrays?.has(t))for(let[n,i]of gU(r)){let r=mo(e,i);e.state.env[`${t}_${n}`]=r}else{let n=_f(e,t),r=0;if(0===n.length&&void 0!==e.state.env[t]){let n=e.state.env[t];e.state.env[`${t}_0`]=n,delete e.state.env[t],r=1}else n.length>0&&(r=Math.max(...n)+1);for(let n=0;n<i.length;n++)e.state.env[`${t}_${r+n}`]=mo(e,i[n]);let s=r+i.length;e.state.env[`${t}__length`]=String(s)}fs(e,t);continue}let r=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\+=(.*)$/);if(r){let t=r[1],n=mo(e,r[2]);fo(e,t);let i=e.state.env[t]??"";e.state.env[t]=i+n,fs(e,t);continue}let i=function(e){let t=e.match(/^([a-zA-Z_][a-zA-Z0-9_]*)=\((.*)\)$/s);if(t)return{name:t[1],isArray:!0,arrayElements:gH(t[2])};let n=e.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([^\]]+)\]=(.*)$/s);if(n)return{name:n[1],isArray:!1,arrayIndex:n[2],value:n[3]};if(e.includes("=")){let t=e.indexOf("=");return{name:e.slice(0,t),isArray:!1,value:e.slice(t+1)}}return{name:e,isArray:!1}}(t);if(void 0===i.value&&!i.isArray){fs(e,i.name);continue}let s=await gW(e,i,{makeReadonly:!0});if(s)return s}return gs}function mS(e){return e.state.directoryStack??=[],e.state.directoryStack}function mA(e,t){return t&&e===t?"~":t&&e.startsWith(`${t}/`)?`~${e.slice(t.length)}`:e}async function mw(e,t){let n,r=mS(e),i;for(let e=0;e<t.length;e++){let n=t[e];if("--"===n){if(e+1<t.length){if(void 0!==i)return go(`bash: pushd: too many arguments
`,2);i=t[e+1],e++}}else{if(n.startsWith("-")&&"-"!==n)return go(`bash: pushd: ${n}: invalid option
`,2);if(void 0!==i)return go(`bash: pushd: too many arguments
`,2);i=n}}if(void 0===i){if(r.length<2)return go(`bash: pushd: no other directory
`,1);let e=r[0];r[0]=r[1],r[1]=e,i=r[0]}if(i.startsWith("/"))n=i;else if(".."===i){let t=e.state.cwd.split("/").filter(e=>e);t.pop(),n=`/${t.join("/")}`}else n="."===i?e.state.cwd:i.startsWith("~")?(e.state.env.HOME||"/")+i.slice(1):`${e.state.cwd}/${i}`;n=function(e){let t=e.split("/").filter(e=>e&&"."!==e),n=[];for(let e of t)".."===e?n.pop():n.push(e);return`/${n.join("/")}`}(n);try{if(!(await e.fs.stat(n)).isDirectory)return go(`bash: pushd: ${i}: Not a directory
`,1)}catch{return go(`bash: pushd: ${i}: No such file or directory
`,1)}r.unshift(e.state.cwd),e.state.previousDir=e.state.cwd,e.state.cwd=n,e.state.env.PWD=n,e.state.env.OLDPWD=e.state.previousDir;let s=e.state.env.HOME||"";return ga(`${[n,...r].map(e=>mA(e,s)).join(" ")}
`)}async function mE(e,t,n){let r=t;if(r.length>0){let e=r[0];if("--"===e)r=r.slice(1);else if(e.startsWith("-")&&"-"!==e&&e.length>1)return go(`bash: eval: ${e}: invalid option
eval: usage: eval [arg ...]
`,2)}if(0===r.length)return gs;let i=r.join(" ");if(""===i.trim())return gs;let s=e.state.groupStdin,a=n??e.state.groupStdin;void 0!==a&&(e.state.groupStdin=a);try{let t=_n(i);return await e.executeScript(t)}catch(e){if(e instanceof rL||e instanceof rI||e instanceof rD||e instanceof rB)throw e;if("ParseException"===e.name)return go(`bash: eval: ${e.message}
`);throw e}finally{e.state.groupStdin=s}}async function mk(e,t){e.state.hashTable||(e.state.hashTable=new Map);let n=!1,r=!1,i=!1,s=!1,a=!1,o="",l=[],c=0;for(;c<t.length;){let e=t[c];if("--"===e){c++,l.push(...t.slice(c));break}if("-r"===e)n=!0,c++;else if("-d"===e)r=!0,c++;else if("-l"===e)i=!0,c++;else if("-t"===e)a=!0,c++;else if("-p"===e){if(s=!0,++c>=t.length)return go(`bash: hash: -p: option requires an argument
`,1);o=t[c],c++}else if(e.startsWith("-")&&e.length>1){for(let t of e.slice(1))if("r"===t)n=!0;else if("d"===t)r=!0;else if("l"===t)i=!0;else{if("t"!==t)return"p"===t?go(`bash: hash: -p: option requires an argument
`,1):go(`bash: hash: -${t}: invalid option
`,1);a=!0}c++}else l.push(e),c++}if(n)return e.state.hashTable.clear(),gs;if(r){if(0===l.length)return go(`bash: hash: -d: option requires an argument
`,1);let t=!1,n="";for(let r of l)e.state.hashTable.has(r)?e.state.hashTable.delete(r):(n+=`bash: hash: ${r}: not found
`,t=!0);return t?go(n,1):gs}if(a){if(0===l.length)return go(`bash: hash: -t: option requires an argument
`,1);let t="",n=!1,r="";for(let i of l){let s=e.state.hashTable.get(i);s?l.length>1?t+=`${i}	${s}
`:t+=`${s}
`:(r+=`bash: hash: ${i}: not found
`,n=!0)}return n?{exitCode:1,stdout:t,stderr:r}:ga(t)}if(s){if(0===l.length)return go(`bash: hash: usage: hash [-lr] [-p pathname] [-dt] [name ...]
`,1);let t=l[0];return e.state.hashTable.set(t,o),gs}if(0===l.length){if(0===e.state.hashTable.size)return ga(`hash: hash table empty
`);let t="";if(i)for(let[n,r]of e.state.hashTable)t+=`builtin hash -p ${r} ${n}
`;else for(let[,n]of(t=`hits	command
`,e.state.hashTable))t+=`   1	${n}
`;return ga(t)}let u=!1,p="",h=(e.state.env.PATH||"/usr/bin:/bin").split(":");for(let t of l){if(t.includes("/")){p+=`bash: hash: ${t}: cannot use / in name
`,u=!0;continue}let n=!1;for(let r of h){if(!r)continue;let i=`${r}/${t}`;if(await e.fs.exists(i)){e.state.hashTable.set(t,i),n=!0;break}}n||(p+=`bash: hash: ${t}: not found
`,u=!0)}return u?go(p,1):gs}rV(),hP(),_i(),dW(),_y(),_B(),fu(),_y(),_B(),_i(),rV(),rV(),fu();var mC={":":[": [arguments]",`Null command.
    No effect; the command does nothing.
    Exit Status:
    Always succeeds.`],".":[". filename [arguments]",`Execute commands from a file in the current shell.
    Read and execute commands from FILENAME in the current shell.
    The entries in $PATH are used to find the directory containing FILENAME.
    Exit Status:
    Returns the status of the last command executed in FILENAME.`],"[":["[ arg... ]",`Evaluate conditional expression.
    This is a synonym for the "test" builtin, but the last argument must
    be a literal \`]', to match the opening \`['.`],alias:["alias [-p] [name[=value] ... ]",`Define or display aliases.
    Without arguments, \`alias' prints the list of aliases in the reusable
    form \`alias NAME=VALUE' on standard output.
    Exit Status:
    alias returns true unless a NAME is supplied for which no alias has been
    defined.`],bg:["bg [job_spec ...]",`Move jobs to the background.
    Place the jobs identified by each JOB_SPEC in the background, as if they
    had been started with \`&'.`],break:["break [n]",`Exit for, while, or until loops.
    Exit a FOR, WHILE or UNTIL loop.  If N is specified, break N enclosing
    loops.
    Exit Status:
    The exit status is 0 unless N is not greater than or equal to 1.`],builtin:["builtin [shell-builtin [arg ...]]",`Execute shell builtins.
    Execute SHELL-BUILTIN with arguments ARGs without performing command
    lookup.  This is useful when you wish to reimplement a shell builtin
    as a shell function, but need to execute the builtin within the function.
    Exit Status:
    Returns the exit status of SHELL-BUILTIN, or false if SHELL-BUILTIN is
    not a shell builtin.`],caller:["caller [expr]",`Return the context of the current subroutine call.
    Without EXPR, returns "$line $filename".  With EXPR, returns
    "$line $subroutine $filename"; this extra information can be used to
    provide a stack trace.
    Exit Status:
    Returns 0 unless the shell is not executing a subroutine call or
    EXPR is invalid.`],cd:["cd [-L|-P] [dir]",`Change the shell working directory.
    Change the current directory to DIR.  The default DIR is the value of the
    HOME shell variable.

    The variable CDPATH defines the search path for the directory containing
    DIR.  Alternative directory names in CDPATH are separated by a colon (:).
    A null directory name is the same as the current directory.  If DIR begins
    with a slash (/), then CDPATH is not used.

    If the directory is not found, and the shell option \`cdable_vars' is set,
    the word is assumed to be a variable name.  If that variable has a value,
    its value is used for DIR.

    Options:
      -L	force symbolic links to be followed
      -P	use the physical directory structure without following symbolic
    	links

    The default is to follow symbolic links, as if \`-L' were specified.

    Exit Status:
    Returns 0 if the directory is changed; non-zero otherwise.`],command:["command [-pVv] command [arg ...]",`Execute a simple command or display information about commands.
    Runs COMMAND with ARGS suppressing shell function lookup, or display
    information about the specified COMMANDs.

    Options:
      -p	use a default value for PATH that is guaranteed to find all of
    	the standard utilities
      -v	print a description of COMMAND similar to the \`type' builtin
      -V	print a more verbose description of each COMMAND

    Exit Status:
    Returns exit status of COMMAND, or failure if COMMAND is not found.`],compgen:["compgen [-abcdefgjksuv] [-o option] [-A action] [-G globpat] [-W wordlist]  [-F function] [-C command] [-X filterpat] [-P prefix] [-S suffix] [word]",`Display possible completions depending on the options.
    Intended to be used from within a shell function generating possible
    completions.  If the optional WORD argument is supplied, matches against
    WORD are generated.
    Exit Status:
    Returns success unless an invalid option is supplied or an error occurs.`],complete:["complete [-abcdefgjksuv] [-pr] [-DEI] [-o option] [-A action] [-G globpat] [-W wordlist]  [-F function] [-C command] [-X filterpat] [-P prefix] [-S suffix] [name ...]",`Specify how arguments are to be completed.
    For each NAME, specify how arguments are to be completed.
    Exit Status:
    Returns success unless an invalid option is supplied or an error occurs.`],continue:["continue [n]",`Resume for, while, or until loops.
    Resumes the next iteration of the enclosing FOR, WHILE or UNTIL loop.
    If N is specified, resumes the Nth enclosing loop.
    Exit Status:
    The exit status is 0 unless N is not greater than or equal to 1.`],declare:["declare [-aAfFgilnrtux] [-p] [name[=value] ...]",`Set variable values and attributes.
    Declare variables and give them attributes.  If no NAMEs are given,
    display the attributes and values of all variables.

    Options:
      -a	to make NAMEs indexed arrays (if supported)
      -A	to make NAMEs associative arrays (if supported)
      -i	to make NAMEs have the \`integer' attribute
      -l	to convert the value of each NAME to lower case on assignment
      -n	make NAME a reference to the variable named by its value
      -r	to make NAMEs readonly
      -t	to make NAMEs have the \`trace' attribute
      -u	to convert the value of each NAME to upper case on assignment
      -x	to make NAMEs export

    Exit Status:
    Returns success unless an invalid option is supplied or a variable
    assignment error occurs.`],dirs:["dirs [-clpv] [+N] [-N]",`Display directory stack.
    Display the list of currently remembered directories.  Directories
    find their way onto the list with the \`pushd' command; you can get
    back up through the list with the \`popd' command.
    Exit Status:
    Returns success unless an invalid option is supplied or an error occurs.`],disown:["disown [-h] [-ar] [jobspec ...]",`Remove jobs from current shell.
    Without any JOBSPECs, remove the current job.`],echo:["echo [-neE] [arg ...]",`Write arguments to the standard output.
    Display the ARGs, separated by a single space character and followed by a
    newline, on the standard output.

    Options:
      -n	do not append a newline
      -e	enable interpretation of the following backslash escapes
      -E	explicitly suppress interpretation of backslash escapes

    Exit Status:
    Returns success unless a write error occurs.`],enable:["enable [-a] [-dnps] [-f filename] [name ...]",`Enable and disable shell builtins.
    Enables and disables builtin shell commands.
    Exit Status:
    Returns success unless NAME is not a shell builtin or an error occurs.`],eval:["eval [arg ...]",`Execute arguments as a shell command.
    Combine ARGs into a single string, use the result as input to the shell,
    and execute the resulting commands.
    Exit Status:
    Returns exit status of command or success if command is null.`],exec:["exec [-cl] [-a name] [command [arguments ...]] [redirection ...]",`Replace the shell with the given command.
    Execute COMMAND, replacing this shell with the specified program.
    ARGUMENTS become the arguments to COMMAND.  If COMMAND is not specified,
    any redirections take effect in the current shell.
    Exit Status:
    Returns success unless COMMAND is not found or a redirection error occurs.`],exit:["exit [n]",`Exit the shell.
    Exits the shell with a status of N.  If N is omitted, the exit status
    is that of the last command executed.`],export:["export [-fn] [name[=value] ...] or export -p",`Set export attribute for shell variables.
    Marks each NAME for automatic export to the environment of subsequently
    executed commands.  If VALUE is supplied, assign VALUE before exporting.

    Options:
      -f	refer to shell functions
      -n	remove the export property from each NAME
      -p	display a list of all exported variables and functions

    Exit Status:
    Returns success unless an invalid option is given or NAME is invalid.`],false:["false",`Return an unsuccessful result.
    Exit Status:
    Always fails.`],fc:["fc [-e ename] [-lnr] [first] [last] or fc -s [pat=rep] [command]",`Display or execute commands from the history list.
    Exit Status:
    Returns success or status of executed command.`],fg:["fg [job_spec]",`Move job to the foreground.
    Place the job identified by JOB_SPEC in the foreground, making it the
    current job.`],getopts:["getopts optstring name [arg]",`Parse option arguments.
    Getopts is used by shell procedures to parse positional parameters
    as options.

    OPTSTRING contains the option letters to be recognized; if a letter
    is followed by a colon, the option is expected to have an argument,
    which should be separated from it by white space.
    Exit Status:
    Returns success if an option is found; fails if the end of options is
    encountered or an error occurs.`],hash:["hash [-lr] [-p pathname] [-dt] [name ...]",`Remember or display program locations.
    Determine and remember the full pathname of each command NAME.
    Exit Status:
    Returns success unless NAME is not found or an invalid option is given.`],help:["help [-s] [pattern ...]",`Display information about builtin commands.
    Displays brief summaries of builtin commands.  If PATTERN is
    specified, gives detailed help on all commands matching PATTERN,
    otherwise the list of help topics is printed.

    Options:
      -s	output only a short usage synopsis for each topic matching
    	PATTERN

    Exit Status:
    Returns success unless PATTERN is not found.`],history:["history [-c] [-d offset] [n] or history -anrw [filename] or history -ps arg [arg...]",`Display or manipulate the history list.
    Display the history list with line numbers, prefixing each modified
    entry with a \`*'.
    Exit Status:
    Returns success unless an invalid option is given or an error occurs.`],jobs:["jobs [-lnprs] [jobspec ...] or jobs -x command [args]",`Display status of jobs.
    Lists the active jobs.
    Exit Status:
    Returns success unless an invalid option is given or an error occurs.`],kill:["kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]",`Send a signal to a job.
    Send the processes identified by PID or JOBSPEC the signal named by
    SIGSPEC or SIGNUM.
    Exit Status:
    Returns success unless an invalid option is given or an error occurs.`],let:["let arg [arg ...]",`Evaluate arithmetic expressions.
    Evaluate each ARG as an arithmetic expression.  Evaluation is done in
    fixed-width integers with no check for overflow, though division by 0
    is trapped and flagged as an error.
    Exit Status:
    If the last ARG evaluates to 0, let returns 1; 0 is returned otherwise.`],local:["local [option] name[=value] ...",`Define local variables.
    Create a local variable called NAME, and give it VALUE.  OPTION can
    be any option accepted by \`declare'.

    Local can only be used within a function; it makes the variable NAME
    have a visible scope restricted to that function and its children.
    Exit Status:
    Returns success unless an invalid option is supplied, a variable
    assignment error occurs, or the shell is not executing a function.`],logout:["logout [n]",`Exit a login shell.
    Exits a login shell with exit status N.  Returns an error if not executed
    in a login shell.`],mapfile:["mapfile [-d delim] [-n count] [-O origin] [-s count] [-t] [-u fd] [-C callback] [-c quantum] [array]",`Read lines from the standard input into an indexed array variable.
    Read lines from the standard input into the indexed array variable ARRAY,
    or from file descriptor FD if the -u option is supplied.

    Options:
      -d delim	Use DELIM to terminate lines, instead of newline
      -n count	Copy at most COUNT lines
      -O origin	Begin assigning to ARRAY at index ORIGIN
      -s count	Discard the first COUNT lines read
      -t	Remove a trailing DELIM from each line read (default newline)
      -u fd	Read lines from file descriptor FD instead of standard input

    Exit Status:
    Returns success unless an invalid option is given or ARRAY is readonly.`],popd:["popd [-n] [+N | -N]",`Remove directories from stack.
    Removes entries from the directory stack.
    Exit Status:
    Returns success unless an invalid argument is supplied or the directory
    change fails.`],printf:["printf [-v var] format [arguments]",`Formats and prints ARGUMENTS under control of the FORMAT.

    Options:
      -v var	assign the output to shell variable VAR rather than
    		display it on the standard output

    FORMAT is a character string which contains three types of objects: plain
    characters, which are simply copied to standard output; character escape
    sequences, which are converted and copied to the standard output; and
    format specifications, each of which causes printing of the next successive
    argument.
    Exit Status:
    Returns success unless an invalid option is given or a write or assignment
    error occurs.`],pushd:["pushd [-n] [+N | -N | dir]",`Add directories to stack.
    Adds a directory to the top of the directory stack, or rotates
    the stack, making the new top of the stack the current working
    directory.
    Exit Status:
    Returns success unless an invalid argument is supplied or the directory
    change fails.`],pwd:["pwd [-LP]",`Print the name of the current working directory.

    Options:
      -L	print the value of $PWD if it names the current working
    	directory
      -P	print the physical directory, without any symbolic links

    By default, \`pwd' behaves as if \`-L' were specified.
    Exit Status:
    Returns 0 unless an invalid option is given or the current directory
    cannot be read.`],read:["read [-ers] [-a array] [-d delim] [-i text] [-n nchars] [-N nchars] [-p prompt] [-t timeout] [-u fd] [name ...]",`Read a line from the standard input and split it into fields.
    Reads a single line from the standard input, or from file descriptor FD
    if the -u option is supplied.  The line is split into fields as with word
    splitting, and the first word is assigned to the first NAME, the second
    word to the second NAME, and so on, with any leftover words assigned to
    the last NAME.
    Exit Status:
    The return code is zero, unless end-of-file is encountered, read times out,
    or an invalid file descriptor is supplied as the argument to -u.`],readarray:["readarray [-d delim] [-n count] [-O origin] [-s count] [-t] [-u fd] [-C callback] [-c quantum] [array]","Read lines from a file into an array variable.\n    A synonym for `mapfile'."],readonly:["readonly [-aAf] [name[=value] ...] or readonly -p",`Mark shell variables as unchangeable.
    Mark each NAME as read-only; the values of these NAMEs may not be
    changed by subsequent assignment.
    Exit Status:
    Returns success unless an invalid option is given or NAME is invalid.`],return:["return [n]",`Return from a shell function.
    Causes a function or sourced script to exit with the return value
    specified by N.  If N is omitted, the return status is that of the
    last command executed within the function or script.
    Exit Status:
    Returns N, or failure if the shell is not executing a function or script.`],set:["set [-abefhkmnptuvxBCHP] [-o option-name] [--] [arg ...]",`Set or unset values of shell options and positional parameters.
    Change the value of shell attributes and positional parameters, or
    display the names and values of shell variables.

    Options:
      -e  Exit immediately if a command exits with a non-zero status.
      -u  Treat unset variables as an error when substituting.
      -x  Print commands and their arguments as they are executed.
      -o option-name
          Set the variable corresponding to option-name

    Exit Status:
    Returns success unless an invalid option is given.`],shift:["shift [n]",`Shift positional parameters.
    Rename the positional parameters $N+1,$N+2 ... to $1,$2 ...  If N is
    not given, it is assumed to be 1.
    Exit Status:
    Returns success unless N is negative or greater than $#.`],shopt:["shopt [-pqsu] [-o] [optname ...]",`Set and unset shell options.
    Change the setting of each shell option OPTNAME.  Without any option
    arguments, list each supplied OPTNAME, or all shell options if no
    OPTNAMEs are given, with an indication of whether or not each is set.

    Options:
      -o	restrict OPTNAMEs to those defined for use with \`set -o'
      -p	print each shell option with an indication of its status
      -q	suppress output
      -s	enable (set) each OPTNAME
      -u	disable (unset) each OPTNAME

    Exit Status:
    Returns success if OPTNAME is enabled; fails if an invalid option is
    given or OPTNAME is disabled.`],source:["source filename [arguments]",`Execute commands from a file in the current shell.
    Read and execute commands from FILENAME in the current shell.
    The entries in $PATH are used to find the directory containing FILENAME.
    Exit Status:
    Returns the status of the last command executed in FILENAME.`],suspend:["suspend [-f]",`Suspend shell execution.
    Suspend the execution of this shell until it receives a SIGCONT signal.`],test:["test [expr]",`Evaluate conditional expression.
    Exits with a status of 0 (true) or 1 (false) depending on
    the evaluation of EXPR.  Expressions may be unary or binary.
    Exit Status:
    Returns success if EXPR evaluates to true; fails if EXPR evaluates to
    false or an invalid argument is given.`],times:["times",`Display process times.
    Prints the accumulated user and system times for the shell and all of its
    child processes.
    Exit Status:
    Always succeeds.`],trap:["trap [-lp] [[arg] signal_spec ...]",`Trap signals and other events.
    Defines and activates handlers to be run when the shell receives signals
    or other conditions.
    Exit Status:
    Returns success unless a SIGSPEC is invalid or an invalid option is given.`],true:["true",`Return a successful result.
    Exit Status:
    Always succeeds.`],type:["type [-afptP] name [name ...]",`Display information about command type.
    For each NAME, indicate how it would be interpreted if used as a
    command name.

    Options:
      -a	display all locations containing an executable named NAME
      -f	suppress shell function lookup
      -P	force a PATH search for each NAME, even if it is an alias,
    	builtin, or function, and returns the name of the disk file
    	that would be executed
      -p	returns either the name of the disk file that would be executed,
    	or nothing if \`type -t NAME' would not return \`file'
      -t	output a single word which is one of \`alias', \`keyword',
    	\`function', \`builtin', \`file' or \`', if NAME is an alias,
    	shell reserved word, shell function, shell builtin, disk file,
    	or not found, respectively

    Exit Status:
    Returns success if all of the NAMEs are found; fails if any are not found.`],typeset:["typeset [-aAfFgilnrtux] [-p] name[=value] ...","Set variable values and attributes.\n    A synonym for `declare'."],ulimit:["ulimit [-SHabcdefiklmnpqrstuvxPT] [limit]",`Modify shell resource limits.
    Provides control over the resources available to the shell and processes
    it creates, on systems that allow such control.
    Exit Status:
    Returns success unless an invalid option is supplied or an error occurs.`],umask:["umask [-p] [-S] [mode]",`Display or set file mode mask.
    Sets the user file-creation mask to MODE.  If MODE is omitted, prints
    the current value of the mask.
    Exit Status:
    Returns success unless MODE is invalid or an invalid option is given.`],unalias:["unalias [-a] name [name ...]",`Remove each NAME from the list of defined aliases.
    Exit Status:
    Returns success unless a NAME is not an existing alias.`],unset:["unset [-f] [-v] [-n] [name ...]",`Unset values and attributes of shell variables and functions.
    For each NAME, remove the corresponding variable or function.

    Options:
      -f	treat each NAME as a shell function
      -v	treat each NAME as a shell variable
      -n	treat each NAME as a name reference and unset the variable itself
    	rather than the variable it references

    Without options, unset first tries to unset a variable, and if that fails,
    tries to unset a function.
    Exit Status:
    Returns success unless an invalid option is given or a NAME is read-only.`],wait:["wait [-fn] [id ...]",`Wait for job completion and return exit status.
    Waits for each process identified by an ID, which may be a process ID or a
    job specification, and reports its termination status.
    Exit Status:
    Returns the status of the last ID; fails if ID is invalid or an invalid
    option is given.`]},mO=Object.keys(mC).sort();async function mR(e,t){if(0===t.length)return go(`bash: let: expression expected
`);let n=function(e){let t=[],n="",r=0;for(let i of e){for(let e of i)"("===e?r++:")"===e&&r--;n?n+=` ${i}`:n=i,0===r&&(t.push(n),n="")}return n&&t.push(n),t}(t),r=0;for(let t of n)try{let n=_n(`(( ${t} ))`).statements[0];if(n&&n.pipelines.length>0&&n.pipelines[0].commands.length>0){let t=n.pipelines[0].commands[0];"ArithmeticCommand"===t.type&&(r=await dU(e,t.expression.expression))}}catch(e){return go(`bash: let: ${t}: ${e.message}
`)}return gl("","",+(0===r))}async function mT(e,t){if(0===e.state.localScopes.length)return go(`bash: local: can only be used in a function
`);let n=e.state.localScopes[e.state.localScopes.length-1],r="",i=0,s=!1,a=!1,o=[];for(let e of t)if("-n"===e)s=!0;else if("-a"===e)a=!0;else if("-p"===e);else if(e.startsWith("-")&&!e.includes("="))for(let t of e.slice(1))"n"===t?s=!0:"a"===t&&(a=!0);else o.push(e);if(0===o.length){let t="";for(let r of Array.from(n.keys()).filter(e=>!e.includes("_")||!e.match(/_\d+$/)).filter(e=>!e.includes("__length")).sort()){let n=e.state.env[r];void 0!==n&&(t+=`${r}=${n}
`)}return gl(t,"",0)}for(let t of o){let o,l,c=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)=\((.*)\)$/s);if(c){o=c[1];let a=c[2];if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(o)){r+=`bash: local: \`${t}': not a valid identifier
`,i=1;continue}if(fo(e,o,"bash"),!n.has(o)){n.set(o,e.state.env[o]);let t=`${o}_`;for(let r of Object.keys(e.state.env))r.startsWith(t)&&!r.includes("__")&&(n.has(r)||n.set(r,e.state.env[r]))}let l=`${o}_`;for(let t of Object.keys(e.state.env))t.startsWith(l)&&!t.includes("__")&&delete e.state.env[t];let u=gH(a);for(let t=0;t<u.length;t++)e.state.env[`${o}_${t}`]=u[t];e.state.env[`${o}__length`]=String(u.length),gq(e,o),s&&_P(e,o);continue}let u=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\+=\((.*)\)$/s);if(u){o=u[1];let t=u[2];if(fo(e,o,"bash"),!n.has(o)){n.set(o,e.state.env[o]);let t=`${o}_`;for(let r of Object.keys(e.state.env))r.startsWith(t)&&!r.includes("__")&&(n.has(r)||n.set(r,e.state.env[r]));let r=`${o}__length`;void 0===e.state.env[r]||n.has(r)||n.set(r,e.state.env[r])}let r=gH(t),i=_f(e,o),a=0;if(0===i.length&&void 0!==e.state.env[o]){let t=e.state.env[o];e.state.env[`${o}_0`]=t,delete e.state.env[o],a=1}else i.length>0&&(a=Math.max(...i)+1);for(let t=0;t<r.length;t++)e.state.env[`${o}_${a+t}`]=mo(e,r[t]);let l=a+r.length;e.state.env[`${o}__length`]=String(l),gq(e,o),s&&_P(e,o);continue}let p=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\+=(.*)$/);if(p){o=p[1];let t=mo(e,p[2]);fo(e,o,"bash"),n.has(o)||n.set(o,e.state.env[o]);let r=e.state.env[o]??"";e.state.env[o]=r+t,gq(e,o),s&&_P(e,o);continue}let h=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[([^\]]+)\]=(.*)$/s);if(h){let t;o=h[1];let r=h[2],i=mo(e,h[3]);if(fo(e,o,"bash"),!n.has(o)){n.set(o,e.state.env[o]);let t=`${o}_`;for(let r of Object.keys(e.state.env))r.startsWith(t)&&!r.includes("__")&&(n.has(r)||n.set(r,e.state.env[r]));let r=`${o}__length`;void 0===e.state.env[r]||n.has(r)||n.set(r,e.state.env[r])}try{let n=new _r,i=hm(n,r);t=await dU(e,i.expression)}catch{let e=parseInt(r,10);t=Number.isNaN(e)?0:e}e.state.env[`${o}_${t}`]=i,t>=parseInt(e.state.env[`${o}__length`]??"0",10)&&(e.state.env[`${o}__length`]=String(t+1)),gq(e,o),s&&_P(e,o);continue}if(t.includes("=")){let n=t.indexOf("=");o=t.slice(0,n),l=mo(e,t.slice(n+1))}else o=t;if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(o)){r+=`bash: local: \`${t}': not a valid identifier
`,i=1;continue}let _=n.has(o);if(void 0!==l){let t=e.state.env[o];if(e.state.tempEnvBindings){let n=e.state.accessedTempEnvVars?.has(o),r=e.state.mutatedTempEnvVars?.has(o);if(!n&&!r)for(let n=e.state.tempEnvBindings.length-1;n>=0;n--){let r=e.state.tempEnvBindings[n];if(r.has(o)){t=r.get(o);break}}}!function(e,t,n){e.state.localVarStack=e.state.localVarStack||new Map;let r=e.state.localVarStack.get(t)||[];r.push({value:n,scopeIndex:e.state.localScopes.length-1}),e.state.localVarStack.set(t,r)}(e,o,t)}if(!_){let t=e.state.env[o];if(e.state.tempEnvBindings)for(let n=e.state.tempEnvBindings.length-1;n>=0;n--){let r=e.state.tempEnvBindings[n];if(r.has(o)){t=r.get(o);break}}if(n.set(o,t),a){let t=`${o}_`;for(let r of Object.keys(e.state.env))r.startsWith(t)&&!r.includes("__")&&(n.has(r)||n.set(r,e.state.env[r]));let r=`${o}__length`;void 0===e.state.env[r]||n.has(r)||n.set(r,e.state.env[r])}}if(a&&void 0===l){let t=`${o}_`;for(let n of Object.keys(e.state.env))n.startsWith(t)&&!n.includes("__")&&delete e.state.env[n];e.state.env[`${o}__length`]="0"}else if(void 0!==l){if(fo(e,o,"bash"),s&&""!==l&&!/^[a-zA-Z_][a-zA-Z0-9_]*(\[.+\])?$/.test(l)){r+=`bash: local: \`${l}': invalid variable name for name reference
`,i=1;continue}e.state.env[o]=l,e.state.options.allexport&&(e.state.exportedVars=e.state.exportedVars||new Set,e.state.exportedVars.add(o))}else{let t=e.state.tempEnvBindings?.some(e=>e.has(o));_||t||delete e.state.env[o]}gq(e,o),s&&_P(e,o)}return gl("",r,i)}_i(),dW(),hP(),_i(),dW(),_y(),_B(),fu(),_y(),_y(),_T(),rV(),rV(),_y();var mN=`set: usage: set [-eux] [+eux] [-o option] [+o option]
Options:
  -e            Exit immediately if a command exits with non-zero status
  +e            Disable -e
  -u            Treat unset variables as an error when substituting
  +u            Disable -u
  -x            Print commands and their arguments as they are executed
  +x            Disable -x
  -o errexit    Same as -e
  +o errexit    Disable errexit
  -o nounset    Same as -u
  +o nounset    Disable nounset
  -o pipefail   Return status of last failing command in pipeline
  +o pipefail   Disable pipefail
  -o xtrace     Same as -x
  +o xtrace     Disable xtrace
`,mP={e:"errexit",u:"nounset",x:"xtrace",v:"verbose",f:"noglob",C:"noclobber",a:"allexport",n:"noexec",h:null,b:null,m:null,B:null,H:null,P:null,T:null,E:null,p:null},mL={errexit:"errexit",pipefail:"pipefail",nounset:"nounset",xtrace:"xtrace",verbose:"verbose",noclobber:"noclobber",noglob:"noglob",allexport:"allexport",noexec:"noexec",posix:"posix",vi:"vi",emacs:"emacs",notify:null,monitor:null,braceexpand:null,histexpand:null,physical:null,functrace:null,errtrace:null,privileged:null,hashall:null,ignoreeof:null,"interactive-comments":null,keyword:null,onecmd:null},mI=["errexit","nounset","pipefail","verbose","xtrace","posix","allexport","noclobber","noglob","noexec","vi","emacs"],mD=["braceexpand","errtrace","functrace","hashall","histexpand","history","ignoreeof","interactive-comments","keyword","monitor","nolog","notify","onecmd","physical","privileged"];function mM(e,t,n){null!==t&&(n&&("vi"===t?e.state.options.emacs=!1:"emacs"===t&&(e.state.options.vi=!1)),e.state.options[t]=n,d3(e))}function mF(e,t){let n=1;for(;void 0!==e.state.env[String(n)];)delete e.state.env[String(n)],n++;for(let n=0;n<t.length;n++)e.state.env[String(n+1)]=t[n];e.state.env["#"]=String(t.length),e.state.env["@"]=t.join(" "),e.state.env["*"]=t.join(" ")}async function mB(e,t){let n=t;if(n.length>0&&"--"===n[0]&&(n=n.slice(1)),0===n.length)return gl("",`bash: source: filename argument required
`,2);let r=n[0],i=null;if(r.includes("/")){let t=e.fs.resolvePath(e.state.cwd,r);try{i=await e.fs.readFile(t)}catch{}}else{for(let t of(e.state.env.PATH||"").split(":").filter(e=>e)){let n=e.fs.resolvePath(e.state.cwd,`${t}/${r}`);try{if((await e.fs.stat(n)).isDirectory)continue;i=await e.fs.readFile(n);break}catch{}}if(null===i){let t=e.fs.resolvePath(e.state.cwd,r);try{i=await e.fs.readFile(t)}catch{}}}if(null===i)return go(`bash: ${r}: No such file or directory
`);let s={};if(n.length>1){for(let t=1;t<=9;t++)s[String(t)]=e.state.env[String(t)];s["#"]=e.state.env["#"],s["@"]=e.state.env["@"];let t=n.slice(1);e.state.env["#"]=String(t.length),e.state.env["@"]=t.join(" ");for(let n=0;n<t.length&&n<9;n++)e.state.env[String(n+1)]=t[n];for(let n=t.length+1;n<=9;n++)delete e.state.env[String(n)]}let a=e.state.currentSource,o=()=>{if(e.state.sourceDepth--,e.state.currentSource=a,n.length>1)for(let[t,n]of Object.entries(s))void 0===n?delete e.state.env[t]:e.state.env[t]=n};e.state.sourceDepth++,e.state.currentSource=r;try{let t=_n(i),n=await e.executeScript(t);return o(),n}catch(e){if(o(),e instanceof rB)throw e;if(e instanceof rD)return gl(e.stdout,e.stderr,e.exitCode);if("ParseException"===e.name)return go(`bash: ${r}: ${e.message}
`);throw e}}function mH(e){return/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(e)}async function mU(e,t){if(t.startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"'))return null;try{let n=new _r,r=hm(n,t);return await dU(e,r.expression)}catch{let e=parseInt(t,10);return Number.isNaN(e)?0:e}}function mj(e,t){if(e.state.localVarStack?.has(t)){let n=gV(e,t);if(n){void 0===n.value?delete e.state.env[t]:e.state.env[t]=n.value;let r=e.state.localVarStack?.get(t);if(r&&0!==r.length){let n=r[r.length-1];e.state.localVarDepth=e.state.localVarDepth||new Map,e.state.localVarDepth.set(t,n.scopeIndex+1)}else gG(e,t),e.state.localVarStack?.delete(t),e.state.fullyUnsetLocals=e.state.fullyUnsetLocals||new Map,e.state.fullyUnsetLocals.set(t,n.scopeIndex),mW(e,t);return!0}return delete e.state.env[t],gG(e,t),e.state.localVarStack?.delete(t),e.state.fullyUnsetLocals=e.state.fullyUnsetLocals||new Map,e.state.fullyUnsetLocals.set(t,0),!0}for(let n=e.state.localScopes.length-1;n>=0;n--){let r=e.state.localScopes[n];if(r.has(t)){let i=r.get(t);void 0===i?delete e.state.env[t]:e.state.env[t]=i,r.delete(t);let s=!1;for(let r=n-1;r>=0;r--)if(e.state.localScopes[r].has(t)){e.state.localVarDepth&&e.state.localVarDepth.set(t,r+1),s=!0;break}return s||gG(e,t),!0}}return!1}function mW(e,t){if(!e.state.tempEnvBindings||0===e.state.tempEnvBindings.length)return!1;for(let n=e.state.tempEnvBindings.length-1;n>=0;n--){let r=e.state.tempEnvBindings[n];if(r.has(t)){let n=r.get(t);return void 0===n?delete e.state.env[t]:e.state.env[t]=n,r.delete(t),!0}}return!1}async function mq(e,t){if(t.startsWith("'")&&t.endsWith("'"))return t.slice(1,-1);if(t.startsWith('"')&&t.endsWith('"')){let n=t.slice(1,-1);return dy(e,new _r().parseWordFromString(n,!0,!1))}return t.includes("$")?dy(e,new _r().parseWordFromString(t,!1,!1)):t}async function mz(e,t){let n="both",r="",i=0;for(let s of t){if("-v"===s){n="variable";continue}if("-f"===s){n="function";continue}if("function"===n){e.state.functions.delete(s);continue}if("variable"===n){let t=s.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(.+)\]$/);if(t){let n=t[1],s=t[2];if("@"===s||"*"===s){for(let[t]of _H(e,n))delete e.state.env[`${n}_${t}`];delete e.state.env[n];continue}let a=e.state.associativeArrays?.has(n);if(a){let t=await mq(e,s);delete e.state.env[`${n}_${t}`];continue}let o=_U(e,n),l=e.state.declaredVars?.has(n);if((n in e.state.env||l)&&!o&&!a){r+=`bash: unset: ${n}: not an array variable
`,i=1;continue}let c=await mU(e,s);if(null===c&&o){r+=`bash: unset: ${s}: not a valid identifier
`,i=1;continue}if(null===c)continue;if(c<0){let t=_H(e,n),s=t.length,a=e.state.currentLine;if(0===s){r+=`bash: line ${a}: unset: [${c}]: bad array subscript
`,i=1;continue}let o=s+c;if(o<0){r+=`bash: line ${a}: unset: [${c}]: bad array subscript
`,i=1;continue}let l=t[o][0];delete e.state.env[`${n}_${l}`];continue}delete e.state.env[`${n}_${c}`];continue}if(!mH(s)){r+=`bash: unset: \`${s}': not a valid identifier
`,i=1;continue}let n=s;if(_N(e,s)){let t=_M(e,s);t&&t!==s&&(n=t)}if(fa(e,n)){r+=`bash: unset: ${n}: cannot unset: readonly variable
`,i=1;continue}let a=gz(e,n);if(void 0!==a&&a!==e.state.callDepth)mj(e,n);else if(e.state.fullyUnsetLocals?.has(n))delete e.state.env[n];else if(void 0!==a){let t=e.state.accessedTempEnvVars?.has(n),r=e.state.mutatedTempEnvVars?.has(n);if((t||r)&&e.state.localVarStack?.has(n)){let t=gV(e,n);t?void 0===t.value?delete e.state.env[n]:e.state.env[n]=t.value:delete e.state.env[n]}else delete e.state.env[n]}else mW(e,n)||delete e.state.env[n];e.state.exportedVars?.delete(n);continue}let t=s.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(.+)\]$/);if(t){let n=t[1],s=t[2];if("@"===s||"*"===s){for(let[t]of _H(e,n))delete e.state.env[`${n}_${t}`];delete e.state.env[n];continue}let a=e.state.associativeArrays?.has(n);if(a){let t=await mq(e,s);delete e.state.env[`${n}_${t}`];continue}let o=_U(e,n);if(n in e.state.env&&!o&&!a){r+=`bash: unset: ${n}: not an array variable
`,i=1;continue}let l=await mU(e,s);if(null===l&&o){r+=`bash: unset: ${s}: not a valid identifier
`,i=1;continue}if(null===l)continue;if(l<0){let t=_H(e,n),s=t.length,a=e.state.currentLine;if(0===s){r+=`bash: line ${a}: unset: [${l}]: bad array subscript
`,i=1;continue}let o=s+l;if(o<0){r+=`bash: line ${a}: unset: [${l}]: bad array subscript
`,i=1;continue}let c=t[o][0];delete e.state.env[`${n}_${c}`];continue}delete e.state.env[`${n}_${l}`];continue}if(!mH(s)){r+=`bash: unset: \`${s}': not a valid identifier
`,i=1;continue}let a=s;if(_N(e,s)){let t=_M(e,s);t&&t!==s&&(a=t)}if(fa(e,a)){r+=`bash: unset: ${a}: cannot unset: readonly variable
`,i=1;continue}let o=gz(e,a);if(void 0!==o&&o!==e.state.callDepth)mj(e,a);else if(e.state.fullyUnsetLocals?.has(a))delete e.state.env[a];else if(void 0!==o){let t=e.state.accessedTempEnvVars?.has(a),n=e.state.mutatedTempEnvVars?.has(a);if((t||n)&&e.state.localVarStack?.has(a)){let t=gV(e,a);t?void 0===t.value?delete e.state.env[a]:e.state.env[a]=t.value:delete e.state.env[a]}else delete e.state.env[a]}else mW(e,a)||delete e.state.env[a];e.state.exportedVars?.delete(a),e.state.functions.delete(s)}return gl("",r,i)}rV(),_i(),rV(),hP(),_i(),dW(),_q(),dI(),_B(),fu();var mG=["extglob","dotglob","nullglob","failglob","globstar","globskipdots","nocaseglob","nocasematch","expand_aliases","lastpipe","xpg_echo"],mV=["autocd","cdable_vars","cdspell","checkhash","checkjobs","checkwinsize","cmdhist","compat31","compat32","compat40","compat41","compat42","compat43","compat44","complete_fullquote","direxpand","dirspell","execfail","extdebug","extquote","force_fignore","globasciiranges","gnu_errfmt","histappend","histreedit","histverify","hostcomplete","huponexit","inherit_errexit","interactive_comments","lithist","localvar_inherit","localvar_unset","login_shell","mailwarn","no_empty_cmd_completion","progcomp","progcomp_alias","promptvars","restricted_shell","shift_verbose","sourcepath"];function mZ(e){return mG.includes(e)}async function mK(e,t,n){if(t.includes("/")){let n=e.fs.resolvePath(e.state.cwd,t);if(!await e.fs.exists(n))return{error:"not_found",path:n};let r=n.split("/").pop()||t,i=e.commands.get(r);try{let t=await e.fs.stat(n);return t.isDirectory?{error:"permission_denied",path:n}:i?{cmd:i,path:n}:(73&t.mode)!=0?{script:!0,path:n}:{error:"permission_denied",path:n}}catch{return{error:"not_found",path:n}}}if(!n&&e.state.hashTable){let n=e.state.hashTable.get(t);if(n)if(await e.fs.exists(n)){let r=e.commands.get(t);if(r)return{cmd:r,path:n};try{let t=await e.fs.stat(n);if(!t.isDirectory&&(73&t.mode)!=0)return{script:!0,path:n}}catch{}}else e.state.hashTable.delete(t)}for(let r of(n??e.state.env.PATH??"/usr/bin:/bin").split(":")){if(!r)continue;let n=`${r.startsWith("/")?r:e.fs.resolvePath(e.state.cwd,r)}/${t}`;if(await e.fs.exists(n))try{let i=await e.fs.stat(n);if(i.isDirectory)continue;let s=(73&i.mode)!=0,a=e.commands.get(t),o="/bin"===r||"/usr/bin"===r;if(a&&o)return{cmd:a,path:n};if(s&&(a&&!o||!a))return{script:!0,path:n}}catch{}}if(!await e.fs.exists("/usr/bin")){let n=e.commands.get(t);if(n)return{cmd:n,path:`/usr/bin/${t}`}}return null}async function mX(e,t){let n=[];if(t.includes("/")){let r=e.fs.resolvePath(e.state.cwd,t);if(await e.fs.exists(r))try{let i=await e.fs.stat(r);i.isDirectory||(73&i.mode)!=0&&n.push(t)}catch{}return n}for(let r of(e.state.env.PATH||"/usr/bin:/bin").split(":")){if(!r)continue;let i=`${r.startsWith("/")?r:e.fs.resolvePath(e.state.cwd,r)}/${t}`;if(await e.fs.exists(i)){try{if((await e.fs.stat(i)).isDirectory)continue}catch{continue}n.push(r.startsWith("/")?i:`${r}/${t}`)}}return n}async function mQ(e,t,n,r){let i=!1,s=!1,a=!1,o=!1,l=!1,c=[];for(let e of t)if(e.startsWith("-")&&e.length>1)for(let t of e.slice(1))"t"===t?i=!0:"p"===t?s=!0:"P"===t?a=!0:"a"===t?o=!0:"f"===t&&(l=!0);else c.push(e);let u="",p="",h=!1,_=!1;for(let t of c){let c=!1;if(a){if(o){let e=await r(t);if(e.length>0){for(let t of e)u+=`${t}
`;h=!0,c=!0}}else{let e=await n(t);e&&(u+=`${e}
`,h=!0,c=!0)}c||(_=!0);continue}let f=!l&&e.state.functions.has(t);if(o&&f){if(!s)if(i)u+=`function
`;else{let n=e.state.functions.get(t);u+=n?mJ(t,n):`${t} is a function
`}c=!0}let d=e.state.env[`BASH_ALIAS_${t}`];if(!(void 0!==d&&(o||!c)&&(s||(i?u+=`alias
`:u+=`${t} is aliased to \`${d}'
`),c=!0,!o)||gK.has(t)&&(o||!c)&&(s||(i?u+=`keyword
`:u+=`${t} is a shell keyword
`),c=!0,!o))){if(!o&&f&&!c){if(!s)if(i)u+=`function
`;else{let n=e.state.functions.get(t);u+=n?mJ(t,n):`${t} is a function
`}c=!0;continue}if(!(gX.has(t)&&(o||!c)&&(s||(i?u+=`builtin
`:u+=`${t} is a shell builtin
`),c=!0,!o))){if(o)for(let e of(await r(t)))s?u+=`${e}
`:i?u+=`file
`:u+=`${t} is ${e}
`,h=!0,c=!0;else if(!c){let e=await n(t);e&&(s?u+=`${e}
`:i?u+=`file
`:u+=`${t} is ${e}
`,h=!0,c=!0)}if(!c&&(_=!0,!i&&!s)){let n=!0;if(t.includes("/")){let r=e.fs.resolvePath(e.state.cwd,t);await e.fs.exists(r)&&(n=!1)}n&&(p+=`bash: type: ${t}: not found
`)}}}}return gl(u,p,s?_&&!h?1:0:+!!_)}function mJ(e,t){let n;return n="Group"===t.body.type?t.body.body.map(e=>mY(e)).join("; "):mY(t.body),`${e} is a function
${e} () 
{ 
    ${n}
}
`}function mY(e){if(Array.isArray(e))return e.map(e=>mY(e)).join("; ");if("Statement"===e.type){let t=[];for(let n=0;n<e.pipelines.length;n++){let r=e.pipelines[n];t.push(function(e){let t=e.commands.map(e=>mY(e));return(e.negated?"! ":"")+t.join(" | ")}(r)),e.operators[n]&&t.push(e.operators[n])}return t.join(" ")}if("SimpleCommand"===e.type){let t=[];for(let n of(e.name&&t.push(m0(e.name)),e.args))t.push(m0(n));return t.join(" ")}return"Group"===e.type?`{ ${e.body.map(e=>mY(e)).join("; ")}; }`:"..."}function m0(e){let t="";for(let n of e.parts)"Literal"===n.type?t+=n.value:"DoubleQuoted"===n.type?t+=`"${n.parts.map(e=>m1(e)).join("")}"`:"SingleQuoted"===n.type?t+=`'${n.value}'`:t+=m1(n);return t}function m1(e){return"Literal"===e.type?e.value??"":"Variable"===e.type?`$${e.name}`:""}async function m2(e,t,n,r){let i="",s="",a=0;for(let n of t){if(!n){a=1;continue}let t=e.state.env[`BASH_ALIAS_${n}`];if(void 0!==t)r?i+=`${n} is an alias for "${t}"
`:i+=`alias ${n}='${t}'
`;else if(gK.has(n))r?i+=`${n} is a shell keyword
`:i+=`${n}
`;else if(gX.has(n))r?i+=`${n} is a shell builtin
`:i+=`${n}
`;else if(e.state.functions.has(n))r?i+=`${n} is a function
`:i+=`${n}
`;else if(n.includes("/")){let t=e.fs.resolvePath(e.state.cwd,n),o=!1;if(await e.fs.exists(t))try{let s=await e.fs.stat(t);s.isDirectory||(73&s.mode)!=0&&(r?i+=`${n} is ${n}
`:i+=`${n}
`,o=!0)}catch{}o||(r&&(s+=`${n}: not found
`),a=1)}else if(e.commands.has(n)){let t=(e.state.env.PATH??"/usr/bin:/bin").split(":"),s=null;for(let r of t){if(!r)continue;let t=`${r}/${n}`;try{let n=await e.fs.stat(t);if(!n.isDirectory&&(73&n.mode)!=0){s=t;break}}catch{}}s||(s=`/usr/bin/${n}`),r?i+=`${n} is ${s}
`:i+=`${s}
`}else r&&(s+=`${n}: not found
`),a=1}return gl(i,s,a)}async function m3(e,t){if(t.includes("/")){let n=e.fs.resolvePath(e.state.cwd,t);if(await e.fs.exists(n)){try{let t=await e.fs.stat(n);if(t.isDirectory||(73&t.mode)==0)return null}catch{return null}return t}return null}let n=(e.state.env.PATH??"/usr/bin:/bin").split(":");for(let r of n){if(!r)continue;let n=`${r.startsWith("/")?r:e.fs.resolvePath(e.state.cwd,r)}/${t}`;if(await e.fs.exists(n)){try{if((await e.fs.stat(n)).isDirectory)continue}catch{continue}return`${r}/${t}`}}if(e.commands.has(t)){for(let e of n)if("/usr/bin"===e||"/bin"===e)return`${e}/${t}`;return`/usr/bin/${t}`}return null}async function m5(e,t,n,r,i,s,a,o){let{ctx:l,runCommand:c}=e;if("export"===t)return function(e,t){let n=!1,r=[];for(let e of t)"-n"===e?n=!0:"-p"===e||"--"===e||r.push(e);if(0===r.length&&!n){let t="";for(let n of Array.from(e.state.exportedVars??new Set).sort()){let r=e.state.env[n];if(void 0!==r){let e=r.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t+=`declare -x ${n}="${e}"
`}}return ga(t)}if(n){for(let t of r){let n,r;if(t.includes("=")){let i=t.indexOf("=");n=t.slice(0,i),r=mo(e,t.slice(i+1)),e.state.env[n]=r}else n=t;fc(e,n)}return gs}let i="",s=0;for(let t of r){let n,r,a=!1,o=t.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\+=(.*)$/);if(o)n=o[1],r=mo(e,o[2]),a=!0;else if(t.includes("=")){let i=t.indexOf("=");n=t.slice(0,i),r=mo(e,t.slice(i+1))}else n=t;if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(n)){i+=`bash: export: \`${t}': not a valid identifier
`,s=1;continue}if(void 0!==r)if(a){let t=e.state.env[n]??"";e.state.env[n]=t+r}else e.state.env[n]=r;else n in e.state.env||(e.state.env[n]="");fl(e,n)}return gl("",i,s)}(l,n);if("unset"===t)return mz(l,n);if("exit"===t){let e,t="";if(0===n.length)e=l.state.lastExitCode;else{let r=n[0],i=Number.parseInt(r,10);""===r||Number.isNaN(i)||!/^-?\d+$/.test(r)?(t=`bash: exit: ${r}: numeric argument required
`,e=2):e=(i%256+256)%256}throw new rB(e,"",t)}if("local"===t)return mT(l,n);if("set"===t)return function(e,t){if(t.includes("--help"))return ga(mN);if(0===t.length){let t=function(e){let t=new Set,n=e.state.associativeArrays??new Set;for(let r of Object.keys(e.state.env)){let e=r.match(/^([a-zA-Z_][a-zA-Z0-9_]*)_(\d+)$/);if(e){let r=e[1];n.has(r)||t.add(r)}}return t}(e),n=e.state.associativeArrays??new Set,r=e=>{for(let t of n){let n=`${t}_`;if(e!==`${t}__length`&&e.startsWith(n)){if(e.slice(n.length).startsWith("_length"))continue;return!0}}return!1},i=[];for(let[s,a]of Object.entries(e.state.env)){if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(s)||t.has(s)||n.has(s))continue;let e=s.match(/^([a-zA-Z_][a-zA-Z0-9_]*)_(\d+)$/);if(e&&t.has(e[1]))continue;let o=s.match(/^([a-zA-Z_][a-zA-Z0-9_]*)__length$/);o&&t.has(o[1])||r(s)||o&&n.has(o[1])||i.push([s,a])}let s=[];for(let[e,t]of i.sort(([e],[t])=>e<t?-1:+(e>t)))s.push(`${e}=${mu(t)}`);for(let n of[...t].sort((e,t)=>e<t?-1:+(e>t)))s.push(function(e,t){let n=_f(e,t);if(0===n.length)return`${t}=()`;let r=n.map(n=>{let r=e.state.env[`${t}_${n}`]??"";return`[${n}]=${mp(r)}`});return`${t}=(${r.join(" ")})`}(e,n));for(let t of[...n].sort((e,t)=>e<t?-1:+(e>t)))s.push(function(e,t){let n=_g(e,t);if(0===n.length)return`${t}=()`;let r=n.map(n=>{let r=e.state.env[`${t}_${n}`]??"";return`[${/^[a-zA-Z0-9_]+$/.test(n)?n:`"${n.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}]=${mp(r)}`});return`${t}=(${r.join(" ")} )`}(e,t));return s.sort((e,t)=>{let n=e.split("=")[0],r=t.split("=")[0];return n<r?-1:+(n>r)}),ga(s.length>0?`${s.join(`
`)}
`:"")}let n=0;for(;n<t.length;){var r;let i=t[n];if(("-o"===i||"+o"===i)&&(r=n)+1<t.length&&!t[r+1].startsWith("-")&&!t[r+1].startsWith("+")){let r=t[n+1];if(!(r in mL)){let t=`bash: set: ${r}: invalid option name
${mN}`;if(e.state.options.posix)throw new rG(1,"",t);return go(t)}mM(e,mL[r],"-o"===i),n+=2;continue}if("-o"===i){let t=[...mI.map(t=>`${t.padEnd(16)}${e.state.options[t]?"on":"off"}`),...mD.map(e=>`${e.padEnd(16)}off`)].sort();return ga(`${t.join(`
`)}
`)}if("+o"===i){let t=[...mI.map(t=>`set ${e.state.options[t]?"-o":"+o"} ${t}`),...mD.map(e=>`set +o ${e}`)].sort();return ga(`${t.join(`
`)}
`)}if(i.length>1&&("-"===i[0]||"+"===i[0])&&"-"!==i[1]){let t="-"===i[0];for(let n=1;n<i.length;n++){let r=i[n];if(!(r in mP)){let t=`bash: set: ${i[0]}${r}: invalid option
${mN}`;if(e.state.options.posix)throw new rG(1,"",t);return go(t)}mM(e,mP[r],t)}n++;continue}if("--"===i)return mF(e,t.slice(n+1)),gs;if("-"===i){if(e.state.options.xtrace=!1,e.state.options.verbose=!1,d3(e),n+1<t.length)return mF(e,t.slice(n+1)),gs;n++;continue}if("+"===i){n++;continue}if(i.startsWith("-")||i.startsWith("+")){let t=`bash: set: ${i}: invalid option
${mN}`;if(e.state.options.posix)throw new rG(1,"",t);return go(t)}return mF(e,t.slice(n)),gs}return gs}(l,n);if("break"===t){if(0===l.state.loopDepth){if(l.state.parentHasLoopContext)throw new rz;return gs}if(n.length>1)throw new rB(1,"",`bash: break: too many arguments
`);let e=1;if(n.length>0){let t=Number.parseInt(n[0],10);if(Number.isNaN(t)||t<1)throw new rB(128,"",`bash: break: ${n[0]}: numeric argument required
`);e=t}throw new rL(e)}if("continue"===t){if(0===l.state.loopDepth){if(l.state.parentHasLoopContext)throw new rz;return gs}if(n.length>1)throw new rB(1,"",`bash: continue: too many arguments
`);let e=1;if(n.length>0){let t=Number.parseInt(n[0],10);if(Number.isNaN(t)||t<1)throw new rB(1,"",`bash: continue: ${n[0]}: numeric argument required
`);e=t}throw new rI(e)}if("return"===t){if(0===l.state.callDepth&&0===l.state.sourceDepth)return go("bash: return: can only `return' from a function or sourced script\n");let e=l.state.lastExitCode;if(n.length>0){let t=n[0],r=Number.parseInt(t,10);if(""===t||Number.isNaN(r)||!/^-?\d+$/.test(t))return go(`bash: return: ${t}: numeric argument required
`,2);e=(r%256+256)%256}throw new rD(e)}if("eval"===t&&l.state.options.posix)return mE(l,n,i);if("shift"===t)return function(e,t){let n=1;if(t.length>0){let r=Number.parseInt(t[0],10);if(Number.isNaN(r)||r<0){let n=`bash: shift: ${t[0]}: numeric argument required
`;if(e.state.options.posix)throw new rG(1,"",n);return go(n)}n=r}let r=Number.parseInt(e.state.env["#"]||"0",10);if(n>r){let t=`bash: shift: shift count out of range
`;if(e.state.options.posix)throw new rG(1,"",t);return go(t)}if(0===n)return gs;let i=[];for(let t=1;t<=r;t++)i.push(e.state.env[String(t)]||"");let s=i.slice(n);for(let t=1;t<=r;t++)delete e.state.env[String(t)];for(let t=0;t<s.length;t++)e.state.env[String(t+1)]=s[t];return e.state.env["#"]=String(s.length),e.state.env["@"]=s.join(" "),gs}(l,n);if("getopts"===t)return function e(t,n){if(n.length<2)return go(`bash: getopts: usage: getopts optstring name [arg ...]
`);let r=n[0],i=n[1],s=!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(i),a=r.startsWith(":"),o=a?r.slice(1):r,l;if(n.length>2)l=n.slice(2);else{let e=Number.parseInt(t.state.env["#"]||"0",10);l=[];for(let n=1;n<=e;n++)l.push(t.state.env[String(n)]||"")}let c=Number.parseInt(t.state.env.OPTIND||"1",10);c<1&&(c=1);let u=Number.parseInt(t.state.env.__GETOPTS_CHARINDEX||"0",10);if(t.state.env.OPTARG="",c>l.length)return s||(t.state.env[i]="?"),t.state.env.OPTIND=String(l.length+1),t.state.env.__GETOPTS_CHARINDEX="0",{exitCode:s?2:1,stdout:"",stderr:""};let p=l[c-1];if(!p||"-"===p||!p.startsWith("-"))return s||(t.state.env[i]="?"),{exitCode:s?2:1,stdout:"",stderr:""};if("--"===p)return t.state.env.OPTIND=String(c+1),t.state.env.__GETOPTS_CHARINDEX="0",s||(t.state.env[i]="?"),{exitCode:s?2:1,stdout:"",stderr:""};let h=0===u?1:u,_=p[h];if(!_)return t.state.env.OPTIND=String(c+1),t.state.env.__GETOPTS_CHARINDEX="0",e(t,n);let f=o.indexOf(_);if(-1===f){let e="";return a?t.state.env.OPTARG=_:e=`bash: illegal option -- ${_}
`,s||(t.state.env[i]="?"),h+1<p.length?(t.state.env.__GETOPTS_CHARINDEX=String(h+1),t.state.env.OPTIND=String(c)):(t.state.env.OPTIND=String(c+1),t.state.env.__GETOPTS_CHARINDEX="0"),{exitCode:2*!!s,stdout:"",stderr:e}}if(f+1<o.length&&":"===o[f+1])if(h+1<p.length)t.state.env.OPTARG=p.slice(h+1),t.state.env.OPTIND=String(c+1),t.state.env.__GETOPTS_CHARINDEX="0";else{if(c>=l.length){let e="";return a?(t.state.env.OPTARG=_,s||(t.state.env[i]=":")):(e=`bash: option requires an argument -- ${_}
`,s||(t.state.env[i]="?")),t.state.env.OPTIND=String(c+1),t.state.env.__GETOPTS_CHARINDEX="0",{exitCode:2*!!s,stdout:"",stderr:e}}t.state.env.OPTARG=l[c],t.state.env.OPTIND=String(c+2),t.state.env.__GETOPTS_CHARINDEX="0"}else h+1<p.length?(t.state.env.__GETOPTS_CHARINDEX=String(h+1),t.state.env.OPTIND=String(c)):(t.state.env.OPTIND=String(c+1),t.state.env.__GETOPTS_CHARINDEX="0");return s||(t.state.env[i]=_),{exitCode:2*!!s,stdout:"",stderr:""}}(l,n);if("compgen"===t)return g9(l,n);if("complete"===t)return function(e,t){e.state.completionSpecs||(e.state.completionSpecs=new Map);let n=!1,r=!1,i=!1,s,a,o,l=[],c=[],u=[];for(let e=0;e<t.length;e++){let p=t[e];if("-p"===p)n=!0;else if("-r"===p)r=!0;else if("-D"===p)i=!0;else if("-W"===p){if(++e>=t.length)return go(`complete: -W: option requires an argument
`,2);s=t[e]}else if("-F"===p){if(++e>=t.length)return go(`complete: -F: option requires an argument
`,2);a=t[e]}else if("-o"===p){if(++e>=t.length)return go(`complete: -o: option requires an argument
`,2);let n=t[e];if(!mi.includes(n))return go(`complete: ${n}: invalid option name
`,2);l.push(n)}else if("-A"===p){if(++e>=t.length)return go(`complete: -A: option requires an argument
`,2);c.push(t[e])}else if("-C"===p){if(++e>=t.length)return go(`complete: -C: option requires an argument
`,2);o=t[e]}else if("-G"===p){if(++e>=t.length)return go(`complete: -G: option requires an argument
`,2)}else if("-P"===p){if(++e>=t.length)return go(`complete: -P: option requires an argument
`,2)}else if("-S"===p){if(++e>=t.length)return go(`complete: -S: option requires an argument
`,2)}else if("-X"===p){if(++e>=t.length)return go(`complete: -X: option requires an argument
`,2)}else if("--"===p){u.push(...t.slice(e+1));break}else p.startsWith("-")||u.push(p)}if(r){if(0===u.length)return e.state.completionSpecs.clear(),ga("");for(let t of u)e.state.completionSpecs.delete(t);return ga("")}if(n)return 0===u.length?ms(e):ms(e,u);if(0===t.length||0===u.length&&!s&&!a&&!o&&0===l.length&&0===c.length&&!i)return ms(e);if(a&&0===u.length&&!i)return go(`complete: -F: option requires a command name
`,2);if(i){let t={isDefault:!0};return void 0!==s&&(t.wordlist=s),void 0!==a&&(t.function=a),void 0!==o&&(t.command=o),l.length>0&&(t.options=l),c.length>0&&(t.actions=c),e.state.completionSpecs.set("__default__",t),ga("")}for(let t of u){let n={};void 0!==s&&(n.wordlist=s),void 0!==a&&(n.function=a),void 0!==o&&(n.command=o),l.length>0&&(n.options=l),c.length>0&&(n.actions=c),e.state.completionSpecs.set(t,n)}return ga("")}(l,n);if("compopt"===t)return function(e,t){e.state.completionSpecs||(e.state.completionSpecs=new Map);let n=!1,r=!1,i=[],s=[],a=[];for(let e=0;e<t.length;e++){let o=t[e];if("-D"===o)n=!0;else if("-E"===o)r=!0;else if("-o"===o){if(++e>=t.length)return go(`compopt: -o: option requires an argument
`,2);let n=t[e];if(!ma.includes(n))return go(`compopt: ${n}: invalid option name
`,2);i.push(n)}else if("+o"===o){if(++e>=t.length)return go(`compopt: +o: option requires an argument
`,2);let n=t[e];if(!ma.includes(n))return go(`compopt: ${n}: invalid option name
`,2);s.push(n)}else if("--"===o){a.push(...t.slice(e+1));break}else o.startsWith("-")||o.startsWith("+")||a.push(o)}if(n){let t=e.state.completionSpecs.get("__default__")??{isDefault:!0},n=new Set(t.options??[]);for(let e of i)n.add(e);for(let e of s)n.delete(e);return t.options=n.size>0?Array.from(n):void 0,e.state.completionSpecs.set("__default__",t),ga("")}if(r){let t=e.state.completionSpecs.get("__empty__")??{},n=new Set(t.options??[]);for(let e of i)n.add(e);for(let e of s)n.delete(e);return t.options=n.size>0?Array.from(n):void 0,e.state.completionSpecs.set("__empty__",t),ga("")}if(a.length>0){for(let t of a){let n=e.state.completionSpecs.get(t)??{},r=new Set(n.options??[]);for(let e of i)r.add(e);for(let e of s)r.delete(e);n.options=r.size>0?Array.from(r):void 0,e.state.completionSpecs.set(t,n)}return ga("")}return go(`compopt: not currently executing completion function
`,1)}(l,n);if("pushd"===t)return await mw(l,n);if("popd"===t){let e=mS(l);for(let e of n)if("--"!==e)return e.startsWith("-")&&"-"!==e?go(`bash: popd: ${e}: invalid option
`,2):go(`bash: popd: too many arguments
`,2);if(0===e.length)return go(`bash: popd: directory stack empty
`,1);let t=e.shift();if(!t)return go(`bash: popd: directory stack empty
`,1);l.state.previousDir=l.state.cwd,l.state.cwd=t,l.state.env.PWD=t,l.state.env.OLDPWD=l.state.previousDir;let r=l.state.env.HOME||"";return ga(`${[t,...e].map(e=>mA(e,r)).join(" ")}
`)}if("dirs"===t)return function(e,t){let n=mS(e),r=!1,i=!1,s=!1,a=!1;for(let e of t)if("--"!==e)if(!e.startsWith("-"))return go(`bash: dirs: too many arguments
`,1);else for(let t of e.slice(1))if("c"===t)r=!0;else if("l"===t)i=!0;else if("p"===t)s=!0;else{if("v"!==t)return go(`bash: dirs: -${t}: invalid option
`,2);s=!0,a=!0}if(r)return e.state.directoryStack=[],gs;let o=[e.state.cwd,...n],l=e.state.env.HOME||"";return ga(a?o.map((e,t)=>{let n=i?e:mA(e,l);return` ${t}  ${n}`}).join(`
`)+`
`:s?o.map(e=>i?e:mA(e,l)).join(`
`)+`
`:o.map(e=>i?e:mA(e,l)).join(" ")+`
`)}(l,n);if("source"===t||"."===t)return mB(l,n);if("read"===t)return function(e,t,n,r=-1){let i=!1,s=`
`,a=-1,o=-1,l=null,c=-1,u=-1,p=[],h=0,_=!1,f=(e,n)=>{let r=1;for(;r<e.length;){let p=e[r];if("r"===p)i=!0,r++;else if("s"===p)r++;else{if("d"===p)return r+1<e.length?(s=e.substring(r+1),{nextArgIndex:n+1}):n+1<t.length?(s=t[n+1],{nextArgIndex:n+2}):{nextArgIndex:n+1};if("n"===p){if(r+1<e.length)return(Number.isNaN(a=Number.parseInt(e.substring(r+1),10))||a<0)&&(_=!0,a=0),{nextArgIndex:n+1};if(n+1<t.length)return(Number.isNaN(a=Number.parseInt(t[n+1],10))||a<0)&&(_=!0,a=0),{nextArgIndex:n+2};break}if("N"===p){if(r+1<e.length)return(Number.isNaN(o=Number.parseInt(e.substring(r+1),10))||o<0)&&(_=!0,o=0),{nextArgIndex:n+1};if(n+1<t.length)return(Number.isNaN(o=Number.parseInt(t[n+1],10))||o<0)&&(_=!0,o=0),{nextArgIndex:n+2};break}if("a"===p)return r+1<e.length?(l=e.substring(r+1),{nextArgIndex:n+1}):n+1<t.length?(l=t[n+1],{nextArgIndex:n+2}):{nextArgIndex:n+1};if("p"===p)return r+1<e.length?(e.substring(r+1),{nextArgIndex:n+1}):n+1<t.length?(t[n+1],{nextArgIndex:n+2}):{nextArgIndex:n+1};if("u"===p){if(r+1<e.length)return Number.isNaN(c=Number.parseInt(e.substring(r+1),10))||c<0?{nextArgIndex:-2}:{nextArgIndex:n+1};if(n+1<t.length)return Number.isNaN(c=Number.parseInt(t[n+1],10))||c<0?{nextArgIndex:-2}:{nextArgIndex:n+2};break}if("t"===p){if(r+1<e.length)return Number.isNaN(u=Number.parseFloat(e.substring(r+1)))&&(u=0),{nextArgIndex:n+1};if(n+1<t.length)return Number.isNaN(u=Number.parseFloat(t[n+1]))&&(u=0),{nextArgIndex:n+2};break}if("e"===p||"i"===p||"P"===p){if("i"===p&&n+1<t.length)return{nextArgIndex:n+2};r++}else r++}}return{nextArgIndex:n+1}};for(;h<t.length;){let e=t[h];if(e.startsWith("-")&&e.length>1&&"--"!==e){let t=f(e,h);if(-1===t.nextArgIndex)return{stdout:"",stderr:"",exitCode:2};if(-2===t.nextArgIndex)return{stdout:"",stderr:"",exitCode:1};h=t.nextArgIndex}else if("--"===e)for(h++;h<t.length;)p.push(t[h]),h++;else p.push(e),h++}if(_)return gl("","",1);if(0===p.length&&null===l&&p.push("REPLY"),0===u){if(l)_d(e,l);else{for(let t of p)e.state.env[t]="";0===p.length&&(e.state.env.REPLY="")}return gl("","",0)}if(u<0&&-1!==u)return gl("","",1);let d=n;c>=0?d=e.state.fileDescriptors&&e.state.fileDescriptors.get(c)||"":d||void 0===e.state.groupStdin||(d=e.state.groupStdin);let g=""===s?"\0":s,m="",v=0,b=!0,y=t=>{if(c>=0&&e.state.fileDescriptors)e.state.fileDescriptors.set(c,d.substring(t));else if(r>=0&&e.state.fileDescriptors){let n=e.state.fileDescriptors.get(r);if(n?.startsWith("__rw__:")){let a=function(e){if(!e.startsWith("__rw__:"))return null;let t=e.slice(7),n=t.indexOf(":");if(-1===n)return null;let r=Number.parseInt(t.slice(0,n),10);if(Number.isNaN(r)||r<0)return null;let i=n+1,s=t.slice(i,i+r),a=t.slice(i+r+1),o=a.indexOf(":");if(-1===o)return null;let l=Number.parseInt(a.slice(0,o),10);return Number.isNaN(l)||l<0?null:{path:s,position:l,content:a.slice(o+1)}}(n);if(a){var i,s;let n=a.position+t;e.state.fileDescriptors.set(r,(i=a.path,s=a.content,`__rw__:${i.length}:${i}:${n}:${s}`))}}}else void 0===e.state.groupStdin||n||(e.state.groupStdin=d.substring(t))};if(o>=0){let t=Math.min(o,d.length);m=d.substring(0,t),v=t,b=t>=o,y(v);let n=p[0]||"REPLY";e.state.env[n]=m;for(let t=1;t<p.length;t++)e.state.env[p[t]]="";return gl("","",+!b)}if(a>=0){let e=0,t=0,n=!1;for(;t<d.length&&e<a;){let r=d[t];if(r===g){v=t+1,n=!0;break}if(!i&&"\\"===r&&t+1<d.length){let n=d[t+1];if(n===g&&g===`
`){t+=2,v=t;continue}if(n===g){t+=2,e++,m+=n,v=t;continue}m+=n,t+=2,e++,v=t}else m+=r,t++,e++,v=t}b=e>=a||n,y(v)}else{v=0;let t=0;for(;t<d.length;){let e=d[t];if(e===g){v=t+g.length,b=!0;break}if(!i&&"\\"===e&&t+1<d.length){let n=d[t+1];if(n===`
`){t+=2;continue}if(n===g){m+=n,t+=2;continue}m+=e,m+=n,t+=2;continue}m+=e,t++}if(t>=d.length&&(b=!1,v=t,0===m.length&&0===d.length)){for(let t of p)e.state.env[t]="";return l&&_d(e,l),gl("","",1)}y(v)}g===`
`&&m.endsWith(`
`)&&(m=m.slice(0,-1));let $=e=>i?e:e.replace(/\\(.)/g,"$1");if(1===p.length&&"REPLY"===p[0])return e.state.env.REPLY=$(m),gl("","",+!b);let x=_$(e.state.env);if(l){let{words:t}=_k(m,x,void 0,i);_d(e,l);for(let n=0;n<t.length;n++)e.state.env[`${l}_${n}`]=$(t[n]);return gl("","",+!b)}let{words:S,wordStarts:A}=_k(m,x,p.length,i);for(let t=0;t<p.length;t++){let n=p[t];if(t<p.length-1)e.state.env[n]=$(S[t]??"");else if(t<A.length){let r=m.substring(A[t]);r=$(r=function(e,t,n){if(""===t)return e;let{whitespace:r,nonWhitespace:i}=_E(t),s=e.length;for(;s>0&&r.has(e[s-1]);){if(!n&&s>=2){let t=0,n=s-2;for(;n>=0&&"\\"===e[n];)t++,n--;if(t%2==1)break}s--}let a=e.substring(0,s);if(a.length>=1&&i.has(a[a.length-1])){if(!n&&a.length>=2){let e=0,t=a.length-2;for(;t>=0&&"\\"===a[t];)e++,t--;if(e%2==1)return a}let e=a.substring(0,a.length-1);if(!function(e,t){for(let n of e)if(t.has(n))return!0;return!1}(e,i))return e}return a}(r,x,i)),e.state.env[n]=r}else e.state.env[n]=""}return gl("","",+!b)}(l,n,i,o);if("mapfile"===t||"readarray"===t)return function(e,t,n){let r=`
`,i=0,s=0,a=0,o=!1,l="MAPFILE",c=0;for(;c<t.length;){let e=t[c];"-d"===e&&c+1<t.length?(r=""===t[c+1]?"\0":t[c+1]||`
`,c+=2):"-n"===e&&c+1<t.length?(i=Number.parseInt(t[c+1],10)||0,c+=2):"-O"===e&&c+1<t.length?(s=Number.parseInt(t[c+1],10)||0,c+=2):"-s"===e&&c+1<t.length?(a=Number.parseInt(t[c+1],10)||0,c+=2):"-t"===e?(o=!0,c++):"-u"===e||"-C"===e||"-c"===e?c+=2:(e.startsWith("-")||(l=e),c++)}let u=n;u||void 0===e.state.groupStdin||(u=e.state.groupStdin);let p=[],h=u,_=0,f=0;for(;h.length>0;){let e=h.indexOf(r);if(-1===e){if(h.length>0){if(f<a)f++;else if(0===i||_<i){let e=h,t=e.indexOf("\0");-1!==t&&(e=e.substring(0,t)),p.push(e),_++}}break}let t=h.substring(0,e),n=t.indexOf("\0");if(-1!==n&&(t=t.substring(0,n)),o||"\0"===r||(t+=r),h=h.substring(e+r.length),f<a){f++;continue}if(i>0&&_>=i)break;p.push(t),_++}0===s&&_d(e,l);for(let t=0;t<p.length;t++)e.state.env[`${l}_${s+t}`]=p[t];let d=parseInt(e.state.env[`${l}__length`]||"0",10),g=s+p.length;return e.state.env[`${l}__length`]=String(Math.max(d,g)),void 0===e.state.groupStdin||n||(e.state.groupStdin=""),gl("","",0)}(l,n,i);if("declare"===t||"typeset"===t)return m$(l,n);if("readonly"===t)return mx(l,n);if(!s){let e=l.state.functions.get(t);if(e)return g5(l,e,n,i)}if("eval"===t)return mE(l,n,i);if("cd"===t)return await gp(l,n);if(":"===t||"true"===t)return gs;if("false"===t)return gc(!1);if("let"===t)return mR(l,n);if("command"===t)return m6(e,n,i);if("builtin"===t)return m4(e,n,i);if("shopt"===t)return function(e,t){let n=!1,r=!1,i=!1,s=!1,a=!1,o=[],l=0;for(;l<t.length;){let e=t[l];if("--"===e){l++;break}if(e.startsWith("-")&&e.length>1){for(let t=1;t<e.length;t++){let o=e[t];switch(o){case"s":n=!0;break;case"u":r=!0;break;case"p":i=!0;break;case"q":s=!0;break;case"o":a=!0;break;default:return{exitCode:2,stdout:"",stderr:`shopt: -${o}: invalid option
`}}}l++}else break}for(;l<t.length;)o.push(t[l]),l++;if(a)return function(e,t,n,r,i,s){let a={errexit:"errexit",pipefail:"pipefail",nounset:"nounset",xtrace:"xtrace",verbose:"verbose",posix:"posix",allexport:"allexport",noclobber:"noclobber",noglob:"noglob",noexec:"noexec",vi:"vi",emacs:"emacs"},o=["braceexpand","errtrace","functrace","hashall","histexpand","history","ignoreeof","interactive-comments","keyword","monitor","nolog","notify","onecmd","physical","privileged"],l=[...Object.keys(a),...o].sort();if(0===t.length){let t=[];for(let s of l){let l=!o.includes(s)&&e.state.options[a[s]];n&&!l||r&&l||t.push(i?`set ${l?"-o":"+o"} ${s}`:`${s}		${l?"on":"off"}`)}return{exitCode:0,stdout:t.length>0?`${t.join(`
`)}
`:"",stderr:""}}let c=!1,u="",p=[];for(let l of t){let t=l in a,h=o.includes(l);if(!t&&!h){u+=`shopt: ${l}: invalid option name
`,c=!0;continue}if(h){n||r||(s||(i?p.push(`set +o ${l}`):p.push(`${l}		off`)),c=!0);continue}let _=a[l];if(n)"vi"===_?e.state.options.emacs=!1:"emacs"===_&&(e.state.options.vi=!1),e.state.options[_]=!0,d3(e);else if(r)e.state.options[_]=!1,d3(e);else{let t=e.state.options[_];s||(i?p.push(`set ${t?"-o":"+o"} ${l}`):p.push(`${l}		${t?"on":"off"}`)),t||(c=!0)}}return{exitCode:+!!c,stdout:p.length>0?`${p.join(`
`)}
`:"",stderr:u}}(e,o,n,r,i,s);if(n&&r)return{exitCode:1,stdout:"",stderr:`shopt: cannot set and unset shell options simultaneously
`};if(0===o.length){if(n||r){let t=[];for(let s of mG){let a=e.state.shoptOptions[s];n&&a?t.push(i?`shopt -s ${s}`:`${s}		on`):r&&!a&&t.push(i?`shopt -u ${s}`:`${s}		off`)}return{exitCode:0,stdout:t.length>0?`${t.join(`
`)}
`:"",stderr:""}}let t=[];for(let n of mG){let r=e.state.shoptOptions[n];t.push(i?`shopt ${r?"-s":"-u"} ${n}`:`${n}		${r?"on":"off"}`)}return{exitCode:0,stdout:`${t.join(`
`)}
`,stderr:""}}let c=!1,u="",p=[];for(let t of o){if(!mZ(t)&&!mV.includes(t)){u+=`shopt: ${t}: invalid shell option name
`,c=!0;continue}if(n)mZ(t)&&(e.state.shoptOptions[t]=!0,d4(e));else if(r)mZ(t)&&(e.state.shoptOptions[t]=!1,d4(e));else if(mZ(t)){let n=e.state.shoptOptions[t];s||(i?p.push(`shopt ${n?"-s":"-u"} ${t}`):p.push(`${t}		${n?"on":"off"}`)),n||(c=!0)}else s||(i?p.push(`shopt -u ${t}`):p.push(`${t}		off`)),c=!0}return{exitCode:+!!c,stdout:p.length>0?`${p.join(`
`)}
`:"",stderr:u}}(l,n);if("exec"===t){if(0===n.length)return gs;let[e,...t]=n;return c(e,t,[],i,!1,!1,-1)}if("wait"===t)return gs;if("type"===t)return await mQ(l,n,e=>m3(l,e),e=>mX(l,e));if("hash"===t)return mk(l,n);if("help"===t)return function(e,t){let n=!1,r=[],i=0;for(;i<t.length;){let e=t[i];if("--"===e){for(i++;i<t.length;)r.push(t[i]),i++;break}if(e.startsWith("-")&&e.length>1){for(let t=1;t<e.length;t++){let r=e[t];if("s"!==r)return go(`bash: help: -${r}: invalid option
`,2);n=!0}i++}else r.push(e),i++}if(0===r.length)return function(){let e=[];e.push("just-bash shell builtins"),e.push("These shell commands are defined internally. Type `help' to see this list."),e.push("Type `help name' to find out more about the function `name'."),e.push("");let t=mO.slice(),n=Math.ceil(t.length/2);for(let r=0;r<n;r++){let i=t[r]||"",s=t[r+n]||"",a=i.padEnd(36);e.push(s?`${a}${s}`:i)}return ga(`${e.join(`
`)}
`)}();let s="",a=!1,o="";for(let e of r){let t=function(e){let t=e.replace(/[.+^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*").replace(/\?/g,"."),n=RegExp(`^${t}$`);return mO.filter(e=>n.test(e))}(e);if(0===t.length){o+=`bash: help: no help topics match \`${e}'.  Try \`help help' or \`man -k ${e}' or \`info ${e}'.
`,a=!0;continue}for(let e of t){let[t,r]=mC[e];n?s+=`${e}: ${t}
`:s+=`${e}: ${t}
${r}
`}}return{exitCode:+!!a,stdout:s,stderr:o}}(0,n);if("["===t||"test"===t){let e=n;if("["===t){if("]"!==n[n.length-1])return go("[: missing `]'\n",2);e=n.slice(0,-1)}return gk(l,e)}return null}async function m6(e,t,n){let{ctx:r,runCommand:i}=e;if(0===t.length)return gs;let s=!1,a=!1,o=!1,l=t;for(;l.length>0&&l[0].startsWith("-");){let e=l[0];if("--"===e){l=l.slice(1);break}for(let t of e.slice(1))"p"===t?s=!0:"V"===t?a=!0:"v"===t&&(o=!0);l=l.slice(1)}if(0===l.length)return gs;if(o||a)return await m2(r,l,o,a);let[c,...u]=l;return i(c,u,[],n,!0,s,-1)}async function m4(e,t,n){let{runCommand:r}=e;if(0===t.length)return gs;let i=t;if("--"===i[0]&&0===(i=i.slice(1)).length)return gs;let s=i[0];if(!gX.has(s))return go(`bash: builtin: ${s}: not a shell builtin
`);let[,...a]=i;return r(s,a,[],n,!0,!1,-1)}async function m8(e,t,n,r,i){let{ctx:s,buildExportedEnv:a,executeUserScript:o}=e,l=await mK(s,t,i?"/usr/bin:/bin":void 0);if(!l)return gi.includes(t)?go(`bash: ${t}: command not available in browser environments. Exclude '${t}' from your commands or use the Node.js bundle.
`,127):go(`bash: ${t}: command not found
`,127);if("error"in l)return"permission_denied"===l.error?go(`bash: ${t}: Permission denied
`,126):go(`bash: ${t}: No such file or directory
`,127);if("script"in l)return t.includes("/")||(s.state.hashTable||(s.state.hashTable=new Map),s.state.hashTable.set(t,l.path)),await o(l.path,n,r);let{cmd:c,path:u}=l;t.includes("/")||(s.state.hashTable||(s.state.hashTable=new Map),s.state.hashTable.set(t,u));let p=r||s.state.groupStdin||"",h=a(),_={fs:s.fs,cwd:s.state.cwd,env:s.state.env,exportedEnv:h,stdin:p,limits:s.limits,exec:s.execFn,fetch:s.fetch,getRegisteredCommands:()=>Array.from(s.commands.keys()),sleep:s.sleep,trace:s.trace,fileDescriptors:s.state.fileDescriptors,xpgEcho:s.state.shoptOptions.xpg_echo};try{return await c.execute(n,_)}catch(e){return go(`${t}: ${tg(e)}
`)}}async function m9(e,t){let n=e.state.inCondition;e.state.inCondition=!0;let r="",i="",s=0;try{for(let n of t){let t=await e.executeStatement(n);r+=t.stdout,i+=t.stderr,s=t.exitCode}}finally{e.state.inCondition=n}return{stdout:r,stderr:i,exitCode:s}}function m7(e,t,n,r){if(e instanceof rL)return t+=e.stdout,n+=e.stderr,e.levels>1&&r>1?(e.levels--,e.stdout=t,e.stderr=n,{action:"rethrow",stdout:t,stderr:n,error:e}):{action:"break",stdout:t,stderr:n};if(e instanceof rI)return t+=e.stdout,n+=e.stderr,e.levels>1&&r>1?(e.levels--,e.stdout=t,e.stderr=n,{action:"rethrow",stdout:t,stderr:n,error:e}):{action:"continue",stdout:t,stderr:n};if(e instanceof rD||e instanceof rM||e instanceof rB||e instanceof rq)return e.prependOutput(t,n),{action:"rethrow",stdout:t,stderr:n,error:e};let i=tg(e);return{action:"error",stdout:t,stderr:`${n}${i}
`,exitCode:1}}async function ve(e,t,n="",r=""){let i=n,s=r,a=0;try{for(let n of t){let t=await e.executeStatement(n);i+=t.stdout,s+=t.stderr,a=t.exitCode}}catch(e){if(rN(e)||e instanceof rM||e instanceof rB||e instanceof rq||e instanceof rz)throw e.prependOutput(i,s),e;return{stdout:i,stderr:`${s}${tg(e)}
`,exitCode:1}}return{stdout:i,stderr:s,exitCode:a}}async function vt(e,t){let n="",r="";for(let i of t.clauses){let t=await m9(e,i.condition);if(n+=t.stdout,r+=t.stderr,0===t.exitCode)return ve(e,i.body,n,r)}return t.elseBody?ve(e,t.elseBody,n,r):gl(n,r,0)}async function vn(e,t){let n=await g1(e,t.redirections);if(n)return n;let r="",i="",s=0,a=0;if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(t.variable))return go(`bash: \`${t.variable}': not a valid identifier
`);let o=[];if(null===t.words)o=(e.state.env["@"]||"").split(" ").filter(Boolean);else if(0===t.words.length)o=[];else try{for(let n of t.words){let t=await dk(e,n);o.push(...t.values)}}catch(e){if(e instanceof rj)return{stdout:"",stderr:e.stderr,exitCode:1};throw e}e.state.loopDepth++;try{for(let n of o){++a>e.limits.maxLoopIterations&&gu(`for loop: too many iterations (${e.limits.maxLoopIterations}), increase executionLimits.maxLoopIterations`,"iterations",r,i),e.state.env[t.variable]=n;try{for(let n of t.body){let t=await e.executeStatement(n);r+=t.stdout,i+=t.stderr,s=t.exitCode}}catch(s){let n=m7(s,r,i,e.state.loopDepth);if(r=n.stdout,i=n.stderr,"break"===n.action)break;if("continue"===n.action)continue;if("error"===n.action){let s=gl(r,i,n.exitCode??1);return g2(e,s,t.redirections)}throw n.error}}}finally{e.state.loopDepth--}return g2(e,gl(r,i,s),t.redirections)}async function vr(e,t){let n=await g1(e,t.redirections);if(n)return n;let r=t.line;void 0!==r&&(e.state.currentLine=r);let i="",s="",a=0,o=0;t.init&&await dU(e,t.init.expression),e.state.loopDepth++;try{for(;++o>e.limits.maxLoopIterations&&gu(`for loop: too many iterations (${e.limits.maxLoopIterations}), increase executionLimits.maxLoopIterations`,"iterations",i,s),!(t.condition&&(void 0!==r&&(e.state.currentLine=r),await dU(e,t.condition.expression)===0));){try{for(let n of t.body){let t=await e.executeStatement(n);i+=t.stdout,s+=t.stderr,a=t.exitCode}}catch(r){let n=m7(r,i,s,e.state.loopDepth);if(i=n.stdout,s=n.stderr,"break"===n.action)break;if("continue"===n.action){t.update&&await dU(e,t.update.expression);continue}if("error"===n.action){let r=gl(i,s,n.exitCode??1);return g2(e,r,t.redirections)}throw n.error}t.update&&await dU(e,t.update.expression)}}finally{e.state.loopDepth--}return g2(e,gl(i,s,a),t.redirections)}async function vi(e,t,n=""){let r="",i="",s=0,a=0,o=n;for(let n of t.redirections)if(("<<"===n.operator||"<<-"===n.operator)&&"HereDoc"===n.target.type){let t=n.target,r=await dy(e,t.content);t.stripTabs&&(r=r.split(`
`).map(e=>e.replace(/^\t+/,"")).join(`
`)),o=r}else if("<<<"===n.operator&&"Word"===n.target.type)o=`${await dy(e,n.target)}
`;else if("<"===n.operator&&"Word"===n.target.type)try{let t=await dy(e,n.target),r=e.fs.resolvePath(e.state.cwd,t);o=await e.fs.readFile(r)}catch{let t=await dy(e,n.target);return go(`bash: ${t}: No such file or directory
`)}let l=e.state.groupStdin;o&&(e.state.groupStdin=o),e.state.loopDepth++;try{for(;;){++a>e.limits.maxLoopIterations&&gu(`while loop: too many iterations (${e.limits.maxLoopIterations}), increase executionLimits.maxLoopIterations`,"iterations",r,i);let n=0,o=!1,l=!1,c=e.state.inCondition;e.state.inCondition=!0;try{for(let s of t.condition){let t=await e.executeStatement(s);r+=t.stdout,i+=t.stderr,n=t.exitCode}}catch(t){if(t instanceof rL){if(r+=t.stdout,i+=t.stderr,t.levels>1&&e.state.loopDepth>1)throw t.levels--,t.stdout=r,t.stderr=i,e.state.inCondition=c,t;o=!0}else if(t instanceof rI){if(r+=t.stdout,i+=t.stderr,t.levels>1&&e.state.loopDepth>1)throw t.levels--,t.stdout=r,t.stderr=i,e.state.inCondition=c,t;l=!0}else throw e.state.inCondition=c,t}finally{e.state.inCondition=c}if(o)break;if(!l){if(0!==n)break;try{for(let n of t.body){let t=await e.executeStatement(n);r+=t.stdout,i+=t.stderr,s=t.exitCode}}catch(n){let t=m7(n,r,i,e.state.loopDepth);if(r=t.stdout,i=t.stderr,"break"===t.action)break;if("continue"===t.action)continue;if("error"===t.action)return gl(r,i,t.exitCode??1);throw t.error}}}}finally{e.state.loopDepth--,e.state.groupStdin=l}return gl(r,i,s)}async function vs(e,t){let n="",r="",i=0,s=0;e.state.loopDepth++;try{for(;;){++s>e.limits.maxLoopIterations&&gu(`until loop: too many iterations (${e.limits.maxLoopIterations}), increase executionLimits.maxLoopIterations`,"iterations",n,r);let a=await m9(e,t.condition);if(n+=a.stdout,r+=a.stderr,0===a.exitCode)break;try{for(let s of t.body){let t=await e.executeStatement(s);n+=t.stdout,r+=t.stderr,i=t.exitCode}}catch(i){let t=m7(i,n,r,e.state.loopDepth);if(n=t.stdout,r=t.stderr,"break"===t.action)break;if("continue"===t.action)continue;if("error"===t.action)return gl(n,r,t.exitCode??1);throw t.error}}}finally{e.state.loopDepth--}return gl(n,r,i)}async function va(e,t){let n=await g1(e,t.redirections);if(n)return n;let r="",i="",s=0,a=await dy(e,t.word),o=!1;for(let n=0;n<t.items.length;n++){let l=t.items[n],c=o;if(!o)for(let t of l.patterns){let n=await dy(e,t);if(db(t)&&(n=_0(n)),gP(a,n,e.state.shoptOptions.nocasematch,e.state.shoptOptions.extglob)){c=!0;break}}if(c){let t=await ve(e,l.body,r,i);if(r=t.stdout,i=t.stderr,s=t.exitCode,";;"===l.terminator)break;o=";&"===l.terminator}else o=!1}return g2(e,gl(r,i,s),t.redirections)}function vo(e,t){if(1!==e.parts.length)return!1;let n=e.parts[0];return"Literal"===n.type&&t.includes(n.value)}async function vl(e){let t=e.state.env.PS4;if(void 0===t)return"+ ";if(""===t)return"";try{let n=new _r().parseWordFromString(t,!1,!1);return await dy(e,n)}catch{return e.state.expansionStderr=`${e.state.expansionStderr||""}bash: ${t}: bad substitution
`,t||"+ "}}async function vc(e,t,n){if(!e.state.options.xtrace)return"";let r=await vl(e),i=[t,...n].map(e=>(function(e){if(""===e)return"''";if(!/[\s'"\\$`!*?[\]{}|&;<>()~#\n\t]/.test(e))return e;let t=/[\x00-\x1f\x7f]/.test(e),n=e.includes(`
`),r=e.includes("	"),i=e.includes("\\"),s=e.includes("'");if(t||n||r||i){let t="";for(let n of e){let e=n.charCodeAt(0);n===`
`?t+="\\n":"	"===n?t+="\\t":"\\"===n?t+="\\\\":"'"===n?t+="'":'"'===n?t+='"':e<32||127===e?e<256?t+=`\\x${e.toString(16).padStart(2,"0")}`:t+=`\\u${e.toString(16).padStart(4,"0")}`:t+=n}return`$'${t}'`}return s?`"${e.replace(/([\\$`"])/g,"\\$1")}"`:`'${e}'`})(e)).join(" ");return`${r}${i}
`}async function vu(e,t,n){return e.state.options.xtrace?`${await vl(e)}${t}=${n}
`:""}async function vp(e,t,n){let r=t.timed?performance.now():0,i="",s=gs,a=0,o=[],l=t.commands.length>1,c=e.state.lastArg;for(let r=0;r<t.commands.length;r++){let c=t.commands[r],u=r===t.commands.length-1;l&&(e.state.lastArg="");let p=!l||u&&e.state.shoptOptions.lastpipe?null:{...e.state.env},h;try{h=await n(c,i)}catch(n){if(n instanceof rU)h={stdout:n.stdout,stderr:n.stderr,exitCode:1};else if(n instanceof rB&&t.commands.length>1)h={stdout:n.stdout,stderr:n.stderr,exitCode:n.exitCode};else if(n instanceof rM&&t.commands.length>1)h={stdout:n.stdout,stderr:n.stderr,exitCode:n.exitCode};else throw p&&(e.state.env=p),n}p&&(e.state.env=p),o.push(h.exitCode),0!==h.exitCode&&(a=h.exitCode),u?s=h:t.pipeStderr?.[r]?(i=h.stderr+h.stdout,s={stdout:"",stderr:"",exitCode:h.exitCode}):(i=h.stdout,s={stdout:"",stderr:h.stderr,exitCode:h.exitCode})}if(t.commands.length>1||1===t.commands.length&&"SimpleCommand"===t.commands[0].type){for(let t of Object.keys(e.state.env))t.startsWith("PIPESTATUS_")&&delete e.state.env[t];for(let t=0;t<o.length;t++)e.state.env[`PIPESTATUS_${t}`]=String(o[t]);e.state.env.PIPESTATUS__length=String(o.length)}if(e.state.options.pipefail&&0!==a&&(s={...s,exitCode:a}),t.negated&&(s={...s,exitCode:+(0===s.exitCode)}),t.timed){let e=(performance.now()-r)/1e3,n=Math.floor(e/60),i=e%60,a;a=t.timePosix?`real ${e.toFixed(2)}
user 0.00
sys 0.00
`:`
real	${n}m${i.toFixed(3)}s
user	0m0.000s
sys	0m0.000s
`,s={...s,stderr:s.stderr+a}}return l&&!e.state.shoptOptions.lastpipe&&(e.state.lastArg=c),s}async function vh(e,t){let n={},r="";for(let i of t.assignments){let s=i.name;if(i.array){let a=await v_(e,t,s,i.array,i.append,n);if(a.error)return{continueToNext:!1,xtraceOutput:r,tempAssignments:n,error:a.error};if(r+=a.xtraceOutput,a.continueToNext)continue}let a=i.value?await dy(e,i.value):"";if(s.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[\]$/))return{continueToNext:!1,xtraceOutput:r,tempAssignments:n,error:gl("",`bash: ${s}: bad array subscript
`,1)};let o=s.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(.+)\]$/);if(o){let s=await vm(e,t,o[1],o[2],a,i.append,n);if(s.error)return{continueToNext:!1,xtraceOutput:r,tempAssignments:n,error:s.error};if(s.continueToNext)continue}let l=await vy(e,t,s,a,i.append,n);if(l.error)return{continueToNext:!1,xtraceOutput:r,tempAssignments:n,error:l.error};r+=l.xtraceOutput,l.continueToNext}return{continueToNext:!1,xtraceOutput:r,tempAssignments:n}}async function v_(e,t,n,r,i,s){let a="";if(/\[.+\]$/.test(n))return{continueToNext:!1,xtraceOutput:"",error:gl("",`bash: ${n}: cannot assign list to array member
`,1)};if(_N(e,n)){let t=_F(e,n);if(void 0===t||""===t)throw new rB(1,"","");let r=_M(e,n);if(r&&/^[a-zA-Z_][a-zA-Z0-9_]*\[@\]$/.test(r))return{continueToNext:!1,xtraceOutput:"",error:gl("",`bash: ${n}: cannot assign list to array member
`,1)}}if(fa(e,n)){if(t.name)return{continueToNext:!0,xtraceOutput:a+=`bash: ${n}: readonly variable
`};fo(e,n)}let o=e.state.associativeArrays?.has(n),l=r.some(e=>{if(e.parts.length>=2){let t=e.parts[0],n=e.parts[1];if("Glob"!==t.type||!t.pattern.startsWith("["))return!1;if("["===t.pattern&&("DoubleQuoted"===n.type||"SingleQuoted"===n.type)){if(e.parts.length<3)return!1;let t=e.parts[2];return"Literal"===t.type&&(t.value.startsWith("]=")||t.value.startsWith("]+="))}return"Literal"===n.type&&(n.value.startsWith("]")?n.value.startsWith("]=")||n.value.startsWith("]+="):!!t.pattern.endsWith("]")&&(n.value.startsWith("=")||n.value.startsWith("+=")))}return!1}),c=()=>{let t=`${n}_`;for(let n of Object.keys(e.state.env))n.startsWith(t)&&!n.includes("__")&&delete e.state.env[n];delete e.state.env[n]};if(o&&l?await vf(e,t,n,r,i,c,e=>{a+=e}):l?await vd(e,n,r,i,c):await vg(e,n,r,i,c),t.name){s[n]=e.state.env[n];let t=`(${r.map(e=>_b(e)).join(" ")})`;e.state.env[n]=t}return{continueToNext:!0,xtraceOutput:a}}async function vf(e,t,n,r,i,s,a){let o=[];for(let t of r){let n=_v(t);if(n){let{key:t,valueParts:r,append:i}=n,s;s=r.length>0?await dy(e,{type:"Word",parts:r}):"",s=mo(e,s),o.push({type:"keyed",key:t,value:s,append:i})}else{let n=await dy(e,t);o.push({type:"invalid",expandedValue:n})}}for(let r of(i||s(),o))if("keyed"===r.type)if(r.append){let t=e.state.env[`${n}_${r.key}`]??"";e.state.env[`${n}_${r.key}`]=t+r.value}else e.state.env[`${n}_${r.key}`]=r.value;else{let i=t.line??e.state.currentLine??1;a(`bash: line ${i}: ${n}: ${r.expandedValue}: must use subscript when assigning associative array
`)}}async function vd(e,t,n,r,i){let s=[];for(let t of n){let n=_v(t);if(n){let{key:t,valueParts:r,append:i}=n,a;a=r.length>0?await dy(e,{type:"Word",parts:r}):"",a=mo(e,a),s.push({type:"keyed",indexExpr:t,value:a,append:i})}else{let n=await dk(e,t);s.push({type:"non-keyed",values:n.values})}}r||i();let a=0;for(let n of s)if("keyed"===n.type){let r;try{let t=new _r,i=hm(t,n.indexExpr);r=await dU(e,i.expression,!1)}catch{if(/^-?\d+$/.test(n.indexExpr))r=Number.parseInt(n.indexExpr,10);else{let t=e.state.env[n.indexExpr];Number.isNaN(r=t?Number.parseInt(t,10):0)&&(r=0)}}if(n.append){let i=e.state.env[`${t}_${r}`]??"";e.state.env[`${t}_${r}`]=i+n.value}else e.state.env[`${t}_${r}`]=n.value;a=r+1}else for(let r of n.values)e.state.env[`${t}_${a++}`]=r}async function vg(e,t,n,r,i){let s=[];for(let t of n){let n=await dk(e,t);s.push(...n.values)}let a=0;if(r){let n=_H(e,t);if(n.length>0)a=Math.max(...n.map(([e])=>"number"==typeof e?e:0))+1;else if(void 0!==e.state.env[t]){let n=e.state.env[t];e.state.env[`${t}_0`]=n,delete e.state.env[t],a=1}}else i();for(let n=0;n<s.length;n++)e.state.env[`${t}_${a+n}`]=s[n];r||(e.state.env[`${t}__length`]=String(s.length))}async function vm(e,t,n,r,i,s,a){let o,l=n;if(_N(e,n)){let t=_M(e,n);if(t&&t!==n){if(t.includes("["))return{continueToNext:!1,xtraceOutput:"",error:gl("",`bash: \`${t}': not a valid identifier
`,1)};l=t}}if(fa(e,l)){if(t.name)return{continueToNext:!0,xtraceOutput:""};fo(e,l)}if(e.state.associativeArrays?.has(l))o=await vv(e,l,r);else{let t=await vb(e,l,r);if(t.error)return{continueToNext:!1,xtraceOutput:"",error:t.error};o=`${l}_${t.index}`}let c=s?(e.state.env[o]||"")+i:i;if(t.name)a[o]=e.state.env[o],e.state.env[o]=c;else{let t=gz(e,l);if(void 0!==t&&t===e.state.callDepth&&e.state.localScopes.length>0){let t=e.state.localScopes[e.state.localScopes.length-1];t.has(o)||t.set(o,e.state.env[o])}e.state.env[o]=c}return{continueToNext:!0,xtraceOutput:""}}async function vv(e,t,n){let r;if(n.startsWith("'")&&n.endsWith("'"))r=n.slice(1,-1);else if(n.startsWith('"')&&n.endsWith('"')){let t=n.slice(1,-1),i=new _r().parseWordFromString(t,!0,!1);r=await dy(e,i)}else if(n.includes("$")){let t=new _r().parseWordFromString(n,!1,!1);r=await dy(e,t)}else r=n;return`${t}_${r}`}async function vb(e,t,n){let r,i=n;if(n.startsWith('"')&&n.endsWith('"')&&n.length>=2&&(i=n.slice(1,-1)),/^-?\d+$/.test(i))r=Number.parseInt(i,10);else{try{let t=new _r,n=hm(t,i);r=await dU(e,n.expression,!1)}catch(i){if(i instanceof rH){let t=`bash: line ${e.state.currentLine}: ${n}: ${i.message}
`;if(i.fatal)throw new rB(1,"",t);return{index:0,error:gl("",t,1)}}let t=e.state.env[n];r=t?Number.parseInt(t,10):0}Number.isNaN(r)&&(r=0)}if(r<0){let i=_H(e,t);if(0===i.length||(r=Math.max(...i.map(([e])=>"number"==typeof e?e:0))+1+r)<0){let r=e.state.currentLine;return{index:0,error:gl("",`bash: line ${r}: ${t}[${n}]: bad array subscript
`,1)}}}return{index:r}}async function vy(e,t,n,r,i,s){let a,o="",l=n,c=null;if(_N(e,n)){let t=function(e,t,n,r=100){if(!_N(e,t)||_L(e,t))return t;let i=new Set,s=t;for(;r-- >0;){if(i.has(s))return;if(i.add(s),!_N(e,s))return s;let t=e.state.env[s];if(void 0===t||""===t)return void 0!==n?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(n)&&_D(e,n)?s:null:s;if(!/^[a-zA-Z_][a-zA-Z0-9_]*(\[.+\])?$/.test(t))return s;s=t}}(e,n,r);if(void 0===t)return{continueToNext:!1,xtraceOutput:"",error:gl("",`bash: ${n}: circular name reference
`,1)};if(null===t)return{continueToNext:!0,xtraceOutput:""};let i=(l=t).match(/^([a-zA-Z_][a-zA-Z0-9_]*)\[(.+)\]$/);i&&(c={arrayName:i[1],subscriptExpr:i[2]},l=i[1])}if(fa(e,l)){if(t.name)return{continueToNext:!0,xtraceOutput:o+=`bash: ${l}: readonly variable
`};fo(e,l)}if(mg(e,l))try{let t=new _r;if(i){let n=`(${e.state.env[l]||"0"}) + (${r})`,i=hm(t,n);a=String(await dU(e,i.expression))}else{let n=hm(t,r);a=String(await dU(e,n.expression))}}catch{a="0"}else{let{isArray:t}=await Promise.resolve().then(()=>(dI(),dm)),n=t(e,l)?`${l}_0`:l;a=i?(e.state.env[n]||"")+r:r}a=mb(e,l,a),o+=await vu(e,l,a);let u=l;if(c)u=await v$(e,c);else{let{isArray:t}=await Promise.resolve().then(()=>(dI(),dm));t(e,l)&&(u=`${l}_0`)}return t.name?(s[u]=e.state.env[u],e.state.env[u]=a):(e.state.env[u]=a,e.state.options.allexport&&(e.state.exportedVars=e.state.exportedVars||new Set,e.state.exportedVars.add(l)),e.state.tempEnvBindings?.some(e=>e.has(l))&&(e.state.mutatedTempEnvVars=e.state.mutatedTempEnvVars||new Set,e.state.mutatedTempEnvVars.add(l))),{continueToNext:!1,xtraceOutput:o}}async function v$(e,t){let n,{arrayName:r,subscriptExpr:i}=t;if(e.state.associativeArrays?.has(r))return vv(e,r,i);if(/^-?\d+$/.test(i))n=Number.parseInt(i,10);else{try{let t=new _r,r=hm(t,i);n=await dU(e,r.expression,!1)}catch{let t=e.state.env[i];n=t?Number.parseInt(t,10):0}Number.isNaN(n)&&(n=0)}if(n<0){let t=_H(e,r);t.length>0&&(n=Math.max(...t.map(e=>e[0]))+1+n)}return`${r}_${n}`}async function vx(e,t,n,r){let i=await g1(e,t.redirections);if(i)return i;let s={...e.state.env},a=e.state.cwd,o={...e.state.options},l=e.state.localScopes,c=e.state.localVarStack,u=e.state.localVarDepth,p=e.state.fullyUnsetLocals;if(e.state.localScopes=l.map(e=>new Map(e)),c)for(let[t,n]of(e.state.localVarStack=new Map,c.entries()))e.state.localVarStack.set(t,n.map(e=>({...e})));u&&(e.state.localVarDepth=new Map(u)),p&&(e.state.fullyUnsetLocals=new Map(p));let h=e.state.loopDepth,_=e.state.parentHasLoopContext;e.state.parentHasLoopContext=h>0,e.state.loopDepth=0;let f=e.state.lastArg,d=e.state.bashPid;e.state.bashPid=e.state.nextVirtualPid++;let g=e.state.groupStdin;n&&(e.state.groupStdin=n);let m="",v="",b=0,y=()=>{e.state.env=s,e.state.cwd=a,e.state.options=o,e.state.localScopes=l,e.state.localVarStack=c,e.state.localVarDepth=u,e.state.fullyUnsetLocals=p,e.state.loopDepth=h,e.state.parentHasLoopContext=_,e.state.groupStdin=g,e.state.bashPid=d,e.state.lastArg=f};try{for(let e of t.body){let t=await r(e);m+=t.stdout,v+=t.stderr,b=t.exitCode}}catch(n){if(y(),n instanceof rq)throw n;if(n instanceof rz||n instanceof rL||n instanceof rI)return g2(e,gl(m+=n.stdout,v+=n.stderr,0),t.redirections);if(n instanceof rB||n instanceof rD)return g2(e,gl(m+=n.stdout,v+=n.stderr,n.exitCode),t.redirections);if(n instanceof rM)return g2(e,gl(m+n.stdout,v+n.stderr,n.exitCode),t.redirections);return g2(e,gl(m,`${v}${tg(n)}
`,1),t.redirections)}return y(),g2(e,gl(m,v,b),t.redirections)}async function vS(e,t,n,r){let i="",s="",a=0,o=await g0(e,t.redirections);if(o)return o;let l=n;for(let n of t.redirections)if(("<<"===n.operator||"<<-"===n.operator)&&"HereDoc"===n.target.type){let t=n.target,r=await dy(e,t.content);t.stripTabs&&(r=r.split(`
`).map(e=>e.replace(/^\t+/,"")).join(`
`));let i=n.fd??0;0!==i?(e.state.fileDescriptors||(e.state.fileDescriptors=new Map),e.state.fileDescriptors.set(i,r)):l=r}else if("<<<"===n.operator&&"Word"===n.target.type)l=`${await dy(e,n.target)}
`;else if("<"===n.operator&&"Word"===n.target.type)try{let t=await dy(e,n.target),r=e.fs.resolvePath(e.state.cwd,t);l=await e.fs.readFile(r)}catch{let t=await dy(e,n.target);return gl("",`bash: ${t}: No such file or directory
`,1)}let c=e.state.groupStdin;l&&(e.state.groupStdin=l);try{for(let e of t.body){let t=await r(e);i+=t.stdout,s+=t.stderr,a=t.exitCode}}catch(t){if(e.state.groupStdin=c,t instanceof rq)throw t;if(rN(t)||t instanceof rM||t instanceof rB)throw t.prependOutput(i,s),t;return gl(i,`${s}${tg(t)}
`,1)}return e.state.groupStdin=c,g2(e,gl(i,s,a),t.redirections)}async function vA(e,t,n,r,i){let s;try{s=await e.fs.readFile(t)}catch{return go(`bash: ${t}: No such file or directory
`,127)}if(s.startsWith("#!")){let e=s.indexOf(`
`);-1!==e&&(s=s.slice(e+1))}let a={...e.state.env},o=e.state.cwd,l={...e.state.options},c=e.state.loopDepth,u=e.state.parentHasLoopContext,p=e.state.lastArg,h=e.state.bashPid,_=e.state.groupStdin,f=e.state.currentSource;e.state.parentHasLoopContext=c>0,e.state.loopDepth=0,e.state.bashPid=e.state.nextVirtualPid++,r&&(e.state.groupStdin=r),e.state.currentSource=t,e.state.env[0]=t,e.state.env["#"]=String(n.length),e.state.env["@"]=n.join(" "),e.state.env["*"]=n.join(" ");for(let t=0;t<n.length&&t<9;t++)e.state.env[String(t+1)]=n[t];for(let t=n.length+1;t<=9;t++)delete e.state.env[String(t)];let d=()=>{e.state.env=a,e.state.cwd=o,e.state.options=l,e.state.loopDepth=c,e.state.parentHasLoopContext=u,e.state.lastArg=p,e.state.bashPid=h,e.state.groupStdin=_,e.state.currentSource=f};try{let e=new _r().parse(s),t=await i(e);return d(),t}catch(e){if(d(),e instanceof rB||e instanceof rq)throw e;if("ParseException"===e.name)return go(`bash: ${t}: ${e.message}
`);throw e}}tm(),dW(),rV(),dI(),rV(),tm(),rV(),tm(),rV(),dI(),_i(),dI(),rV(),hP(),_i(),dW(),rV(),dI(),_y(),_B(),fu(),_i(),rV(),dI(),tm();var vw=class{ctx;constructor(e,t){this.ctx={state:t,fs:e.fs,commands:e.commands,limits:e.limits,execFn:e.exec,executeScript:this.executeScript.bind(this),executeStatement:this.executeStatement.bind(this),executeCommand:this.executeCommand.bind(this),fetch:e.fetch,sleep:e.sleep,trace:e.trace}}buildExportedEnv(){let e=this.ctx.state.exportedVars,t=this.ctx.state.tempExportedVars,n=new Set;if(e)for(let t of e)n.add(t);if(t)for(let e of t)n.add(e);if(0===n.size)return{};let r={};for(let e of n){let t=this.ctx.state.env[e];void 0!==t&&(r[e]=t)}return r}async executeScript(e){let t="",n="",r=0;for(let i of e.statements)try{let e=await this.executeStatement(i);t+=e.stdout,n+=e.stderr,r=e.exitCode,this.ctx.state.lastExitCode=r,this.ctx.state.env["?"]=String(r)}catch(e){if(e instanceof rB)throw e.prependOutput(t,n),e;if(e instanceof rG)return t+=e.stdout,n+=e.stderr,r=e.exitCode,this.ctx.state.lastExitCode=r,this.ctx.state.env["?"]=String(r),{stdout:t,stderr:n,exitCode:r,env:{...this.ctx.state.env}};if(e instanceof rq)throw e;if(e instanceof rM)return t+=e.stdout,n+=e.stderr,r=e.exitCode,this.ctx.state.lastExitCode=r,this.ctx.state.env["?"]=String(r),{stdout:t,stderr:n,exitCode:r,env:{...this.ctx.state.env}};if(e instanceof rF||e instanceof rU)return t+=e.stdout,n+=e.stderr,r=1,this.ctx.state.lastExitCode=r,this.ctx.state.env["?"]=String(r),{stdout:t,stderr:n,exitCode:r,env:{...this.ctx.state.env}};if(e instanceof rH||e instanceof rW){t+=e.stdout,n+=e.stderr,r=1,this.ctx.state.lastExitCode=r,this.ctx.state.env["?"]=String(r);continue}if(e instanceof rL||e instanceof rI){if(this.ctx.state.loopDepth>0)throw e.prependOutput(t,n),e;t+=e.stdout,n+=e.stderr;continue}throw e instanceof rD&&e.prependOutput(t,n),e}return{stdout:t,stderr:n,exitCode:r,env:{...this.ctx.state.env}}}async executeUserScript(e,t,n=""){return vA(this.ctx,e,t,n,e=>this.executeScript(e))}async executeStatement(e){if(this.ctx.state.commandCount++,this.ctx.state.commandCount>this.ctx.limits.maxCommandCount&&gu(`too many commands executed (>${this.ctx.limits.maxCommandCount}), increase executionLimits.maxCommandCount`,"commands"),e.deferredError)throw new hl(e.deferredError.message,e.line??1,1);if(this.ctx.state.options.noexec)return gs;this.ctx.state.errexitSafe=!1;let t="",n="";this.ctx.state.options.verbose&&!this.ctx.state.suppressVerbose&&e.sourceText&&(n+=`${e.sourceText}
`);let r=0,i=-1,s=!1;for(let a=0;a<e.pipelines.length;a++){let o=e.pipelines[a],l=a>0?e.operators[a-1]:null;if("&&"===l&&0!==r||"||"===l&&0===r)continue;let c=await this.executePipeline(o);t+=c.stdout,n+=c.stderr,r=c.exitCode,i=a,s=o.negated,this.ctx.state.lastExitCode=r,this.ctx.state.env["?"]=String(r)}let a=i<e.pipelines.length-1,o=this.ctx.state.errexitSafe;if(this.ctx.state.errexitSafe=a||s||o,this.ctx.state.options.errexit&&0!==r&&i===e.pipelines.length-1&&!s&&!this.ctx.state.inCondition&&!o)throw new rM(r,t,n);return gl(t,n,r)}async executePipeline(e){return vp(this.ctx,e,(e,t)=>this.executeCommand(e,t))}async executeCommand(e,t){switch(e.type){case"SimpleCommand":return this.executeSimpleCommand(e,t);case"If":return vt(this.ctx,e);case"For":return vn(this.ctx,e);case"CStyleFor":return vr(this.ctx,e);case"While":return vi(this.ctx,e,t);case"Until":return vs(this.ctx,e);case"Case":return va(this.ctx,e);case"Subshell":return this.executeSubshell(e,t);case"Group":return this.executeGroup(e,t);case"FunctionDef":var n=this.ctx;if(n.state.options.posix&&gZ.has(e.name)){let t=`bash: line ${n.state.currentLine}: \`${e.name}': is a special builtin
`;throw new rB(2,"",t)}let r={...e,sourceFile:e.sourceFile??n.state.currentSource??"main"};return n.state.functions.set(e.name,r),gs;case"ArithmeticCommand":return this.executeArithmeticCommand(e);case"ConditionalCommand":return this.executeConditionalCommand(e);default:return gs}}async executeSimpleCommand(e,t){try{return await this.executeSimpleCommandInner(e,t)}catch(e){if(e instanceof rj)return go(e.stderr);throw e}}async executeSimpleCommandInner(e,t){if(void 0!==e.line&&(this.ctx.state.currentLine=e.line),this.ctx.state.shoptOptions.expand_aliases&&e.name){let t=e,n=100;for(;n>0;){let e=this.expandAlias(t);if(e===t)break;t=e,n--}this.aliasExpansionStack.clear(),t!==e&&(e=t)}this.ctx.state.expansionStderr="";let n=await vh(this.ctx,e);if(n.error)return n.error;let r=n.tempAssignments,i=n.xtraceOutput;if(!e.name){if(e.redirections.length>0){let t=await g1(this.ctx,e.redirections);if(t)return t;let n=gl("",i,0);return g2(this.ctx,n,e.redirections)}this.ctx.state.lastArg="";let t=(this.ctx.state.expansionStderr||"")+i;return this.ctx.state.expansionStderr="",gl("",t,this.ctx.state.lastExitCode)}let s=e.name&&vo(e.name,["local","declare","typeset","export","readonly"]),a=Object.keys(r);if(a.length>0&&!s)for(let e of(this.ctx.state.tempExportedVars=this.ctx.state.tempExportedVars||new Set,a))this.ctx.state.tempExportedVars.add(e);let o=await g0(this.ctx,e.redirections);if(o){for(let[e,t]of Object.entries(r))void 0===t?delete this.ctx.state.env[e]:this.ctx.state.env[e]=t;return o}let l=-1;for(let n of e.redirections){if(("<<"===n.operator||"<<-"===n.operator)&&"HereDoc"===n.target.type){let e=n.target,r=await dy(this.ctx,e.content);e.stripTabs&&(r=r.split(`
`).map(e=>e.replace(/^\t+/,"")).join(`
`));let i=n.fd??0;0!==i?(this.ctx.state.fileDescriptors||(this.ctx.state.fileDescriptors=new Map),this.ctx.state.fileDescriptors.set(i,r)):t=r;continue}if("<<<"===n.operator&&"Word"===n.target.type){t=`${await dy(this.ctx,n.target)}
`;continue}if("<"===n.operator&&"Word"===n.target.type)try{let e=await dy(this.ctx,n.target),r=this.ctx.fs.resolvePath(this.ctx.state.cwd,e);t=await this.ctx.fs.readFile(r)}catch{let e=await dy(this.ctx,n.target);for(let[e,t]of Object.entries(r))void 0===t?delete this.ctx.state.env[e]:this.ctx.state.env[e]=t;return go(`bash: ${e}: No such file or directory
`)}if("<&"===n.operator&&"Word"===n.target.type){let e=Number.parseInt(await dy(this.ctx,n.target),10);if(!Number.isNaN(e)&&this.ctx.state.fileDescriptors){let n=this.ctx.state.fileDescriptors.get(e);if(void 0!==n)if(n.startsWith("__rw__:")){let r=function(e){if(!e.startsWith("__rw__:"))return null;let t=e.slice(7),n=t.indexOf(":");if(-1===n)return null;let r=Number.parseInt(t.slice(0,n),10);if(Number.isNaN(r)||r<0)return null;let i=n+1,s=t.slice(i,i+r),a=t.slice(i+r+1),o=a.indexOf(":");if(-1===o)return null;let l=Number.parseInt(a.slice(0,o),10);return Number.isNaN(l)||l<0?null:{path:s,position:l,content:a.slice(o+1)}}(n);r&&(t=r.content.slice(r.position),l=e)}else n.startsWith("__file__:")||n.startsWith("__file_append__:")||(t=n)}}}let c=await dy(this.ctx,e.name),u=[],p=[];if(vo(e.name,["local","declare","typeset","export","readonly"])&&("local"===c||"declare"===c||"typeset"===c||"export"===c||"readonly"===c))for(let t of e.args){let e=await gn(this.ctx,t);if(e)u.push(e),p.push(!0);else{let e=await gr(this.ctx,t);if(null!==e)u.push(e),p.push(!0);else{let e=await dk(this.ctx,t);for(let t of e.values)u.push(t),p.push(e.quoted)}}}else for(let t of e.args){let e=await dk(this.ctx,t);for(let t of e.values)u.push(t),p.push(e.quoted)}if(!c){if(e.name.parts.every(e=>"CommandSubstitution"===e.type||"ParameterExpansion"===e.type||"ArithmeticExpansion"===e.type)){if(u.length>0){let e=u.shift();return p.shift(),await this.runCommand(e,u,p,t,!1,!1,l)}return gl("","",this.ctx.state.lastExitCode)}return go(`bash: : command not found
`,127)}if("exec"===c&&(0===u.length||"--"===u[0])){for(let t of e.redirections){if("HereDoc"===t.target.type||t.fdVariable)continue;let e=await dy(this.ctx,t.target),n=t.fd??+("<"!==t.operator&&"<>"!==t.operator);switch(this.ctx.state.fileDescriptors||(this.ctx.state.fileDescriptors=new Map),t.operator){case">":case">|":{let t=this.ctx.fs.resolvePath(this.ctx.state.cwd,e);await this.ctx.fs.writeFile(t,"","utf8"),this.ctx.state.fileDescriptors.set(n,`__file__:${t}`);break}case">>":{let t=this.ctx.fs.resolvePath(this.ctx.state.cwd,e);this.ctx.state.fileDescriptors.set(n,`__file_append__:${t}`);break}case"<":{let t=this.ctx.fs.resolvePath(this.ctx.state.cwd,e);try{let e=await this.ctx.fs.readFile(t);this.ctx.state.fileDescriptors.set(n,e)}catch{return go(`bash: ${e}: No such file or directory
`)}break}case"<>":{let t=this.ctx.fs.resolvePath(this.ctx.state.cwd,e);try{let e=await this.ctx.fs.readFile(t);this.ctx.state.fileDescriptors.set(n,`__rw__:${t.length}:${t}:0:${e}`)}catch{await this.ctx.fs.writeFile(t,"","utf8"),this.ctx.state.fileDescriptors.set(n,`__rw__:${t.length}:${t}:0:`)}break}case">&":if("-"===e)this.ctx.state.fileDescriptors.delete(n);else if(e.endsWith("-")){let t=Number.parseInt(e.slice(0,-1),10);if(!Number.isNaN(t)){let e=this.ctx.state.fileDescriptors.get(t);void 0!==e?this.ctx.state.fileDescriptors.set(n,e):this.ctx.state.fileDescriptors.set(n,`__dupout__:${t}`),this.ctx.state.fileDescriptors.delete(t)}}else{let t=Number.parseInt(e,10);Number.isNaN(t)||this.ctx.state.fileDescriptors.set(n,`__dupout__:${t}`)}break;case"<&":if("-"===e)this.ctx.state.fileDescriptors.delete(n);else if(e.endsWith("-")){let t=Number.parseInt(e.slice(0,-1),10);if(!Number.isNaN(t)){let e=this.ctx.state.fileDescriptors.get(t);void 0!==e?this.ctx.state.fileDescriptors.set(n,e):this.ctx.state.fileDescriptors.set(n,`__dupin__:${t}`),this.ctx.state.fileDescriptors.delete(t)}}else{let t=Number.parseInt(e,10);Number.isNaN(t)||this.ctx.state.fileDescriptors.set(n,`__dupin__:${t}`)}}}for(let[e,t]of Object.entries(r))void 0===t?delete this.ctx.state.env[e]:this.ctx.state.env[e]=t;if(this.ctx.state.tempExportedVars)for(let e of Object.keys(r))this.ctx.state.tempExportedVars.delete(e);return gs}let h=await vc(this.ctx,c,u);Object.keys(r).length>0&&(this.ctx.state.tempEnvBindings=this.ctx.state.tempEnvBindings||[],this.ctx.state.tempEnvBindings.push(new Map(Object.entries(r))));let _,f=null;try{_=await this.runCommand(c,u,p,t,!1,!1,l)}catch(e){if(e instanceof rL||e instanceof rI)f=e,_=gs;else throw e}let d=i+h;if(d&&(_={..._,stderr:d+_.stderr}),_=await g2(this.ctx,_,e.redirections),f)throw f;if(u.length>0){let e=u[u.length-1];if(("declare"===c||"local"===c||"typeset"===c)&&/^[a-zA-Z_][a-zA-Z0-9_]*=\(/.test(e)){let t=e.match(/^([a-zA-Z_][a-zA-Z0-9_]*)=\(/);t&&(e=t[1])}this.ctx.state.lastArg=e}else this.ctx.state.lastArg=c;let g=gZ.has(c)&&"unset"!==c&&"eval"!==c;if(!this.ctx.state.options.posix||!g)for(let[e,t]of Object.entries(r))this.ctx.state.fullyUnsetLocals?.has(e)||(void 0===t?delete this.ctx.state.env[e]:this.ctx.state.env[e]=t);if(this.ctx.state.tempExportedVars)for(let e of Object.keys(r))this.ctx.state.tempExportedVars.delete(e);return Object.keys(r).length>0&&this.ctx.state.tempEnvBindings&&this.ctx.state.tempEnvBindings.pop(),this.ctx.state.expansionStderr&&(_={..._,stderr:this.ctx.state.expansionStderr+_.stderr},this.ctx.state.expansionStderr=""),_}async runCommand(e,t,n,r,i=!1,s=!1,a=-1){let o={ctx:this.ctx,runCommand:(e,t,n,r,i,s,a)=>this.runCommand(e,t,n,r,i,s,a),buildExportedEnv:()=>this.buildExportedEnv(),executeUserScript:(e,t,n)=>this.executeUserScript(e,t,n)},l=await m5(o,e,t,n,r,i,s,a);return null!==l?l:m8(o,e,t,r,s)}aliasExpansionStack=new Set;expandAlias(e){return function e(t,n,r){if(!n.name||!d8(n.name))return n;let i=d9(n.name);if(!i)return n;let s=d7(t,i);if(!s||r.has(i))return n;try{let a;r.add(i);let o=new _r,l=s,c=s.endsWith(" ");if(!c)for(let e of n.args){let t=gt(e);l+=` ${t}`}try{a=o.parse(l)}catch(e){if(e instanceof hl)throw e;return n}if(1!==a.statements.length||1!==a.statements[0].pipelines.length||1!==a.statements[0].pipelines[0].commands.length)return ge(n,s);let u=a.statements[0].pipelines[0].commands[0];if("SimpleCommand"!==u.type)return ge(n,s);let p={...u,assignments:[...n.assignments,...u.assignments],redirections:[...u.redirections,...n.redirections],line:n.line};if(c&&n.args.length>0&&(p={...p,args:[...p.args,...n.args]}).args.length>0){let n=p.args[0];if(d8(n)){let i=d9(n);if(i&&d7(t,i)){let i={type:"SimpleCommand",name:n,args:p.args.slice(1),assignments:[],redirections:[]},s=e(t,i,r);s!==i&&(p={...p,name:s.name,args:[...s.args]})}}}return p}catch(e){throw r.delete(i),e}}(this.ctx.state,e,this.aliasExpansionStack)}async findCommandInPath(e){return mX(this.ctx,e)}async executeSubshell(e,t=""){return vx(this.ctx,e,t,e=>this.executeStatement(e))}async executeGroup(e,t=""){return vS(this.ctx,e,t,e=>this.executeStatement(e))}async executeArithmeticCommand(e){void 0!==e.line&&(this.ctx.state.currentLine=e.line);let t=await g1(this.ctx,e.redirections);if(t)return t;try{let t=await dU(this.ctx,e.expression.expression),n=gc(0!==t);return this.ctx.state.expansionStderr&&(n={...n,stderr:this.ctx.state.expansionStderr+n.stderr},this.ctx.state.expansionStderr=""),g2(this.ctx,n,e.redirections)}catch(n){let t=go(`bash: arithmetic expression: ${n.message}
`);return g2(this.ctx,t,e.redirections)}}async executeConditionalCommand(e){void 0!==e.line&&(this.ctx.state.currentLine=e.line);let t=await g1(this.ctx,e.redirections);if(t)return t;try{let t=await gE(this.ctx,e.expression),n=gc(t);return this.ctx.state.expansionStderr&&(n={...n,stderr:this.ctx.state.expansionStderr+n.stderr},this.ctx.state.expansionStderr=""),g2(this.ctx,n,e.redirections)}catch(r){let t=r instanceof rH?1:2,n=go(`bash: conditional expression: ${r.message}
`,t);return g2(this.ctx,n,e.redirections)}}},vE={maxCallDepth:100,maxCommandCount:1e4,maxLoopIterations:1e4,maxAwkIterations:1e4,maxSedIterations:1e4,maxJqIterations:1e4,maxSqliteTimeoutMs:5e3,maxPythonTimeoutMs:3e4};function vk(e){try{let t=new URL(e);return{origin:t.origin,pathname:t.pathname,href:t.href}}catch{return null}}function vC(e,t){return!!t&&0!==t.length&&t.some(t=>(function(e,t){let n,r=vk(e);if(!r)return!1;let i=(n=vk(t))?{origin:n.origin,pathPrefix:n.pathname}:null;return!!i&&r.origin===i.origin&&("/"===i.pathPrefix||""===i.pathPrefix||r.pathname.startsWith(i.pathPrefix))})(e,t))}var vO=class extends Error{constructor(e){super(`Network access denied: URL not in allow-list: ${e}`),this.name="NetworkAccessDeniedError"}},vR=class extends Error{constructor(e){super(`Too many redirects (max: ${e})`),this.name="TooManyRedirectsError"}},vT=class extends Error{constructor(e){super(`Redirect target not in allow-list: ${e}`),this.name="RedirectNotAllowedError"}},vN=class extends Error{constructor(e,t){super(`HTTP method '${e}' not allowed. Allowed methods: ${t.join(", ")}`),this.name="MethodNotAllowedError"}},vP=["GET","HEAD"],vL=new Set(["GET","HEAD","OPTIONS"]),vI=new Set([301,302,303,307,308]);async function vD(e,t){let n={};return e.headers.forEach((e,t)=>{n[t.toLowerCase()]=e}),{status:e.status,statusText:e.statusText,headers:n,body:await e.text(),url:t}}hu(),_i();var vM=class{fs;commands=new Map;useDefaultLayout=!1;limits;secureFetch;sleepFn;traceFn;logger;state;constructor(e={}){let t=e.fs??new dY(e.files);this.fs=t,this.useDefaultLayout=!e.cwd&&!e.files;let n=e.cwd||(this.useDefaultLayout?"/home/user":"/"),r={HOME:this.useDefaultLayout?"/home/user":"/",PATH:"/usr/bin:/bin",IFS:` 	
`,OSTYPE:"linux-gnu",MACHTYPE:"x86_64-pc-linux-gnu",HOSTTYPE:"x86_64",HOSTNAME:"localhost",PWD:n,OLDPWD:n,OPTIND:"1",...e.env};if(this.limits=function(e){return e?{maxCallDepth:e.maxCallDepth??vE.maxCallDepth,maxCommandCount:e.maxCommandCount??vE.maxCommandCount,maxLoopIterations:e.maxLoopIterations??vE.maxLoopIterations,maxAwkIterations:e.maxAwkIterations??vE.maxAwkIterations,maxSedIterations:e.maxSedIterations??vE.maxSedIterations,maxJqIterations:e.maxJqIterations??vE.maxJqIterations,maxSqliteTimeoutMs:e.maxSqliteTimeoutMs??vE.maxSqliteTimeoutMs,maxPythonTimeoutMs:e.maxPythonTimeoutMs??vE.maxPythonTimeoutMs}:{...vE}}({...e.executionLimits,...void 0!==e.maxCallDepth&&{maxCallDepth:e.maxCallDepth},...void 0!==e.maxCommandCount&&{maxCommandCount:e.maxCommandCount},...void 0!==e.maxLoopIterations&&{maxLoopIterations:e.maxLoopIterations}}),e.network&&(this.secureFetch=function(e){let t=e.maxRedirects??20,n=e.timeoutMs??3e4,r=e.dangerouslyAllowFullInternetAccess?["GET","HEAD","POST","PUT","DELETE","PATCH","OPTIONS"]:e.allowedMethods??vP;return async function(i,s={}){let a=s.method?.toUpperCase()??"GET";(function(t){if(!e.dangerouslyAllowFullInternetAccess&&!vC(t,e.allowedUrlPrefixes??[]))throw new vO(t)})(i),function(t){if(e.dangerouslyAllowFullInternetAccess)return;let n=t.toUpperCase();if(!r.includes(n))throw new vN(n,r)}(a);let o=i,l=0,c=s.followRedirects??!0,u=void 0!==s.timeoutMs?Math.min(s.timeoutMs,n):n;for(;;){let n=new AbortController,r=setTimeout(()=>n.abort(),u);try{let r={method:a,headers:s.headers,signal:n.signal,redirect:"manual"};s.body&&!vL.has(a)&&(r.body=s.body);let i=await fetch(o,r);if(vI.has(i.status)&&c){let n=i.headers.get("location");if(!n)return await vD(i,o);let r=new URL(n,o).href;if(!e.dangerouslyAllowFullInternetAccess&&!vC(r,e.allowedUrlPrefixes??[]))throw new vT(r);if(++l>t)throw new vR(t);o=r;continue}return await vD(i,o)}finally{clearTimeout(r)}}}}(e.network)),this.sleepFn=e.sleep,this.traceFn=e.trace,this.logger=e.logger,this.state={env:r,cwd:n,previousDir:"/home/user",functions:new Map,localScopes:[],callDepth:0,sourceDepth:0,commandCount:0,lastExitCode:0,lastArg:"",startTime:Date.now(),lastBackgroundPid:0,bashPid:o.default.pid,nextVirtualPid:o.default.pid+1,currentLine:1,options:{errexit:!1,pipefail:!1,nounset:!1,xtrace:!1,verbose:!1,posix:!1,allexport:!1,noclobber:!1,noglob:!1,noexec:!1,vi:!1,emacs:!1},shoptOptions:{extglob:!1,dotglob:!1,nullglob:!1,failglob:!1,globstar:!1,globskipdots:!0,nocaseglob:!1,nocasematch:!1,expand_aliases:!1,lastpipe:!1,xpg_echo:!1},inCondition:!1,loopDepth:0,exportedVars:new Set(["HOME","PATH","PWD","OLDPWD",...Object.keys(e.env||{})]),readonlyVars:new Set(["SHELLOPTS","BASHOPTS"]),hashTable:new Map},this.state.env.SHELLOPTS=d2(this.state.options),this.state.env.BASHOPTS=d6(this.state.shoptOptions),function(e,t){"function"==typeof e.mkdirSync&&"function"==typeof e.writeFileSync&&(e.mkdirSync("/bin",{recursive:!0}),e.mkdirSync("/usr/bin",{recursive:!0}),t&&(e.mkdirSync("/home/user",{recursive:!0}),e.mkdirSync("/tmp",{recursive:!0})),e.mkdirSync("/dev",{recursive:!0}),e.writeFileSync("/dev/null",""),e.writeFileSync("/dev/zero",new Uint8Array(0)),e.writeFileSync("/dev/stdin",""),e.writeFileSync("/dev/stdout",""),e.writeFileSync("/dev/stderr",""),e.mkdirSync("/proc/self/fd",{recursive:!0}),e.writeFileSync("/proc/version",`${p0}
`),e.writeFileSync("/proc/self/exe","/bin/bash"),e.writeFileSync("/proc/self/cmdline","bash\0"),e.writeFileSync("/proc/self/comm",`bash
`),e.writeFileSync("/proc/self/status",function(){let{pid:e,ppid:t,uid:n,gid:r}=pJ();return`Name:	bash
State:	R (running)
Pid:	${e}
PPid:	${t}
Uid:	${n}	${n}	${n}	${n}
Gid:	${r}	${r}	${r}	${r}
`}()),e.writeFileSync("/proc/self/fd/0","/dev/stdin"),e.writeFileSync("/proc/self/fd/1","/dev/stdout"),e.writeFileSync("/proc/self/fd/2","/dev/stderr"))}(t,this.useDefaultLayout),"/"!==n&&t instanceof dY)try{t.mkdirSync(n,{recursive:!0})}catch{}for(let t of function(e){return(e?dq.filter(t=>e.includes(t.name)):dq).map(dV)}(e.commands))this.registerCommand(t);if(e.network)for(let e of dz.map(dV))this.registerCommand(e);if(e.customCommands)for(let t of e.customCommands)!function(e){return"load"in e&&"function"==typeof e.load}(t)?this.registerCommand(t):this.registerCommand(function(e){let t=null;return{name:e.name,execute:async(n,r)=>(t||(t=await e.load()),t.execute(n,r))}}(t))}registerCommand(e){this.commands.set(e.name,e);let t=this.fs;if("function"==typeof t.writeFileSync){let n=`#!/bin/bash
# Built-in command: ${e.name}
`;try{t.writeFileSync(`/bin/${e.name}`,n)}catch{}try{t.writeFileSync(`/usr/bin/${e.name}`,n)}catch{}}}logResult(e){return this.logger&&(e.stdout&&this.logger.debug("stdout",{output:e.stdout}),e.stderr&&this.logger.info("stderr",{output:e.stderr}),this.logger.info("exit",{exitCode:e.exitCode})),e}async exec(e,t){if(0===this.state.callDepth&&(this.state.commandCount=0),this.state.commandCount++,this.state.commandCount>this.limits.maxCommandCount)return{stdout:"",stderr:`bash: maximum command count (${this.limits.maxCommandCount}) exceeded (possible infinite loop). Increase with executionLimits.maxCommandCount option.
`,exitCode:1,env:{...this.state.env,...t?.env}};if(!e.trim())return{stdout:"",stderr:"",exitCode:0,env:{...this.state.env,...t?.env}};this.logger?.info("exec",{command:e});let n=t?.cwd??this.state.cwd,r,i=n;if(t?.cwd)if(t.env&&"PWD"in t.env)r=t.env.PWD;else if(!t?.env||"PWD"in t.env)r=n;else try{i=r=await this.fs.realpath(n)}catch{r=n}let s={...this.state,env:{...this.state.env,...t?.env,...void 0!==r?{PWD:r}:{}},cwd:i,functions:new Map(this.state.functions),localScopes:[...this.state.localScopes],options:{...this.state.options},hashTable:this.state.hashTable},a=e;t?.rawScript||(a=function(e){let t=e.split(`
`),n=[],r=[];for(let e=0;e<t.length;e++){let i=t[e];if(r.length>0){let e=r[r.length-1];if((e.stripTabs?i.replace(/^\t+/,""):i)===e.delimiter){n.push(i.trimStart()),r.pop();continue}n.push(i);continue}let s=i.trimStart();n.push(s);let a=/<<(-?)\s*(['"]?)([\w-]+)\2/g;for(let e of s.matchAll(a)){let t="-"===e[1],n=e[3];r.push({delimiter:n,stripTabs:t})}}return n.join(`
`)}(e));try{let e=_n(a),t={fs:this.fs,commands:this.commands,limits:this.limits,exec:this.exec.bind(this),fetch:this.secureFetch,sleep:this.sleepFn,trace:this.traceFn},n=await new vw(t,s).executeScript(e);return this.logResult(n)}catch(e){if(e instanceof rB||e instanceof rG)return this.logResult({stdout:e.stdout,stderr:e.stderr,exitCode:e.exitCode,env:{...this.state.env,...t?.env}});if(e instanceof rH)return this.logResult({stdout:e.stdout,stderr:e.stderr,exitCode:1,env:{...this.state.env,...t?.env}});if(e instanceof rq)return this.logResult({stdout:e.stdout,stderr:e.stderr,exitCode:rq.EXIT_CODE,env:{...this.state.env,...t?.env}});if("ParseException"===e.name)return this.logResult({stdout:"",stderr:`bash: syntax error: ${e.message}
`,exitCode:2,env:{...this.state.env,...t?.env}});if(e instanceof p4)return this.logResult({stdout:"",stderr:`bash: ${e.message}
`,exitCode:2,env:{...this.state.env,...t?.env}});if(e instanceof RangeError)return this.logResult({stdout:"",stderr:`bash: ${e.message}
`,exitCode:1,env:{...this.state.env,...t?.env}});throw e}}async readFile(e){return this.fs.readFile(this.fs.resolvePath(this.state.cwd,e))}async writeFile(e,t){return this.fs.writeFile(this.fs.resolvePath(this.state.cwd,e),t)}getCwd(){return this.state.cwd}getEnv(){return{...this.state.env}}},vF={"/parseArger/parseArger":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "standalone bash argument parsing framework" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-set export PARSEARGER_ROOT_DIR="/parseArger";\nexport PARSEARGER_ROOT_DIR="/parseArger";\n# @parseArger-leftovers leftovers\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos target "what to do" --subcommand-directory "bin" --subcommand-use-leftovers --subcommand --one-of "bulk-parse" --one-of "completely" --one-of "document" --one-of "generate" --one-of "html-form" --one-of "parse" --one-of "project" --one-of "parse_temp"\n# @parseArger opt output "create file with command output at value" --complete "file"\n# @parseArger flag prepend "add output on top of file"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_target="";\n_one_of_arg_target=("bulk-parse" "completely" "document" "generate" "html-form" "parse" "project" "parse_temp" );\n_arg_subcommand_arg="_arg_target";\n__subcommand=();\n# OPTIONALS ARGUMENTS\n_arg_output=\n# FLAGS\n_arg_prepend="off"\n# NESTED\n# LEFTOVERS\n_arg_leftovers=()\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [ "$__cli_arg_count" -ge 2 ]; then\n		# echo "$0 sub command help\n	#"\n		_triggerSCHelp=0;\n		_helpHasBeenPrinted=0;\n	else\n	\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "standalone bash argument parsing framework:"\n	echo -e "	target: what to do [one of \'bulk-parse\' \'completely\' \'document\' \'generate\' \'html-form\' \'parse\' \'project\' \'parse_temp\']"\n	echo -e "	--output <output>: create file with command output at value"\n	echo -e "	--prepend|--no-prepend: add output on top of file"\n	echo -e "Usage :\n	$0 <target> [--output <value>] [--[no-]prepend]";\n	fi\n\n	fi\n	\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--output)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_output="$2"\n				shift\n				;;\n			--output=*)\n				_arg_output="${_key##--output=}"\n				;;\n			\n			--prepend)\n				_arg_prepend="on"\n				;;\n			--no-prepend)\n				_arg_prepend="off"\n				;;\n			-h|--help)\n				print_help;\n				;;\n			-h*)\n				print_help;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			--quiet)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level - 1))";\n				else\n					_verbose_level="-$2";\n					shift;\n				fi\n				;;\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="target"\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_target ";\n	_leftovers_count=$((${#_positionals[@]} - 1))\n	for ((ii = 0; ii < _leftovers_count; ii++));do\n		_positional_names="$_positional_names _arg_leftovers[$((ii + 0))]";\n	done\n\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		if ! [[ "$_positional_name" =~ "_arg_leftovers" ]];then\n			eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n			local _match_var="_match${_positional_name}";\n			local _regex="${!_match_var}";\n			if [ -n "$_regex" ]; then\n				[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n			fi\n			\n			if [ "$_arg_subcommand_arg" == "$_positional_name" ];then\n				if [ -f "bin/${1}" ];then\n					__subcommand+=("bin/${1}");\n				elif [ -f "$_SCRIPT_DIR/bin/${1}" ];then\n					__subcommand+=("$_SCRIPT_DIR/bin/${1}");\n				elif [[ "bin/" == $(basename "$_SCRIPT_DIR")* ]];then\n					cmdToSub="$(basename "$_SCRIPT_DIR")";\n					cmdsubDir="bin/";\n					__subcommand+=("$_SCRIPT_DIR${cmdsubDir#"${cmdToSub}"}${1}");\n				else\n					__subcommand+=("$_SCRIPT_DIR/bin/${1}");\n				fi\n			fi\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	target: ${_arg_target}";\n	echo -e "	output: ${_arg_output}";\n	echo -e "	prepend: ${_arg_prepend}";\n	echo -e "	leftovers: ${_arg_leftovers[*]}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n__subcommand+=("${_arg_leftovers[@]}");\nif [ "$_triggerSCHelp" == "0" ];then\n	__subcommand+=("--help");\nfi\nif [ "$_verbose_level" -ne "0" ];then\n	__subcommand+=("--verbose" "$_verbose_level");\nfi\n\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\nif [ "$_triggerSCHelp" == "0" ]; then\n	_arg_leftovers+=("--help");\nfi\n\ncmdOutStr=$(set -- "${__subcommand[@]:1}"; source "${__subcommand[0]}");\n\nif [ "$_arg_output" == "" ]; then\n	echo -e "${cmdOutStr}";\nelse\n	output="${cmdOutStr}";\n	\n	if [ "$_arg_output" != "" ]; then\n		if [[ -f "$_arg_output" ]]; then\n			if [ "$_arg_prepend" == "on" ]; then\n				output+=$(cat "$_arg_output");\n			else\n				output=$(cat "$_arg_output")$output;\n			fi	\n		fi\n		echo -e "${output}" > "$_arg_output";\n		chmod +x "$_arg_output";\n	fi\nfi  \n',"/parseArger/bin/utils":`#!/bin/bash
paStart="# @parse";
paStart+="Arger";

parsearger_get_help() {
  sed -ne 's/'"\${paStart}"'-help \\(.*\\).*/\\1/p' "$1"
}
parsearger_get_version() {
  sed -ne 's/'"\${paStart}"'-version \\(.*\\).*/\\1/p' "$1"
}
parsearger_get_set() {
  local -n _lset=$1;
  readarray -t _lset <<< "$(sed -ne 's/'"\${paStart}"'-set \\(.*\\).*/\\1/p' "$2")"
}
parsearger_get_leftovers() {
  sed -ne 's/'"\${paStart}"'-leftovers \\(.*\\).*/\\1/p' "$1" | awk '{print $1}'
}
parsearger_get_parse_leftovers() {
  sed -ne 's/'"\${paStart}"'-leftovers \\(.*\\).*/\\1/p' "$1" | awk '{print $2}'
}
parsearger_get_source() {
  local -n _lsource=$1;
  readarray -t _lsource <<< "$(sed -ne 's/'"\${paStart}"'-source \\(.*\\).*/\\1/p' "$2")"
}
parsearger_get_pos() {
  local -n _lpos=$1;
  readarray -t _lpos <<< "$(sed -ne 's/'"\${paStart}"' pos \\(.*\\).*/\\1/p' "$2")"
}
parsearger_get_opt() {
  local -n _lopt=$1;
  readarray -t _lopt <<< "$(sed -ne 's/'"\${paStart}"' opt \\(.*\\).*/\\1/p' "$2")"
}
parsearger_get_flag() {
  local -n _lflag=$1;
  readarray -t _lflag <<< "$(sed -ne 's/'"\${paStart}"' flag \\(.*\\).*/\\1/p' "$2")"
}
parsearger_get_nested() {
  local -n _lnested=$1;
  readarray -t _lnested <<< "$(sed -ne 's/'"\${paStart}"' nested \\(.*\\).*/\\1/p' "$2")"
}
parsearger_get_one_ofs() {
  local -n _lone_ofs=$1;
  readarray -t _lone_ofs <<< "$(echo "$2" | grep -oE -- '--one-of "([^"]+)"' | cut -d'"' -f2)"
}
parsearger_get_dependencies() {
  local -n _ldependencies=$1;
  readarray -t _ldependencies <<< "$(sed -ne 's/'"\${paStart}"'-dependencies \\(.*\\).*/\\1/p' "$2" | sed 's/ /\\n/g')"
}
parsearger_get_xdg() {
  sed -ne 's/'"\${paStart}"'-xdg \\(.*\\).*/\\1/p' "$1"
}
parsearger_get_verbose() {
  sed -ne 's/'"\${paStart}"'-verbose \\(.*\\).*/\\1/p' "$1"
}
parsearger_is_pa_file() {
  if [ -f "$1" ]; then
    local _isPA="$(sed -ne 's/'"\${paStart}"'//p' "$1")";
    if [ "\${_isPA}" != "" ]; then
      return 0;
    else
      return 1;
    fi
  else
    return 1;
  fi
}`,"/parseArger/bin/help/parser":'#!/bin/bash\n\n# @parseArger-begin\n# @parseArger-help "create help parser" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos message "your main help message"\n# @parseArger opt option "help trigger option" --default-value "help"\n# @parseArger opt short-option "help trigger short option" --default-value "h"\n# @parseArger flag has-subcommand "do not exit after print_help"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/help"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_message="";\n# OPTIONALS ARGUMENTS\n_arg_option="help"\n_arg_short_option="h"\n# FLAGS\n_arg_has_subcommand="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "create help parser:"\n	echo -e "	message: your main help message"\n	echo -e "	--option <option>: help trigger option [default: \' help \']"\n	echo -e "	--short-option <short-option>: help trigger short option [default: \' h \']"\n	echo -e "	--has-subcommand|--no-has-subcommand: do not exit after print_help"\n	echo -e "Usage :\n	$0 <message> [--option <value>] [--short-option <value>] [--[no-]has-subcommand]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_option="$2"\n				shift\n				;;\n			--option=*)\n				_arg_option="${_key##--option=}"\n				;;\n			\n			--short-option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short_option="$2"\n				shift\n				;;\n			--short-option=*)\n				_arg_short_option="${_key##--short-option=}"\n				;;\n			\n			--has-subcommand)\n				_arg_has_subcommand="on"\n				;;\n			--no-has-subcommand)\n				_arg_has_subcommand="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="message"\n	if [ "${_positionals_count}" -gt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 1 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_message ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\tmessage: ${_arg_message}";\n	echo -e "\\toption: ${_arg_option}";\n	echo -e "\\tshort-option: ${_arg_short_option}";\n	echo -e "\\thas-subcommand: ${_arg_has_subcommand}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\noutStr="";\n\nif [ "$_arg_option" != "" ]; then\n	outStr+="--$_arg_option";\nfi\nif [ "$_arg_short_option" != "" ]; then\n	outStr="-$_arg_short_option|$outStr";\nfi\n\necho -e "$outStr)\n	print_help;"\n	if [[ "$_arg_has_subcommand" == "off" ]]; then\n		echo -e "	exit 0;";\n	fi\n	echo -e "	;;";\n\nif [ "$_arg_short_option" != "" ]; then\n	echo -e "-${_arg_short_option}*)\n	print_help;"\n	if [[ "$_arg_has_subcommand" == "off" ]]; then\n		echo -e "	exit 0;";\n	fi\n	echo -e "	;;";\nfi\n',"/parseArger/bin/help/get-trigger":'#!/bin/bash\n\n# @parseArger-begin\n# @parseArger-help "create common help stuff" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos message "your main help message"\n# @parseArger opt option "help trigger option" --default-value "help"\n# @parseArger opt short-option "help trigger short option" --default-value "h"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/help"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_message="";\n# OPTIONALS ARGUMENTS\n_arg_option="help"\n_arg_short_option="h"\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "create common help stuff:"\n	echo -e "	message: your main help message"\n	echo -e "	--option <option>: help trigger option [default: \' help \']"\n	echo -e "	--short-option <short-option>: help trigger short option [default: \' h \']"\n	echo -e "Usage :\n	$0 <message> [--option <value>] [--short-option <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_option="$2"\n				shift\n				;;\n			--option=*)\n				_arg_option="${_key##--option=}"\n				;;\n			\n			--short-option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short_option="$2"\n				shift\n				;;\n			--short-option=*)\n				_arg_short_option="${_key##--short-option=}"\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="message"\n	if [ "${_positionals_count}" -gt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 1 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_message ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\tmessage: ${_arg_message}";\n	echo -e "\\toption: ${_arg_option}";\n	echo -e "\\tshort-option: ${_arg_short_option}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\necho "$_arg_option";\n',"/parseArger/bin/help/declaration":'#!/bin/bash\n\n# @parseArger-begin\n# @parseArger-help "create common help stuff" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos message "your main help message"\n# @parseArger opt option "help trigger option" --default-value "help"\n# @parseArger opt short-option "help trigger short option" --default-value "h"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/help"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_message="";\n# OPTIONALS ARGUMENTS\n_arg_option="help"\n_arg_short_option="h"\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "create common help stuff:"\n	echo -e "	message: your main help message"\n	echo -e "	--option <option>: help trigger option [default: \' help \']"\n	echo -e "	--short-option <short-option>: help trigger short option [default: \' h \']"\n	echo -e "Usage :\n	$0 <message> [--option <value>] [--short-option <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_option="$2"\n				shift\n				;;\n			--option=*)\n				_arg_option="${_key##--option=}"\n				;;\n			\n			--short-option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short_option="$2"\n				shift\n				;;\n			--short-option=*)\n				_arg_short_option="${_key##--short-option=}"\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="message"\n	if [ "${_positionals_count}" -gt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 1 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_message ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\tmessage: ${_arg_message}";\n	echo -e "\\toption: ${_arg_option}";\n	echo -e "\\tshort-option: ${_arg_short_option}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\noutStr="# @parse"\noutStr+="Arger-help \\"$_arg_message\\"";\n\nif [ "$_arg_option" != "" ]; then\n	outStr+=" --option \\"$_arg_option\\"";\nfi\nif [ "$_arg_short_option" != "" ]; then\n	outStr+=" --short-option \\"$_arg_short_option\\"";\nfi\n\necho "$outStr";\n',"/parseArger/bin/bulk-parse":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parse multiple file and directories" --option "help" --short-option "h"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger opt bump "new version"\n# @parseArger opt file "file to document" --short f --repeat --complete "file"\n# @parseArger opt directory "directory to document" --short d --repeat --alias folder --complete "directory"\n# @parseArger flag sub-directory "document subdirectory" --on\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n# OPTIONALS ARGUMENTS\n_arg_bump=\n_arg_file=()\n_arg_directory=()\n# FLAGS\n_arg_sub_directory="on"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parse multiple file and directories:"\n	echo -e "	--bump <bump>: new version"\n	echo -e "	-f, --file <file>: file to document, repeatable"\n	echo -e "	-d, --directory|--folder <directory>: directory to document, repeatable"\n	echo -e "	--sub-directory|--no-sub-directory: document subdirectory, on by default (use --no-sub-directory to turn it off)"\n	echo -e "Usage :\n	$0 [--bump <value>] [--file <value>] [--directory <value>] [--[no-]sub-directory]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--bump)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_bump="$2"\n				shift\n				;;\n			--bump=*)\n				_arg_bump="${_key##--bump=}"\n				;;\n			\n			-f|--file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_file+=("$2")\n				shift\n				;;\n			--file=*)\n				_arg_file+=("${_key##--file=}")\n				;;\n			-f*)\n				_arg_file+=("${_key##-f}")\n				;;\n			\n			-d|--folder|--directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_directory+=("$2")\n				shift\n				;;\n			--directory=*)\n				_arg_directory+=("${_key##--directory=}")\n				;;\n			--folder=*)\n				_arg_directory+=("${_key##--folder=}")\n				;;\n			-d*)\n				_arg_directory+=("${_key##-d}")\n				;;\n			\n			--sub-directory)\n				_arg_sub_directory="on"\n				;;\n			--no-sub-directory)\n				_arg_sub_directory="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			--quiet)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level - 1))";\n				else\n					_verbose_level="-$2";\n					shift;\n				fi\n				;;\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string=""\n	if [ "${_positionals_count}" -gt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 0 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 0 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}";\n		local _regex="${!_match_var}";\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	bump: ${_arg_bump}";\n	echo -e "	file: ${_arg_file[*]}";\n	echo -e "	directory: ${_arg_directory[*]}";\n	echo -e "	sub-directory: ${_arg_sub_directory}";\n\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nSCRIPT_ROOT_DIR=""/parseArger/bin"/..";\n\npacmd=("${SCRIPT_ROOT_DIR}/parseArger" parse "-i");\n\nif [ "$_arg_bump" != "" ]; then\n  pacmd+=("--set-version" "$_arg_bump");\nfi\n\npaStart="# @parse";\npaStart+="Arger";\n\nif [ "${#_arg_file[@]}" -gt 0 ]; then\n	for _file in "${_arg_file[@]}"; do\n		if [ -f "$_file" ]; then\n			_isPA="$(sed -ne \'s/\'"${paStart}"\'//p\' "$_file")";\n			if [ "${_isPA}" != "" ]; then\n				"${pacmd[@]}" "$_file";\n			fi\n		fi\n	done\nfi\n\nif [ "${#_arg_directory[@]}" -gt 0 ]; then\n	for _directory in "${_arg_directory[@]}"; do\n		if [ -d "$_directory" ]; then\n			rpacmd=();\n			if [ "$_arg_sub_directory" == "off" ]; then\n				rpacmd+=(--no-sub-directory);\n			fi\n\n			if [ "$_arg_bump" != "" ]; then\n				rpacmd+=("--bump" "$_arg_bump");\n			fi\n			\n			for _file in "$_directory"/*; do\n				if [ -f "${_file}" ]; then\n					rpacmd+=(--file "$_file");\n				fi\n				if [ -d "${_file}" ] && [ "$_arg_sub_directory" == "on" ] ; then\n					rpacmd+=(--directory "$_file");\n				fi\n			done\n			"$0" "${rpacmd[@]}";\n		fi\n	done\nfi\n',"/parseArger/bin/_project/git-init":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "initialize git, optionally add and commit" --option "help" --short-option "h"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger pos name "project name" --optional\n# @parseArger opt add "what to add" --repeat\n# @parseArger opt commit "commit, default message if nothing specified"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/_project"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_name="";\n_optional_positionals+=("_arg_name");\n# OPTIONALS ARGUMENTS\n_arg_add=()\n_arg_commit=\n# FLAGS\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "initialize git, optionally add and commit:"\n	echo -e "	name: project name, optional"\n	echo -e "	--add <add>: what to add, repeatable"\n	echo -e "	--commit <commit>: commit, default message if nothing specified"\n	echo -e "Usage :\n	$0 [name] [--add <value>] [--commit <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-"0"}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--add)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_add+=("$2")\n				shift\n				;;\n			--add=*)\n				_arg_add+=("${_key##--add=}")\n				;;\n			\n			--commit)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_commit="$2"\n				shift\n				;;\n			--commit=*)\n				_arg_commit="${_key##--commit=}"\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string=""\n	if [ "${_positionals_count}" -gt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 1 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 0 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_name ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	name: ${_arg_name}";\n	echo -e "	add: ${_arg_add[*]}";\n	echo -e "	commit: ${_arg_commit}";\n\n}\n\nprint_version()\n{\n	echo "";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\nif [ ! -d ".git" ]; then\n	git init;\n	# git add .;\n	# git commit -m "Initial commit";\nelse\n	log "git already initialized" -1;\nfi\nif [ "${#_arg_add[@]}" -gt 0 ] || [ "$_arg_commit" != "" ]; then\n	if [ "${#_arg_add[@]}" -eq 0 ]; then\n		_arg_add=(".");\n	fi\n	git add "${_arg_add[@]}";\nfi\n\nif [ "$_arg_commit" != "" ]; then\n	git commit -m "$_arg_commit";\nfi\n',"/parseArger/bin/_project/mkfile":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "create makefile" --option "help" --short-option "h"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger pos name "programm name"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/_project"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_name="";\n# OPTIONALS ARGUMENTS\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "create makefile:"\n	echo -e "	name: programm name"\n	echo -e "Usage :\n	$0 <name>";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-\'0\'}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\x1b[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\x1b[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\x1b[1;33m";\n				;;\n			1)\n				_arg_COLOR="\x1b[0;32m";\n				;;\n			2)\n				_arg_COLOR="\x1b[1;36m";\n				;;\n			3)\n				_arg_COLOR="\x1b[0;36m";\n				;;\n			*)\n				_arg_COLOR="\x1b[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\x1b[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="name"\n	if [ "${_positionals_count}" -gt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 1 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\n	${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_name ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	name: ${_arg_name}";\n\n}\n\nprint_version()\n{\n	echo "";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nsed "${_SCRIPT_DIR}/../../templates/mkfile" \\\n	-e "s|__program_name__|$_arg_name|g" >> "Makefile";',"/parseArger/bin/_project/webserver":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "create web server for a project" --option "help" --short-option "h"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger pos name "program name"\n# @parseArger opt route "route to add" --repeat --alias url\n# @parseArger opt file "create the server file name"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/_project"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_name="";\n# OPTIONALS ARGUMENTS\n_arg_route=()\n_arg_file=\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "create web server for a project:"\n	echo -e "	name: program name"\n	echo -e "	--route|--url <route>: route to add, repeatable"\n	echo -e "	--file <file>: create the server file name"\n	echo -e "Usage :\n	$0 <name> [--route <value>] [--file <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-\'0\'}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--url|--route)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_route+=("$2")\n				shift\n				;;\n			--route=*)\n				_arg_route+=("${_key##--route=}")\n				;;\n			--url=*)\n				_arg_route+=("${_key##--url=}")\n				;;\n			\n			--file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_file="$2"\n				shift\n				;;\n			--file=*)\n				_arg_file="${_key##--file=}"\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="name"\n	if [ "${_positionals_count}" -gt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 1 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_name ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\tname: ${_arg_name}";\n	echo -e "\\troute: ${_arg_route[*]}";\n	echo -e "\\tfile: ${_arg_file}";\n\n}\n\nprint_version()\n{\n	echo "";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nif [ "$_arg_file" == "" ]; then\n	_arg_file="utils/webserver";\nfi\n\nif [ ! -d "$(dirname "$_arg_file")" ]; then\n	mkdir -p "$(dirname "$_arg_file")";\nfi\n\nsed \'s/\\/parseArger/\\/\'"$_arg_name"\'/g\' "${_SCRIPT_DIR}/../../utils/webserver" > "$_arg_file";\n\nfor route in "${_arg_route[@]}"; do\n	rstr="\\n\\t\\t\\t\\t${route})\\n\\t\\t\\t\\t\\tsend200 \'TODO\';\\n\\t\\t\\t\\t;;";\n	sed -i \'/# Set your custom routes here/a \'"$rstr"\'\' "$_arg_file"\ndone\n',"/parseArger/bin/_project/installer":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "generate the get_<myscript> docwloader and installer" --option "help" --short-option "h"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger pos name "project name"\n# @parseArger opt git-repo "git repository name"\n# @parseArger opt git-service "git service" --default-value "github.com"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/_project"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_name="";\n# OPTIONALS ARGUMENTS\n_arg_git_repo=\n_arg_git_service="github.com"\n_arg_parsearger=()\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "generate the get_<myscript> docwloader and installer:"\n	echo -e "	name: project name"\n	echo -e "	--git-repo <git-repo>: git repository name"\n	echo -e "	--git-service <git-service>: git service [default: \' github.com \']"\n	echo -e "	--parsearger <parsearger>: parseArger path, repeatable"\n	echo -e "Usage :\n	$0 <name> [--git-repo <value>] [--git-service <value>] [--parsearger <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--git-repo)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_git_repo="$2"\n				shift\n				;;\n			--git-repo=*)\n				_arg_git_repo="${_key##--git-repo=}"\n				;;\n			\n			--git-service)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_git_service="$2"\n				shift\n				;;\n			--git-service=*)\n				_arg_git_service="${_key##--git-service=}"\n				;;\n			\n			--parsearger)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_parsearger+=("$2")\n				shift\n				;;\n			--parsearger=*)\n				_arg_parsearger+=("${_key##--parsearger=}")\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="name"\n	if [ "${_positionals_count}" -gt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 1 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_name ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\tname: ${_arg_name}";\n	echo -e "\\tgit-repo: ${_arg_git_repo}";\n	echo -e "\\tgit-service: ${_arg_git_service}";\n	echo -e "\\tparsearger: ${_arg_parsearger[*]}";\n\n}\n\nprint_version()\n{\n	echo "";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nsshurl="git@${_arg_git_service}:${_arg_git_repo}.git";\nhttpsurl="https://${_arg_git_service}/${_arg_git_repo}.git";\nzipurl="https://${_arg_git_service}/${_arg_git_repo}/archive/refs/heads/\\${_arg_branch}.zip";\n\nif [ ! -d "utils" ]; then\n	log "Creating utils directory" 4;\n	mkdir -p "utils";\nfi\n\npaBin="$_SCRIPT_DIR/../../parseArger";\n\nif [ ! -f "utils/get_${_arg_name}" ]; then\n	genget_=("$paBin" generate --help-message "Get $_arg_name installer" --output "utils/get_${_arg_name}");\n	genget_+=(--opt \'branch "version to install" --short b --alias tag --alias install-version\');\n	genget_+=(--opt \'install-directory "where to install" --complete "directory"\');\n	genget_+=(--opt \'install-file "rc files to install to, forces install" --repeat\');\n	genget_+=(--flag \'install "install in bashrc" --short i\');\n	genget_+=(--flag \'remove-installer "remove install script itself" --alias rm\');\n	genget_+=(--flag \'ssh "clone using ssh"\');\n	genget_+=(--flag \'zip "install using zip archive, not recommended"\');\n	log "generating gette script" 4;\n	log "${genget_[*]}" 1;\n	"${genget_[@]}";\n\n	sed "${_SCRIPT_DIR}/../../templates/utils/get_" \\\n		-e "s|__git_ssh_url__|$sshurl|g" \\\n		-e "s|__git_https_url__|$httpsurl|g" \\\n		-e "s|__zip_url__|$zipurl|g" \\\n		-e "s|__program_name__|$_arg_name|g" >> "utils/get_${_arg_name}";\nfi\n\nif [ ! -f "utils/install" ]; then\n	geninst_=("$paBin" generate --help-message "Install $_arg_name" --output "utils/install");\n	geninst_+=(--opt \'shell-rc-file "where to put the source directive" --default-value "\\$HOME/.bashrc" --repeat --alias install-file\');\n	geninst_+=(--flag \'comment "add parsearger comment" --on\');\n	log "generating install script" 4;\n	log "${geninst_[*]}" 1;\n	"${geninst_[@]}";\n\n	sed "${_SCRIPT_DIR}/../../templates/utils/install" \\\n		-e "s|__program_name__|$_arg_name|g" \\\n		-e "s|__program_name_upper__|${_arg_name^^}|g" >> "utils/install";\nfi\n\nif [ -f "readme.md" ]; then\n	log "Adding install instruction to readme" 4;\n	sed "${_SCRIPT_DIR}/../../templates/install.md" \\\n		-e "s|__program_name__|$_arg_name|g" \\\n		-e "s|__git_repo__|$_arg_git_repo|g" >> "readme.md";\nfi\n',"/parseArger/bin/generate":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "generate a parseArger script" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger opt pos "positional argument declaration" --short p --repeat\n# @parseArger opt opt "optional arg declaration" --short o --repeat\n# @parseArger opt flag "flag declaration" --short f --repeat\n# @parseArger opt set "declare var" --short s --repeat\n# @parseArger opt source "file to source" --short l --repeat\n# @parseArger opt help-message "help message for the command" --short m --default-value "I send an SOS to the world"\n# @parseArger opt help-option "help option trigger"\n# @parseArger opt help-short-option "short help option"\n# @parseArger opt leftovers-name "extra arguments variable name" --default-value "leftovers"\n# @parseArger opt use-shebang "shebang executable" --default-value "/bin/bash"\n# @parseArger opt set-version "set version number"\n# @parseArger opt version-opt-name "version option name" --default-value "version"\n# @parseArger opt version-short-option "version short option name" --default-value "v"\n# @parseArger opt die-fn-name "die function name" --default-value "die"\n# @parseArger opt log-fn-name "log function name" --default-value "log"\n# @parseArger opt verbose-opt-name "verbose option name" --default-value "verbose"\n# @parseArger opt verbose-level "default verbose level" --default-value "0"\n# @parseArger opt nested "nested option declaration" --repeat\n# @parseArger opt history "add n history lines at the end of the file"\n# @parseArger opt history-offset "offset --history value by value"\n# @parseArger opt history-file "specify history file" --default-value "$HOME/.bash_history"\n# @parseArger opt dependencies "specify script dependencies" --repeat\n# @parseArger opt xdg "XDG app name for config/data/cache directories"\n# @parseArger opt xdg-config-file "XDG config file name" --default-value "config"\n# @parseArger flag xdg-config "enable XDG_CONFIG_HOME support" --on\n# @parseArger flag xdg-data "enable XDG_DATA_HOME support" --on\n# @parseArger flag xdg-cache "enable XDG_CACHE_HOME support"\n# @parseArger flag leftovers "accept extra arguments"\n# @parseArger flag bang "include shebang" --on\n# @parseArger flag version-opt "generate version opt handling" --on\n# @parseArger flag use-verbose "generate verbose level parser" --on\n# @parseArger flag parse-leftovers "parse leftovers, force leftovers"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n# OPTIONALS ARGUMENTS\n_arg_pos=()\n_arg_opt=()\n_arg_flag=()\n_arg_set=()\n_arg_source=()\n_arg_help_message="I send an SOS to the world"\n_arg_help_option=\n_arg_help_short_option=\n_arg_leftovers_name="leftovers"\n_arg_use_shebang="/bin/bash"\n_arg_set_version=\n_arg_version_opt_name="version"\n_arg_version_short_option="v"\n_arg_die_fn_name="die"\n_arg_log_fn_name="log"\n_arg_verbose_opt_name="verbose"\n_arg_verbose_level="0"\n_arg_nested=()\n_arg_history=\n_arg_history_offset=\n_arg_history_file="$HOME/.bash_history"\n_arg_dependencies=()\n_arg_xdg=\n_arg_xdg_config_file="config"\n# FLAGS\n_arg_xdg_config="on"\n_arg_xdg_data="on"\n_arg_xdg_cache="off"\n_arg_leftovers="off"\n_arg_bang="on"\n_arg_version_opt="on"\n_arg_use_verbose="on"\n_arg_parse_leftovers="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "generate a parseArger script:"\n	echo -e "	-p, --pos <pos>: positional argument declaration, repeatable"\n	echo -e "	-o, --opt <opt>: optional arg declaration, repeatable"\n	echo -e "	-f, --flag <flag>: flag declaration, repeatable"\n	echo -e "	-s, --set <set>: declare var, repeatable"\n	echo -e "	-l, --source <source>: file to source, repeatable"\n	echo -e "	-m, --help-message <help-message>: help message for the command [default: \' I send an SOS to the world \']"\n	echo -e "	--help-option <help-option>: help option trigger"\n	echo -e "	--help-short-option <help-short-option>: short help option"\n	echo -e "	--leftovers-name <leftovers-name>: extra arguments variable name [default: \' leftovers \']"\n	echo -e "	--use-shebang <use-shebang>: shebang executable [default: \' /bin/bash \']"\n	echo -e "	--set-version <set-version>: set version number"\n	echo -e "	--version-opt-name <version-opt-name>: version option name [default: \' version \']"\n	echo -e "	--version-short-option <version-short-option>: version short option name [default: \' v \']"\n	echo -e "	--die-fn-name <die-fn-name>: die function name [default: \' die \']"\n	echo -e "	--log-fn-name <log-fn-name>: log function name [default: \' log \']"\n	echo -e "	--verbose-opt-name <verbose-opt-name>: verbose option name [default: \' verbose \']"\n	echo -e "	--verbose-level <verbose-level>: default verbose level [default: \' 0 \']"\n	echo -e "	--nested <nested>: nested option declaration, repeatable"\n	echo -e "	--history <history>: add n history lines at the end of the file"\n	echo -e "	--history-offset <history-offset>: offset --history value by value"\n	echo -e "	--history-file <history-file>: specify history file [default: \' $HOME/.bash_history \']"\n	echo -e "	--dependencies <dependencies>: specify script dependencies, repeatable"\n	echo -e "	--xdg <xdg>: XDG app name for config/data/cache directories"\n	echo -e "	--xdg-config-file <xdg-config-file>: XDG config file name [default: \' config \']"\n	echo -e "	--xdg-config|--no-xdg-config: enable XDG_CONFIG_HOME support, on by default (use --no-xdg-config to turn it off)"\n	echo -e "	--xdg-data|--no-xdg-data: enable XDG_DATA_HOME support, on by default (use --no-xdg-data to turn it off)"\n	echo -e "	--xdg-cache|--no-xdg-cache: enable XDG_CACHE_HOME support"\n	echo -e "	--leftovers|--no-leftovers: accept extra arguments"\n	echo -e "	--bang|--no-bang: include shebang, on by default (use --no-bang to turn it off)"\n	echo -e "	--version-opt|--no-version-opt: generate version opt handling, on by default (use --no-version-opt to turn it off)"\n	echo -e "	--use-verbose|--no-use-verbose: generate verbose level parser, on by default (use --no-use-verbose to turn it off)"\n	echo -e "	--parse-leftovers|--no-parse-leftovers: parse leftovers, force leftovers"\n	echo -e "Usage :\n	$0 [--pos <value>] [--opt <value>] [--flag <value>] [--set <value>] [--source <value>] [--help-message <value>] [--help-option <value>] [--help-short-option <value>] [--leftovers-name <value>] [--use-shebang <value>] [--set-version <value>] [--version-opt-name <value>] [--version-short-option <value>] [--die-fn-name <value>] [--log-fn-name <value>] [--verbose-opt-name <value>] [--verbose-level <value>] [--nested <value>] [--history <value>] [--history-offset <value>] [--history-file <value>] [--dependencies <value>] [--xdg <value>] [--xdg-config-file <value>] [--[no-]xdg-config] [--[no-]xdg-data] [--[no-]xdg-cache] [--[no-]leftovers] [--[no-]bang] [--[no-]version-opt] [--[no-]use-verbose] [--[no-]parse-leftovers]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			-p|--pos)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_pos+=("$2")\n				shift\n				;;\n			--pos=*)\n				_arg_pos+=("${_key##--pos=}")\n				;;\n			-p*)\n				_arg_pos+=("${_key##-p}")\n				;;\n			\n			-o|--opt)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_opt+=("$2")\n				shift\n				;;\n			--opt=*)\n				_arg_opt+=("${_key##--opt=}")\n				;;\n			-o*)\n				_arg_opt+=("${_key##-o}")\n				;;\n			\n			-f|--flag)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_flag+=("$2")\n				shift\n				;;\n			--flag=*)\n				_arg_flag+=("${_key##--flag=}")\n				;;\n			-f*)\n				_arg_flag+=("${_key##-f}")\n				;;\n			\n			-s|--set)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_set+=("$2")\n				shift\n				;;\n			--set=*)\n				_arg_set+=("${_key##--set=}")\n				;;\n			-s*)\n				_arg_set+=("${_key##-s}")\n				;;\n			\n			-l|--source)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_source+=("$2")\n				shift\n				;;\n			--source=*)\n				_arg_source+=("${_key##--source=}")\n				;;\n			-l*)\n				_arg_source+=("${_key##-l}")\n				;;\n			\n			-m|--help-message)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_help_message="$2"\n				shift\n				;;\n			--help-message=*)\n				_arg_help_message="${_key##--help-message=}"\n				;;\n			-m*)\n				_arg_help_message="${_key##-m}"\n				;;\n			\n			--help-option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_help_option="$2"\n				shift\n				;;\n			--help-option=*)\n				_arg_help_option="${_key##--help-option=}"\n				;;\n			\n			--help-short-option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_help_short_option="$2"\n				shift\n				;;\n			--help-short-option=*)\n				_arg_help_short_option="${_key##--help-short-option=}"\n				;;\n			\n			--leftovers-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_leftovers_name="$2"\n				shift\n				;;\n			--leftovers-name=*)\n				_arg_leftovers_name="${_key##--leftovers-name=}"\n				;;\n			\n			--use-shebang)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_use_shebang="$2"\n				shift\n				;;\n			--use-shebang=*)\n				_arg_use_shebang="${_key##--use-shebang=}"\n				;;\n			\n			--set-version)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_set_version="$2"\n				shift\n				;;\n			--set-version=*)\n				_arg_set_version="${_key##--set-version=}"\n				;;\n			\n			--version-opt-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_version_opt_name="$2"\n				shift\n				;;\n			--version-opt-name=*)\n				_arg_version_opt_name="${_key##--version-opt-name=}"\n				;;\n			\n			--version-short-option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_version_short_option="$2"\n				shift\n				;;\n			--version-short-option=*)\n				_arg_version_short_option="${_key##--version-short-option=}"\n				;;\n			\n			--die-fn-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_die_fn_name="$2"\n				shift\n				;;\n			--die-fn-name=*)\n				_arg_die_fn_name="${_key##--die-fn-name=}"\n				;;\n			\n			--log-fn-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_log_fn_name="$2"\n				shift\n				;;\n			--log-fn-name=*)\n				_arg_log_fn_name="${_key##--log-fn-name=}"\n				;;\n			\n			--verbose-opt-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_verbose_opt_name="$2"\n				shift\n				;;\n			--verbose-opt-name=*)\n				_arg_verbose_opt_name="${_key##--verbose-opt-name=}"\n				;;\n			\n			--verbose-level)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_verbose_level="$2"\n				shift\n				;;\n			--verbose-level=*)\n				_arg_verbose_level="${_key##--verbose-level=}"\n				;;\n			\n			--nested)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_nested+=("$2")\n				shift\n				;;\n			--nested=*)\n				_arg_nested+=("${_key##--nested=}")\n				;;\n			\n			--history)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_history="$2"\n				shift\n				;;\n			--history=*)\n				_arg_history="${_key##--history=}"\n				;;\n			\n			--history-offset)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_history_offset="$2"\n				shift\n				;;\n			--history-offset=*)\n				_arg_history_offset="${_key##--history-offset=}"\n				;;\n			\n			--history-file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_history_file="$2"\n				shift\n				;;\n			--history-file=*)\n				_arg_history_file="${_key##--history-file=}"\n				;;\n			\n			--dependencies)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_dependencies+=("$2")\n				shift\n				;;\n			--dependencies=*)\n				_arg_dependencies+=("${_key##--dependencies=}")\n				;;\n			\n			--xdg)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_xdg="$2"\n				shift\n				;;\n			--xdg=*)\n				_arg_xdg="${_key##--xdg=}"\n				;;\n			\n			--xdg-config-file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_xdg_config_file="$2"\n				shift\n				;;\n			--xdg-config-file=*)\n				_arg_xdg_config_file="${_key##--xdg-config-file=}"\n				;;\n			\n			--xdg-config)\n				_arg_xdg_config="on"\n				;;\n			--no-xdg-config)\n				_arg_xdg_config="off"\n				;;\n			--xdg-data)\n				_arg_xdg_data="on"\n				;;\n			--no-xdg-data)\n				_arg_xdg_data="off"\n				;;\n			--xdg-cache)\n				_arg_xdg_cache="on"\n				;;\n			--no-xdg-cache)\n				_arg_xdg_cache="off"\n				;;\n			--leftovers)\n				_arg_leftovers="on"\n				;;\n			--no-leftovers)\n				_arg_leftovers="off"\n				;;\n			--bang)\n				_arg_bang="on"\n				;;\n			--no-bang)\n				_arg_bang="off"\n				;;\n			--version-opt)\n				_arg_version_opt="on"\n				;;\n			--no-version-opt)\n				_arg_version_opt="off"\n				;;\n			--use-verbose)\n				_arg_use_verbose="on"\n				;;\n			--no-use-verbose)\n				_arg_use_verbose="off"\n				;;\n			--parse-leftovers)\n				_arg_parse_leftovers="on"\n				;;\n			--no-parse-leftovers)\n				_arg_parse_leftovers="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			--quiet)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level - 1))";\n				else\n					_verbose_level="-$2";\n					shift;\n				fi\n				;;\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string=""\n	if [ "${_positionals_count}" -gt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 0 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 0 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}";\n		local _regex="${!_match_var}";\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	pos: ${_arg_pos[*]}";\n	echo -e "	opt: ${_arg_opt[*]}";\n	echo -e "	flag: ${_arg_flag[*]}";\n	echo -e "	set: ${_arg_set[*]}";\n	echo -e "	source: ${_arg_source[*]}";\n	echo -e "	help-message: ${_arg_help_message}";\n	echo -e "	help-option: ${_arg_help_option}";\n	echo -e "	help-short-option: ${_arg_help_short_option}";\n	echo -e "	leftovers-name: ${_arg_leftovers_name}";\n	echo -e "	use-shebang: ${_arg_use_shebang}";\n	echo -e "	set-version: ${_arg_set_version}";\n	echo -e "	version-opt-name: ${_arg_version_opt_name}";\n	echo -e "	version-short-option: ${_arg_version_short_option}";\n	echo -e "	die-fn-name: ${_arg_die_fn_name}";\n	echo -e "	log-fn-name: ${_arg_log_fn_name}";\n	echo -e "	verbose-opt-name: ${_arg_verbose_opt_name}";\n	echo -e "	verbose-level: ${_arg_verbose_level}";\n	echo -e "	nested: ${_arg_nested[*]}";\n	echo -e "	history: ${_arg_history}";\n	echo -e "	history-offset: ${_arg_history_offset}";\n	echo -e "	history-file: ${_arg_history_file}";\n	echo -e "	dependencies: ${_arg_dependencies[*]}";\n	echo -e "	xdg: ${_arg_xdg}";\n	echo -e "	xdg-config-file: ${_arg_xdg_config_file}";\n	echo -e "	xdg-config: ${_arg_xdg_config}";\n	echo -e "	xdg-data: ${_arg_xdg_data}";\n	echo -e "	xdg-cache: ${_arg_xdg_cache}";\n	echo -e "	leftovers: ${_arg_leftovers}";\n	echo -e "	bang: ${_arg_bang}";\n	echo -e "	version-opt: ${_arg_version_opt}";\n	echo -e "	use-verbose: ${_arg_use_verbose}";\n	echo -e "	parse-leftovers: ${_arg_parse_leftovers}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nSCRIPT_ROOT_DIR="/parseArger/bin";\n\n# var definitions\nminPos="${#_arg_pos[@]}";\nmaxPos="${#_arg_pos[@]}";\nreqPos=();\nposNames=();\nposArgNames=();\noptNames=();\noptArgNames=();\nflagNames=();\nflagArgNames=();\npaCmtTrgr="@parse";\npaCmtTrgr+="Arger-";\n\nposI=0;\nfor pos in "${_arg_pos[@]}"; do\n	posNames+=("$(echo "$pos" | head -n1 | cut -d " " -f1)");\n	posArgNames+=("$(echo "$pos" | head -n1 | cut -d " " -f1 | sed \'s/-/_/\')");\n	if [[ $pos =~ "--optional" ]]; then\n		minPos=$((minPos-1));\n	else\n		reqPos+=("${posNames[$posI]}");\n	fi\n	# TODO\n	# [ ] extract min-repeat value\n	if [[ $pos =~ "--min-repeat" ]]; then\n		minPos=$((minPos+1));\n	fi\n	# TODO\n	# [ ] extract max-repeat value\n	if [[ $pos =~ "--max-repeat" ]]; then\n		maxPos=$((maxPos+1));\n	fi\n	posI=$((posI+1));\ndone\nfor opt in "${_arg_opt[@]}"; do\n	optNames+=("$(echo "$opt" | head -n1 | cut -d " " -f1)");\n	optArgNames+=("$(echo "$opt" | head -n1 | cut -d " " -f1 | sed \'s/-/_/g\')");\ndone\nfor flag in "${_arg_flag[@]}"; do\n	flagNames+=("$(echo "$flag" | head -n1 | cut -d " " -f1)");\n	flagArgNames+=("$(echo "$flag" | head -n1 | cut -d " " -f1 | sed \'s/-/_/g\')");\ndone\nfor nested in "${_arg_nested[@]}"; do\n	nestedNames+=("$(echo "$nested" | head -n1 | cut -d " " -f1)");\n	nestedArgNames+=("$(echo "$nested" | head -n1 | cut -d " " -f1 | sed \'s/-/_/g\')");\ndone\n\n# generate shebang\nif [ "$_arg_bang" != "off" ]; then\n	echo "#!${_arg_use_shebang}";\nfi\n\n# parsing\necho -e "# ${paCmtTrgr}begin";\n\n# help\nhelpDecArg=("$_arg_help_message");\nif [ "$_arg_help_option" != "" ]; then\n	helpDecArg+=("--option" "$_arg_help_option");\nfi\nif [ "$_arg_help_short_option" != "" ]; then\n	helpDecArg+=("--short-option" "$_arg_help_short_option");\nfi\nsource "$SCRIPT_ROOT_DIR/help/declaration" "${helpDecArg[@]}";\n\n# version\nif [ "$_arg_set_version" != "" ] && [ "$_arg_version_opt" != "off" ]; then\n	versionDecArg=("$_arg_set_version");\n	if [ "$_arg_version_opt_name" != "" ]; then\n		versionDecArg+=("--option" "$_arg_version_opt_name");\n	fi\n	if [ "$_arg_version_short_option" != "" ]; then\n		versionDecArg+=("--short-option" "$_arg_version_short_option");\n	fi\n	source "$SCRIPT_ROOT_DIR/version/declaration" "${versionDecArg[@]}";\nelse\n	versionDecArg=("");\nfi\n\n# verbose\nif [ "$_arg_use_verbose" != "off" ]; then\n	verboseDecArg=("--option" "$_arg_verbose_opt_name" --level "$_arg_verbose_level" --log-fn-name "$_arg_log_fn_name");\n	source "$SCRIPT_ROOT_DIR/verbose/declaration" "${verboseDecArg[@]}";\nelse\n	verboseDecArg=("");\nfi\n\n# xdg\nif [ "$_arg_xdg" != "" ]; then\n	xdgDecArg=("$_arg_xdg");\n	if [ "$_arg_xdg_config" == "on" ]; then\n		xdgDecArg+=(--config);\n	else\n		xdgDecArg+=(--no-config);\n	fi\n	if [ "$_arg_xdg_data" == "on" ]; then\n		xdgDecArg+=(--data);\n	else\n		xdgDecArg+=(--no-data);\n	fi\n	if [ "$_arg_xdg_cache" == "on" ]; then\n		xdgDecArg+=(--cache);\n	else\n		xdgDecArg+=(--no-cache);\n	fi\n	if [ "$_arg_xdg_config_file" != "config" ]; then\n		xdgDecArg+=(--config-file "$_arg_xdg_config_file");\n	fi\n	source "$SCRIPT_ROOT_DIR/xdg/declaration" "${xdgDecArg[@]}";\nfi\n\n# setting user variables\nif [ "${#_arg_set[@]}" -gt 0 ]; then\n	for _set in "${_arg_set[@]}"; do\n		echo "# ${paCmtTrgr}set $_set";\n		echo -e "$_set";\n	done\nfi\n\n# sourcing user files\nif [ "${#_arg_source[@]}" -gt 0 ]; then\n	for _source in "${_arg_source[@]}"; do\n		echo "# ${paCmtTrgr}source $_source";\n		echo -e "source \\"$_source\\";";\n	done\nfi\n\n# leftovers\nif [ "$_arg_leftovers_name" != "leftovers" ] || [ "$_arg_parse_leftovers" == "on" ]; then\n	_arg_leftovers="on";\nfi\nif [ "$_arg_leftovers" == "on" ]; then\n	lfDec="# ${paCmtTrgr}leftovers $_arg_leftovers_name";\n	if [ "$_arg_parse_leftovers" == "on" ]; then\n		lfDec+=" --parse";\n	fi\n	echo -e "$lfDec";\nfi\n\nhasSubCmd="1";\n\n# argument declarations\necho -e "_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=\\$(tput colors 2>/dev/null)\n	if [ -n \\"\\$ncolors\\" ] && [ \\"\\$ncolors\\" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi";\necho -e "# ${paCmtTrgr}declarations";\nfor pos in "${_arg_pos[@]}"; do\n	if [[ "$hasSubCmd" == "1" ]]; then\n		hasSubCmd=$(eval "source $SCRIPT_ROOT_DIR/pos/is-subcmd $pos")\n	fi\n	eval "source $SCRIPT_ROOT_DIR/pos/declaration $pos";\ndone\nfor opt in "${_arg_opt[@]}"; do\n	eval "source $SCRIPT_ROOT_DIR/opt/declaration $opt";\ndone\nfor flag in "${_arg_flag[@]}"; do\n	eval "source $SCRIPT_ROOT_DIR/flag/declaration $flag";\ndone\nfor nested in "${_arg_nested[@]}"; do\n	eval "source $SCRIPT_ROOT_DIR/nested/declaration $nested";\ndone\n\nif [ "${#_arg_dependencies[@]}" -gt 0 ]; then\n	__depdeclstr="";\n	for dep in "${_arg_dependencies[@]}"; do\n		__depdeclstr+=" \\"$dep\\"";\n	done\n	echo "# ${paCmtTrgr}dependencies${__depdeclstr}";\nfi\n\n# generating parsing function\necho "# ${paCmtTrgr}declarations-end\n\n# ${paCmtTrgr}utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=\\"\\$(cd \\"\\$(dirname \\"\\${BASH_SOURCE[0]}\\")\\" && pwd -P)\\";\n# ${paCmtTrgr}utils-end\n\n# ${paCmtTrgr}parsing\n\n__cli_arg_count="\\$#";\n\n${_arg_die_fn_name}()\n{\n	local _ret=1\n    if [[ -n \\"\\$2\\" ]] && [[ \\"\\$2\\" =~ ^[0-9]+$ ]]; then\n   	_ret=\\"\\$2\\"\n    fi\n	test \\"\\${_PRINT_HELP:-no}\\" = yes && print_help >&2\n	log \\"\\$1\\" -3 >&2\n	exit \\"\\${_ret}\\"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option=\\"\\${1:0:1}\\"\n	test \\"\\$all_short_options\\" = \\"\\${all_short_options/\\$first_option/}\\" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();"\n\n# variable initialisation\nfor pos in "${_arg_pos[@]}"; do\n	eval "source $SCRIPT_ROOT_DIR/pos/init $pos";\ndone\necho "# OPTIONALS ARGUMENTS"\nfor opt in "${_arg_opt[@]}"; do\n	eval "source $SCRIPT_ROOT_DIR/opt/init $opt";\ndone\necho "# FLAGS"\nfor flag in "${_arg_flag[@]}"; do\n	eval "source $SCRIPT_ROOT_DIR/flag/init $flag";\ndone\necho "# NESTED"\nfor nested in "${_arg_nested[@]}"; do\n	eval "source $SCRIPT_ROOT_DIR/nested/init $nested";\ndone\nif [ "$_arg_leftovers" != "off" ]; then\n	echo -e "# LEFTOVERS\n_arg_${_arg_leftovers_name}=()";\n	if [ "$_arg_parse_leftovers" == "on" ]; then\n		echo -e "# LEFTOVERS\n	declare -A _arg_parsed_${_arg_leftovers_name}";\n	fi\nfi\n# verbose level init\nif [ "$_arg_use_verbose" != "off" ]; then\n	source "$SCRIPT_ROOT_DIR/verbose/init" "${verboseDecArg[@]}";\nfi\n\n# xdg init\nif [ "$_arg_xdg" != "" ]; then\n	source "$SCRIPT_ROOT_DIR/xdg/init" "${xdgDecArg[@]}";\nfi\n\n# help\n# TODO get the index of the subcommand arg to compare to total number of args\n#		2 selected because "tgt --help" is 2 args\necho -e "\n\nprint_help()\n{\n	_triggerSCHelp=1;";\nif [ "$hasSubCmd" == "0" ]; then\n	echo -e "\n	if [ \\"\\$__cli_arg_count\\" -ge 2 ]; then\n		# echo \\"\\$0 sub command help\\\\n	#\\"\n		_triggerSCHelp=0;\n		_helpHasBeenPrinted=0;\n	else\n	";\nfi\necho -e "\n	if [[ \\"\\$_helpHasBeenPrinted\\" == \\"1\\" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e \\"$_arg_help_message:\\"";\n# help examples\nposexample="";\nfor pos in "${_arg_pos[@]}"; do\n	opCh="<";\n	clCh=">";\n	if [[ $pos =~ "--optional" ]]; then\n		opCh="[";\n		clCh="]";\n	fi\n	posexample+=" ${opCh}$(echo "$pos" | head -n1 | cut -d " " -f1)${clCh}";\n	eval "source $SCRIPT_ROOT_DIR/pos/help $pos";\ndone\noptexample="";\nfor opt in "${_arg_opt[@]}"; do\n	optexample+=" [--$(echo "$opt" | head -n1 | cut -d " " -f1) <value>]";\n	eval "source $SCRIPT_ROOT_DIR/opt/help $opt";\ndone\nflagexample="";\nfor flag in "${_arg_flag[@]}"; do\n	flagexample+=" [--[no-]$(echo "$flag" | head -n1 | cut -d " " -f1)]";\n	eval "source $SCRIPT_ROOT_DIR/flag/help $flag";\ndone\nnestedexample="";\nfor nested in "${_arg_nested[@]}"; do\n	nestedexample+=" [--[no-]$(echo "$nested" | head -n1 | cut -d " " -f1)]";\n	eval "source $SCRIPT_ROOT_DIR/nested/help $nested";\ndone\n\necho -e "\\techo -e \\"Usage :\\n\\t\\$0${posexample}${optexample}${flagexample}${nestedexample}\\";\n	fi";\nif [ "$hasSubCmd" == "0" ]; then\n	echo -e "\n	fi\n	";\nfi\necho -e "\n}\n";\n# verbose log function\nif [ "$_arg_use_verbose" != "off" ]; then\n	source "$SCRIPT_ROOT_DIR/verbose/logger" "${verboseDecArg[@]}";\nfi\n\n# xdg helper functions\nif [ "$_arg_xdg" != "" ]; then\n	source "$SCRIPT_ROOT_DIR/xdg/functions" "${xdgDecArg[@]}";\nfi\n\n# TODO: handle repeat-min and repeat-max\n# actual parsing\necho -e "\nparse_commandline()\n{\n	_positionals_count=0\n	while test \\$# -gt 0\n	do\n		_key=\\"\\$1\\"\n		case \\"\\$_key\\" in";\nfor opt in "${_arg_opt[@]}"; do\n	eval "source $SCRIPT_ROOT_DIR/opt/parser $opt" | sed -e \'s/^/\\t\\t\\t/\';\ndone\n\nfor flag in "${_arg_flag[@]}"; do\n	eval "source $SCRIPT_ROOT_DIR/flag/parser $flag" | sed -e \'s/^/\\t\\t\\t/\';\ndone\n\nfor nested in "${_arg_nested[@]}"; do\n	eval "source $SCRIPT_ROOT_DIR/nested/parser $nested" | sed -e \'s/^/\\t\\t\\t/\';\ndone\n\nif [[ "$hasSubCmd" == "0" ]]; then\n	helpDecArg+=("--has-subcommand")\nfi\nsource "$SCRIPT_ROOT_DIR/help/parser" "${helpDecArg[@]}" | sed -e \'s/^/\\t\\t\\t/\';\n\nif [ "$_arg_set_version" != "" ] && [ "$_arg_version_opt" != "off" ]; then\n	source "$SCRIPT_ROOT_DIR/version/parser" "${versionDecArg[@]}" | sed -e \'s/^/\\t\\t\\t/\';\nfi\n\nif [ "$_arg_use_verbose" != "off" ]; then\n	source "$SCRIPT_ROOT_DIR/verbose/parser" "${verboseDecArg[@]}" | sed -e \'s/^/\\t\\t\\t/\';\nfi\n\nif [ "$_arg_parse_leftovers" == "on" ]; then\n	echo -e "\\t\\t\\t\\t# parsing leftovers\n				--*)\n					if [[ \\"\\$2\\" =~ ^--([^=]+)(=(.*))?$ ]] || [ \\"\\$2\\" = \\"\\" ]; then\n						_arg_parsed_${_arg_leftovers_name}[\\"\\${1#--}\\"]=\\"on\\"\n					elif [[ \\"\\$1\\" =~ ^--([^=]+)=(.*)$ ]]; then\n						_arg_parsed_${_arg_leftovers_name}[\\"\\${BASH_REMATCH[1]}\\"]=\\"\\${BASH_REMATCH[2]}\\";\n					else\n						_arg_parsed_${_arg_leftovers_name}[\\"\\${1#--}\\"]=\\"\\${2}\\";\n						shift;\n					fi\n					;;\n";\nfi\necho -e "\\t\\t\\t\\t*)\n				_last_positional=\\"\\$1\\"\n				_positionals+=(\\"\\$_last_positional\\")\n				_positionals_count=\\$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string=\\"${reqPos[*]}\\"";\n\nif [ "$_arg_leftovers" == "off" ]; then\n	echo -e "	if [ \\"\\${_positionals_count}\\" -gt ${maxPos} ] && [ \\"\\$_helpHasBeenPrinted\\" == \\"1\\" ];then\n		_PRINT_HELP=yes die \\"FATAL ERROR: There were spurious positional arguments --- we expect at most $maxPos (namely: \\$_required_args_string), but got \\${_positionals_count} (the last one was: \'\\${_last_positional}\').\\\\\\\\n\\\\\\\\t\\${_positionals[*]}\\" 1\n	fi";\nfi\n\n	echo -e "	if [ \\"\\${_positionals_count}\\" -lt ${minPos} ] && [ \\"\\$_helpHasBeenPrinted\\" == \\"1\\" ];then\n		_PRINT_HELP=yes die \\"FATAL ERROR: Not enough positional arguments - we require at least $minPos (namely: \\$_required_args_string), but got only \\${_positionals_count}.\\\\n\\\\t\\${_positionals[*]}\\" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=\\$1;\n	_positional_names=\\"$(for pos in "${posArgNames[@]}"; do printf "_arg_%s " "$pos";done;)\\";";\n\nif [ "$_arg_leftovers" != "off" ]; then\n	echo -e "	_leftovers_count=\\$((\\${#_positionals[@]} - ${#_arg_pos[@]}))\n	for ((ii = 0; ii < _leftovers_count; ii++));do\n		_positional_names=\\"\\$_positional_names _arg_leftovers[\\$((ii + 0))]\\";\n	done\n";\nfi\n\n	echo -e "	shift \\"\\$_shift_for\\"\n	for _positional_name in \\${_positional_names};do\n		test \\$# -gt 0 || break;";\n	if [ "$_arg_leftovers" == "off" ]; then\n		echo -e "		eval \\"if [ \\\\\\"\\\\\\$_one_of\\${_positional_name}\\\\\\" != \\\\\\"\\\\\\" ];then [[ \\\\\\"\\\\\\${_one_of\\${_positional_name}[*]}\\\\\\" =~ \\\\\\"\\\\\\${1}\\\\\\" ]];fi\\" || die \\"\\${_positional_name} must be one of: \\$(eval \\"echo \\\\\\"\\\\\\${_one_of\\${_positional_name}[*]}\\\\\\"\\")\\" 1;";\n		echo -e "		local _match_var=\\"_match\\${_positional_name}\\";\n		local _regex=\\"\\${!_match_var}\\";\n		if [ -n \\"\\$_regex\\" ]; then\n			[[ \\"\\${1}\\" =~ \\$_regex ]] || die \\"\\${_positional_name} does not match pattern: \\$_regex\\"\n		fi";\n		if [[ "$hasSubCmd" == "0" ]]; then\n			echo -e "		$(eval "source $SCRIPT_ROOT_DIR/pos/subcmd-assign ${_arg_pos[0]}")";\n		fi\n	else\n		echo "		if ! [[ \\"\\$_positional_name\\" =~ \\"_arg_$_arg_leftovers_name\\" ]];then\n			eval \\"if [ \\\\\\"\\\\\\$_one_of\\${_positional_name}\\\\\\" != \\\\\\"\\\\\\" ];then [[ \\\\\\"\\\\\\${_one_of\\${_positional_name}[*]}\\\\\\" =~ \\\\\\"\\\\\\${1}\\\\\\" ]];fi\\" || die \\"\\${_positional_name} must be one of: \\$(eval \\"echo \\\\\\"\\\\\\${_one_of\\${_positional_name}[*]}\\\\\\"\\")\\" 1;"\n        echo "			local _match_var=\\"_match\\${_positional_name}\\";\n			local _regex=\\"\\${!_match_var}\\";\n			if [ -n \\"\\$_regex\\" ]; then\n				[[ \\"\\${1}\\" =~ \\$_regex ]] || die \\"\\${_positional_name} does not match pattern: \\$_regex\\"\n			fi"\n		if [[ "$hasSubCmd" == "0" ]]; then\n			echo -e "			$(eval "source $SCRIPT_ROOT_DIR/pos/subcmd-assign ${_arg_pos[0]}")";\n		fi\n		echo "		fi";\n	fi\n	echo -e "		eval \\"\\$_positional_name=\\\\\\${1}\\" || die \\"Error during argument parsing, possibly an ParseArger bug.\\" 1;";\n\n	echo -e "		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo \\"DEBUG: \\$0 \\$@\\";\n	";\nposI=0;\nfor pos in "${posArgNames[@]}"; do\n	echo -e "	echo -e \\"\\t${posNames[$posI]}: \\${_arg_${pos}}\\";";\n	posI=$((posI+1));\ndone\nposI=0;\nfor opt in "${optArgNames[@]}"; do\n	forRepeating=$(eval "source $SCRIPT_ROOT_DIR/opt/is-repeating ${_arg_opt[posI]}");\n	if [ "$forRepeating" == "0" ];then\n		forRepeating="[*]";\n	else\n		forRepeating="";\n	fi\n	echo -e "	echo -e \\"\\t${optNames[$posI]}: \\${_arg_${opt}${forRepeating}}\\";";\n	posI=$((posI+1));\ndone\nposI=0;\nfor flag in "${flagArgNames[@]}"; do\n	echo -e "	echo -e \\"\\t${flagNames[$posI]}: \\${_arg_${flag}}\\";";\n	posI=$((posI+1));\ndone\nfor nested in "${nestedArgNames[@]}"; do\n	echo -e "	echo -e \\"\\t${nested}: \\${_arg_${nested}}\\";";\n	echo -e "\\tfor _tmp_k_${nested} in \\"\\${!_arg_ns_${nested}[@]}\\"; do\n		echo -e \\"\\t${nested}-\\$_tmp_k_${nested}: \\${_arg_ns_${nested}[\\$_tmp_k_${nested}]}\\";\n	done";\n	posI=$((posI+1));\ndone\nif [ "$_arg_leftovers" != "off" ]; then\n	echo -e "	echo -e \\"\\t${_arg_leftovers_name}: \\${_arg_${_arg_leftovers_name}[*]}\\";";\nfi\necho -e "\n}\n";\n\nif [ "$_arg_set_version" != "" ] && [ "$_arg_version_opt" != "off" ]; then\n	echo -e "\nprint_version()\n{\n	echo \\"${_arg_set_version}\\";\n}\n"\nfi\n\necho -e "\non_interrupt() {\n	die "Process aborted!" 130;\n}\n"\n\nif [ "${#_arg_dependencies[@]}" -gt 0 ]; then\n	echo "__missing_dependencies=()";\n	for _dep in "${_arg_dependencies[@]}"; do\n		echo -e "if ! command -v \\"$_dep\\" &> /dev/null; then\n	__missing_dependencies+=(\\"$_dep\\");\nfi";\n	done\n	echo -e "if [ \\"\\${#__missing_dependencies[@]}\\" -gt 0 ]; then\n	die \\"Missing dependencies: \\${__missing_dependencies[*]}\\" 1;\nfi";\nfi\n\necho -e "\nparse_commandline \\"\\$@\\";\nhandle_passed_args_count;\nassign_positional_args 1 \\"\\${_positionals[@]}\\";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n";\n# xdg_init call\nif [ "$_arg_xdg" != "" ]; then\n	echo "xdg_init;";\nfi\nfor opt in "${_arg_opt[@]}"; do\n	eval "source $SCRIPT_ROOT_DIR/opt/check-required $opt";\ndone\necho -e "\n";\nif [[ "$hasSubCmd" == "0" ]]; then\n	echo -e "$(eval "source $SCRIPT_ROOT_DIR/pos/subcmd-handle ${_arg_pos[0]}")";\nfi\n\necho -e "\n# ${paCmtTrgr}parsing-end\n# print_debug \\"\\$@\\"\n# ${paCmtTrgr}end";\n\n# history\nif [ "$_arg_history" != "" ]; then\n	_hsCmd=(history);\n\n	_histTtQty=$((_arg_history + 0));\n	_hCmd=();\n	if [ "$_arg_history_offset" != "" ]; then\n		_histTtQty=$((_histTtQty + _arg_history_offset));\n		_hCmd+=(head "-${_arg_history}");\n	fi\n	_tlCmd=(tail "-${_histTtQty}");\n\n	if [ "$_arg_history_file" != "" ]; then\n		_tmphistRes=$(HISTFILE="$_arg_history_file" history -r; history | "${_tlCmd[@]}");\n	else\n		_tmphistRes=$(history | "${_tlCmd[@]}");\n	fi\n\n	if [ "${#_hCmd[@]}" -gt 0 ]; then\n		_tmphistRes=$(echo "$_tmphistRes" | "${_hCmd[@]}");\n	fi\n	echo "$_tmphistRes" | while IFS= read -r history_line\n	do\n		if echo "$history_line" | grep -q "^ [0-9]\\+  : [0-9]\\+:[0-9]\\+;"; then\n			# zsh history format\n			histRes=$(echo "$history_line" | awk -F\';\' \'{print $2}\')\n		elif echo "$history_line" | grep -q "^[0-9]\\+ \\* [0-9]\\+ "; then\n			# bash history format with HISTTIMEFORMAT set\n			histRes=$(echo "$history_line" | cut -d \' \' -f5-)\n		else\n			# default bash history format\n			histRes=$(echo "$history_line" | cut -d \' \' -f2-)\n		fi\n		echo -e "$histRes";\n	done\nfi\n',"/parseArger/bin/pos/help":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger help string for arguments" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces --repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces --repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt subcommand-directory "directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n# @parseArger opt subcommand-variable "array variable containing subcommand parts, force subcommand" --default-value "__subcommand"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt match "regex match validation"\n# @parseArger flag subcommand-run "run subcommand, forces sub command"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag optional "optional"\n# @parseArger flag subcommand "is a subcommand"\n# @parseArger flag subcommand-use-leftovers "add leftover arguments to subcommand, forces subcommand"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/pos"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_subcommand_directory=\n_arg_subcommand_variable="__subcommand"\n_arg_complete=()\n_arg_complete_custom=()\n_arg_match=\n# FLAGS\n_arg_subcommand_run="off"\n_arg_repeat="off"\n_arg_optional="off"\n_arg_subcommand="off"\n_arg_subcommand_use_leftovers="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger help string for arguments:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces --repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces --repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	--subcommand-directory <subcommand-directory>: directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n	echo -e "	--subcommand-variable <subcommand-variable>: array variable containing subcommand parts, force subcommand [default: \' __subcommand \']"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--match <match>: regex match validation"\n	echo -e "	--subcommand-run|--no-subcommand-run: run subcommand, forces sub command"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--optional|--no-optional: optional"\n	echo -e "	--subcommand|--no-subcommand: is a subcommand"\n	echo -e "	--subcommand-use-leftovers|--no-subcommand-use-leftovers: add leftover arguments to subcommand, forces subcommand"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--subcommand-directory <value>] [--subcommand-variable <value>] [--complete <value>] [--complete-custom <value>] [--match <value>] [--[no-]subcommand-run] [--[no-]repeat] [--[no-]optional] [--[no-]subcommand] [--[no-]subcommand-use-leftovers]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--subcommand-directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_directory="$2"\n				shift\n				;;\n			--subcommand-directory=*)\n				_arg_subcommand_directory="${_key##--subcommand-directory=}"\n				;;\n			\n			--subcommand-variable)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_variable="$2"\n				shift\n				;;\n			--subcommand-variable=*)\n				_arg_subcommand_variable="${_key##--subcommand-variable=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--match)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_match="$2"\n				shift\n				;;\n			--match=*)\n				_arg_match="${_key##--match=}"\n				;;\n			\n			--subcommand-run)\n				_arg_subcommand_run="on"\n				;;\n			--no-subcommand-run)\n				_arg_subcommand_run="off"\n				;;\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--optional)\n				_arg_optional="on"\n				;;\n			--no-optional)\n				_arg_optional="off"\n				;;\n			--subcommand)\n				_arg_subcommand="on"\n				;;\n			--no-subcommand)\n				_arg_subcommand="off"\n				;;\n			--subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="on"\n				;;\n			--no-subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			--quiet)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level - 1))";\n				else\n					_verbose_level="-$2";\n					shift;\n				fi\n				;;\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}"\n		local _regex="${!_match_var}"\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	arg-name: ${_arg_arg_name}";\n	echo -e "	description: ${_arg_description}";\n	echo -e "	repeat-min: ${_arg_repeat_min}";\n	echo -e "	repeat-max: ${_arg_repeat_max}";\n	echo -e "	one-of: ${_arg_one_of[*]}";\n	echo -e "	subcommand-directory: ${_arg_subcommand_directory}";\n	echo -e "	subcommand-variable: ${_arg_subcommand_variable}";\n	echo -e "	complete: ${_arg_complete[*]}";\n	echo -e "	complete-custom: ${_arg_complete_custom[*]}";\n	echo -e "	match: ${_arg_match}";\n	echo -e "	subcommand-run: ${_arg_subcommand_run}";\n	echo -e "	repeat: ${_arg_repeat}";\n	echo -e "	optional: ${_arg_optional}";\n	echo -e "	subcommand: ${_arg_subcommand}";\n	echo -e "	subcommand-use-leftovers: ${_arg_subcommand_use_leftovers}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nSCRIPT_ROOT_DIR=""/parseArger/bin/pos"/..";\n\n# shellcheck source=../utils\nsource "${SCRIPT_ROOT_DIR}/utils";\n\noptHelp="${_arg_arg_name}: ${_arg_description}";\n\nif [ "$_arg_repeat_min" -gt "1" ] || [ "$_arg_repeat_max" != "" ]; then\n  _arg_repeat="on"\nfi\nif [ "$_arg_repeat" != "off" ]; then\n  optHelp+=", repeatable (${_arg_repeat_min}-${_arg_repeat_max})";\nfi\n\nif [ "$_arg_optional" != "off" ]; then\n	optHelp+=", optional";\nfi\n\nif [ "$_arg_default_value" != "" ]; then\n	optHelp+=" [default: \'${_arg_default_value}\']";\nfi\n\nif [ "$_arg_subcommand_directory" != "" ]; then\n	if [ -d "$_arg_subcommand_directory" ]; then\n		_arg_subcommand="on";\n		# Searching in the current directory\n		for file in "$_arg_subcommand_directory/"*; do\n			tname="$(basename "$file")";\n			if ! [[ "${_arg_one_of[*]}" =~ " $tname " ]] && [ -f "$file" ] && parsearger_is_pa_file "$file"; then\n				_arg_one_of+=("$tname");\n			fi\n		done\n	fi\nfi\n\nif [ "$_arg_subcommand_run" != "off" ]; then\n	_arg_subcommand="on";\nfi\n\nif [ "$_arg_subcommand_use_leftovers" != "off" ]; then\n	_arg_subcommand="on";\nfi\n\nif [ "$_arg_subcommand_variable" != "__subcommand" ]; then\n	outStr+=" --subcommand";\nfi\n\nif [ "$_arg_subcommand" != "off" ]; then\n	outStr+=" --subcommand";\nfi\n\nif [ "${#_arg_one_of[@]}" -gt 0 ]; then\n	optHelp+=" [one of";\n	for _oof in "${_arg_one_of[@]}"; do\n		optHelp+=" \'$_oof\'";\n	done\n	optHelp+="]";\nfi\n\necho -e "\\techo -e \\"\\t${optHelp}\\"";\n',"/parseArger/bin/pos/html":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "positional argument to html input" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces --repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces --repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt subcommand-directory "directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n# @parseArger opt subcommand-variable "array variable containing subcommand parts, force subcommand" --default-value "__subcommand"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt command "command string, default to file "\n# @parseArger opt form-class "form html class"\n# @parseArger opt input-container-class "input container class" --default-value "form-group"\n# @parseArger opt input-class "input class" --default-value "form-control"\n# @parseArger opt label-class "label class" --default-value "form-label"\n# @parseArger opt select-class "select class" --default-value "form-select"\n# @parseArger opt checkbox-container-class "checkbox and radio class" --default-value "form-check" --alias radio-container-class\n# @parseArger opt checkbox-class "checkbox and radio class" --default-value "form-check-input" --alias radio-class\n# @parseArger opt checkbox-label-class "checkbox and radio label class" --default-value "form-check-label" --alias radio-label-class\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag optional "optional"\n# @parseArger flag subcommand "is a subcommand"\n# @parseArger flag subcommand-run "run subcommand, forces sub command"\n# @parseArger flag subcommand-use-leftovers "add leftover arguments to subcommand, forces subcommand"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/pos"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_subcommand_directory=\n_arg_subcommand_variable="__subcommand"\n_arg_complete=()\n_arg_complete_custom=()\n_arg_command=\n_arg_form_class=\n_arg_input_container_class="form-group"\n_arg_input_class="form-control"\n_arg_label_class="form-label"\n_arg_select_class="form-select"\n_arg_checkbox_container_class="form-check"\n_arg_checkbox_class="form-check-input"\n_arg_checkbox_label_class="form-check-label"\n# FLAGS\n_arg_repeat="off"\n_arg_optional="off"\n_arg_subcommand="off"\n_arg_subcommand_run="off"\n_arg_subcommand_use_leftovers="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "positional argument to html input:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces --repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces --repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	--subcommand-directory <subcommand-directory>: directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n	echo -e "	--subcommand-variable <subcommand-variable>: array variable containing subcommand parts, force subcommand [default: \' __subcommand \']"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--command <command>: command string, default to file "\n	echo -e "	--form-class <form-class>: form html class"\n	echo -e "	--input-container-class <input-container-class>: input container class [default: \' form-group \']"\n	echo -e "	--input-class <input-class>: input class [default: \' form-control \']"\n	echo -e "	--label-class <label-class>: label class [default: \' form-label \']"\n	echo -e "	--select-class <select-class>: select class [default: \' form-select \']"\n	echo -e "	--checkbox-container-class|--radio-container-class <checkbox-container-class>: checkbox and radio class [default: \' form-check \']"\n	echo -e "	--checkbox-class|--radio-class <checkbox-class>: checkbox and radio class [default: \' form-check-input \']"\n	echo -e "	--checkbox-label-class|--radio-label-class <checkbox-label-class>: checkbox and radio label class [default: \' form-check-label \']"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--optional|--no-optional: optional"\n	echo -e "	--subcommand|--no-subcommand: is a subcommand"\n	echo -e "	--subcommand-run|--no-subcommand-run: run subcommand, forces sub command"\n	echo -e "	--subcommand-use-leftovers|--no-subcommand-use-leftovers: add leftover arguments to subcommand, forces subcommand"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--subcommand-directory <value>] [--subcommand-variable <value>] [--complete <value>] [--complete-custom <value>] [--command <value>] [--form-class <value>] [--input-container-class <value>] [--input-class <value>] [--label-class <value>] [--select-class <value>] [--checkbox-container-class <value>] [--checkbox-class <value>] [--checkbox-label-class <value>] [--[no-]repeat] [--[no-]optional] [--[no-]subcommand] [--[no-]subcommand-run] [--[no-]subcommand-use-leftovers]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--subcommand-directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_directory="$2"\n				shift\n				;;\n			--subcommand-directory=*)\n				_arg_subcommand_directory="${_key##--subcommand-directory=}"\n				;;\n			\n			--subcommand-variable)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_variable="$2"\n				shift\n				;;\n			--subcommand-variable=*)\n				_arg_subcommand_variable="${_key##--subcommand-variable=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--command)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_command="$2"\n				shift\n				;;\n			--command=*)\n				_arg_command="${_key##--command=}"\n				;;\n			\n			--form-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_form_class="$2"\n				shift\n				;;\n			--form-class=*)\n				_arg_form_class="${_key##--form-class=}"\n				;;\n			\n			--input-container-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_input_container_class="$2"\n				shift\n				;;\n			--input-container-class=*)\n				_arg_input_container_class="${_key##--input-container-class=}"\n				;;\n			\n			--input-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_input_class="$2"\n				shift\n				;;\n			--input-class=*)\n				_arg_input_class="${_key##--input-class=}"\n				;;\n			\n			--label-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_label_class="$2"\n				shift\n				;;\n			--label-class=*)\n				_arg_label_class="${_key##--label-class=}"\n				;;\n			\n			--select-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_select_class="$2"\n				shift\n				;;\n			--select-class=*)\n				_arg_select_class="${_key##--select-class=}"\n				;;\n			\n			--radio-container-class|--checkbox-container-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_checkbox_container_class="$2"\n				shift\n				;;\n			--checkbox-container-class=*)\n				_arg_checkbox_container_class="${_key##--checkbox-container-class=}"\n				;;\n			--radio-container-class=*)\n				_arg_checkbox_container_class="${_key##--radio-container-class=}"\n				;;\n			\n			--radio-class|--checkbox-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_checkbox_class="$2"\n				shift\n				;;\n			--checkbox-class=*)\n				_arg_checkbox_class="${_key##--checkbox-class=}"\n				;;\n			--radio-class=*)\n				_arg_checkbox_class="${_key##--radio-class=}"\n				;;\n			\n			--radio-label-class|--checkbox-label-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_checkbox_label_class="$2"\n				shift\n				;;\n			--checkbox-label-class=*)\n				_arg_checkbox_label_class="${_key##--checkbox-label-class=}"\n				;;\n			--radio-label-class=*)\n				_arg_checkbox_label_class="${_key##--radio-label-class=}"\n				;;\n			\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--optional)\n				_arg_optional="on"\n				;;\n			--no-optional)\n				_arg_optional="off"\n				;;\n			--subcommand)\n				_arg_subcommand="on"\n				;;\n			--no-subcommand)\n				_arg_subcommand="off"\n				;;\n			--subcommand-run)\n				_arg_subcommand_run="on"\n				;;\n			--no-subcommand-run)\n				_arg_subcommand_run="off"\n				;;\n			--subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="on"\n				;;\n			--no-subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\trepeat-min: ${_arg_repeat_min}";\n	echo -e "\\trepeat-max: ${_arg_repeat_max}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tsubcommand-directory: ${_arg_subcommand_directory}";\n	echo -e "\\tsubcommand-variable: ${_arg_subcommand_variable}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n	echo -e "\\tcommand: ${_arg_command}";\n	echo -e "\\tform-class: ${_arg_form_class}";\n	echo -e "\\tinput-container-class: ${_arg_input_container_class}";\n	echo -e "\\tinput-class: ${_arg_input_class}";\n	echo -e "\\tlabel-class: ${_arg_label_class}";\n	echo -e "\\tselect-class: ${_arg_select_class}";\n	echo -e "\\tcheckbox-container-class: ${_arg_checkbox_container_class}";\n	echo -e "\\tcheckbox-class: ${_arg_checkbox_class}";\n	echo -e "\\tcheckbox-label-class: ${_arg_checkbox_label_class}";\n	echo -e "\\trepeat: ${_arg_repeat}";\n	echo -e "\\toptional: ${_arg_optional}";\n	echo -e "\\tsubcommand: ${_arg_subcommand}";\n	echo -e "\\tsubcommand-run: ${_arg_subcommand_run}";\n	echo -e "\\tsubcommand-use-leftovers: ${_arg_subcommand_use_leftovers}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n_arg_command="${_arg_command// /_}";\n\ninptCmn="pa-type=\\"pos\\" name=\\"${_arg_arg_name}\\" id=\\"${_arg_arg_name}\\"";\n\nif [ "$_arg_optional" == "off" ]; then\n	inptCmn+=" required";\nfi\n\nif [ "${#_arg_one_of[@]}" -gt 0 ]; then\n	inpuStr="<select ${inptCmn} class=\\"${_arg_select_class}\\">\\n";\n	for oof in "${_arg_one_of[@]}"; do\n		inpuStr+="\\n\\t\\t<option value=\\"${oof}\\">${oof}</option>";\n	done\n	inpuStr+="\\n\\t</select>";\nelse\n	inpuStr="<input ${inptCmn} type=\\"text\\" class=\\"${_arg_input_class}\\" />";\nfi\n\necho -e "<div class=\\"${_arg_input_container_class}\\">\n	<label for=\\"${_arg_arg_name}\\" class=\\"${_arg_label_class}\\">${_arg_arg_name}</label>\n	<span class=\\"input-help\\">${_arg_description}</span>\n	${inpuStr}\n</div>";\n',"/parseArger/bin/pos/completely":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger string to declare a new option" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces --repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces --repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt subcommand-directory "directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n# @parseArger opt subcommand-variable "array variable containing subcommand parts, force subcommand" --default-value "__subcommand"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag optional "optional"\n# @parseArger flag subcommand "is a subcommand"\n# @parseArger flag subcommand-run "run subcommand, forces sub command"\n# @parseArger flag subcommand-use-leftovers "add leftover arguments to subcommand, forces subcommand"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/pos"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_subcommand_directory=\n_arg_subcommand_variable="__subcommand"\n_arg_complete=()\n_arg_complete_custom=()\n# FLAGS\n_arg_repeat="off"\n_arg_optional="off"\n_arg_subcommand="off"\n_arg_subcommand_run="off"\n_arg_subcommand_use_leftovers="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger string to declare a new option:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces --repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces --repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	--subcommand-directory <subcommand-directory>: directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n	echo -e "	--subcommand-variable <subcommand-variable>: array variable containing subcommand parts, force subcommand [default: \' __subcommand \']"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--optional|--no-optional: optional"\n	echo -e "	--subcommand|--no-subcommand: is a subcommand"\n	echo -e "	--subcommand-run|--no-subcommand-run: run subcommand, forces sub command"\n	echo -e "	--subcommand-use-leftovers|--no-subcommand-use-leftovers: add leftover arguments to subcommand, forces subcommand"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--subcommand-directory <value>] [--subcommand-variable <value>] [--complete <value>] [--complete-custom <value>] [--[no-]repeat] [--[no-]optional] [--[no-]subcommand] [--[no-]subcommand-run] [--[no-]subcommand-use-leftovers]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--subcommand-directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_directory="$2"\n				shift\n				;;\n			--subcommand-directory=*)\n				_arg_subcommand_directory="${_key##--subcommand-directory=}"\n				;;\n			\n			--subcommand-variable)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_variable="$2"\n				shift\n				;;\n			--subcommand-variable=*)\n				_arg_subcommand_variable="${_key##--subcommand-variable=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--optional)\n				_arg_optional="on"\n				;;\n			--no-optional)\n				_arg_optional="off"\n				;;\n			--subcommand)\n				_arg_subcommand="on"\n				;;\n			--no-subcommand)\n				_arg_subcommand="off"\n				;;\n			--subcommand-run)\n				_arg_subcommand_run="on"\n				;;\n			--no-subcommand-run)\n				_arg_subcommand_run="off"\n				;;\n			--subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="on"\n				;;\n			--no-subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\trepeat-min: ${_arg_repeat_min}";\n	echo -e "\\trepeat-max: ${_arg_repeat_max}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tsubcommand-directory: ${_arg_subcommand_directory}";\n	echo -e "\\tsubcommand-variable: ${_arg_subcommand_variable}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n	echo -e "\\trepeat: ${_arg_repeat}";\n	echo -e "\\toptional: ${_arg_optional}";\n	echo -e "\\tsubcommand: ${_arg_subcommand}";\n	echo -e "\\tsubcommand-run: ${_arg_subcommand_run}";\n	echo -e "\\tsubcommand-use-leftovers: ${_arg_subcommand_use_leftovers}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nfor oof in "${_arg_one_of[@]}"; do\n	echo "- ${oof}";\ndone\n\nif [ "${#_arg_complete[@]}" -gt 0 ]; then\n	for _cmpl in "${_arg_complete[@]}"; do\n		echo "- <${_cmpl}>";\n	done\nfi\nif [ "${#_arg_complete_custom[@]}" -gt 0 ]; then\n	for _cmpl in "${_arg_complete_custom[@]}"; do\n		echo "- \\$(${_cmpl})";\n	done\nfi\n',"/parseArger/bin/pos/init":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger init string for agruments" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-leftovers leftovers --parse\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces --repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces --repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt subcommand-directory "directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n# @parseArger opt subcommand-variable "array variable containing subcommand parts, force subcommand" --default-value "__subcommand"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt match "regex match validation"\n# @parseArger flag subcommand-run "run subcommand, forces sub command"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag optional "optional"\n# @parseArger flag subcommand "is a subcommand"\n# @parseArger flag subcommand-use-leftovers "add leftover arguments to subcommand, forces subcommand"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/pos"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_subcommand_directory=\n_arg_subcommand_variable="__subcommand"\n_arg_complete=()\n_arg_complete_custom=()\n_arg_match=\n# FLAGS\n_arg_subcommand_run="off"\n_arg_repeat="off"\n_arg_optional="off"\n_arg_subcommand="off"\n_arg_subcommand_use_leftovers="off"\n# NESTED\n# LEFTOVERS\n_arg_leftovers=()\n# LEFTOVERS\n	declare -A _arg_parsed_leftovers\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger init string for agruments:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces --repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces --repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	--subcommand-directory <subcommand-directory>: directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n	echo -e "	--subcommand-variable <subcommand-variable>: array variable containing subcommand parts, force subcommand [default: \' __subcommand \']"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--match <match>: regex match validation"\n	echo -e "	--subcommand-run|--no-subcommand-run: run subcommand, forces sub command"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--optional|--no-optional: optional"\n	echo -e "	--subcommand|--no-subcommand: is a subcommand"\n	echo -e "	--subcommand-use-leftovers|--no-subcommand-use-leftovers: add leftover arguments to subcommand, forces subcommand"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--subcommand-directory <value>] [--subcommand-variable <value>] [--complete <value>] [--complete-custom <value>] [--match <value>] [--[no-]subcommand-run] [--[no-]repeat] [--[no-]optional] [--[no-]subcommand] [--[no-]subcommand-use-leftovers]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--subcommand-directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_directory="$2"\n				shift\n				;;\n			--subcommand-directory=*)\n				_arg_subcommand_directory="${_key##--subcommand-directory=}"\n				;;\n			\n			--subcommand-variable)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_variable="$2"\n				shift\n				;;\n			--subcommand-variable=*)\n				_arg_subcommand_variable="${_key##--subcommand-variable=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--match)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_match="$2"\n				shift\n				;;\n			--match=*)\n				_arg_match="${_key##--match=}"\n				;;\n			\n			--subcommand-run)\n				_arg_subcommand_run="on"\n				;;\n			--no-subcommand-run)\n				_arg_subcommand_run="off"\n				;;\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--optional)\n				_arg_optional="on"\n				;;\n			--no-optional)\n				_arg_optional="off"\n				;;\n			--subcommand)\n				_arg_subcommand="on"\n				;;\n			--no-subcommand)\n				_arg_subcommand="off"\n				;;\n			--subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="on"\n				;;\n			--no-subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				# parsing leftovers\n				--*)\n					if [[ "$2" =~ ^--([^=]+)(=(.*))?$ ]] || [ "$2" = "" ]; then\n						_arg_parsed_leftovers["${1#--}"]="on"\n					elif [[ "$1" =~ ^--([^=]+)=(.*)$ ]]; then\n						_arg_parsed_leftovers["${BASH_REMATCH[1]}"]="${BASH_REMATCH[2]}";\n					else\n						_arg_parsed_leftovers["${1#--}"]="${2}";\n						shift;\n					fi\n					;;\n\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	_leftovers_count=$((${#_positionals[@]} - 2))\n	for ((ii = 0; ii < _leftovers_count; ii++));do\n		_positional_names="$_positional_names _arg_leftovers[$((ii + 0))]";\n	done\n\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		if ! [[ "$_positional_name" =~ "_arg_leftovers" ]];then\n			eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n			eval "local _regex=\\$(eval \\"echo \\\\\\"\\\\\\$_match\\${_positional_name}\\\\\\"\\");if [ \\"\\$_regex\\" != \\"\\" ];then [[ \\"\\${1}\\" =~ \\$_regex ]] || die \\"\\${_positional_name} does not match pattern: \\$_regex\\";fi";\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	arg-name: ${_arg_arg_name}";\n	echo -e "	description: ${_arg_description}";\n	echo -e "	repeat-min: ${_arg_repeat_min}";\n	echo -e "	repeat-max: ${_arg_repeat_max}";\n	echo -e "	one-of: ${_arg_one_of[*]}";\n	echo -e "	subcommand-directory: ${_arg_subcommand_directory}";\n	echo -e "	subcommand-variable: ${_arg_subcommand_variable}";\n	echo -e "	complete: ${_arg_complete[*]}";\n	echo -e "	complete-custom: ${_arg_complete_custom[*]}";\n	echo -e "	match: ${_arg_match}";\n	echo -e "	subcommand-run: ${_arg_subcommand_run}";\n	echo -e "	repeat: ${_arg_repeat}";\n	echo -e "	optional: ${_arg_optional}";\n	echo -e "	subcommand: ${_arg_subcommand}";\n	echo -e "	subcommand-use-leftovers: ${_arg_subcommand_use_leftovers}";\n	echo -e "	leftovers: ${_arg_leftovers[*]}";\n\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nSCRIPT_ROOT_DIR=""/parseArger/bin/pos"/..";\n\n# shellcheck source=../utils\nsource "${SCRIPT_ROOT_DIR}/utils";\n\ninitStr="_arg_${_arg_arg_name//-/_}=\\"$_arg_default_value\\";";\n\nif [ "$_arg_subcommand_directory" != "" ]; then\n	if [ -d "$_arg_subcommand_directory" ]; then\n		_arg_subcommand="on";\n		for file in "$_arg_subcommand_directory/"*; do\n			tname="$(basename "$file")";\n			if ! [[ "${_arg_one_of[*]}" =~ " $tname " ]] && [ -f "$file" ] && parsearger_is_pa_file "$file"; then\n				_arg_one_of+=("$tname");\n			fi\n		done\n	fi\nfi\n\nif [ "${#_arg_one_of[@]}" -gt 0 ]; then\n	initStr+="\\n_one_of_arg_${_arg_arg_name//-/_}=(";\n	for i in "${_arg_one_of[@]}"; do\n		initStr+="\\"$i\\" ";\n	done\n	initStr+=");";\nfi\n\nif [ "$_arg_optional" == "on" ]; then\n	initStr+="\\n_optional_positionals+=(\\"_arg_${_arg_arg_name//-/_}\\");";\nfi\n\nif [ "$_arg_subcommand_run" != "off" ]; then\n	_arg_subcommand="on";\nfi\n\nif [ "$_arg_subcommand_use_leftovers" != "off" ]; then\n	_arg_subcommand="on";\nfi\n\nif [ "$_arg_subcommand_variable" != "__subcommand" ]; then\n	_arg_subcommand="on";\nfi\n\nif [ "$_arg_subcommand" == "on" ]; then\n	initStr+="\\n_arg_subcommand_arg=\\"_arg_${_arg_arg_name//-/_}\\";";\n	initStr+="\\n${_arg_subcommand_variable}=();";\nfi\n\nif [ "$_arg_match" != "" ]; then\n    initStr+="\\n_match_arg_${_arg_arg_name//-/_}=\\"${_arg_match}\\";";\nfi\n\necho -e "$initStr";',"/parseArger/bin/pos/is-subcmd":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "is the arg a sub command" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces --repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces --repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt subcommand-directory "directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n# @parseArger opt subcommand-variable "array variable containing subcommand parts, force subcommand" --default-value "__subcommand"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt match "regex match validation"\n# @parseArger flag subcommand-run "run subcommand, forces sub command"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag optional "optional"\n# @parseArger flag subcommand "is a subcommand"\n# @parseArger flag subcommand-use-leftovers "add leftover arguments to subcommand, forces subcommand"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/pos"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_subcommand_directory=\n_arg_subcommand_variable="__subcommand"\n_arg_complete=()\n_arg_complete_custom=()\n_arg_match=\n# FLAGS\n_arg_subcommand_run="off"\n_arg_repeat="off"\n_arg_optional="off"\n_arg_subcommand="off"\n_arg_subcommand_use_leftovers="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "is the arg a sub command:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces --repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces --repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	--subcommand-directory <subcommand-directory>: directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n	echo -e "	--subcommand-variable <subcommand-variable>: array variable containing subcommand parts, force subcommand [default: \' __subcommand \']"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--match <match>: regex match validation"\n	echo -e "	--subcommand-run|--no-subcommand-run: run subcommand, forces sub command"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--optional|--no-optional: optional"\n	echo -e "	--subcommand|--no-subcommand: is a subcommand"\n	echo -e "	--subcommand-use-leftovers|--no-subcommand-use-leftovers: add leftover arguments to subcommand, forces subcommand"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--subcommand-directory <value>] [--subcommand-variable <value>] [--complete <value>] [--complete-custom <value>] [--match <value>] [--[no-]subcommand-run] [--[no-]repeat] [--[no-]optional] [--[no-]subcommand] [--[no-]subcommand-use-leftovers]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--subcommand-directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_directory="$2"\n				shift\n				;;\n			--subcommand-directory=*)\n				_arg_subcommand_directory="${_key##--subcommand-directory=}"\n				;;\n			\n			--subcommand-variable)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_variable="$2"\n				shift\n				;;\n			--subcommand-variable=*)\n				_arg_subcommand_variable="${_key##--subcommand-variable=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--match)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_match="$2"\n				shift\n				;;\n			--match=*)\n				_arg_match="${_key##--match=}"\n				;;\n			\n			--subcommand-run)\n				_arg_subcommand_run="on"\n				;;\n			--no-subcommand-run)\n				_arg_subcommand_run="off"\n				;;\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--optional)\n				_arg_optional="on"\n				;;\n			--no-optional)\n				_arg_optional="off"\n				;;\n			--subcommand)\n				_arg_subcommand="on"\n				;;\n			--no-subcommand)\n				_arg_subcommand="off"\n				;;\n			--subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="on"\n				;;\n			--no-subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			--quiet)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level - 1))";\n				else\n					_verbose_level="-$2";\n					shift;\n				fi\n				;;\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}";\n		local _regex="${!_match_var}";\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	arg-name: ${_arg_arg_name}";\n	echo -e "	description: ${_arg_description}";\n	echo -e "	repeat-min: ${_arg_repeat_min}";\n	echo -e "	repeat-max: ${_arg_repeat_max}";\n	echo -e "	one-of: ${_arg_one_of[*]}";\n	echo -e "	subcommand-directory: ${_arg_subcommand_directory}";\n	echo -e "	subcommand-variable: ${_arg_subcommand_variable}";\n	echo -e "	complete: ${_arg_complete[*]}";\n	echo -e "	complete-custom: ${_arg_complete_custom[*]}";\n	echo -e "	match: ${_arg_match}";\n	echo -e "	subcommand-run: ${_arg_subcommand_run}";\n	echo -e "	repeat: ${_arg_repeat}";\n	echo -e "	optional: ${_arg_optional}";\n	echo -e "	subcommand: ${_arg_subcommand}";\n	echo -e "	subcommand-use-leftovers: ${_arg_subcommand_use_leftovers}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nif [ "$_arg_subcommand_directory" != "" ]; then\n	if [ -d "$_arg_subcommand_directory" ]; then\n		_arg_subcommand="on";\n	fi\nfi\n\nif [ "$_arg_subcommand_run" != "off" ]; then\n	_arg_subcommand="on";\nfi\n\nif [ "$_arg_subcommand_use_leftovers" != "off" ]; then\n	_arg_subcommand="on";\nfi\n\nif [ "$_arg_subcommand_variable" != "__subcommand" ]; then\n	_arg_subcommand="on";\nfi\n\nif [ "$_arg_subcommand" != "off" ]; then\n	echo 0;\n	exit 0;\nfi\n\necho 1;\nexit 1;\n',"/parseArger/bin/pos/parser":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger parsing string for arguments" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces --repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces --repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt subcommand-directory "directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n# @parseArger opt subcommand-variable "array variable containing subcommand parts, force subcommand" --default-value "__subcommand"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt match "regex match validation"\n# @parseArger flag subcommand-run "run subcommand, forces sub command"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag optional "optional"\n# @parseArger flag subcommand "is a subcommand"\n# @parseArger flag subcommand-use-leftovers "add leftover arguments to subcommand, forces subcommand"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/pos"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_subcommand_directory=\n_arg_subcommand_variable="__subcommand"\n_arg_complete=()\n_arg_complete_custom=()\n_arg_match=\n# FLAGS\n_arg_subcommand_run="off"\n_arg_repeat="off"\n_arg_optional="off"\n_arg_subcommand="off"\n_arg_subcommand_use_leftovers="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger parsing string for arguments:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces --repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces --repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	--subcommand-directory <subcommand-directory>: directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n	echo -e "	--subcommand-variable <subcommand-variable>: array variable containing subcommand parts, force subcommand [default: \' __subcommand \']"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--match <match>: regex match validation"\n	echo -e "	--subcommand-run|--no-subcommand-run: run subcommand, forces sub command"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--optional|--no-optional: optional"\n	echo -e "	--subcommand|--no-subcommand: is a subcommand"\n	echo -e "	--subcommand-use-leftovers|--no-subcommand-use-leftovers: add leftover arguments to subcommand, forces subcommand"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--subcommand-directory <value>] [--subcommand-variable <value>] [--complete <value>] [--complete-custom <value>] [--match <value>] [--[no-]subcommand-run] [--[no-]repeat] [--[no-]optional] [--[no-]subcommand] [--[no-]subcommand-use-leftovers]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--subcommand-directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_directory="$2"\n				shift\n				;;\n			--subcommand-directory=*)\n				_arg_subcommand_directory="${_key##--subcommand-directory=}"\n				;;\n			\n			--subcommand-variable)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_variable="$2"\n				shift\n				;;\n			--subcommand-variable=*)\n				_arg_subcommand_variable="${_key##--subcommand-variable=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--match)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_match="$2"\n				shift\n				;;\n			--match=*)\n				_arg_match="${_key##--match=}"\n				;;\n			\n			--subcommand-run)\n				_arg_subcommand_run="on"\n				;;\n			--no-subcommand-run)\n				_arg_subcommand_run="off"\n				;;\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--optional)\n				_arg_optional="on"\n				;;\n			--no-optional)\n				_arg_optional="off"\n				;;\n			--subcommand)\n				_arg_subcommand="on"\n				;;\n			--no-subcommand)\n				_arg_subcommand="off"\n				;;\n			--subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="on"\n				;;\n			--no-subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			--quiet)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level - 1))";\n				else\n					_verbose_level="-$2";\n					shift;\n				fi\n				;;\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	arg-name: ${_arg_arg_name}";\n	echo -e "	description: ${_arg_description}";\n	echo -e "	repeat-min: ${_arg_repeat_min}";\n	echo -e "	repeat-max: ${_arg_repeat_max}";\n	echo -e "	one-of: ${_arg_one_of[*]}";\n	echo -e "	subcommand-directory: ${_arg_subcommand_directory}";\n	echo -e "	subcommand-variable: ${_arg_subcommand_variable}";\n	echo -e "	complete: ${_arg_complete[*]}";\n	echo -e "	complete-custom: ${_arg_complete_custom[*]}";\n	echo -e "	match: ${_arg_match}";\n	echo -e "	subcommand-run: ${_arg_subcommand_run}";\n	echo -e "	repeat: ${_arg_repeat}";\n	echo -e "	optional: ${_arg_optional}";\n	echo -e "	subcommand: ${_arg_subcommand}";\n	echo -e "	subcommand-use-leftovers: ${_arg_subcommand_use_leftovers}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n',"/parseArger/bin/pos/subcmd-assign":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger parsing string for arguments" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces --repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces --repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt subcommand-directory "directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n# @parseArger opt subcommand-variable "array variable containing subcommand parts, force subcommand" --default-value "__subcommand"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger flag subcommand-run "run subcommand, forces sub command"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag optional "optional"\n# @parseArger flag subcommand "is a subcommand"\n# @parseArger flag subcommand-use-leftovers "add leftover arguments to subcommand, forces subcommand"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/pos"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_subcommand_directory=\n_arg_subcommand_variable="__subcommand"\n_arg_complete=()\n_arg_complete_custom=()\n# FLAGS\n_arg_subcommand_run="off"\n_arg_repeat="off"\n_arg_optional="off"\n_arg_subcommand="off"\n_arg_subcommand_use_leftovers="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger parsing string for arguments:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces --repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces --repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	--subcommand-directory <subcommand-directory>: directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n	echo -e "	--subcommand-variable <subcommand-variable>: array variable containing subcommand parts, force subcommand [default: \' __subcommand \']"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--subcommand-run|--no-subcommand-run: run subcommand, forces sub command"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--optional|--no-optional: optional"\n	echo -e "	--subcommand|--no-subcommand: is a subcommand"\n	echo -e "	--subcommand-use-leftovers|--no-subcommand-use-leftovers: add leftover arguments to subcommand, forces subcommand"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--subcommand-directory <value>] [--subcommand-variable <value>] [--complete <value>] [--complete-custom <value>] [--[no-]subcommand-run] [--[no-]repeat] [--[no-]optional] [--[no-]subcommand] [--[no-]subcommand-use-leftovers]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n\n			--subcommand-directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_directory="$2"\n				shift\n				;;\n			--subcommand-directory=*)\n				_arg_subcommand_directory="${_key##--subcommand-directory=}"\n				;;\n\n			--subcommand-variable)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_variable="$2"\n				shift\n				;;\n			--subcommand-variable=*)\n				_arg_subcommand_variable="${_key##--subcommand-variable=}"\n				;;\n\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n\n			--subcommand-run)\n				_arg_subcommand_run="on"\n				;;\n			--no-subcommand-run)\n				_arg_subcommand_run="off"\n				;;\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--optional)\n				_arg_optional="on"\n				;;\n			--no-optional)\n				_arg_optional="off"\n				;;\n			--subcommand)\n				_arg_subcommand="on"\n				;;\n			--no-subcommand)\n				_arg_subcommand="off"\n				;;\n			--subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="on"\n				;;\n			--no-subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\trepeat-min: ${_arg_repeat_min}";\n	echo -e "\\trepeat-max: ${_arg_repeat_max}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tsubcommand-directory: ${_arg_subcommand_directory}";\n	echo -e "\\tsubcommand-variable: ${_arg_subcommand_variable}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n	echo -e "\\tsubcommand-run: ${_arg_subcommand_run}";\n	echo -e "\\trepeat: ${_arg_repeat}";\n	echo -e "\\toptional: ${_arg_optional}";\n	echo -e "\\tsubcommand: ${_arg_subcommand}";\n	echo -e "\\tsubcommand-use-leftovers: ${_arg_subcommand_use_leftovers}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n_tgtdir="";\nif [ "${_arg_subcommand_directory}" != "" ];then\n	_tgtdir="${_arg_subcommand_directory}";\n	[[ $_tgtdir != */ ]] && _tgtdir+="/";\nfi\n\n# if [[ "$_tgtdir" != /* ]]; then\n# 	_tgtdir="\\$_SCRIPT_DIR/${_tgtdir}";\n# fi\n\necho -e "\n			if [ \\"\\$_arg_subcommand_arg\\" == \\"\\$_positional_name\\" ];then\n				if [ -f \\"$_tgtdir\\${1}\\" ] && command -v \\"$_tgtdir\\${1}\\" > /dev/null 2>&1;then\n					${_arg_subcommand_variable}+=(\\"$_tgtdir\\${1}\\");\n				elif [ -f \\"\\$_SCRIPT_DIR/$_tgtdir\\${1}\\" ] && command -v \\"\\$_SCRIPT_DIR/$_tgtdir\\${1}\\" > /dev/null 2>&1;then\n					${_arg_subcommand_variable}+=(\\"\\$_SCRIPT_DIR/$_tgtdir\\${1}\\");\n				elif [[ \\"$_tgtdir\\" == \\$(basename \\"\\$_SCRIPT_DIR\\")* ]];then\n					cmdToSub=\\"\\$(basename \\"\\$_SCRIPT_DIR\\")\\";\n					cmdsubDir=\\"$_tgtdir\\";\n					${_arg_subcommand_variable}+=(\\"\\$_SCRIPT_DIR\\${cmdsubDir#\\"\\${cmdToSub}\\"}\\${1}\\");\n				else\n					${_arg_subcommand_variable}+=(\\"\\$_SCRIPT_DIR/$_tgtdir\\${1}\\");\n				fi\n			fi";\n',"/parseArger/bin/pos/subcmd-handle":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger parsing string for arguments" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces --repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces --repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt subcommand-directory "directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n# @parseArger opt subcommand-variable "array variable containing subcommand parts, force subcommand" --default-value "__subcommand"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger flag subcommand-run "run subcommand, forces sub command"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag optional "optional"\n# @parseArger flag subcommand "is a subcommand"\n# @parseArger flag subcommand-use-leftovers "add leftover arguments to subcommand, forces subcommand"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/pos"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_subcommand_directory=\n_arg_subcommand_variable="__subcommand"\n_arg_complete=()\n_arg_complete_custom=()\n# FLAGS\n_arg_subcommand_run="off"\n_arg_repeat="off"\n_arg_optional="off"\n_arg_subcommand="off"\n_arg_subcommand_use_leftovers="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger parsing string for arguments:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces --repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces --repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	--subcommand-directory <subcommand-directory>: directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n	echo -e "	--subcommand-variable <subcommand-variable>: array variable containing subcommand parts, force subcommand [default: \' __subcommand \']"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--subcommand-run|--no-subcommand-run: run subcommand, forces sub command"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--optional|--no-optional: optional"\n	echo -e "	--subcommand|--no-subcommand: is a subcommand"\n	echo -e "	--subcommand-use-leftovers|--no-subcommand-use-leftovers: add leftover arguments to subcommand, forces subcommand"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--subcommand-directory <value>] [--subcommand-variable <value>] [--complete <value>] [--complete-custom <value>] [--[no-]subcommand-run] [--[no-]repeat] [--[no-]optional] [--[no-]subcommand] [--[no-]subcommand-use-leftovers]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--subcommand-directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_directory="$2"\n				shift\n				;;\n			--subcommand-directory=*)\n				_arg_subcommand_directory="${_key##--subcommand-directory=}"\n				;;\n			\n			--subcommand-variable)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_variable="$2"\n				shift\n				;;\n			--subcommand-variable=*)\n				_arg_subcommand_variable="${_key##--subcommand-variable=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--subcommand-run)\n				_arg_subcommand_run="on"\n				;;\n			--no-subcommand-run)\n				_arg_subcommand_run="off"\n				;;\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--optional)\n				_arg_optional="on"\n				;;\n			--no-optional)\n				_arg_optional="off"\n				;;\n			--subcommand)\n				_arg_subcommand="on"\n				;;\n			--no-subcommand)\n				_arg_subcommand="off"\n				;;\n			--subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="on"\n				;;\n			--no-subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\trepeat-min: ${_arg_repeat_min}";\n	echo -e "\\trepeat-max: ${_arg_repeat_max}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tsubcommand-directory: ${_arg_subcommand_directory}";\n	echo -e "\\tsubcommand-variable: ${_arg_subcommand_variable}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n	echo -e "\\tsubcommand-run: ${_arg_subcommand_run}";\n	echo -e "\\trepeat: ${_arg_repeat}";\n	echo -e "\\toptional: ${_arg_optional}";\n	echo -e "\\tsubcommand: ${_arg_subcommand}";\n	echo -e "\\tsubcommand-use-leftovers: ${_arg_subcommand_use_leftovers}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\noutStr="";\n\nif [ "$_arg_subcommand_use_leftovers" != "off" ]; then\n	outStr+="${_arg_subcommand_variable}+=(\\"\\${_arg_leftovers[@]}\\");\\n";\nfi\n\noutStr+="if [ \\"\\$_triggerSCHelp\\" == \\"0\\" ];then\n	__subcommand+=(\\"--help\\");\nfi\nif [ \\"\\$_verbose_level\\" -ne \\"0\\" ];then\n	__subcommand+=(\\"--verbose\\" \\"\\$_verbose_level\\");\nfi\n";\nif [ "$_arg_subcommand_run" != "off" ]; then\n	outStr+="\\"\\${${_arg_subcommand_variable}[@]}\\";";\nfi\n\necho -e "$outStr";\n',"/parseArger/bin/pos/declaration":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger string to declare a new option" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces --repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces --repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt subcommand-directory "directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n# @parseArger opt subcommand-variable "array variable containing subcommand parts, force subcommand" --default-value "__subcommand"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt match "regex match validation"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag optional "optional"\n# @parseArger flag subcommand "is a subcommand"\n# @parseArger flag subcommand-run "run subcommand, forces sub command"\n# @parseArger flag subcommand-use-leftovers "add leftover arguments to subcommand, forces subcommand"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/pos"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_subcommand_directory=\n_arg_subcommand_variable="__subcommand"\n_arg_complete=()\n_arg_complete_custom=()\n_arg_match=\n# FLAGS\n_arg_repeat="off"\n_arg_optional="off"\n_arg_subcommand="off"\n_arg_subcommand_run="off"\n_arg_subcommand_use_leftovers="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger string to declare a new option:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces --repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces --repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	--subcommand-directory <subcommand-directory>: directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n	echo -e "	--subcommand-variable <subcommand-variable>: array variable containing subcommand parts, force subcommand [default: \' __subcommand \']"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--match <match>: regex match validation"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--optional|--no-optional: optional"\n	echo -e "	--subcommand|--no-subcommand: is a subcommand"\n	echo -e "	--subcommand-run|--no-subcommand-run: run subcommand, forces sub command"\n	echo -e "	--subcommand-use-leftovers|--no-subcommand-use-leftovers: add leftover arguments to subcommand, forces subcommand"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--subcommand-directory <value>] [--subcommand-variable <value>] [--complete <value>] [--complete-custom <value>] [--match <value>] [--[no-]repeat] [--[no-]optional] [--[no-]subcommand] [--[no-]subcommand-run] [--[no-]subcommand-use-leftovers]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--subcommand-directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_directory="$2"\n				shift\n				;;\n			--subcommand-directory=*)\n				_arg_subcommand_directory="${_key##--subcommand-directory=}"\n				;;\n			\n			--subcommand-variable)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_variable="$2"\n				shift\n				;;\n			--subcommand-variable=*)\n				_arg_subcommand_variable="${_key##--subcommand-variable=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--match)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_match="$2"\n				shift\n				;;\n			--match=*)\n				_arg_match="${_key##--match=}"\n				;;\n			\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--optional)\n				_arg_optional="on"\n				;;\n			--no-optional)\n				_arg_optional="off"\n				;;\n			--subcommand)\n				_arg_subcommand="on"\n				;;\n			--no-subcommand)\n				_arg_subcommand="off"\n				;;\n			--subcommand-run)\n				_arg_subcommand_run="on"\n				;;\n			--no-subcommand-run)\n				_arg_subcommand_run="off"\n				;;\n			--subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="on"\n				;;\n			--no-subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}"\n		local _regex="${!_match_var}"\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	arg-name: ${_arg_arg_name}";\n	echo -e "	description: ${_arg_description}";\n	echo -e "	repeat-min: ${_arg_repeat_min}";\n	echo -e "	repeat-max: ${_arg_repeat_max}";\n	echo -e "	one-of: ${_arg_one_of[*]}";\n	echo -e "	subcommand-directory: ${_arg_subcommand_directory}";\n	echo -e "	subcommand-variable: ${_arg_subcommand_variable}";\n	echo -e "	complete: ${_arg_complete[*]}";\n	echo -e "	complete-custom: ${_arg_complete_custom[*]}";\n	echo -e "	match: ${_arg_match}";\n	echo -e "	repeat: ${_arg_repeat}";\n	echo -e "	optional: ${_arg_optional}";\n	echo -e "	subcommand: ${_arg_subcommand}";\n	echo -e "	subcommand-run: ${_arg_subcommand_run}";\n	echo -e "	subcommand-use-leftovers: ${_arg_subcommand_use_leftovers}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nSCRIPT_ROOT_DIR=""/parseArger/bin/pos"/..";\n\n# shellcheck source=../utils\nsource "${SCRIPT_ROOT_DIR}/utils";\n\noutStr="# @parse";\noutStr+="Arger pos $_arg_arg_name \\"${_arg_description}\\""\n\nif [ "$_arg_default_value" != "" ]; then\n  outStr+=" --default-value \\"$_arg_default_value\\""\nfi\n\nif [ "$_arg_repeat_min" -gt "1" ] || [ "$_arg_repeat_max" != "" ]; then\n  _arg_repeat="on"\nfi\nif [ "$_arg_repeat" != "off" ]; then\n  outStr+=" --repeat";\n	if [ "$_arg_repeat_min" != "" ]; then\n		outStr+=" --repeat-min $_arg_repeat_min";\n	fi\n\n	if [ "$_arg_repeat_max" != "" ]; then\n		outStr+=" --repeat-max $_arg_repeat_max";\n	fi\nfi\n\nif [ "$_arg_optional" != "off" ]; then\n	outStr+=" --optional";\nfi\n\nif [ "$_arg_subcommand_directory" != "" ]; then\n	if [ -d "$_arg_subcommand_directory" ]; then\n		outStr+=" --subcommand-directory \\"$_arg_subcommand_directory\\"";\n		_arg_subcommand="on";\n		# TODO: do something to fix subcommand directory (if not in root dir, not working...)\n		for file in "$_arg_subcommand_directory/"*; do\n			tname="$(basename "$file")";\n			if ! echo " ${_arg_one_of[*]} " | grep -q " $tname " && [ -f "$file" ] && parsearger_is_pa_file "$file"; then\n				_arg_one_of+=("$tname");\n			fi\n		done\n	fi\nfi\n\nif [ "$_arg_subcommand_run" != "off" ]; then\n	outStr+=" --subcommand-run";\n	_arg_subcommand="on";\nfi\n\nif [ "$_arg_subcommand_use_leftovers" != "off" ]; then\n	outStr+=" --subcommand-use-leftovers";\n	_arg_subcommand="on";\nfi\n\nif [ "$_arg_subcommand_variable" != "__subcommand" ]; then\n	outStr+=" --subcommand";\nfi\n\nif [ "$_arg_subcommand" != "off" ]; then\n	outStr+=" --subcommand";\nfi\n\nif [ "${#_arg_complete[@]}" != "off" ]; then\n	for _c in "${_arg_complete[@]}"; do\n		outStr+=" --complete \\"$_c\\"";\n	done\nfi\n\nif [ "${#_arg_complete_custom[@]}" != "off" ]; then\n	for _c in "${_arg_complete_custom[@]}"; do\n		outStr+=" --complete-custom \\"$_c\\"";\n	done\nfi\n\nif [ "${#_arg_one_of[@]}" -gt 0 ]; then\n	for _oof in "${_arg_one_of[@]}"; do\n		outStr+=" --one-of \\"$_oof\\"";\n	done\nfi\n\necho -e "$outStr";\n',"/parseArger/bin/pos/subcmd-html":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "positional argument to html input" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces --repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces --repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt subcommand-directory "directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n# @parseArger opt subcommand-variable "array variable containing subcommand parts, force subcommand" --default-value "__subcommand"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt command "command string, default to file "\n# @parseArger opt form-class "form html class"\n# @parseArger opt input-container-class "input container class" --default-value "form-group"\n# @parseArger opt input-class "input class" --default-value "form-control"\n# @parseArger opt label-class "label class" --default-value "form-label"\n# @parseArger opt select-class "select class" --default-value "form-select"\n# @parseArger opt checkbox-container-class "checkbox and radio class" --default-value "form-check" --alias radio-container-class\n# @parseArger opt checkbox-class "checkbox and radio class" --default-value "form-check-input" --alias radio-class\n# @parseArger opt checkbox-label-class "checkbox and radio label class" --default-value "form-check-label" --alias radio-label-class\n# @parseArger opt parent-form "parent form for result"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag optional "optional"\n# @parseArger flag subcommand "is a subcommand"\n# @parseArger flag subcommand-run "run subcommand, forces sub command"\n# @parseArger flag subcommand-use-leftovers "add leftover arguments to subcommand, forces subcommand"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/pos"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_subcommand_directory=\n_arg_subcommand_variable="__subcommand"\n_arg_complete=()\n_arg_complete_custom=()\n_arg_command=\n_arg_form_class=\n_arg_input_container_class="form-group"\n_arg_input_class="form-control"\n_arg_label_class="form-label"\n_arg_select_class="form-select"\n_arg_checkbox_container_class="form-check"\n_arg_checkbox_class="form-check-input"\n_arg_checkbox_label_class="form-check-label"\n_arg_parent_form=\n# FLAGS\n_arg_repeat="off"\n_arg_optional="off"\n_arg_subcommand="off"\n_arg_subcommand_run="off"\n_arg_subcommand_use_leftovers="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "positional argument to html input:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces --repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces --repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	--subcommand-directory <subcommand-directory>: directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n	echo -e "	--subcommand-variable <subcommand-variable>: array variable containing subcommand parts, force subcommand [default: \' __subcommand \']"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--command <command>: command string, default to file "\n	echo -e "	--form-class <form-class>: form html class"\n	echo -e "	--input-container-class <input-container-class>: input container class [default: \' form-group \']"\n	echo -e "	--input-class <input-class>: input class [default: \' form-control \']"\n	echo -e "	--label-class <label-class>: label class [default: \' form-label \']"\n	echo -e "	--select-class <select-class>: select class [default: \' form-select \']"\n	echo -e "	--checkbox-container-class|--radio-container-class <checkbox-container-class>: checkbox and radio class [default: \' form-check \']"\n	echo -e "	--checkbox-class|--radio-class <checkbox-class>: checkbox and radio class [default: \' form-check-input \']"\n	echo -e "	--checkbox-label-class|--radio-label-class <checkbox-label-class>: checkbox and radio label class [default: \' form-check-label \']"\n	echo -e "	--parent-form <parent-form>: parent form for result"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--optional|--no-optional: optional"\n	echo -e "	--subcommand|--no-subcommand: is a subcommand"\n	echo -e "	--subcommand-run|--no-subcommand-run: run subcommand, forces sub command"\n	echo -e "	--subcommand-use-leftovers|--no-subcommand-use-leftovers: add leftover arguments to subcommand, forces subcommand"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--subcommand-directory <value>] [--subcommand-variable <value>] [--complete <value>] [--complete-custom <value>] [--command <value>] [--form-class <value>] [--input-container-class <value>] [--input-class <value>] [--label-class <value>] [--select-class <value>] [--checkbox-container-class <value>] [--checkbox-class <value>] [--checkbox-label-class <value>] [--parent-form <value>] [--[no-]repeat] [--[no-]optional] [--[no-]subcommand] [--[no-]subcommand-run] [--[no-]subcommand-use-leftovers]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--subcommand-directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_directory="$2"\n				shift\n				;;\n			--subcommand-directory=*)\n				_arg_subcommand_directory="${_key##--subcommand-directory=}"\n				;;\n			\n			--subcommand-variable)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_variable="$2"\n				shift\n				;;\n			--subcommand-variable=*)\n				_arg_subcommand_variable="${_key##--subcommand-variable=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--command)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_command="$2"\n				shift\n				;;\n			--command=*)\n				_arg_command="${_key##--command=}"\n				;;\n			\n			--form-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_form_class="$2"\n				shift\n				;;\n			--form-class=*)\n				_arg_form_class="${_key##--form-class=}"\n				;;\n			\n			--input-container-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_input_container_class="$2"\n				shift\n				;;\n			--input-container-class=*)\n				_arg_input_container_class="${_key##--input-container-class=}"\n				;;\n			\n			--input-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_input_class="$2"\n				shift\n				;;\n			--input-class=*)\n				_arg_input_class="${_key##--input-class=}"\n				;;\n			\n			--label-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_label_class="$2"\n				shift\n				;;\n			--label-class=*)\n				_arg_label_class="${_key##--label-class=}"\n				;;\n			\n			--select-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_select_class="$2"\n				shift\n				;;\n			--select-class=*)\n				_arg_select_class="${_key##--select-class=}"\n				;;\n			\n			--radio-container-class|--checkbox-container-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_checkbox_container_class="$2"\n				shift\n				;;\n			--checkbox-container-class=*)\n				_arg_checkbox_container_class="${_key##--checkbox-container-class=}"\n				;;\n			--radio-container-class=*)\n				_arg_checkbox_container_class="${_key##--radio-container-class=}"\n				;;\n			\n			--radio-class|--checkbox-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_checkbox_class="$2"\n				shift\n				;;\n			--checkbox-class=*)\n				_arg_checkbox_class="${_key##--checkbox-class=}"\n				;;\n			--radio-class=*)\n				_arg_checkbox_class="${_key##--radio-class=}"\n				;;\n			\n			--radio-label-class|--checkbox-label-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_checkbox_label_class="$2"\n				shift\n				;;\n			--checkbox-label-class=*)\n				_arg_checkbox_label_class="${_key##--checkbox-label-class=}"\n				;;\n			--radio-label-class=*)\n				_arg_checkbox_label_class="${_key##--radio-label-class=}"\n				;;\n			\n			--parent-form)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_parent_form="$2"\n				shift\n				;;\n			--parent-form=*)\n				_arg_parent_form="${_key##--parent-form=}"\n				;;\n			\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--optional)\n				_arg_optional="on"\n				;;\n			--no-optional)\n				_arg_optional="off"\n				;;\n			--subcommand)\n				_arg_subcommand="on"\n				;;\n			--no-subcommand)\n				_arg_subcommand="off"\n				;;\n			--subcommand-run)\n				_arg_subcommand_run="on"\n				;;\n			--no-subcommand-run)\n				_arg_subcommand_run="off"\n				;;\n			--subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="on"\n				;;\n			--no-subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\trepeat-min: ${_arg_repeat_min}";\n	echo -e "\\trepeat-max: ${_arg_repeat_max}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tsubcommand-directory: ${_arg_subcommand_directory}";\n	echo -e "\\tsubcommand-variable: ${_arg_subcommand_variable}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n	echo -e "\\tcommand: ${_arg_command}";\n	echo -e "\\tform-class: ${_arg_form_class}";\n	echo -e "\\tinput-container-class: ${_arg_input_container_class}";\n	echo -e "\\tinput-class: ${_arg_input_class}";\n	echo -e "\\tlabel-class: ${_arg_label_class}";\n	echo -e "\\tselect-class: ${_arg_select_class}";\n	echo -e "\\tcheckbox-container-class: ${_arg_checkbox_container_class}";\n	echo -e "\\tcheckbox-class: ${_arg_checkbox_class}";\n	echo -e "\\tcheckbox-label-class: ${_arg_checkbox_label_class}";\n	echo -e "\\tparent-form: ${_arg_parent_form}";\n	echo -e "\\trepeat: ${_arg_repeat}";\n	echo -e "\\toptional: ${_arg_optional}";\n	echo -e "\\tsubcommand: ${_arg_subcommand}";\n	echo -e "\\tsubcommand-run: ${_arg_subcommand_run}";\n	echo -e "\\tsubcommand-use-leftovers: ${_arg_subcommand_use_leftovers}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n_arg_command="${_arg_command// /_}";\n\nif [ "$_arg_subcommand_directory" != "" ] || [ "$_arg_subcommand_run" != "off" ] || [ "$_arg_subcommand_use_leftovers" != "off" ] || [ "$_arg_subcommand_variable" != "__subcommand" ] || [ "$_arg_subcommand" != "off" ]; then\n	if  [ "${#_arg_one_of[@]}" -gt 0 ]; then\n		_subcmd=( \n			"--input-container-class" "${_arg_input_container_class}"\n			"--input-class" "${_arg_input_class}"\n			"--label-class" "${_arg_label_class}"\n			"--select-class" "${_arg_select_class}"\n			"--checkbox-container-class" "${_arg_checkbox_container_class}"\n			"--checkbox-class" "${_arg_checkbox_class}"\n			"--checkbox-label-class" "${_arg_checkbox_label_class}"\n		);\n		if [ "$_arg_form_class" != "" ]; then\n			_subcmd+=("--form-class" "${_arg_form_class}")\n		fi\n		outStr+="<div id=\\"${_arg_command}_subcommands\\">\n	<h3>Subcommand forms</h3>\n";\n		for oof in "${_arg_one_of[@]}"; do\n			exf="$oof";\n			if [ "$_arg_subcommand_directory" != "" ]; then\n				exf="${_arg_subcommand_directory}/${exf}";\n			fi\n			_subcmd_e=("$_SCRIPT_DIR/../html-form" "$exf" "--command" "${oof}" "${_subcmd[@]}");\n			if [ "$_arg_parent_form" != "" ]; then\n				_subcmd_e+=("--parent-form" "${_arg_parent_form}");\n			fi\n			_subres="$("${_subcmd_e[@]}")";\n			# outStr+="<pre>${_subcmd_e[*]}</pre>";\n			outStr+="<div class=\\"d-none subcmd-container-${_arg_arg_name}\\" id=\\"${_arg_arg_name}_${oof}_container\\">${_subres}</div>";\n		done\n		outStr+="\n	<script>\n	document.getElementById(\\"${_arg_arg_name}\\").addEventListener(\\"change\\", function() {\n		var val = this.value;\n		document.querySelectorAll(\\".subcmd-container-${_arg_arg_name}\\").forEach(function(el) {\n			el.classList.add(\\"d-none\\");\n		});\n		var subcmd = document.getElementById(\\"${_arg_arg_name}_\\"+val+\\"_container\\").classList.remove(\\"d-none\\");\n	});\n	</script>\n</div>";\n	fi\nfi\n\noutStr+="\\n</div>";\n\necho -e "$outStr";\n',"/parseArger/bin/pos/get-subcmd-directory":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "is the arg a sub command" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces --repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces --repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt subcommand-directory "directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n# @parseArger opt subcommand-variable "array variable containing subcommand parts, force subcommand" --default-value "__subcommand"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger flag subcommand-run "run subcommand, forces sub command"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag optional "optional"\n# @parseArger flag subcommand "is a subcommand"\n# @parseArger flag subcommand-use-leftovers "add leftover arguments to subcommand, forces subcommand"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/pos"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_subcommand_directory=\n_arg_subcommand_variable="__subcommand"\n_arg_complete=()\n_arg_complete_custom=()\n# FLAGS\n_arg_subcommand_run="off"\n_arg_repeat="off"\n_arg_optional="off"\n_arg_subcommand="off"\n_arg_subcommand_use_leftovers="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "is the arg a sub command:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces --repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces --repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	--subcommand-directory <subcommand-directory>: directory containing subcommands, force subcommand, list parseArger script in directory to fill --one-of"\n	echo -e "	--subcommand-variable <subcommand-variable>: array variable containing subcommand parts, force subcommand [default: \' __subcommand \']"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--subcommand-run|--no-subcommand-run: run subcommand, forces sub command"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--optional|--no-optional: optional"\n	echo -e "	--subcommand|--no-subcommand: is a subcommand"\n	echo -e "	--subcommand-use-leftovers|--no-subcommand-use-leftovers: add leftover arguments to subcommand, forces subcommand"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--subcommand-directory <value>] [--subcommand-variable <value>] [--complete <value>] [--complete-custom <value>] [--[no-]subcommand-run] [--[no-]repeat] [--[no-]optional] [--[no-]subcommand] [--[no-]subcommand-use-leftovers]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--subcommand-directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_directory="$2"\n				shift\n				;;\n			--subcommand-directory=*)\n				_arg_subcommand_directory="${_key##--subcommand-directory=}"\n				;;\n			\n			--subcommand-variable)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_variable="$2"\n				shift\n				;;\n			--subcommand-variable=*)\n				_arg_subcommand_variable="${_key##--subcommand-variable=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--subcommand-run)\n				_arg_subcommand_run="on"\n				;;\n			--no-subcommand-run)\n				_arg_subcommand_run="off"\n				;;\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--optional)\n				_arg_optional="on"\n				;;\n			--no-optional)\n				_arg_optional="off"\n				;;\n			--subcommand)\n				_arg_subcommand="on"\n				;;\n			--no-subcommand)\n				_arg_subcommand="off"\n				;;\n			--subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="on"\n				;;\n			--no-subcommand-use-leftovers)\n				_arg_subcommand_use_leftovers="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\trepeat-min: ${_arg_repeat_min}";\n	echo -e "\\trepeat-max: ${_arg_repeat_max}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tsubcommand-directory: ${_arg_subcommand_directory}";\n	echo -e "\\tsubcommand-variable: ${_arg_subcommand_variable}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n	echo -e "\\tsubcommand-run: ${_arg_subcommand_run}";\n	echo -e "\\trepeat: ${_arg_repeat}";\n	echo -e "\\toptional: ${_arg_optional}";\n	echo -e "\\tsubcommand: ${_arg_subcommand}";\n	echo -e "\\tsubcommand-use-leftovers: ${_arg_subcommand_use_leftovers}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nif [ "$_arg_subcommand_directory" != "" ]; then\n	if [ -d "$_arg_subcommand_directory" ]; then\n		echo "$_arg_subcommand_directory";\n		exit 0;\n	fi\nfi\n\necho 1;\nexit 1;\n',"/parseArger/bin/completely":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "generate a completely yaml config and completion" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos command-name "command-name"\n# @parseArger pos file "file" --optional --complete "file"\n# @parseArger opt pos "positional argument declaration" --short p --repeat\n# @parseArger opt opt "optional arg declaration" --short o --repeat\n# @parseArger opt flag "flag declaration" --short f --repeat\n# @parseArger opt set "declare var" --short s --repeat\n# @parseArger opt source "file to source" --short l --repeat --complete "file"\n# @parseArger opt help-message "help message for the command" --short m --default-value "I send an SOS to the world"\n# @parseArger opt help-option "help option trigger"\n# @parseArger opt help-short-option "short help option"\n# @parseArger opt leftovers-name "extra arguments variable name" --default-value "leftovers"\n# @parseArger opt version-opt-name "version option name" --default-value "version"\n# @parseArger opt version-short-option "version short option name" --default-value "v"\n# @parseArger opt verbose-opt-name "verbose option name" --default-value "verbose"\n# @parseArger opt subcommand-directory "directory for subcommand target" --alias subcmd-dir --complete "directory"\n# @parseArger opt completely-cmd "completely command" --repeat --alias cmpcmd\n# @parseArger opt extra-file "extra yaml declaration" --repeat --complete "file"\n# @parseArger opt yaml-file "yaml file name" --default-value "completely.yaml" --complete "file"\n# @parseArger opt completion-file "completion file name" --default-value "completely.bash" --complete "file"\n# @parseArger flag version-opt "generate version opt handling" --on\n# @parseArger flag use-verbose "generate verbose level parser" --on\n# @parseArger flag run-completely "run completely" --on --no-alias no-run\n# @parseArger flag discover-subcommand "auto run completely on found subcommand"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_command_name="";\n_arg_file="";\n_optional_positionals+=("_arg_file");\n# OPTIONALS ARGUMENTS\n_arg_pos=()\n_arg_opt=()\n_arg_flag=()\n_arg_set=()\n_arg_source=()\n_arg_help_message="I send an SOS to the world"\n_arg_help_option=\n_arg_help_short_option=\n_arg_leftovers_name="leftovers"\n_arg_version_opt_name="version"\n_arg_version_short_option="v"\n_arg_verbose_opt_name="verbose"\n_arg_subcommand_directory=\n_arg_completely_cmd=()\n_arg_extra_file=()\n_arg_yaml_file="completely.yaml"\n_arg_completion_file="completely.bash"\n# FLAGS\n_arg_version_opt="on"\n_arg_use_verbose="on"\n_arg_run_completely="on"\n_arg_discover_subcommand="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "generate a completely yaml config and completion:"\n	echo -e "	command-name: command-name"\n	echo -e "	file: file, optional"\n	echo -e "	-p, --pos <pos>: positional argument declaration, repeatable"\n	echo -e "	-o, --opt <opt>: optional arg declaration, repeatable"\n	echo -e "	-f, --flag <flag>: flag declaration, repeatable"\n	echo -e "	-s, --set <set>: declare var, repeatable"\n	echo -e "	-l, --source <source>: file to source, repeatable"\n	echo -e "	-m, --help-message <help-message>: help message for the command [default: \' I send an SOS to the world \']"\n	echo -e "	--help-option <help-option>: help option trigger"\n	echo -e "	--help-short-option <help-short-option>: short help option"\n	echo -e "	--leftovers-name <leftovers-name>: extra arguments variable name [default: \' leftovers \']"\n	echo -e "	--version-opt-name <version-opt-name>: version option name [default: \' version \']"\n	echo -e "	--version-short-option <version-short-option>: version short option name [default: \' v \']"\n	echo -e "	--verbose-opt-name <verbose-opt-name>: verbose option name [default: \' verbose \']"\n	echo -e "	--subcommand-directory|--subcmd-dir <subcommand-directory>: directory for subcommand target"\n	echo -e "	--completely-cmd|--cmpcmd <completely-cmd>: completely command, repeatable"\n	echo -e "	--extra-file <extra-file>: extra yaml declaration, repeatable"\n	echo -e "	--yaml-file <yaml-file>: yaml file name [default: \' completely.yaml \']"\n	echo -e "	--completion-file <completion-file>: completion file name [default: \' completely.bash \']"\n	echo -e "	--version-opt|--no-version-opt: generate version opt handling, on by default (use --no-version-opt to turn it off)"\n	echo -e "	--use-verbose|--no-use-verbose: generate verbose level parser, on by default (use --no-use-verbose to turn it off)"\n	echo -e "	--run-completely|--no-run-completely: run completely, on by default (use --no-run-completely to turn it off)\n		no-aliases: --no-run,"\n	echo -e "	--discover-subcommand|--no-discover-subcommand: auto run completely on found subcommand"\n	echo -e "Usage :\n	$0 <command-name> [file] [--pos <value>] [--opt <value>] [--flag <value>] [--set <value>] [--source <value>] [--help-message <value>] [--help-option <value>] [--help-short-option <value>] [--leftovers-name <value>] [--version-opt-name <value>] [--version-short-option <value>] [--verbose-opt-name <value>] [--subcommand-directory <value>] [--completely-cmd <value>] [--extra-file <value>] [--yaml-file <value>] [--completion-file <value>] [--[no-]version-opt] [--[no-]use-verbose] [--[no-]run-completely] [--[no-]discover-subcommand]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			-p|--pos)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_pos+=("$2")\n				shift\n				;;\n			--pos=*)\n				_arg_pos+=("${_key##--pos=}")\n				;;\n			-p*)\n				_arg_pos+=("${_key##-p}")\n				;;\n			\n			-o|--opt)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_opt+=("$2")\n				shift\n				;;\n			--opt=*)\n				_arg_opt+=("${_key##--opt=}")\n				;;\n			-o*)\n				_arg_opt+=("${_key##-o}")\n				;;\n			\n			-f|--flag)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_flag+=("$2")\n				shift\n				;;\n			--flag=*)\n				_arg_flag+=("${_key##--flag=}")\n				;;\n			-f*)\n				_arg_flag+=("${_key##-f}")\n				;;\n			\n			-s|--set)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_set+=("$2")\n				shift\n				;;\n			--set=*)\n				_arg_set+=("${_key##--set=}")\n				;;\n			-s*)\n				_arg_set+=("${_key##-s}")\n				;;\n			\n			-l|--source)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_source+=("$2")\n				shift\n				;;\n			--source=*)\n				_arg_source+=("${_key##--source=}")\n				;;\n			-l*)\n				_arg_source+=("${_key##-l}")\n				;;\n			\n			-m|--help-message)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_help_message="$2"\n				shift\n				;;\n			--help-message=*)\n				_arg_help_message="${_key##--help-message=}"\n				;;\n			-m*)\n				_arg_help_message="${_key##-m}"\n				;;\n			\n			--help-option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_help_option="$2"\n				shift\n				;;\n			--help-option=*)\n				_arg_help_option="${_key##--help-option=}"\n				;;\n			\n			--help-short-option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_help_short_option="$2"\n				shift\n				;;\n			--help-short-option=*)\n				_arg_help_short_option="${_key##--help-short-option=}"\n				;;\n			\n			--leftovers-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_leftovers_name="$2"\n				shift\n				;;\n			--leftovers-name=*)\n				_arg_leftovers_name="${_key##--leftovers-name=}"\n				;;\n			\n			--version-opt-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_version_opt_name="$2"\n				shift\n				;;\n			--version-opt-name=*)\n				_arg_version_opt_name="${_key##--version-opt-name=}"\n				;;\n			\n			--version-short-option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_version_short_option="$2"\n				shift\n				;;\n			--version-short-option=*)\n				_arg_version_short_option="${_key##--version-short-option=}"\n				;;\n			\n			--verbose-opt-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_verbose_opt_name="$2"\n				shift\n				;;\n			--verbose-opt-name=*)\n				_arg_verbose_opt_name="${_key##--verbose-opt-name=}"\n				;;\n			\n			--subcmd-dir|--subcommand-directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_subcommand_directory="$2"\n				shift\n				;;\n			--subcommand-directory=*)\n				_arg_subcommand_directory="${_key##--subcommand-directory=}"\n				;;\n			--subcmd-dir=*)\n				_arg_subcommand_directory="${_key##--subcmd-dir=}"\n				;;\n			\n			--cmpcmd|--completely-cmd)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_completely_cmd+=("$2")\n				shift\n				;;\n			--completely-cmd=*)\n				_arg_completely_cmd+=("${_key##--completely-cmd=}")\n				;;\n			--cmpcmd=*)\n				_arg_completely_cmd+=("${_key##--cmpcmd=}")\n				;;\n			\n			--extra-file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_extra_file+=("$2")\n				shift\n				;;\n			--extra-file=*)\n				_arg_extra_file+=("${_key##--extra-file=}")\n				;;\n			\n			--yaml-file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_yaml_file="$2"\n				shift\n				;;\n			--yaml-file=*)\n				_arg_yaml_file="${_key##--yaml-file=}"\n				;;\n			\n			--completion-file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_completion_file="$2"\n				shift\n				;;\n			--completion-file=*)\n				_arg_completion_file="${_key##--completion-file=}"\n				;;\n			\n			--version-opt)\n				_arg_version_opt="on"\n				;;\n			--no-version-opt)\n				_arg_version_opt="off"\n				;;\n			--use-verbose)\n				_arg_use_verbose="on"\n				;;\n			--no-use-verbose)\n				_arg_use_verbose="off"\n				;;\n			--run-completely)\n				_arg_run_completely="on"\n				;;\n			--no-run-completely|--no-run)\n				_arg_run_completely="off"\n				;;\n			--discover-subcommand)\n				_arg_discover_subcommand="on"\n				;;\n			--no-discover-subcommand)\n				_arg_discover_subcommand="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="command-name"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_command_name _arg_file ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}";\n		local _regex="${!_match_var}";\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	command-name: ${_arg_command_name}";\n	echo -e "	file: ${_arg_file}";\n	echo -e "	pos: ${_arg_pos[*]}";\n	echo -e "	opt: ${_arg_opt[*]}";\n	echo -e "	flag: ${_arg_flag[*]}";\n	echo -e "	set: ${_arg_set[*]}";\n	echo -e "	source: ${_arg_source[*]}";\n	echo -e "	help-message: ${_arg_help_message}";\n	echo -e "	help-option: ${_arg_help_option}";\n	echo -e "	help-short-option: ${_arg_help_short_option}";\n	echo -e "	leftovers-name: ${_arg_leftovers_name}";\n	echo -e "	version-opt-name: ${_arg_version_opt_name}";\n	echo -e "	version-short-option: ${_arg_version_short_option}";\n	echo -e "	verbose-opt-name: ${_arg_verbose_opt_name}";\n	echo -e "	subcommand-directory: ${_arg_subcommand_directory}";\n	echo -e "	completely-cmd: ${_arg_completely_cmd[*]}";\n	echo -e "	extra-file: ${_arg_extra_file[*]}";\n	echo -e "	yaml-file: ${_arg_yaml_file}";\n	echo -e "	completion-file: ${_arg_completion_file}";\n	echo -e "	version-opt: ${_arg_version_opt}";\n	echo -e "	use-verbose: ${_arg_use_verbose}";\n	echo -e "	run-completely: ${_arg_run_completely}";\n	echo -e "	discover-subcommand: ${_arg_discover_subcommand}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\noutStr="";\n\nSCRIPT_ROOT_DIR="/parseArger/bin";\n# shellcheck source=$SCRIPT_ROOT_DIR/utils\nsource "$SCRIPT_ROOT_DIR/utils";\n\nsubCmd="";\n\n# argument declarations\noutStr+="${_arg_command_name}:\\n";\nif [ "$_arg_file" != "" ] && [ -f "$_arg_file" ]; then\n	tmp_arg_pos=();\n	tmp_arg_opt=();\n	tmp_arg_flag=();\n	parsearger_get_pos tmp_arg_pos "$_arg_file";\n	parsearger_get_opt tmp_arg_opt "$_arg_file";\n	parsearger_get_flag tmp_arg_flag "$_arg_file";\n	_arg_pos+=("${tmp_arg_pos[@]}");\n	_arg_opt+=("${tmp_arg_opt[@]}");\n	_arg_flag+=("${tmp_arg_flag[@]}");\nfi\n\nfor pos in "${_arg_pos[@]}"; do\n	if [ "$pos" != "" ]; then\n		if [ "$subCmd" == "" ]; then\n			isscmd="$(eval "source $SCRIPT_ROOT_DIR/pos/is-subcmd $pos")";\n			if [[ "$isscmd" == "0" ]]; then\n				subCmd="$pos"\n			fi\n		fi\n		_cmpl="$(eval "source $SCRIPT_ROOT_DIR/pos/completely $pos")";\n		if [ "$_cmpl" != "" ]; then\n			outStr+="$_cmpl\\n";\n		fi\n	fi\ndone\nmcopt="";\nfor opt in "${_arg_opt[@]}"; do\n	if [ "$opt" != "" ]; then\n		outStr+="$(eval "source $SCRIPT_ROOT_DIR/opt/completely $opt")\\n";\n		mcopt+="$(eval "source $SCRIPT_ROOT_DIR/opt/more-completely $opt --prefix \'${_arg_command_name}\'")\\n";\n	fi\ndone\nfor flag in "${_arg_flag[@]}"; do\n	if [ "$flag" != "" ]; then\n		outStr+="$(eval "source $SCRIPT_ROOT_DIR/flag/completely $flag")\\n";\n	fi\ndone\n\nif [ "$_arg_discover_subcommand" == "on" ] && [ "$subCmd" != "" ] && [ "$_arg_subcommand_directory" == "" ] ; then\n	_arg_subcommand_directory="$(eval "source $SCRIPT_ROOT_DIR/pos/get-subcmd-directory $subCmd")";\nfi\n\nif [ "$subCmd" != "" ] && [ "$_arg_subcommand_directory" != "" ] && [ -d "$_arg_subcommand_directory" ]; then\n	_oneofs_scmd=();\n	parsearger_get_one_ofs _oneofs_scmd "$subCmd";\n	for _scmd in "${_oneofs_scmd[@]}"; do\n		if [ -f "${_arg_subcommand_directory}/${_scmd}" ]; then\n			outStr+="$("$0" "${_arg_command_name} ${_scmd}" "${_arg_subcommand_directory}/${_scmd}" "--no-run-completely" "--discover-subcommand")\\n";\n		fi\n	done\nfi\n\nif [ "$mcopt" != "" ]; then\n	outStr+="$mcopt\\n";\nfi\n\nif [ "${#_arg_extra_file[@]}" -gt 0 ]; then\n	for _extra_file in "${_arg_extra_file[@]}"; do\n		outStr+="$(cat "$_extra_file")\\n";\n	done\nfi\n\nif [ "$_arg_yaml_file" != "" ];then\n	echo -e "$outStr" > "$_arg_yaml_file";\nfi\n\nif [ "$_arg_yaml_file" != "" ] && [ "$_arg_run_completely" == "on" ]; then\n	if [ "$_arg_completion_file" != "" ] && [ "$_arg_run_completely" == "on" ] && [ -f "$_arg_yaml_file" ]; then\n		if [ "${#_arg_completely_cmd[@]}" -le 0 ]; then\n			_arg_completely_cmd=("completely");\n		fi\n		"${_arg_completely_cmd[@]}" generate "$_arg_yaml_file" "$_arg_completion_file";\n	fi\nelse\n	echo -e "$outStr";\nfi\n',"/parseArger/bin/document":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "create documentation for parseArger script" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger opt file "file to document" --short f --repeat --complete "file"\n# @parseArger opt directory "directory to document" --short d --repeat --alias folder --complete "directory"\n# @parseArger opt out "output file" --short o --complete "file"\n# @parseArger opt tag "markdown tag for title" --default-value "##"\n# @parseArger opt next-tag-prepend "prepend to next title tag level" --default-value "#"\n# @parseArger opt title "documentation title" --default-value "Usage"\n# @parseArger opt title-tag "documentation title tag" --default-value "#"\n# @parseArger flag sub-directory "document subdirectory" --on\n# @parseArger flag append-output "add to output file if it exists" --on\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n# OPTIONALS ARGUMENTS\n_arg_file=()\n_arg_directory=()\n_arg_out=\n_arg_tag="##"\n_arg_next_tag_prepend="#"\n_arg_title="Usage"\n_arg_title_tag="#"\n# FLAGS\n_arg_sub_directory="on"\n_arg_append_output="on"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "create documentation for parseArger script:"\n	echo -e "	-f, --file <file>: file to document, repeatable"\n	echo -e "	-d, --directory|--folder <directory>: directory to document, repeatable"\n	echo -e "	-o, --out <out>: output file"\n	echo -e "	--tag <tag>: markdown tag for title [default: \' ## \']"\n	echo -e "	--next-tag-prepend <next-tag-prepend>: prepend to next title tag level [default: \' # \']"\n	echo -e "	--title <title>: documentation title [default: \' Usage \']"\n	echo -e "	--title-tag <title-tag>: documentation title tag [default: \' # \']"\n	echo -e "	--sub-directory|--no-sub-directory: document subdirectory, on by default (use --no-sub-directory to turn it off)"\n	echo -e "	--append-output|--no-append-output: add to output file if it exists, on by default (use --no-append-output to turn it off)"\n	echo -e "Usage :\n	$0 [--file <value>] [--directory <value>] [--out <value>] [--tag <value>] [--next-tag-prepend <value>] [--title <value>] [--title-tag <value>] [--[no-]sub-directory] [--[no-]append-output]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			-f|--file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_file+=("$2")\n				shift\n				;;\n			--file=*)\n				_arg_file+=("${_key##--file=}")\n				;;\n			-f*)\n				_arg_file+=("${_key##-f}")\n				;;\n			\n			-d|--folder|--directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_directory+=("$2")\n				shift\n				;;\n			--directory=*)\n				_arg_directory+=("${_key##--directory=}")\n				;;\n			--folder=*)\n				_arg_directory+=("${_key##--folder=}")\n				;;\n			-d*)\n				_arg_directory+=("${_key##-d}")\n				;;\n			\n			-o|--out)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_out="$2"\n				shift\n				;;\n			--out=*)\n				_arg_out="${_key##--out=}"\n				;;\n			-o*)\n				_arg_out="${_key##-o}"\n				;;\n			\n			--tag)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_tag="$2"\n				shift\n				;;\n			--tag=*)\n				_arg_tag="${_key##--tag=}"\n				;;\n			\n			--next-tag-prepend)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_next_tag_prepend="$2"\n				shift\n				;;\n			--next-tag-prepend=*)\n				_arg_next_tag_prepend="${_key##--next-tag-prepend=}"\n				;;\n			\n			--title)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_title="$2"\n				shift\n				;;\n			--title=*)\n				_arg_title="${_key##--title=}"\n				;;\n			\n			--title-tag)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_title_tag="$2"\n				shift\n				;;\n			--title-tag=*)\n				_arg_title_tag="${_key##--title-tag=}"\n				;;\n			\n			--sub-directory)\n				_arg_sub_directory="on"\n				;;\n			--no-sub-directory)\n				_arg_sub_directory="off"\n				;;\n			--append-output)\n				_arg_append_output="on"\n				;;\n			--no-append-output)\n				_arg_append_output="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			--quiet)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level - 1))";\n				else\n					_verbose_level="-$2";\n					shift;\n				fi\n				;;\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string=""\n	if [ "${_positionals_count}" -gt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 0 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 0 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}";\n		local _regex="${!_match_var}";\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	file: ${_arg_file[*]}";\n	echo -e "	directory: ${_arg_directory[*]}";\n	echo -e "	out: ${_arg_out}";\n	echo -e "	tag: ${_arg_tag}";\n	echo -e "	next-tag-prepend: ${_arg_next_tag_prepend}";\n	echo -e "	title: ${_arg_title}";\n	echo -e "	title-tag: ${_arg_title_tag}";\n	echo -e "	sub-directory: ${_arg_sub_directory}";\n	echo -e "	append-output: ${_arg_append_output}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nSCRIPT_ROOT_DIR="/parseArger/bin";\n\nsource "$SCRIPT_ROOT_DIR/utils";\n\noutStr="${_arg_title_tag} ${_arg_title}\\n\\n";\n\nif [ "${#_arg_file[@]}" -gt 0 ]; then\n	for _file in "${_arg_file[@]}"; do\n		if parsearger_is_pa_file "$_file" ; then\n			log "parsing $_file\\n" 1;\n			# parse help declaration to call correct option\n			_help_cmd=$(parsearger_get_help "$_file");\n			_help_opt=$(eval "source $SCRIPT_ROOT_DIR/help/get-trigger $_help_cmd");\n			outStr+="${_arg_tag} ${_file}\\n\\n\\`\\`\\`\\n$("$_file" "--$_help_opt")\\n\\`\\`\\`\\n\\n";\n			# TODO: parse argument for subcommand\n			#			* get sucommand help\n			_poss=();\n			parsearger_get_pos _poss "$_file";\n			if [ "${#_poss[@]}" -gt 0 ] && [ "${_poss[0]}" != "" ]; then\n				_is_scmd=$(eval "source $SCRIPT_ROOT_DIR/pos/is-subcmd ${_poss[0]}" );\n				if [ "$_is_scmd" == "0" ]; then\n					_oneofs_scmd=();\n					parsearger_get_one_ofs _oneofs_scmd "${_poss[0]}";\n					for scmd_tgt in "${_oneofs_scmd[@]}"; do\n						# clean out from $(pwd)\n						ftmpStr=$("$_file" "$scmd_tgt" "--$_help_opt" | sed -e "s|$(pwd)||g");\n						outStr+="${_arg_tag} ${_file} ${scmd_tgt}\\n\\n\\`\\`\\`\\n$ftmpStr\\n\\`\\`\\`\\n\\n";\n					done\n				fi\n			fi\n		fi\n	done\nfi\n\nif [ "${#_arg_directory[@]}" -gt 0 ]; then\n	for _directory in "${_arg_directory[@]}"; do\n		if [ -d "$_directory" ]; then\n			log "----- processing $_directory directory\\n" 1;\n			docCmd=(--tag "${_arg_next_tag_prepend}${_arg_tag}" "--next-tag-prepend" "${_arg_next_tag_prepend}" --title "${_directory}" "--title-tag" "${_arg_tag}" --verbose "${_verbose_level}");\n			if [ "$_arg_sub_directory" == "off" ]; then\n				docCmd+=(--no-sub-directory);\n			fi\n			for _file in "$_directory"/*; do\n				if [ -f "${_file}" ]; then\n					docCmd+=(--file "$_file");\n				fi\n				if [ -d "${_file}" ] && [ "$_arg_sub_directory" == "on" ] ; then\n					docCmd+=(--directory "$_file");\n				fi\n			done\n			dtmpStr="$("$0" "${docCmd[@]}")";\n			outStr+="$(echo -e "$dtmpStr" | sed -e "s|$_directory||g")\\n\\n";\n		fi\n	done\nfi\n\n# clean output from ./\noutStr=$(echo -e "$outStr" | sed -e "s|\\./||g");\n\nif [ "$_arg_out" == "" ]; then\n	echo -e "$outStr";\nelse\n	if [ "$_arg_append_output" == "on" ]; then\n		log "appending to $_arg_out" 1;\n		echo -e "$outStr" >> "$_arg_out";\n	else\n		log "outputing to $_arg_out" 1;\n		echo -e "$outStr" > "$_arg_out";\n	fi\nfi\n',"/parseArger/bin/verbose/init":'#!/bin/bash\n\n# @parseArger-begin\n# @parseArger-help "init verbose stuff" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger opt option "verbose trigger option" --default-value "verbose"\n# @parseArger opt level "verbose default level" --default-value "0"\n# @parseArger opt log-fn-name "log function name" --default-value "log"\n# @parseArger opt quiet-option "trigger to tell script to shut up" --default-value "quiet"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/verbose"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n# OPTIONALS ARGUMENTS\n_arg_option="verbose"\n_arg_level="0"\n_arg_log_fn_name="log"\n_arg_quiet_option="quiet"\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "init verbose stuff:"\n	echo -e "	--option <option>: verbose trigger option [default: \' verbose \']"\n	echo -e "	--level <level>: verbose default level [default: \' 0 \']"\n	echo -e "	--log-fn-name <log-fn-name>: log function name [default: \' log \']"\n	echo -e "	--quiet-option <quiet-option>: trigger to tell script to shut up [default: \' quiet \']"\n	echo -e "Usage :\n	$0 [--option <value>] [--level <value>] [--log-fn-name <value>] [--quiet-option <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_option="$2"\n				shift\n				;;\n			--option=*)\n				_arg_option="${_key##--option=}"\n				;;\n			\n			--level)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_level="$2"\n				shift\n				;;\n			--level=*)\n				_arg_level="${_key##--level=}"\n				;;\n			\n			--log-fn-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_log_fn_name="$2"\n				shift\n				;;\n			--log-fn-name=*)\n				_arg_log_fn_name="${_key##--log-fn-name=}"\n				;;\n			\n			--quiet-option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_quiet_option="$2"\n				shift\n				;;\n			--quiet-option=*)\n				_arg_quiet_option="${_key##--quiet-option=}"\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string=""\n	if [ "${_positionals_count}" -gt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 0 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 0 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\toption: ${_arg_option}";\n	echo -e "\\tlevel: ${_arg_level}";\n	echo -e "\\tlog-fn-name: ${_arg_log_fn_name}";\n	echo -e "\\tquiet-option: ${_arg_quiet_option}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\noutStr="_verbose_level=\\"${_arg_level}\\";\\n";\n\necho -e "$outStr";\n',"/parseArger/bin/verbose/parser":'#!/bin/bash\n\n# @parseArger-begin\n# @parseArger-help "create version parser" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger opt option "verbose trigger option" --default-value "verbose"\n# @parseArger opt level "verbose default level" --default-value "0"\n# @parseArger opt log-fn-name "log function name" --default-value "log"\n# @parseArger opt quiet-option "trigger to tell script to shut up" --default-value "quiet"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/verbose"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n# OPTIONALS ARGUMENTS\n_arg_option="verbose"\n_arg_level="0"\n_arg_log_fn_name="log"\n_arg_quiet_option="quiet"\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "create version parser:"\n	echo -e "	--option <option>: verbose trigger option [default: \' verbose \']"\n	echo -e "	--level <level>: verbose default level [default: \' 0 \']"\n	echo -e "	--log-fn-name <log-fn-name>: log function name [default: \' log \']"\n	echo -e "	--quiet-option <quiet-option>: trigger to tell script to shut up [default: \' quiet \']"\n	echo -e "Usage :\n	$0 [--option <value>] [--level <value>] [--log-fn-name <value>] [--quiet-option <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_option="$2"\n				shift\n				;;\n			--option=*)\n				_arg_option="${_key##--option=}"\n				;;\n			\n			--level)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_level="$2"\n				shift\n				;;\n			--level=*)\n				_arg_level="${_key##--level=}"\n				;;\n			\n			--log-fn-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_log_fn_name="$2"\n				shift\n				;;\n			--log-fn-name=*)\n				_arg_log_fn_name="${_key##--log-fn-name=}"\n				;;\n			\n			--quiet-option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_quiet_option="$2"\n				shift\n				;;\n			--quiet-option=*)\n				_arg_quiet_option="${_key##--quiet-option=}"\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string=""\n	if [ "${_positionals_count}" -gt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 0 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 0 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\toption: ${_arg_option}";\n	echo -e "\\tlevel: ${_arg_level}";\n	echo -e "\\tlog-fn-name: ${_arg_log_fn_name}";\n	echo -e "\\tquiet-option: ${_arg_quiet_option}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\noutStr="";\n\nif [ "$_arg_option" != "" ]; then\n	# outStr+="--$_arg_option";\n	outStr+="--$_arg_option)\\n";\n	outStr+="\\tif [ \\$# -lt 2 ];then\\n";\n	outStr+="\\t\\t_verbose_level=\\"\\$((_verbose_level + 1))\\";\\n";\n	outStr+="\\telse\\n";\n	outStr+="\\t\\t_verbose_level=\\"\\$2\\";\\n";\n	outStr+="\\t\\tshift;\\n";\n	outStr+="\\tfi\\n";\n	outStr+="\\t;;\\n";\nfi\n\nif [ "$_arg_quiet_option" != "" ]; then\n	outStr+="--$_arg_quiet_option)\\n";\n	outStr+="\\tif [ \\$# -lt 2 ];then\\n";\n	outStr+="\\t\\t_verbose_level=\\"\\$((_verbose_level - 1))\\";\\n";\n	outStr+="\\telse\\n";\n	outStr+="\\t\\t_verbose_level=\\"-\\$2\\";\\n";\n	outStr+="\\t\\tshift;\\n";\n	outStr+="\\tfi\\n";\n	outStr+="\\t;;\\n";\nfi\n\necho -e "$outStr";\n',"/parseArger/bin/verbose/logger":'#!/bin/bash\n\n# @parseArger-begin\n# @parseArger-help "init verbose stuff" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger opt option "verbose trigger option" --default-value "verbose"\n# @parseArger opt level "verbose default level" --default-value "0"\n# @parseArger opt log-fn-name "log function name" --default-value "log"\n# @parseArger opt quiet-option "trigger to tell script to shut up" --default-value "quiet"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/verbose"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n# OPTIONALS ARGUMENTS\n_arg_option="verbose"\n_arg_level="0"\n_arg_log_fn_name="log"\n_arg_quiet_option="quiet"\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "init verbose stuff:"\n	echo -e "	--option <option>: verbose trigger option [default: \' verbose \']"\n	echo -e "	--level <level>: verbose default level [default: \' 0 \']"\n	echo -e "	--log-fn-name <log-fn-name>: log function name [default: \' log \']"\n	echo -e "	--quiet-option <quiet-option>: trigger to tell script to shut up [default: \' quiet \']"\n	echo -e "Usage :\n	$0 [--option <value>] [--level <value>] [--log-fn-name <value>] [--quiet-option <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_option="$2"\n				shift\n				;;\n			--option=*)\n				_arg_option="${_key##--option=}"\n				;;\n\n			--level)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_level="$2"\n				shift\n				;;\n			--level=*)\n				_arg_level="${_key##--level=}"\n				;;\n\n			--log-fn-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_log_fn_name="$2"\n				shift\n				;;\n			--log-fn-name=*)\n				_arg_log_fn_name="${_key##--log-fn-name=}"\n				;;\n\n			--quiet-option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_quiet_option="$2"\n				shift\n				;;\n			--quiet-option=*)\n				_arg_quiet_option="${_key##--quiet-option=}"\n				;;\n\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string=""\n	if [ "${_positionals_count}" -gt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 0 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 0 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n\n	echo -e "\\toption: ${_arg_option}";\n	echo -e "\\tlevel: ${_arg_level}";\n	echo -e "\\tlog-fn-name: ${_arg_log_fn_name}";\n	echo -e "\\tquiet-option: ${_arg_quiet_option}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\n# TODO customizable colors\n\noutStr="${_arg_log_fn_name}() {\n	local _arg_msg=\\"\\${1}\\";\n	local _arg_level=\\"\\${2:-$_arg_level}\\";\n	if [ \\"\\${_arg_level}\\" -le \\"\\${_verbose_level}\\" ]; then\n		case \\"\\$_arg_level\\" in\n			-3)\n				_arg_COLOR=\\"\\\\\\\\033[0;31m\\";\n				;;\n			-2)\n				_arg_COLOR=\\"\\\\\\\\033[0;33m\\";\n				;;\n			-1)\n				_arg_COLOR=\\"\\\\\\\\033[1;33m\\";\n				;;\n			1)\n				_arg_COLOR=\\"\\\\\\\\033[0;32m\\";\n				;;\n			2)\n				_arg_COLOR=\\"\\\\\\\\033[1;36m\\";\n				;;\n			3)\n				_arg_COLOR=\\"\\\\\\\\033[0;36m\\";\n				;;\n			*)\n				_arg_COLOR=\\"\\\\\\\\033[0m\\";\n				;;\n		esac\n		if [ \\"\\${_has_colors}\\" == \\"1\\" ]; then\n			echo -e \\"\\${_arg_COLOR}\\${_arg_msg}\\\\\\\\033[0m\\";\n		else\n			echo \\"\\${_arg_msg}\\";\n		fi\n	fi\n}";\n\necho -e "$outStr";\n',"/parseArger/bin/verbose/declaration":'#!/bin/bash\n\n# @parseArger-begin\n# @parseArger-help "create common verbose stuff" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger opt option "verbose trigger option" --default-value "verbose"\n# @parseArger opt level "verbose default level" --default-value "0"\n# @parseArger opt log-fn-name "log function name" --default-value "log"\n# @parseArger opt quiet-option "trigger to tell script to shut up" --default-value "quiet"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/verbose"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n# OPTIONALS ARGUMENTS\n_arg_option="verbose"\n_arg_level="0"\n_arg_log_fn_name="log"\n_arg_quiet_option="quiet"\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "create common verbose stuff:"\n	echo -e "	--option <option>: verbose trigger option [default: \' verbose \']"\n	echo -e "	--level <level>: verbose default level [default: \' 0 \']"\n	echo -e "	--log-fn-name <log-fn-name>: log function name [default: \' log \']"\n	echo -e "	--quiet-option <quiet-option>: trigger to tell script to shut up [default: \' quiet \']"\n	echo -e "Usage :\n	$0 [--option <value>] [--level <value>] [--log-fn-name <value>] [--quiet-option <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_option="$2"\n				shift\n				;;\n			--option=*)\n				_arg_option="${_key##--option=}"\n				;;\n			\n			--level)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_level="$2"\n				shift\n				;;\n			--level=*)\n				_arg_level="${_key##--level=}"\n				;;\n			\n			--log-fn-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_log_fn_name="$2"\n				shift\n				;;\n			--log-fn-name=*)\n				_arg_log_fn_name="${_key##--log-fn-name=}"\n				;;\n			\n			--quiet-option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_quiet_option="$2"\n				shift\n				;;\n			--quiet-option=*)\n				_arg_quiet_option="${_key##--quiet-option=}"\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string=""\n	if [ "${_positionals_count}" -gt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 0 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 0 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\toption: ${_arg_option}";\n	echo -e "\\tlevel: ${_arg_level}";\n	echo -e "\\tlog-fn-name: ${_arg_log_fn_name}";\n	echo -e "\\tquiet-option: ${_arg_quiet_option}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\noutStr="# @parse";\noutStr+="Arger-verbose --option \\"$_arg_option\\" --level \\"$_arg_level\\" --quiet-option \\"$_arg_quiet_option\\"";\n\necho "$outStr";\n',"/parseArger/bin/xdg/init":'#!/bin/bash\n\n# @parseArger-begin\n# @parseArger-help "generate XDG base directory initialization" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger pos app-name "application name for XDG directories"\n# @parseArger flag config "enable XDG_CONFIG_HOME support" --on\n# @parseArger flag data "enable XDG_DATA_HOME support" --on\n# @parseArger flag cache "enable XDG_CACHE_HOME support"\n# @parseArger opt config-file "config file name" --default-value "config"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/xdg"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_app_name=\n# OPTIONALS ARGUMENTS\n_arg_config_file="config"\n# FLAGS\n_arg_config="on"\n_arg_data="on"\n_arg_cache="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "generate XDG base directory initialization:"\n	echo -e "	<app-name>: application name for XDG directories"\n	echo -e "	--config-file <config-file>: config file name [default: \' config \']"\n	echo -e "	--config|--no-config: enable XDG_CONFIG_HOME support, on by default (use --no-config to turn it off)"\n	echo -e "	--data|--no-data: enable XDG_DATA_HOME support, on by default (use --no-data to turn it off)"\n	echo -e "	--cache|--no-cache: enable XDG_CACHE_HOME support"\n	echo -e "Usage :\n	$0 <app-name> [--config-file <value>] [--[no-]config] [--[no-]data] [--[no-]cache]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--config-file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_config_file="$2"\n				shift\n				;;\n			--config-file=*)\n				_arg_config_file="${_key##--config-file=}"\n				;;\n			\n			--config)\n				_arg_config="on"\n				;;\n			--no-config)\n				_arg_config="off"\n				;;\n			--data)\n				_arg_data="on"\n				;;\n			--no-data)\n				_arg_data="off"\n				;;\n			--cache)\n				_arg_cache="on"\n				;;\n			--no-cache)\n				_arg_cache="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="app-name"\n	if [ "${_positionals_count}" -gt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 1 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_app_name ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\tapp-name: ${_arg_app_name}";\n	echo -e "\\tconfig-file: ${_arg_config_file}";\n	echo -e "\\tconfig: ${_arg_config}";\n	echo -e "\\tdata: ${_arg_data}";\n	echo -e "\\tcache: ${_arg_cache}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\n# Generate XDG initialization code\necho "# XDG Base Directory variables"\necho "_xdg_app_name=\\"${_arg_app_name}\\"";\necho "_xdg_config_file=\\"${_arg_config_file}\\"";\n\nif [ "$_arg_config" == "on" ]; then\n	echo "_xdg_config_home=\\"\\"";\nfi\nif [ "$_arg_data" == "on" ]; then\n	echo "_xdg_data_home=\\"\\"";\nfi\nif [ "$_arg_cache" == "on" ]; then\n	echo "_xdg_cache_home=\\"\\"";\nfi\n',"/parseArger/bin/xdg/functions":'#!/bin/bash\n\n# @parseArger-begin\n# @parseArger-help "generate XDG base directory helper functions" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger pos app-name "application name for XDG directories"\n# @parseArger flag config "enable XDG_CONFIG_HOME support" --on\n# @parseArger flag data "enable XDG_DATA_HOME support" --on\n# @parseArger flag cache "enable XDG_CACHE_HOME support"\n# @parseArger opt config-file "config file name" --default-value "config"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/xdg"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_app_name=\n# OPTIONALS ARGUMENTS\n_arg_config_file="config"\n# FLAGS\n_arg_config="on"\n_arg_data="on"\n_arg_cache="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "generate XDG base directory helper functions:"\n	echo -e "	<app-name>: application name for XDG directories"\n	echo -e "	--config-file <config-file>: config file name [default: \' config \']"\n	echo -e "	--config|--no-config: enable XDG_CONFIG_HOME support, on by default (use --no-config to turn it off)"\n	echo -e "	--data|--no-data: enable XDG_DATA_HOME support, on by default (use --no-data to turn it off)"\n	echo -e "	--cache|--no-cache: enable XDG_CACHE_HOME support"\n	echo -e "Usage :\n	$0 <app-name> [--config-file <value>] [--[no-]config] [--[no-]data] [--[no-]cache]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--config-file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_config_file="$2"\n				shift\n				;;\n			--config-file=*)\n				_arg_config_file="${_key##--config-file=}"\n				;;\n			\n			--config)\n				_arg_config="on"\n				;;\n			--no-config)\n				_arg_config="off"\n				;;\n			--data)\n				_arg_data="on"\n				;;\n			--no-data)\n				_arg_data="off"\n				;;\n			--cache)\n				_arg_cache="on"\n				;;\n			--no-cache)\n				_arg_cache="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			--quiet)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level - 1))";\n				else\n					_verbose_level="-$2";\n					shift;\n				fi\n				;;\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="app-name"\n	if [ "${_positionals_count}" -gt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 1 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_app_name ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\tapp-name: ${_arg_app_name}";\n	echo -e "\\tconfig-file: ${_arg_config_file}";\n	echo -e "\\tconfig: ${_arg_config}";\n	echo -e "\\tdata: ${_arg_data}";\n	echo -e "\\tcache: ${_arg_cache}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\n# Generate the xdg_init function\ncat << \'XDGINIT\'\n# Initialize XDG directories based on platform\n# Supports Linux, macOS, Windows (Git Bash, MSYS2, Cygwin)\nxdg_init() {\n	case "$(uname -s)" in\n		MINGW*|MSYS*|CYGWIN*)\n			# Windows (Git Bash, MSYS2, Cygwin)\nXDGINIT\n\nif [ "$_arg_config" == "on" ]; then\n	cat << \'XDGCONFIGWIN\'\n			_xdg_config_home="${XDG_CONFIG_HOME:-${APPDATA:-$HOME/.config}}/$_xdg_app_name"\nXDGCONFIGWIN\nfi\n\nif [ "$_arg_data" == "on" ]; then\n	cat << \'XDGDATAWIN\'\n			_xdg_data_home="${XDG_DATA_HOME:-${LOCALAPPDATA:-$HOME/.local/share}}/$_xdg_app_name"\nXDGDATAWIN\nfi\n\nif [ "$_arg_cache" == "on" ]; then\n	cat << \'XDGCACHEWIN\'\n			_xdg_cache_home="${XDG_CACHE_HOME:-${LOCALAPPDATA:-$HOME/.cache}/cache}/$_xdg_app_name"\nXDGCACHEWIN\nfi\n\ncat << \'XDGUNIX\'\n			;;\n		*)\n			# Linux, macOS, and other Unix-like systems\n			# Uses XDG Base Directory Specification with sensible fallbacks\nXDGUNIX\n\nif [ "$_arg_config" == "on" ]; then\n	cat << \'XDGCONFIGUNIX\'\n			_xdg_config_home="${XDG_CONFIG_HOME:-$HOME/.config}/$_xdg_app_name"\nXDGCONFIGUNIX\nfi\n\nif [ "$_arg_data" == "on" ]; then\n	cat << \'XDGDATAUNIX\'\n			_xdg_data_home="${XDG_DATA_HOME:-$HOME/.local/share}/$_xdg_app_name"\nXDGDATAUNIX\nfi\n\nif [ "$_arg_cache" == "on" ]; then\n	cat << \'XDGCACHEUNIX\'\n			_xdg_cache_home="${XDG_CACHE_HOME:-$HOME/.cache}/$_xdg_app_name"\nXDGCACHEUNIX\nfi\n\ncat << \'XDGINITEND\'\n			;;\n	esac\nXDGINITEND\n\n# Generate ensure_* calls\nif [ "$_arg_config" == "on" ]; then\n	echo "	xdg_ensure_config_dir";\nfi\nif [ "$_arg_data" == "on" ]; then\n	echo "	xdg_ensure_data_dir";\nfi\nif [ "$_arg_cache" == "on" ]; then\n	echo "	xdg_ensure_cache_dir";\nfi\n\necho "}"\necho ""\n\n# Generate getter functions\nif [ "$_arg_config" == "on" ]; then\n	cat << \'XDGGETCONFIG\'\n# Get the config directory path\nxdg_config_dir() {\n	echo "$_xdg_config_home";\n}\n\n# Ensure config directory exists\nxdg_ensure_config_dir() {\n	if [ ! -d "$_xdg_config_home" ]; then\n		mkdir -p "$_xdg_config_home";\n	fi\n}\n\nXDGGETCONFIG\nfi\n\nif [ "$_arg_data" == "on" ]; then\n	cat << \'XDGGETDATA\'\n# Get the data directory path\nxdg_data_dir() {\n	echo "$_xdg_data_home";\n}\n\n# Ensure data directory exists\nxdg_ensure_data_dir() {\n	if [ ! -d "$_xdg_data_home" ]; then\n		mkdir -p "$_xdg_data_home";\n	fi\n}\n\nXDGGETDATA\nfi\n\nif [ "$_arg_cache" == "on" ]; then\n	cat << \'XDGGETCACHE\'\n# Get the cache directory path\nxdg_cache_dir() {\n	echo "$_xdg_cache_home";\n}\n\n# Ensure cache directory exists\nxdg_ensure_cache_dir() {\n	if [ ! -d "$_xdg_cache_home" ]; then\n		mkdir -p "$_xdg_cache_home";\n	fi\n}\n\nXDGGETCACHE\nfi\n\n# Generate load/save config functions if config is enabled\nif [ "$_arg_config" == "on" ]; then\n	cat << XDGLOADSAVE\n# Get the full path to the config file\nxdg_config_file() {\n	echo "\\$_xdg_config_home/\\$_xdg_config_file";\n}\n\n# Load config file (sources it as bash variables)\n# Returns 0 if loaded, 1 if file doesn\'t exist\nxdg_load_config() {\n	local _config_path="\\$_xdg_config_home/\\$_xdg_config_file";\n	if [ -f "\\$_config_path" ]; then\n		# shellcheck source=/dev/null\n		source "\\$_config_path";\n		return 0;\n	fi\n	return 1;\n}\n\n# Save a variable to the config file\n# Usage: xdg_save_config "VAR_NAME" "value"\n# Or: xdg_save_config "VAR_NAME=value"\nxdg_save_config() {\n	local _config_path="\\$_xdg_config_home/\\$_xdg_config_file";\n	local _var_name;\n	local _var_value;\n	\n	if [[ "\\$1" == *"="* ]]; then\n		_var_name="\\${1%%=*}";\n		_var_value="\\${1#*=}";\n	else\n		_var_name="\\$1";\n		_var_value="\\$2";\n	fi\n	\n	# Ensure config directory exists\n	xdg_ensure_config_dir;\n	\n	# Create config file if it doesn\'t exist\n	if [ ! -f "\\$_config_path" ]; then\n		touch "\\$_config_path";\n	fi\n	\n	# Check if variable already exists in config\n	if grep -q "^\\${_var_name}=" "\\$_config_path" 2>/dev/null; then\n		# Update existing variable (portable sed)\n		local _tmp_file="\\${_config_path}.tmp";\n		grep -v "^\\${_var_name}=" "\\$_config_path" > "\\$_tmp_file";\n		echo "\\${_var_name}=\\"\\${_var_value}\\"" >> "\\$_tmp_file";\n		mv "\\$_tmp_file" "\\$_config_path";\n	else\n		# Append new variable\n		echo "\\${_var_name}=\\"\\${_var_value}\\"" >> "\\$_config_path";\n	fi\n}\n\n# Remove a variable from the config file\n# Usage: xdg_remove_config "VAR_NAME"\nxdg_remove_config() {\n	local _config_path="\\$_xdg_config_home/\\$_xdg_config_file";\n	local _var_name="\\$1";\n	\n	if [ -f "\\$_config_path" ]; then\n		local _tmp_file="\\${_config_path}.tmp";\n		grep -v "^\\${_var_name}=" "\\$_config_path" > "\\$_tmp_file";\n		mv "\\$_tmp_file" "\\$_config_path";\n	fi\n}\n\n# Get a value from the config file without sourcing the whole file\n# Usage: xdg_get_config "VAR_NAME"\nxdg_get_config() {\n	local _config_path="\\$_xdg_config_home/\\$_xdg_config_file";\n	local _var_name="\\$1";\n	\n	if [ -f "\\$_config_path" ]; then\n		local _line;\n		_line=\\$(grep "^\\${_var_name}=" "\\$_config_path" 2>/dev/null | head -1);\n		if [ -n "\\$_line" ]; then\n			# Extract value, handling quoted strings\n			local _value="\\${_line#*=}";\n			# Remove surrounding quotes if present\n			_value="\\${_value#\\"}";\n			_value="\\${_value%\\"}";\n			_value="\\${_value#\\\'}";\n			_value="\\${_value%\\\'}";\n			echo "\\$_value";\n			return 0;\n		fi\n	fi\n	return 1;\n}\n\nXDGLOADSAVE\nfi\n',"/parseArger/bin/xdg/declaration":'#!/bin/bash\n\n# @parseArger-begin\n# @parseArger-help "generate XDG base directory declaration" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger pos app-name "application name for XDG directories"\n# @parseArger flag config "enable XDG_CONFIG_HOME support" --on\n# @parseArger flag data "enable XDG_DATA_HOME support" --on\n# @parseArger flag cache "enable XDG_CACHE_HOME support"\n# @parseArger opt config-file "config file name" --default-value "config"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/xdg"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_app_name=\n# OPTIONALS ARGUMENTS\n_arg_config_file="config"\n# FLAGS\n_arg_config="on"\n_arg_data="on"\n_arg_cache="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "generate XDG base directory declaration:"\n	echo -e "	<app-name>: application name for XDG directories"\n	echo -e "	--config-file <config-file>: config file name [default: \' config \']"\n	echo -e "	--config|--no-config: enable XDG_CONFIG_HOME support, on by default (use --no-config to turn it off)"\n	echo -e "	--data|--no-data: enable XDG_DATA_HOME support, on by default (use --no-data to turn it off)"\n	echo -e "	--cache|--no-cache: enable XDG_CACHE_HOME support"\n	echo -e "Usage :\n	$0 <app-name> [--config-file <value>] [--[no-]config] [--[no-]data] [--[no-]cache]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--config-file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_config_file="$2"\n				shift\n				;;\n			--config-file=*)\n				_arg_config_file="${_key##--config-file=}"\n				;;\n			\n			--config)\n				_arg_config="on"\n				;;\n			--no-config)\n				_arg_config="off"\n				;;\n			--data)\n				_arg_data="on"\n				;;\n			--no-data)\n				_arg_data="off"\n				;;\n			--cache)\n				_arg_cache="on"\n				;;\n			--no-cache)\n				_arg_cache="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="app-name"\n	if [ "${_positionals_count}" -gt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 1 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_app_name ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\tapp-name: ${_arg_app_name}";\n	echo -e "\\tconfig-file: ${_arg_config_file}";\n	echo -e "\\tconfig: ${_arg_config}";\n	echo -e "\\tdata: ${_arg_data}";\n	echo -e "\\tcache: ${_arg_cache}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\n# Build the declaration comment\noutStr="# @parse";\noutStr+="Arger-xdg \\"${_arg_app_name}\\"";\n\nif [ "$_arg_config" == "on" ]; then\n	outStr+=" --config";\nelse\n	outStr+=" --no-config";\nfi\n\nif [ "$_arg_data" == "on" ]; then\n	outStr+=" --data";\nelse\n	outStr+=" --no-data";\nfi\n\nif [ "$_arg_cache" == "on" ]; then\n	outStr+=" --cache";\nelse\n	outStr+=" --no-cache";\nfi\n\nif [ "$_arg_config_file" != "config" ]; then\n	outStr+=" --config-file \\"${_arg_config_file}\\"";\nfi\n\necho "$outStr";\n',"/parseArger/bin/version/parser":'#!/bin/bash\n\n# @parseArger-begin\n# @parseArger-help "create version parser" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos vernum "your version number"\n# @parseArger opt option "version trigger option" --default-value "version"\n# @parseArger opt short-option "version trigger short option" --default-value "v"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/version"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_vernum="";\n# OPTIONALS ARGUMENTS\n_arg_option="version"\n_arg_short_option="v"\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "create version parser:"\n	echo -e "	vernum: your version number"\n	echo -e "	--option <option>: version trigger option [default: \' version \']"\n	echo -e "	--short-option <short-option>: version trigger short option [default: \' v \']"\n	echo -e "Usage :\n	$0 <vernum> [--option <value>] [--short-option <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_option="$2"\n				shift\n				;;\n			--option=*)\n				_arg_option="${_key##--option=}"\n				;;\n			\n			--short-option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short_option="$2"\n				shift\n				;;\n			--short-option=*)\n				_arg_short_option="${_key##--short-option=}"\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="vernum"\n	if [ "${_positionals_count}" -gt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 1 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_vernum ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\tvernum: ${_arg_vernum}";\n	echo -e "\\toption: ${_arg_option}";\n	echo -e "\\tshort-option: ${_arg_short_option}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\noutStr="";\n\nif [ "$_arg_option" != "" ]; then\n	outStr+="--$_arg_option";\nfi\nif [ "$_arg_short_option" != "" ]; then\n	outStr="-$_arg_short_option|$outStr";\nfi\n\necho -e "$outStr)\n	print_version;\n	exit 0;\n	;;"\n\nif [ "$_arg_short_option" != "" ]; then\n	echo -e "-${_arg_short_option}*)\n	print_version;\n	exit 0;\n	;;";\nfi\n',"/parseArger/bin/version/declaration":'#!/bin/bash\n\n# @parseArger-begin\n# @parseArger-help "create common version stuff" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos vernum "your version number"\n# @parseArger opt option "version trigger option" --default-value "version"\n# @parseArger opt short-option "version trigger short option" --default-value "v"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/version"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_vernum="";\n# OPTIONALS ARGUMENTS\n_arg_option="version"\n_arg_short_option="v"\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "create common version stuff:"\n	echo -e "	vernum: your version number"\n	echo -e "	--option <option>: version trigger option [default: \' version \']"\n	echo -e "	--short-option <short-option>: version trigger short option [default: \' v \']"\n	echo -e "Usage :\n	$0 <vernum> [--option <value>] [--short-option <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_option="$2"\n				shift\n				;;\n			--option=*)\n				_arg_option="${_key##--option=}"\n				;;\n			\n			--short-option)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short_option="$2"\n				shift\n				;;\n			--short-option=*)\n				_arg_short_option="${_key##--short-option=}"\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="vernum"\n	if [ "${_positionals_count}" -gt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 1 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_vernum ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\tvernum: ${_arg_vernum}";\n	echo -e "\\toption: ${_arg_option}";\n	echo -e "\\tshort-option: ${_arg_short_option}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\noutStr="# @parse";\noutStr+="Arger-version \\"$_arg_vernum\\"";\n\nif [ "$_arg_option" != "" ]; then\n	outStr+=" --option \\"$_arg_option\\"";\nfi\nif [ "$_arg_short_option" != "" ]; then\n	outStr+=" --short-option \\"$_arg_short_option\\"";\nfi\n\necho "$outStr";\n',"/parseArger/bin/html-form":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "generate html form for a parsearger file" --option "help" --short-option "h"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos file "file to process"\n# @parseArger opt command "command string, default to file "\n# @parseArger opt action "form action"\n# @parseArger opt form-class "form html class"\n# @parseArger opt input-container-class "input container class" --default-value "form-group"\n# @parseArger opt input-class "input class" --default-value "form-control"\n# @parseArger opt label-class "label class" --default-value "form-label"\n# @parseArger opt select-class "select class" --default-value "form-select"\n# @parseArger opt checkbox-container-class "checkbox and radio class" --default-value "form-check" --alias radio-container-class\n# @parseArger opt checkbox-class "checkbox and radio class" --default-value "form-check-input" --alias radio-class\n# @parseArger opt checkbox-label-class "checkbox and radio label class" --default-value "form-check-label" --alias radio-label-class\n# @parseArger opt parent-form "parent form for result"\n# @parseArger flag form "display form" --on\n# @parseArger flag button "display button" --on\n# @parseArger flag js "create javascript, --no-js forces --no-result" --on\n# @parseArger flag result "display result" --on\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_file="";\n# OPTIONALS ARGUMENTS\n_arg_command=\n_arg_action=\n_arg_form_class=\n_arg_input_container_class="form-group"\n_arg_input_class="form-control"\n_arg_label_class="form-label"\n_arg_select_class="form-select"\n_arg_checkbox_container_class="form-check"\n_arg_checkbox_class="form-check-input"\n_arg_checkbox_label_class="form-check-label"\n_arg_parent_form=\n# FLAGS\n_arg_form="on"\n_arg_button="on"\n_arg_js="on"\n_arg_result="on"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "generate html form for a parsearger file:"\n	echo -e "	file: file to process"\n	echo -e "	--command <command>: command string, default to file "\n	echo -e "	--action <action>: form action"\n	echo -e "	--form-class <form-class>: form html class"\n	echo -e "	--input-container-class <input-container-class>: input container class [default: \' form-group \']"\n	echo -e "	--input-class <input-class>: input class [default: \' form-control \']"\n	echo -e "	--label-class <label-class>: label class [default: \' form-label \']"\n	echo -e "	--select-class <select-class>: select class [default: \' form-select \']"\n	echo -e "	--checkbox-container-class|--radio-container-class <checkbox-container-class>: checkbox and radio class [default: \' form-check \']"\n	echo -e "	--checkbox-class|--radio-class <checkbox-class>: checkbox and radio class [default: \' form-check-input \']"\n	echo -e "	--checkbox-label-class|--radio-label-class <checkbox-label-class>: checkbox and radio label class [default: \' form-check-label \']"\n	echo -e "	--parent-form <parent-form>: parent form for result"\n	echo -e "	--form|--no-form: display form, on by default (use --no-form to turn it off)"\n	echo -e "	--button|--no-button: display button, on by default (use --no-button to turn it off)"\n	echo -e "	--js|--no-js: create javascript, --no-js forces --no-result, on by default (use --no-js to turn it off)"\n	echo -e "	--result|--no-result: display result, on by default (use --no-result to turn it off)"\n	echo -e "Usage :\n	$0 <file> [--command <value>] [--action <value>] [--form-class <value>] [--input-container-class <value>] [--input-class <value>] [--label-class <value>] [--select-class <value>] [--checkbox-container-class <value>] [--checkbox-class <value>] [--checkbox-label-class <value>] [--parent-form <value>] [--[no-]form] [--[no-]button] [--[no-]js] [--[no-]result]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--command)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_command="$2"\n				shift\n				;;\n			--command=*)\n				_arg_command="${_key##--command=}"\n				;;\n			\n			--action)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_action="$2"\n				shift\n				;;\n			--action=*)\n				_arg_action="${_key##--action=}"\n				;;\n			\n			--form-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_form_class="$2"\n				shift\n				;;\n			--form-class=*)\n				_arg_form_class="${_key##--form-class=}"\n				;;\n			\n			--input-container-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_input_container_class="$2"\n				shift\n				;;\n			--input-container-class=*)\n				_arg_input_container_class="${_key##--input-container-class=}"\n				;;\n			\n			--input-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_input_class="$2"\n				shift\n				;;\n			--input-class=*)\n				_arg_input_class="${_key##--input-class=}"\n				;;\n			\n			--label-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_label_class="$2"\n				shift\n				;;\n			--label-class=*)\n				_arg_label_class="${_key##--label-class=}"\n				;;\n			\n			--select-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_select_class="$2"\n				shift\n				;;\n			--select-class=*)\n				_arg_select_class="${_key##--select-class=}"\n				;;\n			\n			--radio-container-class|--checkbox-container-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_checkbox_container_class="$2"\n				shift\n				;;\n			--checkbox-container-class=*)\n				_arg_checkbox_container_class="${_key##--checkbox-container-class=}"\n				;;\n			--radio-container-class=*)\n				_arg_checkbox_container_class="${_key##--radio-container-class=}"\n				;;\n			\n			--radio-class|--checkbox-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_checkbox_class="$2"\n				shift\n				;;\n			--checkbox-class=*)\n				_arg_checkbox_class="${_key##--checkbox-class=}"\n				;;\n			--radio-class=*)\n				_arg_checkbox_class="${_key##--radio-class=}"\n				;;\n			\n			--radio-label-class|--checkbox-label-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_checkbox_label_class="$2"\n				shift\n				;;\n			--checkbox-label-class=*)\n				_arg_checkbox_label_class="${_key##--checkbox-label-class=}"\n				;;\n			--radio-label-class=*)\n				_arg_checkbox_label_class="${_key##--radio-label-class=}"\n				;;\n			\n			--parent-form)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_parent_form="$2"\n				shift\n				;;\n			--parent-form=*)\n				_arg_parent_form="${_key##--parent-form=}"\n				;;\n			\n			--form)\n				_arg_form="on"\n				;;\n			--no-form)\n				_arg_form="off"\n				;;\n			--button)\n				_arg_button="on"\n				;;\n			--no-button)\n				_arg_button="off"\n				;;\n			--js)\n				_arg_js="on"\n				;;\n			--no-js)\n				_arg_js="off"\n				;;\n			--result)\n				_arg_result="on"\n				;;\n			--no-result)\n				_arg_result="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="file"\n	if [ "${_positionals_count}" -gt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 1 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_file ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}";\n		local _regex="${!_match_var}";\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	file: ${_arg_file}";\n	echo -e "	command: ${_arg_command}";\n	echo -e "	action: ${_arg_action}";\n	echo -e "	form-class: ${_arg_form_class}";\n	echo -e "	input-container-class: ${_arg_input_container_class}";\n	echo -e "	input-class: ${_arg_input_class}";\n	echo -e "	label-class: ${_arg_label_class}";\n	echo -e "	select-class: ${_arg_select_class}";\n	echo -e "	checkbox-container-class: ${_arg_checkbox_container_class}";\n	echo -e "	checkbox-class: ${_arg_checkbox_class}";\n	echo -e "	checkbox-label-class: ${_arg_checkbox_label_class}";\n	echo -e "	parent-form: ${_arg_parent_form}";\n	echo -e "	form: ${_arg_form}";\n	echo -e "	button: ${_arg_button}";\n	echo -e "	js: ${_arg_js}";\n	echo -e "	result: ${_arg_result}";\n\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nsource "$_SCRIPT_DIR/utils";\n\n_psthrcmncls=( "--input-container-class" "${_arg_input_container_class}" "--input-class" "${_arg_input_class}" "--label-class" "${_arg_label_class}" "--select-class" "${_arg_select_class}")\n_psthrfrmcls=()\nif [ "$_arg_form_class" != "" ]; then\n	_psthrfrmcls=( "--form-class" "${_arg_form_class}")\nfi\n_psthrcbxcls=( "--checkbox-container-class" "${_arg_checkbox_container_class}" "--checkbox-class" "${_arg_checkbox_class}" "--checkbox-label-class" "${_arg_checkbox_label_class}")\n\nif [ "$_arg_command" == "" ]; then\n	_arg_command="$_arg_file";\nfi\n\n_pos=();\n_opt=();\n_flag=();\nparsearger_get_pos _pos "$_arg_file";\nparsearger_get_opt _opt "$_arg_file";\nparsearger_get_flag _flag "$_arg_file";\n\n_frmName="${_arg_file//\\//_}";\n_frmName="${_frmName//./_}";\n_frmName="${_frmName// /_}";\n_frmName="${_frmName//:/_}";\n_frmName="${_frmName//-/_}";\n\noutput="";\n\nif [ "$_arg_form" != "off" ]; then\n	output+="<form id=\\"${_frmName}\\"";\n	if [ "$_arg_form_class" != "" ]; then\n		output+=" class=\\"${_arg_form_class}\\"";\n	fi\n	output+=">\\n<h2>${_arg_command} form</h2>\\n";\nfi\n_subcmd="";\nfor _ipos in "${_pos[@]}"; do\n	if [ "$_ipos" != "" ]; then\n		isscmd="$(eval "source $_SCRIPT_DIR/pos/is-subcmd $_ipos")";\n		if [[ "$isscmd" == "0" ]]; then\n			_subcmd="$_ipos"\n		fi\n		output+="$(eval "source $_SCRIPT_DIR/pos/html ${_ipos} ${_psthrcmncls[*]} ${_psthrcbxcls[*]} ${_psthrfrmcls[*]}")";\n	fi\ndone\nfor _iopt in "${_opt[@]}"; do\n	if [ "$_iopt" != "" ]; then\n		output+="$(eval "source $_SCRIPT_DIR/opt/html ${_iopt} ${_psthrcmncls[*]}")";\n	fi\ndone\nfor _iflag in "${_flag[@]}"; do\n	if [ "$_iflag" != "" ]; then\n		output+="$(eval "source $_SCRIPT_DIR/flag/html ${_iflag} ${_psthrcbxcls[*]}")";\n	fi\ndone\n\nif [ "$_arg_form" != "off" ]; then\n	if [ "$_arg_button" != "off" ]; then\n		output+="<button id=\\"${_frmName}_parse_btn\\">Parse</button>";\n	fi\n	if [ "$_arg_result" != "off" ]; then\n		output+="\\n\\t<pre id=\\"${_frmName}_result\\" contenteditable=true ></pre>";\n		output+="\\n\\t<pre id=\\"${_frmName}_server_response\\"></pre>";\n	fi\n	output+="\\n</form>";\n	if [ "${_subcmd}" != "" ]; then\n		output+="$(eval "source $_SCRIPT_DIR/pos/subcmd-html ${_ipos} ${_psthrcmncls[*]} ${_psthrcbxcls[*]} ${_psthrfrmcls[*]} --parent-form \\"${_frmName}\\"")"\n	fi\nfi\n\n\nif [ "$_arg_js" != "off" ]; then\n	output+="\\n<script type=\\"text/javascript\\">\n	function ${_frmName}_parse(__form) { \n		let ${_frmName}_frm = new FormData(__form);\n		let out = \'";\n		if [ "$_arg_parent_form" == "" ]; then\n			output+="${_arg_command}";\n		fi\n		output+="\';\n		for(const inp of ${_frmName}_frm.keys()) {\n			const ielt = document.getElementById(inp);\n			switch(ielt.getAttribute(\'pa-type\')) {\n				case \'pos\':\n					if (/[\\s!@#$%^&*()_+=[\\]{};\':\\"\\\\\\\\|,.<>/?]/.test(${_frmName}_frm.get(inp))) {\n						out+=\' \\"\'+${_frmName}_frm.get(inp)+\'\\"\';\n					} else {\n						out+=\' \'+${_frmName}_frm.get(inp);\n					}\n					break;\n				case \'opt\':\n					if(${_frmName}_frm.get(inp) !== \'\') {\n						if (ielt.hasAttribute(\'pa-repeat\')) {\n							for(const val of ${_frmName}_frm.get(inp).split(\\`\n\\`)) {\n								out+=\' --\'+inp+\' \\"\'+val+\'\\"\';\n							}\n						} else {\n							out+=\' --\'+inp+\' \\"\'+${_frmName}_frm.get(inp)+\'\\"\';\n						}\n					}\n					break;\n				case \'flag\':\n					if(ielt.checked === true) {\n						out+=\' --\'+inp;\n					} else {\n						out+=\' --no-\'+inp;\n					}\n					break;\n			}\n		}";\n		if [ "$_arg_parent_form" != "" ]; then\n			output+="\n		// document.getElementById(\'${_arg_parent_form}_parse_btn\').parentNode.dispatchEvent(new Event(\'submit\'));\n		document.getElementById(\'${_arg_parent_form}_parse_btn\').click();\n		out=document.getElementById(\'${_arg_parent_form}_result\').innerHTML+out;\n		document.getElementById(\'${_arg_parent_form}_result\').innerHTML=out;\n		";\n		fi\n		output+="\n		document.getElementById(\'${_frmName}_result\').innerHTML=out;\n	}";\n	if [ "$_arg_result" != "off" ] && [ "$_arg_form" != "off" ]; then\n		output+="\\ndocument.getElementById(\'${_frmName}\').addEventListener(\'submit\', function(e) {\n				e.preventDefault();\n				e.target.checkValidity();\n				${_frmName}_parse(e.target);\n				if ((window.location.hostname === \'localhost\' || window.location.hostname === \'127.0.0.1\') \n					&& (window.location.protocol === \'http:\' || window.location.protocol === \'https:\')\n					&& (window.location.port !== \'80\' && window.location.port !== \'443\')) {\n					fetch(window.location.protocol+\'//\' + window.location.hostname + \':\' + window.location.port + \'/form\', {\n						method: \'POST\',\n						body:document.getElementById(\'${_arg_parent_form}_result\').innerHTML.replace(/${_arg_command} /g, \'\')\n					})\n						.then(response => response.text())\n						.then(result => {\n							document.getElementById(\'${_frmName}_server_response\').innerHTML = result;\n						})\n						.catch(error => {\n							document.getElementById(\'${_frmName}_server_response\').innerHTML = error;\n						});\n				}\n			});";\n	fi\n	output+="\\n</script>";\nfi\n\necho -e "$output";\n',"/parseArger/bin/project":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "generate or parse a project" --option "help" --short-option "h"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-leftovers leftovers\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos name "project name"\n# @parseArger pos target "specific stuff on a project" --optional --subcommand-directory "bin/_project" --subcommand --one-of "git-init" --one-of "installer" --one-of "git-init" --one-of "mkfile" --one-of "webserver"\n# @parseArger opt description "project description" --alias project-help\n# @parseArger opt directory "output directory, ./<project_name> by default" --short d --alias dir --complete "directory"\n# @parseArger opt project-subcommand-dir "subcommand script directory" --default-value "bin" --alias subcommand-directory\n# @parseArger opt project-subcommand "project subcommand, forces has-subcommand" --repeat\n# @parseArger opt completely "generate bash completion, filenames (.yaml and .bash) if value is specified"\n# @parseArger opt document "generate documentation, filename (.md) if value is specified" --default-value "on"\n# @parseArger opt html-form "generate html-form, filename (.html) if value is specified" --default-value "on"\n# @parseArger opt cp "file or directory to copy to the project directory" --repeat --complete "file" --complete "directory"\n# @parseArger opt installer-git-service "git service" --default-value "github.com" --alias git-provider\n# @parseArger opt installer-git-repo "git repo eg DimitriGilbert/parseArger" --alias git-repo\n# @parseArger opt git-add "stuff to add to git" --repeat\n# @parseArger opt git-commit "commit, force --git-add" --alias commit\n# @parseArger flag readme "create a basic readme" --on\n# @parseArger flag git "git init" --on\n# @parseArger flag makefile "generate a makefile" --on\n# @parseArger flag web-server "add web server" --on\n# @parseArger flag bashunit "add bashunit lib to the project"\n# @parseArger flag unit-tests "add unit tests to the project, forces --bashunit"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_name="";\n_arg_target="";\n_one_of_arg_target=("git-init" "installer" "git-init" "mkfile" "webserver" "webserver" );\n_optional_positionals+=("_arg_target");\n_arg_subcommand_arg="_arg_target";\n__subcommand=();\n# OPTIONALS ARGUMENTS\n_arg_description=\n_arg_directory=\n_arg_project_subcommand_dir="bin"\n_arg_project_subcommand=()\n_arg_completely=\n_arg_document="on"\n_arg_html_form="on"\n_arg_cp=()\n_arg_installer_git_service="github.com"\n_arg_installer_git_repo=\n_arg_git_add=()\n_arg_git_commit=\n# FLAGS\n_arg_readme="on"\n_arg_git="on"\n_arg_makefile="on"\n_arg_web_server="on"\n_arg_bashunit="off"\n_arg_unit_tests="off"\n# NESTED\n# LEFTOVERS\n_arg_leftovers=()\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [ "$__cli_arg_count" -ge 2 ]; then\n		# echo "$0 sub command help\n	#"\n		_triggerSCHelp=0;\n		_helpHasBeenPrinted=0;\n	else\n	\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "generate or parse a project:"\n	echo -e "	name: project name"\n	echo -e "	target: specific stuff on a project, optional [one of \'git-init\' \'installer\' \'git-init\' \'mkfile\' \'webserver\' \'webserver\']"\n	echo -e "	--description|--project-help <description>: project description"\n	echo -e "	-d, --directory|--dir <directory>: output directory, ./<project_name> by default"\n	echo -e "	--project-subcommand-dir|--subcommand-directory <project-subcommand-dir>: subcommand script directory [default: \' bin \']"\n	echo -e "	--project-subcommand <project-subcommand>: project subcommand, forces has-subcommand, repeatable"\n	echo -e "	--completely <completely>: generate bash completion, filenames (.yaml and .bash) if value is specified"\n	echo -e "	--document <document>: generate documentation, filename (.md) if value is specified [default: \' on \']"\n	echo -e "	--html-form <html-form>: generate html-form, filename (.html) if value is specified [default: \' on \']"\n	echo -e "	--cp <cp>: file or directory to copy to the project directory, repeatable"\n	echo -e "	--installer-git-service|--git-provider <installer-git-service>: git service [default: \' github.com \']"\n	echo -e "	--installer-git-repo|--git-repo <installer-git-repo>: git repo eg DimitriGilbert/parseArger"\n	echo -e "	--git-add <git-add>: stuff to add to git, repeatable"\n	echo -e "	--git-commit|--commit <git-commit>: commit, force --git-add"\n	echo -e "	--readme|--no-readme: create a basic readme, on by default (use --no-readme to turn it off)"\n	echo -e "	--git|--no-git: git init, on by default (use --no-git to turn it off)"\n	echo -e "	--makefile|--no-makefile: generate a makefile, on by default (use --no-makefile to turn it off)"\n	echo -e "	--web-server|--no-web-server: add web server, on by default (use --no-web-server to turn it off)"\n	echo -e "	--bashunit|--no-bashunit: add bashunit lib to the project"\n	echo -e "	--unit-tests|--no-unit-tests: add unit tests to the project, forces --bashunit"\n	echo -e "Usage :\n	$0 <name> [target] [--description <value>] [--directory <value>] [--project-subcommand-dir <value>] [--project-subcommand <value>] [--completely <value>] [--document <value>] [--html-form <value>] [--cp <value>] [--installer-git-service <value>] [--installer-git-repo <value>] [--git-add <value>] [--git-commit <value>] [--[no-]readme] [--[no-]git] [--[no-]makefile] [--[no-]web-server] [--[no-]bashunit] [--[no-]unit-tests]";\n	fi\n\n	fi\n	\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--project-help|--description)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_description="$2"\n				shift\n				;;\n			--description=*)\n				_arg_description="${_key##--description=}"\n				;;\n			--project-help=*)\n				_arg_description="${_key##--project-help=}"\n				;;\n			\n			-d|--dir|--directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_directory="$2"\n				shift\n				;;\n			--directory=*)\n				_arg_directory="${_key##--directory=}"\n				;;\n			--dir=*)\n				_arg_directory="${_key##--dir=}"\n				;;\n			-d*)\n				_arg_directory="${_key##-d}"\n				;;\n			\n			--subcommand-directory|--project-subcommand-dir)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_project_subcommand_dir="$2"\n				shift\n				;;\n			--project-subcommand-dir=*)\n				_arg_project_subcommand_dir="${_key##--project-subcommand-dir=}"\n				;;\n			--subcommand-directory=*)\n				_arg_project_subcommand_dir="${_key##--subcommand-directory=}"\n				;;\n			\n			--project-subcommand)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_project_subcommand+=("$2")\n				shift\n				;;\n			--project-subcommand=*)\n				_arg_project_subcommand+=("${_key##--project-subcommand=}")\n				;;\n			\n			--completely)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_completely="$2"\n				shift\n				;;\n			--completely=*)\n				_arg_completely="${_key##--completely=}"\n				;;\n			\n			--document)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_document="$2"\n				shift\n				;;\n			--document=*)\n				_arg_document="${_key##--document=}"\n				;;\n			\n			--html-form)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_html_form="$2"\n				shift\n				;;\n			--html-form=*)\n				_arg_html_form="${_key##--html-form=}"\n				;;\n			\n			--cp)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_cp+=("$2")\n				shift\n				;;\n			--cp=*)\n				_arg_cp+=("${_key##--cp=}")\n				;;\n			\n			--git-provider|--installer-git-service)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_installer_git_service="$2"\n				shift\n				;;\n			--installer-git-service=*)\n				_arg_installer_git_service="${_key##--installer-git-service=}"\n				;;\n			--git-provider=*)\n				_arg_installer_git_service="${_key##--git-provider=}"\n				;;\n			\n			--git-repo|--installer-git-repo)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_installer_git_repo="$2"\n				shift\n				;;\n			--installer-git-repo=*)\n				_arg_installer_git_repo="${_key##--installer-git-repo=}"\n				;;\n			--git-repo=*)\n				_arg_installer_git_repo="${_key##--git-repo=}"\n				;;\n			\n			--git-add)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_git_add+=("$2")\n				shift\n				;;\n			--git-add=*)\n				_arg_git_add+=("${_key##--git-add=}")\n				;;\n			\n			--commit|--git-commit)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_git_commit="$2"\n				shift\n				;;\n			--git-commit=*)\n				_arg_git_commit="${_key##--git-commit=}"\n				;;\n			--commit=*)\n				_arg_git_commit="${_key##--commit=}"\n				;;\n			\n			--readme)\n				_arg_readme="on"\n				;;\n			--no-readme)\n				_arg_readme="off"\n				;;\n			--git)\n				_arg_git="on"\n				;;\n			--no-git)\n				_arg_git="off"\n				;;\n			--makefile)\n				_arg_makefile="on"\n				;;\n			--no-makefile)\n				_arg_makefile="off"\n				;;\n			--web-server)\n				_arg_web_server="on"\n				;;\n			--no-web-server)\n				_arg_web_server="off"\n				;;\n			--bashunit)\n				_arg_bashunit="on"\n				;;\n			--no-bashunit)\n				_arg_bashunit="off"\n				;;\n			--unit-tests)\n				_arg_unit_tests="on"\n				;;\n			--no-unit-tests)\n				_arg_unit_tests="off"\n				;;\n			-h|--help)\n				print_help;\n				;;\n			-h*)\n				print_help;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="name"\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_name _arg_target ";\n	_leftovers_count=$((${#_positionals[@]} - 2))\n	for ((ii = 0; ii < _leftovers_count; ii++));do\n		_positional_names="$_positional_names _arg_leftovers[$((ii + 0))]";\n	done\n\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		if ! [[ "$_positional_name" =~ "_arg_leftovers" ]];then\n			eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n			local _match_var="_match${_positional_name}";\n			local _regex="${!_match_var}";\n			if [ -n "$_regex" ]; then\n				[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n			fi\n			\n			if [ "$_arg_subcommand_arg" == "$_positional_name" ];then\n				if [ -f "${1}" ];then\n					__subcommand+=("${1}");\n				elif [ -f "$_SCRIPT_DIR/${1}" ];then\n					__subcommand+=("$_SCRIPT_DIR/${1}");\n				elif [[ "" == $(basename "$_SCRIPT_DIR")* ]];then\n					cmdToSub="$(basename "$_SCRIPT_DIR")";\n					cmdsubDir="";\n					__subcommand+=("$_SCRIPT_DIR${cmdsubDir#"${cmdToSub}"}${1}");\n				else\n					__subcommand+=("$_SCRIPT_DIR/${1}");\n				fi\n			fi\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	name: ${_arg_name}";\n	echo -e "	target: ${_arg_target}";\n	echo -e "	description: ${_arg_description}";\n	echo -e "	directory: ${_arg_directory}";\n	echo -e "	project-subcommand-dir: ${_arg_project_subcommand_dir}";\n	echo -e "	project-subcommand: ${_arg_project_subcommand[*]}";\n	echo -e "	completely: ${_arg_completely}";\n	echo -e "	document: ${_arg_document}";\n	echo -e "	html-form: ${_arg_html_form}";\n	echo -e "	cp: ${_arg_cp[*]}";\n	echo -e "	installer-git-service: ${_arg_installer_git_service}";\n	echo -e "	installer-git-repo: ${_arg_installer_git_repo}";\n	echo -e "	git-add: ${_arg_git_add[*]}";\n	echo -e "	git-commit: ${_arg_git_commit}";\n	echo -e "	readme: ${_arg_readme}";\n	echo -e "	git: ${_arg_git}";\n	echo -e "	makefile: ${_arg_makefile}";\n	echo -e "	web-server: ${_arg_web_server}";\n	echo -e "	bashunit: ${_arg_bashunit}";\n	echo -e "	unit-tests: ${_arg_unit_tests}";\n	echo -e "	leftovers: ${_arg_leftovers[*]}";\n\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\nif [ "$_triggerSCHelp" == "0" ];then\n	__subcommand+=("--help");\nfi\nif [ "$_verbose_level" -ne "0" ];then\n	__subcommand+=("--verbose" "$_verbose_level");\nfi\n\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\nsource "$_SCRIPT_DIR/utils";\n\nif [ "$_arg_target" != "" ]; then\n	__subcommand+=("$_arg_name");\n	log "${__subcommand[*]}" 2;\n	__subcommand+=("${_arg_leftovers[@]}");\n	if [ "$_arg_installer_git_repo" != "" ]; then\n		__subcommand+=("--git-repo" "$_arg_installer_git_repo");\n	fi\n	"${__subcommand[@]}";\nelif [ "$_helpHasBeenPrinted" == "0" ]; then\n	print_help;\nelse\n	if [ "$_arg_directory" == "" ]; then\n		log "No directory specified" 3;\n		_arg_directory="$(pwd)/$_arg_name";\n	fi\n\n	if [ "$_arg_description" == "" ]; then\n		log "No description specified" 3;\n		_arg_description="$_arg_name, a ParseArger project";\n	fi\n\n	if [ ! -d "$_arg_directory" ]; then\n		log "Creating $_arg_directory" 2;\n		mkdir -p "$_arg_directory";\n	fi\n\n	cd "$_arg_directory";\n\n	paBin="$_SCRIPT_DIR/../parseArger";\n\n	mainBin="$_arg_name"\n	genMainCmd=("$paBin" generate --help-message "$_arg_description" --output "$mainBin");\n\n	if [ "${#_arg_project_subcommand[@]}" -gt 0 ]; then\n		log "Generating subcommands" 4;\n		\n		if [ ! -d "./${_arg_project_subcommand_dir}" ]; then\n			log "Creating ./${_arg_project_subcommand_dir}" 2;\n			mkdir -p "./${_arg_project_subcommand_dir}";\n		fi\n		\n		genMainCmd+=(--leftovers \n			--pos "target \'$_arg_name subcommand\' --subcommand-use-leftovers --subcommand-run --subcommand-directory \'${_arg_project_subcommand_dir}\'"\n		);\n		\n		for sbcmd in "${_arg_project_subcommand[@]}"; do\n			if [ ! -f "./${_arg_project_subcommand_dir}/$sbcmd" ]; then\n				log "Generating ./${_arg_project_subcommand_dir}/$sbcmd" 1;\n				"$paBin" generate --help-message "$_arg_name $sbcmd command" --output "./${_arg_project_subcommand_dir}/$sbcmd";\n			else \n				log "Parsing ./${_arg_project_subcommand_dir}/$sbcmd" 1;\n				"$paBin" parse -i "./${_arg_project_subcommand_dir}/$sbcmd";\n			fi\n		done\n\n	fi\n\n	if [ "${#_arg_cp[@]}" -gt 0 ]; then\n		log "Copying files and directories" 4;\n		for cp in "${_arg_cp[@]}"; do\n			if [ -d "$cp" ]; then\n				log "copying directory $cp" 2;\n				cp -r "$cp" "./";\n			elif [ -f "$cp" ]; then\n				log "copying $cp" 2;\n				cp "$cp" "./"\n			else\n				log "No such file or directory :\\n$cp" -1;\n			fi\n		done\n	fi\n\n	if [ ! -f "$mainBin" ]; then\n		log "Generating main command" 4;\n		log "${genMainCmd[*]}" 1;\n		"${genMainCmd[@]}";\n	else \n		log "Parsing main command" 4;\n		"$paBin" parse -i "$mainBin";\n	fi\n\n	if [ "$_arg_completely" != "" ]; then\n		log "Generating completions" 4;\n		pacCmd=("$paBin" completely "$_arg_name" "$mainBin");\n		if [ "$_arg_completely" != "on" ]; then\n			pacCmd+=(--yaml-file  "${_arg_completely}.yaml" --completion-file "${_arg_completely}.bash");\n		fi\n		log "${pacCmd[*]}" 1;\n		"${pacCmd[@]}";\n	fi\n\n	if [ "$_arg_document" != "" ]; then\n		log "Generating documentation" 4;\n		if [ "$_arg_document" == "on" ]; then\n			_arg_document="documentation";\n		fi\n		\n		if [ ! -f "${_arg_document}.md" ]; then\n			padCmd=("$paBin" document --file "./$mainBin" --out "${_arg_document}.md");\n\n			log "${padCmd[*]}" 1;\n			"${padCmd[@]}";\n		else\n			log "documentation already exists" -1;\n		fi\n	fi\n\n	if [ "$_arg_html_form" != "" ]; then\n		log "Generating html form" 4;\n		if [ "$_arg_html_form" == "on" ]; then\n			_arg_html_form="form";\n		fi\n		\n		if [ ! -f "${_arg_html_form}.html" ]; then\n			\n			pahCmd=("$paBin" html-form "$mainBin" --output "${_arg_html_form}.html");\n\n			log "${pahCmd[*]}" 1;\n			"${pahCmd[@]}";\n		else\n			log "html form already exists" -1;\n		fi\n	fi\n\n	if [ "$_arg_readme" != "off" ]; then\n		log "Generating readme" 4;\n		\n		if [ ! -f "${_arg_readme}" ]; then\n			echo -e "# $_arg_name\\n\\n$_arg_description\\n" > readme.md;\n		else\n			log "readme already exists" -1;\n		fi\n	fi\n\n	if [ "$_arg_makefile" == "on" ]; then\n		log "Generating makefile" 4;\n		if [ ! -f "makefile" ]; then\n			genMkf=("$_SCRIPT_DIR/_project/mkfile" "$_arg_name");\n			"${genMkf[@]}";\n		else\n			log "makefile already exists" -1;\n		fi\n	fi\n\n	if [ "$_arg_web_server" == "on" ]; then\n		log "Generating web server" 4;\n		source "$_SCRIPT_DIR/_project/webserver" "$_arg_name";\n	fi\n\n	if [ "$_arg_installer_git_repo" != "" ]; then\n		log "Generating installer" 4;\n		genIns=("$_SCRIPT_DIR/_project/installer" "$_arg_name" --git-service "$_arg_installer_git_service" --git-repo "$_arg_installer_git_repo" --parsearger "$paBin");\n		"${genIns[@]}";\n	fi\n\n	if [ "$_arg_unit_tests" == "on" ]; then\n		log "Generating unit tests" 4;\n		mkdir tests;\n		sed "${_SCRIPT_DIR}/../templates/test_file" \\\n			-e "s|__program_name__|$_arg_name|g" \\\n			-e "s|__bin_name__|$_arg_name|g" \\\n			-e "s|__program_name_upper__|${_arg_name^^}|g" >> "tests/000_${_arg_name}.test.sh";\n		\n		if [ "${#_arg_project_subcommand[@]}" -gt 0 ]; then\n			_tfile_index=1;\n			for sbcmd in "${_arg_project_subcommand[@]}"; do\n				_t_name="${_arg_name}_${sbcmd}";\n				sed "${_SCRIPT_DIR}/../templates/test_file" \\\n					-e "s|__program_name__|$_t_name|g" \\\n					-e "s|__bin_name__|$_arg_name $sbcmd|g" \\\n					-e "s|__program_name_upper__|${_t_name^^}|g" >> "tests/00${_tfile_index}_${_t_name}.test.sh";\n				_tfile_index=$((_tfile_index + 1));\n			done\n		fi\n\n		_arg_bashunit="on";\n	fi\n\n	if [ "$_arg_bashunit" != "off" ]; then\n		log "Adding bashunit" 4;\n		bashunitInstallStr=$(curl -s https://bashunit.typeddevs.com/install.sh | bash);\n		log "$bashunitInstallStr" 4;\n	fi\n\n	if [ "$_arg_git" != "off" ] || [ "${#_arg_git_add[@]}" -gt 0 ] || [ "$_arg_git_commit" != "" ]; then\n		log "Initializing git" 4;\n		gitInc=("$_SCRIPT_DIR/_project/git-init");\n		if [ "${#_arg_git_add[@]}" -gt 0 ]; then\n			for add in "${_arg_git_add[@]}"; do\n				gitInc+=(--add "$add");\n			done\n		fi\n		if [ "$_arg_git_commit" != "" ]; then\n			gitInc+=(--commit "\'$_arg_git_commit\'");\n		fi\n		"${gitInc[@]}";\n\n		if [ "$_arg_installer_git_repo" != "" ]; then\n			log "Adding remote origin" 4;\n			git remote add origin "git@${_arg_installer_git_service}:${_arg_installer_git_repo}.git"\n		fi\n	fi\nfi\n',"/parseArger/bin/parse":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parse an existing parseArger script and add arguments, options, flag, etc..." --option "help" --short-option "h"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-set export PARSEARGER_ROOT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")"/..;pwd -P);\nexport PARSEARGER_ROOT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")"/..;pwd -P);\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos file "file to parse"\n# @parseArger opt pos "add positional argument declaration" --short p --repeat\n# @parseArger opt opt "add optional arg declaration" --short o --repeat\n# @parseArger opt flag "add flag declaration" --short f --repeat\n# @parseArger opt set "add declare var" --short s --repeat\n# @parseArger opt source "add file to source" --short l --repeat\n# @parseArger opt set-version "set version"\n# @parseArger opt dependencies "set a dependency" --repeat\n# @parseArger opt nested "nested option declaration" --repeat\n# @parseArger flag inplace "replace parseArger generated content in place" --short i\n# @parseArger flag leftovers "enable leftovers"\n# @parseArger flag parse-leftovers "enable parsing of leftovers"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_file="";\n# OPTIONALS ARGUMENTS\n_arg_pos=()\n_arg_opt=()\n_arg_flag=()\n_arg_set=()\n_arg_source=()\n_arg_set_version=\n_arg_dependencies=()\n_arg_nested=()\n# FLAGS\n_arg_inplace="off"\n_arg_leftovers="off"\n_arg_parse_leftovers="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parse an existing parseArger script and add arguments, options, flag, etc...:"\n	echo -e "	file: file to parse"\n	echo -e "	-p, --pos <pos>: add positional argument declaration, repeatable"\n	echo -e "	-o, --opt <opt>: add optional arg declaration, repeatable"\n	echo -e "	-f, --flag <flag>: add flag declaration, repeatable"\n	echo -e "	-s, --set <set>: add declare var, repeatable"\n	echo -e "	-l, --source <source>: add file to source, repeatable"\n	echo -e "	--set-version <set-version>: set version"\n	echo -e "	--dependencies <dependencies>: set a dependency, repeatable"\n	echo -e "	--nested <nested>: nested option declaration, repeatable"\n	echo -e "	-i|--inplace|--no-inplace: replace parseArger generated content in place"\n	echo -e "	--leftovers|--no-leftovers: enable leftovers"\n	echo -e "	--parse-leftovers|--no-parse-leftovers: enable parsing of leftovers"\n	echo -e "Usage :\n	$0 <file> [--pos <value>] [--opt <value>] [--flag <value>] [--set <value>] [--source <value>] [--set-version <value>] [--dependencies <value>] [--nested <value>] [--[no-]inplace] [--[no-]leftovers] [--[no-]parse-leftovers]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			-p|--pos)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_pos+=("$2")\n				shift\n				;;\n			--pos=*)\n				_arg_pos+=("${_key##--pos=}")\n				;;\n			-p*)\n				_arg_pos+=("${_key##-p}")\n				;;\n			\n			-o|--opt)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_opt+=("$2")\n				shift\n				;;\n			--opt=*)\n				_arg_opt+=("${_key##--opt=}")\n				;;\n			-o*)\n				_arg_opt+=("${_key##-o}")\n				;;\n			\n			-f|--flag)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_flag+=("$2")\n				shift\n				;;\n			--flag=*)\n				_arg_flag+=("${_key##--flag=}")\n				;;\n			-f*)\n				_arg_flag+=("${_key##-f}")\n				;;\n			\n			-s|--set)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_set+=("$2")\n				shift\n				;;\n			--set=*)\n				_arg_set+=("${_key##--set=}")\n				;;\n			-s*)\n				_arg_set+=("${_key##-s}")\n				;;\n			\n			-l|--source)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_source+=("$2")\n				shift\n				;;\n			--source=*)\n				_arg_source+=("${_key##--source=}")\n				;;\n			-l*)\n				_arg_source+=("${_key##-l}")\n				;;\n			\n			--set-version)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_set_version="$2"\n				shift\n				;;\n			--set-version=*)\n				_arg_set_version="${_key##--set-version=}"\n				;;\n			\n			--dependencies)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_dependencies+=("$2")\n				shift\n				;;\n			--dependencies=*)\n				_arg_dependencies+=("${_key##--dependencies=}")\n				;;\n			\n			--nested)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_nested+=("$2")\n				shift\n				;;\n			--nested=*)\n				_arg_nested+=("${_key##--nested=}")\n				;;\n			\n			-i|--inplace)\n				_arg_inplace="on"\n				;;\n			--no-inplace)\n				_arg_inplace="off"\n				;;\n			--leftovers)\n				_arg_leftovers="on"\n				;;\n			--no-leftovers)\n				_arg_leftovers="off"\n				;;\n			--parse-leftovers)\n				_arg_parse_leftovers="on"\n				;;\n			--no-parse-leftovers)\n				_arg_parse_leftovers="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="file"\n	if [ "${_positionals_count}" -gt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 1 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 1 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 1 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_file ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}";\n		local _regex="${!_match_var}";\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	file: ${_arg_file}";\n	echo -e "	pos: ${_arg_pos[*]}";\n	echo -e "	opt: ${_arg_opt[*]}";\n	echo -e "	flag: ${_arg_flag[*]}";\n	echo -e "	set: ${_arg_set[*]}";\n	echo -e "	source: ${_arg_source[*]}";\n	echo -e "	set-version: ${_arg_set_version}";\n	echo -e "	dependencies: ${_arg_dependencies[*]}";\n	echo -e "	nested: ${_arg_nested[*]}";\n	echo -e "	inplace: ${_arg_inplace}";\n	echo -e "	leftovers: ${_arg_leftovers}";\n	echo -e "	parse-leftovers: ${_arg_parse_leftovers}";\n\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\nSCRIPT_ROOT_DIR="/parseArger/bin";\nsource "$SCRIPT_ROOT_DIR/utils";\n\nparseHelpMessage() {\n	echo "$1";\n}\n\npaStart="# @parse"\npaStart+="Arger"\n\n_help="$(parsearger_get_help "$_arg_file")";\n_version="$(parsearger_get_version "$_arg_file")";\n_leftovers="$(parsearger_get_leftovers "$_arg_file")";\n_parse_leftovers="$(parsearger_get_parse_leftovers "$_arg_file")";\n_set=();\n_source=();\n_pos=();\n_opt=();\n_flag=();\n_nested=();\n_dependencies=();\nparsearger_get_set _set "$_arg_file";\nparsearger_get_source _source "$_arg_file";\nparsearger_get_pos _pos "$_arg_file";\nparsearger_get_opt _opt "$_arg_file";\nparsearger_get_flag _flag "$_arg_file";\nparsearger_get_nested _nested "$_arg_file";\nparsearger_get_dependencies _dependencies "$_arg_file";\n\n# echo "_help: $_help";\n# echo "_set: ${_set[@]}";\n# echo "_leftovers: $_leftovers";\n# echo "_pos: ${_pos[@]}";\n# echo "_opt: ${_opt[@]}";\n# echo "_flag: ${_flag[@]}";\n# echo "_nested: ${_nested[@]}";\n\ncmdGen=("--no-bang");\n\nif [[ "${_arg_set_version}" != "" ]]; then\n	# TODO: get versopn opt name and short\n	cmdGen+=("--set-version" "${_arg_set_version}");\nelif [[ "${_version}" != "" ]]; then\n	_version="--set-version ${_version//--option/--version-opt-name}";\n	_version="${_version//--short-option/--version-short-option}";\n	_version="${_version//\\"/}";\n	# echo "$_version";\n	read -a vergen <<< "$_version";\n	cmdGen+=("${vergen[@]}");\nfi\n\nif [ "$_help" != "" ]; then\n  cmdGen+=("--help-message" "$(eval "parseHelpMessage $_help")");\nfi\n\nif [ "${_set[*]}" != "" ] && [ "${#_set[@]}" -gt "0" ]; then\n  for __set in "${_set[@]}"; do\n    cmdGen+=("--set" "$__set");\n  done\nfi\nif [[ "${#_arg_set[@]}" -gt 0 ]]; then\n	for __n_set in "${_arg_set[@]}"; do\n		cmdGen+=("--set" "$__n_set")\n	done\nfi\n\nif [ "${_source[*]}" != "" ] && [ "${#_source[@]}" -gt "0" ]; then\n  for __source in "${_source[@]}"; do\n    cmdGen+=("--source" "$__source");\n  done\nfi\nif [[ "${#_arg_source[@]}" -gt 0 ]]; then\n	for __n_source in "${_arg_source[@]}"; do\n		cmdGen+=("--source" "$__n_source")\n	done\nfi\n\nif [ "$_arg_leftovers" != "off" ] || [ "$_leftovers" != "" ]; then\n  cmdGen+=("--leftovers" "--leftovers-name" "${_leftovers:-"leftovers"}");\nfi\nif [ "$_arg_parse_leftovers" != "off" ] || [ "$_parse_leftovers" != "" ]; then\n	cmdGen+=("--parse-leftovers");\nfi\n\nif [ "${_pos[*]}" != "" ] && [ "${#_pos[@]}" -gt "0" ]; then\n  for __pos in "${_pos[@]}"; do\n    cmdGen+=("--pos" "$__pos");\n  done\nfi\nif [[ "${#_arg_pos[@]}" -gt 0 ]]; then\n	for __n_pos in "${_arg_pos[@]}"; do\n		cmdGen+=("--pos" "$__n_pos")\n	done\nfi\n\nif [ "${_opt[*]}" != "" ] && [ "${#_opt[@]}" -gt "0" ]; then\n  for __opt in "${_opt[@]}"; do\n    cmdGen+=("--opt" "$__opt");\n  done\nfi\nif [[ "${#_arg_opt[@]}" -gt 0 ]]; then\n	for __n_opt in "${_arg_opt[@]}"; do\n		cmdGen+=("--opt" "$__n_opt")\n	done\nfi\n\nif [ "${_flag[*]}" != "" ] && [ "${#_flag[@]}" -gt "0" ]; then\n  for __flag in "${_flag[@]}"; do\n    cmdGen+=("--flag" "$__flag");\n  done\nfi\nif [[ "${#_arg_flag[@]}" -gt 0 ]]; then\n	for __n_flag in "${_arg_flag[@]}"; do\n		cmdGen+=("--flag" "$__n_flag")\n	done\nfi\n\nif [ "${_nested[*]}" != "" ] && [ "${#_nested[@]}" -gt "0" ]; then\n  for __nested in "${_nested[@]}"; do\n    cmdGen+=("--nested" "$__nested");\n  done\nfi\nif [[ "${#_arg_nested[@]}" -gt 0 ]]; then\n	for __n_nested in "${_arg_nested[@]}"; do\n		cmdGen+=("--nested" "$__n_nested")\n	done\nfi\n\nif [ "${_dependencies[*]}" != "" ] && [ "${#_dependencies[@]}" -gt "0" ]; then\n  for __dependencies in "${_dependencies[@]}"; do\n    cmdGen+=(--dependencies "$__dependencies");\n  done\nfi\nif [[ "${#_arg_dependencies[@]}" -gt 0 ]]; then\n	for __n_dependencies in "${_arg_dependencies[@]}"; do\n		cmdGen+=(--dependencies "$__n_dependencies")\n	done\nfi\n\n# XDG\n_xdg="$(parsearger_get_xdg "$_arg_file")";\nif [ "$_xdg" != "" ]; then\n	# Parse the XDG line to extract arguments\n	# Format: "appname" --config --data --no-cache --config-file "custom"\n	# Use eval to properly handle quoted strings\n	eval "xdgArgs=($_xdg)";\n	# First arg is the app name\n	cmdGen+=(--xdg "${xdgArgs[0]}");\n	# Transform remaining args: --config -> --xdg-config, --no-cache -> --no-xdg-cache\n	for ((i=1; i<${#xdgArgs[@]}; i++)); do\n		_xarg="${xdgArgs[$i]}";\n		case "$_xarg" in\n			--config) cmdGen+=(--xdg-config) ;;\n			--no-config) cmdGen+=(--no-xdg-config) ;;\n			--data) cmdGen+=(--xdg-data) ;;\n			--no-data) cmdGen+=(--no-xdg-data) ;;\n			--cache) cmdGen+=(--xdg-cache) ;;\n			--no-cache) cmdGen+=(--no-xdg-cache) ;;\n			--config-file) \n				cmdGen+=(--xdg-config-file);\n				i=$((i+1));\n				cmdGen+=("${xdgArgs[$i]}");\n				;;\n			*) cmdGen+=("$_xarg") ;;\n		esac\n	done\nfi\n\ntmpGen="$(mktemp)";\nsource "$SCRIPT_ROOT_DIR/generate" "${cmdGen[@]}" > "$tmpGen";\n\ntmpMrk="tmpMrk"\ntmpMrk="___${tmpMrk}___parsearger"\n# https://unix.stackexchange.com/a/485670 <3\nparsedGen="$(sed -e "/${paStart}-end/a ${tmpMrk}" -e "/${paStart}-begin/,/${paStart}-end/d" "$_arg_file" | sed -e "/${tmpMrk}/r ${tmpGen}" -e "/${tmpMrk}/d")";\n\nrm "$tmpGen";\n\nif [ "$_arg_inplace" == "on" ]; then\n  echo "$parsedGen" > "$_arg_file";\nelse \n  echo "$parsedGen";\nfi\n',"/parseArger/bin/nested/help":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger help string for options" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger pos arg-name "nested option namespace"\n# @parseArger pos description "positional argument description"\n# @parseArger opt one-of "accepted values for keys" --repeat\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/nested"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_one_of=()\n_arg_complete=()\n_arg_complete_custom=()\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger help string for options:"\n	echo -e "	arg-name: nested option namespace"\n	echo -e "	description: positional argument description"\n	echo -e "	--one-of <one-of>: accepted values for keys, repeatable"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--one-of <value>] [--complete <value>] [--complete-custom <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-"0"}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\noptHelp="--${_arg_arg_name}[-<key>]";\n\noptHelp+=" <${_arg_arg_name}-key-value>: nested, ${_arg_description}";\n\necho -e "\\techo -e \\"\\t${optHelp}\\"";\n',"/parseArger/bin/nested/more-completely":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger declaration string for options" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger pos arg-name "nested option namespace"\n# @parseArger pos description "positional argument description"\n# @parseArger opt one-of "accepted values for keys" --repeat\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/nested"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_one_of=()\n_arg_complete=()\n_arg_complete_custom=()\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger declaration string for options:"\n	echo -e "	arg-name: nested option namespace"\n	echo -e "	description: positional argument description"\n	echo -e "	--one-of <one-of>: accepted values for keys, repeatable"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--one-of <value>] [--complete <value>] [--complete-custom <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-"0"}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\n\nif [ "${#_arg_complete[@]}" -gt 0 ] || [ "${#_arg_complete_custom[@]}" -gt 0 ]; then\n	echo "${_arg_prefix}*--${_arg_arg_name}:";\n\n	_cpstr="";\n	if [ "${#_arg_complete[@]}" -gt 0 ]; then\n		for _cmpl in "${_arg_complete[@]}"; do\n			_cpstr+="- <${_cmpl}>\\n";\n		done\n	fi\n	if [ "${#_arg_complete_custom[@]}" -gt 0 ]; then\n		for _cmpl in "${_arg_complete_custom[@]}"; do\n			_cpstr+="- \\$(${_cmpl})\\n";\n		done\n	fi\n	echo -e "${_cpstr}";\nfi\n',"/parseArger/bin/nested/html":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "option to html form" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger pos arg-name "nested option namespace"\n# @parseArger pos description "positional argument description"\n# @parseArger opt one-of "accepted values for keys" --repeat\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt input-container-class "input container class" --default-value "form-group"\n# @parseArger opt input-class "input class" --default-value "form-control"\n# @parseArger opt label-class "label class" --default-value "form-label"\n# @parseArger opt select-class "select class" --default-value "form-select"\n# @parseArger opt checkbox-container-class "checkbox and radio class" --default-value "form-check" --alias radio-container-class\n# @parseArger opt checkbox-class "checkbox and radio class" --default-value "form-check-input" --alias radio-class\n# @parseArger opt checkbox-label-class "checkbox and radio label class" --default-value "form-check-label" --alias radio-label-class\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/nested"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_one_of=()\n_arg_complete=()\n_arg_complete_custom=()\n_arg_input_container_class="form-group"\n_arg_input_class="form-control"\n_arg_label_class="form-label"\n_arg_select_class="form-select"\n_arg_checkbox_container_class="form-check"\n_arg_checkbox_class="form-check-input"\n_arg_checkbox_label_class="form-check-label"\n# FLAGS\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "option to html form:"\n	echo -e "	arg-name: nested option namespace"\n	echo -e "	description: positional argument description"\n	echo -e "	--one-of <one-of>: accepted values for keys, repeatable"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--input-container-class <input-container-class>: input container class [default: \' form-group \']"\n	echo -e "	--input-class <input-class>: input class [default: \' form-control \']"\n	echo -e "	--label-class <label-class>: label class [default: \' form-label \']"\n	echo -e "	--select-class <select-class>: select class [default: \' form-select \']"\n	echo -e "	--checkbox-container-class|--radio-container-class <checkbox-container-class>: checkbox and radio class [default: \' form-check \']"\n	echo -e "	--checkbox-class|--radio-class <checkbox-class>: checkbox and radio class [default: \' form-check-input \']"\n	echo -e "	--checkbox-label-class|--radio-label-class <checkbox-label-class>: checkbox and radio label class [default: \' form-check-label \']"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--one-of <value>] [--complete <value>] [--complete-custom <value>] [--input-container-class <value>] [--input-class <value>] [--label-class <value>] [--select-class <value>] [--checkbox-container-class <value>] [--checkbox-class <value>] [--checkbox-label-class <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--input-container-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_input_container_class="$2"\n				shift\n				;;\n			--input-container-class=*)\n				_arg_input_container_class="${_key##--input-container-class=}"\n				;;\n			\n			--input-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_input_class="$2"\n				shift\n				;;\n			--input-class=*)\n				_arg_input_class="${_key##--input-class=}"\n				;;\n			\n			--label-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_label_class="$2"\n				shift\n				;;\n			--label-class=*)\n				_arg_label_class="${_key##--label-class=}"\n				;;\n			\n			--select-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_select_class="$2"\n				shift\n				;;\n			--select-class=*)\n				_arg_select_class="${_key##--select-class=}"\n				;;\n			\n			--radio-container-class|--checkbox-container-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_checkbox_container_class="$2"\n				shift\n				;;\n			--checkbox-container-class=*)\n				_arg_checkbox_container_class="${_key##--checkbox-container-class=}"\n				;;\n			--radio-container-class=*)\n				_arg_checkbox_container_class="${_key##--radio-container-class=}"\n				;;\n			\n			--radio-class|--checkbox-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_checkbox_class="$2"\n				shift\n				;;\n			--checkbox-class=*)\n				_arg_checkbox_class="${_key##--checkbox-class=}"\n				;;\n			--radio-class=*)\n				_arg_checkbox_class="${_key##--radio-class=}"\n				;;\n			\n			--radio-label-class|--checkbox-label-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_checkbox_label_class="$2"\n				shift\n				;;\n			--checkbox-label-class=*)\n				_arg_checkbox_label_class="${_key##--checkbox-label-class=}"\n				;;\n			--radio-label-class=*)\n				_arg_checkbox_label_class="${_key##--radio-label-class=}"\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	arg-name: ${_arg_arg_name}";\n	echo -e "	description: ${_arg_description}";\n	echo -e "	one-of: ${_arg_one_of[*]}";\n	echo -e "	complete: ${_arg_complete[*]}";\n	echo -e "	complete-custom: ${_arg_complete_custom[*]}";\n	echo -e "	input-container-class: ${_arg_input_container_class}";\n	echo -e "	input-class: ${_arg_input_class}";\n	echo -e "	label-class: ${_arg_label_class}";\n	echo -e "	select-class: ${_arg_select_class}";\n	echo -e "	checkbox-container-class: ${_arg_checkbox_container_class}";\n	echo -e "	checkbox-class: ${_arg_checkbox_class}";\n	echo -e "	checkbox-label-class: ${_arg_checkbox_label_class}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\ninptCmn="pa-type=\\"opt\\" name=\\"${_arg_arg_name}\\" id=\\"${_arg_arg_name}\\"";\n\nif [ "${#_arg_one_of[@]}" -gt 0 ]; then\n	inpuStr="<select class=\\" class=\\"${_arg_select_class}\\"\\" ${inptCmn}>\\n";\n	for oof in "${_arg_one_of[@]}"; do\n		inpuStr+="\\n\\t\\t<option value=\\"${oof}\\"";\n		if [ "${#_arg_default_value[@]}" -gt 0 ] && [ "${_arg_default_value[0]}" == "$oof" ]; then\n			inpuStr+=" selected";\n		fi\n		inpuStr+=">${oof}</option>";\n	done\n	inpuStr+="\\n\\t</select>";\n# elif [ "${_arg_repeat}" == "on" ]; then\n# 	inpuStr="<textarea ${inptCmn} type=\\"text\\" pa-repeat class=\\"${_arg_input_class}\\">";\n# 	if [ "${#_arg_default_value[@]}" -gt 0 ]; then\n# 		inpuStr+="${_arg_default_value[0]}";\n# 	fi\n# 	inpuStr+="</textarea>";\nelse\n	inpuStr="<input class=\\"${_arg_input_class}\\" ${inptCmn} type=\\"text\\"";\n	if [ "${#_arg_default_value[@]}" -gt 0 ]; then\n		inpuStr+=" value=\\"${_arg_default_value[0]}\\"";\n	fi\n	inpuStr+=" />";\nfi\n\necho -e "<div class=\\"${_arg_input_container_class}\\">\n	<label for=\\"${_arg_arg_name}\\" class=\\"${_arg_label_class}\\">${_arg_arg_name}</label>\n	<span class=\\"input-help\\">${_arg_description}</span>\n	${inpuStr}\n</div>";\n',"/parseArger/bin/nested/completely":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger declaration string for nested options" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger pos arg-name "nested option namespace"\n# @parseArger pos description "positional argument description"\n# @parseArger opt one-of "accepted values for keys" --repeat\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/nested"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_one_of=()\n_arg_complete=()\n_arg_complete_custom=()\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger declaration string for nested options:"\n	echo -e "	arg-name: nested option namespace"\n	echo -e "	description: positional argument description"\n	echo -e "	--one-of <one-of>: accepted values for keys, repeatable"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--one-of <value>] [--complete <value>] [--complete-custom <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-"0"}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\n\necho "- --${_arg_arg_name}";\necho "- --${_arg_arg_name}-";\n',"/parseArger/bin/nested/init":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger init string for options" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger pos arg-name "nested option namespace"\n# @parseArger pos description "positional argument description"\n# @parseArger opt one-of "accepted values for keys" --repeat\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/nested"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_one_of=()\n_arg_complete=()\n_arg_complete_custom=()\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger init string for options:"\n	echo -e "	arg-name: nested option namespace"\n	echo -e "	description: positional argument description"\n	echo -e "	--one-of <one-of>: accepted values for keys, repeatable"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--one-of <value>] [--complete <value>] [--complete-custom <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-"0"}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\n_arg_arg_name="${_arg_arg_name//-/_}"\noutStr="_arg_${_arg_arg_name}=\ndeclare -A _arg_ns_${_arg_arg_name};";\n\nif [ "${#_arg_one_of[@]}" -gt 0 ]; then\n    outStr+="\\n_one_of_arg_${_arg_arg_name//-/_}=(";\n    for i in "${_arg_one_of[@]}"; do\n        outStr+="\\"$i\\" ";\n    done\n    outStr+=");";\nfi\n\necho -e "$outStr";\n',"/parseArger/bin/nested/parser":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger parsing string for options" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger pos arg-name "nested option namespace"\n# @parseArger pos description "positional argument description"\n# @parseArger opt one-of "accepted values for keys" --repeat\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/nested"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_one_of=()\n_arg_complete=()\n_arg_complete_custom=()\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger parsing string for options:"\n	echo -e "	arg-name: nested option namespace"\n	echo -e "	description: positional argument description"\n	echo -e "	--one-of <one-of>: accepted values for keys, repeatable"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--one-of <value>] [--complete <value>] [--complete-custom <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-"0"}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\noptMissingValueError="Missing value for the option: "\noptParser="--${_arg_arg_name})\\n\\t";\n\nsetOptStr="_arg_${_arg_arg_name//-/_}=\\"\\$2\\"";\n\n# TODO\n# if [ "${#_arg_one_of[@]}" -gt 0 ]; then\n# 	setOptStr+="\\n\\tif [[ \\"\\${#_one_of_arg_${_arg_arg_name//-/_}[@]}\\" -gt 0 ]];then [[ \\"\\${_one_of_arg_${_arg_arg_name//-/_}[*]}\\" =~ (^|[[:space:]])\\"\\$_arg_${_arg_arg_name//-/_}\\"(\\$|[[:space:]]) ]] || die \\"$_arg_arg_name must be one of: ${_arg_one_of[*]}\\";fi";\n# fi\n\noptParser+="test \\$# -lt 2 && die \\"${optMissingValueError}\'\\$_key\'\\" 1\n	${setOptStr}\n	shift\n	;;\n";\n\nsetvalstr="=\\"\\${_key##--${_arg_arg_name}=}\\""\noptParser="${optParser}--${_arg_arg_name}=*)\n	_arg_${_arg_arg_name//-/_}${setvalstr}";\n\n# TODO\n# if [ "${#_arg_one_of[@]}" -gt 0 ]; then\n# 	optParser+="\n# 	if [[ \\"\\${#_one_of_arg_${_arg_arg_name//-/_}[@]}\\" -gt 0 ]];then [[ \\"\\${_one_of_arg_${_arg_arg_name//-/_}[*]}\\" =~ (^|[[:space:]])\\"\\$_arg_${_arg_arg_name//-/_}\\"(\\$|[[:space:]]) ]] || die \\"$_arg_arg_name must be one of: ${_arg_one_of[*]}\\";fi";\n# fi\n\noptParser+="\n	;;\n";\n\n# TODO : support some kind of serialization to have array in _arg_ns_*[$_ns_key]\noptParser+="--${_arg_arg_name}-*)\n	_ns_key=\\"\\${_key##--${_arg_arg_name}-}\\";\n	test \\$# -lt 2 && die \\"${optMissingValueError}\'\\$_key-\\$_ns_key\'\\" 1;\n	_arg_ns_${_arg_arg_name//-/_}[\\$_ns_key]=\\"\\$2\\";\n	shift;\n	;;\n";\n\necho -e "${optParser}";\n',"/parseArger/bin/nested/docopt-help":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger docOpt string for option" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger pos arg-name "nested option namespace"\n# @parseArger pos description "positional argument description"\n# @parseArger opt one-of "accepted values for keys" --repeat\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/nested"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_one_of=()\n_arg_complete=()\n_arg_complete_custom=()\n# FLAGS\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger docOpt string for option:"\n	echo -e "	arg-name: nested option namespace"\n	echo -e "	description: positional argument description"\n	echo -e "	--one-of <one-of>: accepted values for keys, repeatable"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--one-of <value>] [--complete <value>] [--complete-custom <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-"0"}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\noptHelp="--${_arg_arg_name}[-<key>] ${_arg_arg_name}";\n\noptHelp="${optHelp}\\t${_arg_description}";\n\necho -e "${optHelp}";\n',"/parseArger/bin/nested/declaration":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger declaration string for options" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt default-value "value" --short d --repeat\n# @parseArger opt short "short form" --short s\n# @parseArger opt alias "option alias" --repeat\n# @parseArger opt empty-value "value for empty option"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag empty "use option as flag"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/nested"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_default_value=()\n_arg_short=\n_arg_alias=()\n_arg_empty_value=\n_arg_complete=()\n_arg_complete_custom=()\n# FLAGS\n_arg_repeat="off"\n_arg_empty="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger declaration string for options:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	-d, --default-value <default-value>: value, repeatable"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--alias <alias>: option alias, repeatable"\n	echo -e "	--empty-value <empty-value>: value for empty option"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--empty|--no-empty: use option as flag"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--default-value <value>] [--short <value>] [--alias <value>] [--empty-value <value>] [--complete <value>] [--complete-custom <value>] [--[no-]repeat] [--[no-]empty]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-"0"}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			-d|--default-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_default_value+=("$2")\n				shift\n				;;\n			--default-value=*)\n				_arg_default_value+=("${_key##--default-value=}")\n				;;\n			-d*)\n				_arg_default_value+=("${_key##-d}")\n				;;\n			\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--empty-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_empty_value="$2"\n				shift\n				;;\n			--empty-value=*)\n				_arg_empty_value="${_key##--empty-value=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--empty)\n				_arg_empty="on"\n				;;\n			--no-empty)\n				_arg_empty="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\trepeat-min: ${_arg_repeat_min}";\n	echo -e "\\trepeat-max: ${_arg_repeat_max}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tdefault-value: ${_arg_default_value[*]}";\n	echo -e "\\tshort: ${_arg_short}";\n	echo -e "\\talias: ${_arg_alias[*]}";\n	echo -e "\\tempty-value: ${_arg_empty_value}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n	echo -e "\\trepeat: ${_arg_repeat}";\n	echo -e "\\tempty: ${_arg_empty}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\noutStr="# @parse"\noutStr+="Arger nested $_arg_arg_name \\"${_arg_description}\\""\n\nif [ "$_arg_short" != "" ]; then\n  outStr+=" --short $_arg_short"\nfi\n\nif [ "${#_arg_default_value[@]}" -gt "0" ]; then\n	if [ "$_arg_repeat" != "off" ]; then\n		for dfv in "${_arg_default_value[@]}"; do\n			outStr+=" --default-value \\"$dfv\\""\n		done\n	else\n		outStr+=" --default-value \\"${_arg_default_value[0]}\\""\n	fi\nfi\n\nif [ "$_arg_repeat" != "off" ] || [ "$_arg_repeat_min" != "1" ] || [ "$_arg_repeat_max" != "" ]; then\n  outStr+=" --repeat"\nfi\nif [ "$_arg_repeat_min" != "1" ]; then\n  outStr+=" --repeat-min  $_arg_repeat_min"\nfi\nif [ "$_arg_repeat_max" != "" ]; then\n  outStr+=" --repeat-max  $_arg_repeat_max"\nfi\n\nif [ "${#_arg_alias[@]}" -gt 0 ]; then\n	for ali in "${_arg_alias[@]}"; do\n 	outStr+=" --alias $ali"\n	done\nfi\n\nif [ "${#_arg_complete[@]}" != "off" ]; then\n	for _c in "${_arg_complete[@]}"; do\n		outStr+=" --complete \\"$_c\\"";\n	done\nfi\n\nif [ "${#_arg_complete_custom[@]}" != "off" ]; then\n	for _c in "${_arg_complete_custom[@]}"; do\n		outStr+=" --complete-custom \\"$_c\\"";\n	done\nfi\n\nif [ "${#_arg_one_of[@]}" -gt 0 ]; then\n	for _oof in "${_arg_one_of[@]}"; do\n		outStr+=" --one-of \\"$_oof\\"";\n	done\nfi\n\necho "$outStr";\n',"/parseArger/bin/opt/help":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger help string for options" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt default-value "value" --short d --repeat\n# @parseArger opt short "short form" --short s\n# @parseArger opt alias "option alias" --repeat\n# @parseArger opt empty-value "value for empty option"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt env "environment variable name"\n# @parseArger opt match "regex match validation"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag empty "use option as flag"\n# @parseArger flag required "make option mandatory" --short q\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/opt"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_default_value=()\n_arg_short=\n_arg_alias=()\n_arg_empty_value=\n_arg_complete=()\n_arg_complete_custom=()\n_arg_env=\n_arg_match=\n# FLAGS\n_arg_repeat="off"\n_arg_empty="off"\n_arg_required="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger help string for options:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	-d, --default-value <default-value>: value, repeatable"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--alias <alias>: option alias, repeatable"\n	echo -e "	--empty-value <empty-value>: value for empty option"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--env <env>: environment variable name"\n	echo -e "	--match <match>: regex match validation"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--empty|--no-empty: use option as flag"\n	echo -e "	-q|--required|--no-required: make option mandatory"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--default-value <value>] [--short <value>] [--alias <value>] [--empty-value <value>] [--complete <value>] [--complete-custom <value>] [--env <value>] [--match <value>] [--[no-]repeat] [--[no-]empty] [--[no-]required]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			-d|--default-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_default_value+=("$2")\n				shift\n				;;\n			--default-value=*)\n				_arg_default_value+=("${_key##--default-value=}")\n				;;\n			-d*)\n				_arg_default_value+=("${_key##-d}")\n				;;\n			\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--empty-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_empty_value="$2"\n				shift\n				;;\n			--empty-value=*)\n				_arg_empty_value="${_key##--empty-value=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--env)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_env="$2"\n				shift\n				;;\n			--env=*)\n				_arg_env="${_key##--env=}"\n				;;\n			\n			--match)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_match="$2"\n				shift\n				;;\n			--match=*)\n				_arg_match="${_key##--match=}"\n				;;\n			\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--empty)\n				_arg_empty="on"\n				;;\n			--no-empty)\n				_arg_empty="off"\n				;;\n			-q|--required)\n				_arg_required="on"\n				;;\n			--no-required)\n				_arg_required="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			--quiet)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level - 1))";\n				else\n					_verbose_level="-$2";\n					shift;\n				fi\n				;;\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}"\n		local _regex="${!_match_var}"\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	arg-name: ${_arg_arg_name}";\n	echo -e "	description: ${_arg_description}";\n	echo -e "	repeat-min: ${_arg_repeat_min}";\n	echo -e "	repeat-max: ${_arg_repeat_max}";\n	echo -e "	one-of: ${_arg_one_of[*]}";\n	echo -e "	default-value: ${_arg_default_value[*]}";\n	echo -e "	short: ${_arg_short}";\n	echo -e "	alias: ${_arg_alias[*]}";\n	echo -e "	empty-value: ${_arg_empty_value}";\n	echo -e "	complete: ${_arg_complete[*]}";\n	echo -e "	complete-custom: ${_arg_complete_custom[*]}";\n	echo -e "	env: ${_arg_env}";\n	echo -e "	match: ${_arg_match}";\n	echo -e "	repeat: ${_arg_repeat}";\n	echo -e "	empty: ${_arg_empty}";\n	echo -e "	required: ${_arg_required}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\noptHelp="--${_arg_arg_name}";\n\nif [[ "${#_arg_alias[@]}" -gt 0 ]]; then\n	for ali in "${_arg_alias[@]}"; do\n		optHelp+="|--${ali}"\n	done\nfi\n\noptHelp+=" <${_arg_arg_name}>: ${_arg_description}";\n\nif [ "$_arg_short" != "" ]; then\n  optHelp="-${_arg_short}, ${optHelp}";\nfi\n\nif [ "$_arg_repeat_min" -gt "1" ] || [ "$_arg_repeat_max" != "" ]; then\n	_arg_repeat="on";\nfi\n\nif [ "$_arg_repeat" != "off" ]; then\n	optHelp+=", repeatable";\nfi\n\nif [ "$_arg_empty" != "off" ] || [ "$_arg_empty_value" != "" ]; then\n	optHelp+=", can be empty";\nfi\n\nif [ "${#_arg_default_value[@]}" -gt 0 ]; then\n	optHelp+=" [default: \'";\n	if [ "$_arg_repeat" != "off" ]; then\n		optHelp+="(";\n	fi\n	optHelp+=" ${_arg_default_value[*]} ";\n	if [ "$_arg_repeat" != "off" ]; then\n		optHelp+=")";\n	fi\n	optHelp+="\']";\nfi\n\nif [ "$_arg_empty_value" != "" ]; then\n	optHelp+=" [empty value: \'${_arg_empty_value}\']";\nfi\n\nif [ "${#_arg_one_of[@]}" -gt 0 ]; then\n	optHelp+=" [one of";\n	for _oof in "${_arg_one_of[@]}"; do\n		optHelp+=" \'$_oof\'";\n	done\n	optHelp+="]";\nfi\n\nif [ "$_arg_required" == "on" ]; then\n	optHelp+=" (REQUIRED)";\nfi\n\necho -e "\\techo -e \\"\\t${optHelp}\\"";\n',"/parseArger/bin/opt/more-completely":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger declaration string for options" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt default-value "value" --short d --repeat\n# @parseArger opt short "short form" --short s\n# @parseArger opt alias "option alias" --repeat\n# @parseArger opt empty-value "value for empty option"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt prefix "completely prefix"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag empty "use option as flag"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/opt"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_default_value=()\n_arg_short=\n_arg_alias=()\n_arg_empty_value=\n_arg_complete=()\n_arg_complete_custom=()\n_arg_prefix=\n# FLAGS\n_arg_repeat="off"\n_arg_empty="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger declaration string for options:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	-d, --default-value <default-value>: value, repeatable"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--alias <alias>: option alias, repeatable"\n	echo -e "	--empty-value <empty-value>: value for empty option"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--prefix <prefix>: completely prefix"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--empty|--no-empty: use option as flag"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--default-value <value>] [--short <value>] [--alias <value>] [--empty-value <value>] [--complete <value>] [--complete-custom <value>] [--prefix <value>] [--[no-]repeat] [--[no-]empty]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			-d|--default-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_default_value+=("$2")\n				shift\n				;;\n			--default-value=*)\n				_arg_default_value+=("${_key##--default-value=}")\n				;;\n			-d*)\n				_arg_default_value+=("${_key##-d}")\n				;;\n			\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--empty-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_empty_value="$2"\n				shift\n				;;\n			--empty-value=*)\n				_arg_empty_value="${_key##--empty-value=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--prefix)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_prefix="$2"\n				shift\n				;;\n			--prefix=*)\n				_arg_prefix="${_key##--prefix=}"\n				;;\n			\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--empty)\n				_arg_empty="on"\n				;;\n			--no-empty)\n				_arg_empty="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\trepeat-min: ${_arg_repeat_min}";\n	echo -e "\\trepeat-max: ${_arg_repeat_max}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tdefault-value: ${_arg_default_value[*]}";\n	echo -e "\\tshort: ${_arg_short}";\n	echo -e "\\talias: ${_arg_alias[*]}";\n	echo -e "\\tempty-value: ${_arg_empty_value}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n	echo -e "\\tprefix: ${_arg_prefix}";\n	echo -e "\\trepeat: ${_arg_repeat}";\n	echo -e "\\tempty: ${_arg_empty}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\n\nif [ "${#_arg_complete[@]}" -gt 0 ] || [ "${#_arg_complete_custom[@]}" -gt 0 ]; then\n	echo "${_arg_prefix}*--${_arg_arg_name}:";\n\n	_cpstr="";\n	if [ "${#_arg_complete[@]}" -gt 0 ]; then\n		for _cmpl in "${_arg_complete[@]}"; do\n			_cpstr+="- <${_cmpl}>\\n";\n		done\n	fi\n	if [ "${#_arg_complete_custom[@]}" -gt 0 ]; then\n		for _cmpl in "${_arg_complete_custom[@]}"; do\n			_cpstr+="- \\$(${_cmpl})\\n";\n		done\n	fi\n	echo -e "${_cpstr}";\n\n	if [ "${#_arg_alias[@]}" -gt 0 ]; then\n		for ali in "${_arg_alias[@]}"; do\n			echo "${_arg_prefix}*--${ali}:";\n			echo -e "${_cpstr}";\n		done\n	fi\nfi\n',"/parseArger/bin/opt/html":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "option to html form" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt default-value "value" --short d --repeat\n# @parseArger opt short "short form" --short s\n# @parseArger opt alias "option alias" --repeat\n# @parseArger opt empty-value "value for empty option"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt input-container-class "input container class" --default-value "form-group"\n# @parseArger opt input-class "input class" --default-value "form-control"\n# @parseArger opt label-class "label class" --default-value "form-label"\n# @parseArger opt select-class "select class" --default-value "form-select"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag empty "use option as flag"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/opt"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_default_value=()\n_arg_short=\n_arg_alias=()\n_arg_empty_value=\n_arg_complete=()\n_arg_complete_custom=()\n_arg_input_container_class="form-group"\n_arg_input_class="form-control"\n_arg_label_class="form-label"\n_arg_select_class="form-select"\n# FLAGS\n_arg_repeat="off"\n_arg_empty="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "option to html form:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	-d, --default-value <default-value>: value, repeatable"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--alias <alias>: option alias, repeatable"\n	echo -e "	--empty-value <empty-value>: value for empty option"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--input-container-class <input-container-class>: input container class [default: \' form-group \']"\n	echo -e "	--input-class <input-class>: input class [default: \' form-control \']"\n	echo -e "	--label-class <label-class>: label class [default: \' form-label \']"\n	echo -e "	--select-class <select-class>: select class [default: \' form-select \']"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--empty|--no-empty: use option as flag"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--default-value <value>] [--short <value>] [--alias <value>] [--empty-value <value>] [--complete <value>] [--complete-custom <value>] [--input-container-class <value>] [--input-class <value>] [--label-class <value>] [--select-class <value>] [--[no-]repeat] [--[no-]empty]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			-d|--default-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_default_value+=("$2")\n				shift\n				;;\n			--default-value=*)\n				_arg_default_value+=("${_key##--default-value=}")\n				;;\n			-d*)\n				_arg_default_value+=("${_key##-d}")\n				;;\n			\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--empty-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_empty_value="$2"\n				shift\n				;;\n			--empty-value=*)\n				_arg_empty_value="${_key##--empty-value=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--input-container-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_input_container_class="$2"\n				shift\n				;;\n			--input-container-class=*)\n				_arg_input_container_class="${_key##--input-container-class=}"\n				;;\n			\n			--input-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_input_class="$2"\n				shift\n				;;\n			--input-class=*)\n				_arg_input_class="${_key##--input-class=}"\n				;;\n			\n			--label-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_label_class="$2"\n				shift\n				;;\n			--label-class=*)\n				_arg_label_class="${_key##--label-class=}"\n				;;\n			\n			--select-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_select_class="$2"\n				shift\n				;;\n			--select-class=*)\n				_arg_select_class="${_key##--select-class=}"\n				;;\n			\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--empty)\n				_arg_empty="on"\n				;;\n			--no-empty)\n				_arg_empty="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\trepeat-min: ${_arg_repeat_min}";\n	echo -e "\\trepeat-max: ${_arg_repeat_max}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tdefault-value: ${_arg_default_value[*]}";\n	echo -e "\\tshort: ${_arg_short}";\n	echo -e "\\talias: ${_arg_alias[*]}";\n	echo -e "\\tempty-value: ${_arg_empty_value}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n	echo -e "\\tinput-container-class: ${_arg_input_container_class}";\n	echo -e "\\tinput-class: ${_arg_input_class}";\n	echo -e "\\tlabel-class: ${_arg_label_class}";\n	echo -e "\\tselect-class: ${_arg_select_class}";\n	echo -e "\\trepeat: ${_arg_repeat}";\n	echo -e "\\tempty: ${_arg_empty}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nif [ "$_arg_repeat_min" -gt "1" ] || [ "$_arg_repeat_max" != "" ]; then\n	_arg_repeat="on";\nfi\n\ninptCmn="pa-type=\\"opt\\" name=\\"${_arg_arg_name}\\" id=\\"${_arg_arg_name}\\"";\n\nif [ "${#_arg_one_of[@]}" -gt 0 ]; then\n	inpuStr="<select class=\\" class=\\"${_arg_select_class}\\"\\" ${inptCmn}>\\n";\n	for oof in "${_arg_one_of[@]}"; do\n		inpuStr+="\\n\\t\\t<option value=\\"${oof}\\"";\n		if [ "${#_arg_default_value[@]}" -gt 0 ] && [ "${_arg_default_value[0]}" == "$oof" ]; then\n			inpuStr+=" selected";\n		fi\n		inpuStr+=">${oof}</option>";\n	done\n	inpuStr+="\\n\\t</select>";\nelif [ "${_arg_repeat}" == "on" ]; then\n	inpuStr="<textarea ${inptCmn} type=\\"text\\" pa-repeat class=\\"${_arg_input_class}\\">";\n	if [ "${#_arg_default_value[@]}" -gt 0 ]; then\n		inpuStr+="${_arg_default_value[0]}";\n	fi\n	inpuStr+="</textarea>";\nelse\n	inpuStr="<input class=\\"${_arg_input_class}\\" ${inptCmn} type=\\"text\\"";\n	if [ "${#_arg_default_value[@]}" -gt 0 ]; then\n		inpuStr+=" value=\\"${_arg_default_value[0]}\\"";\n	fi\n	inpuStr+=" />";\nfi\n\necho -e "<div class=\\"${_arg_input_container_class}\\">\n	<label for=\\"${_arg_arg_name}\\" class=\\"${_arg_label_class}\\">${_arg_arg_name}</label>\n	<span class=\\"input-help\\">${_arg_description}</span>\n	${inpuStr}\n</div>";\n',"/parseArger/bin/opt/completely":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger declaration string for options" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt default-value "value" --short d --repeat\n# @parseArger opt short "short form" --short s\n# @parseArger opt alias "option alias" --repeat\n# @parseArger opt empty-value "value for empty option"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag empty "use option as flag"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/opt"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_default_value=()\n_arg_short=\n_arg_alias=()\n_arg_empty_value=\n_arg_complete=()\n_arg_complete_custom=()\n# FLAGS\n_arg_repeat="off"\n_arg_empty="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger declaration string for options:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	-d, --default-value <default-value>: value, repeatable"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--alias <alias>: option alias, repeatable"\n	echo -e "	--empty-value <empty-value>: value for empty option"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--empty|--no-empty: use option as flag"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--default-value <value>] [--short <value>] [--alias <value>] [--empty-value <value>] [--complete <value>] [--complete-custom <value>] [--[no-]repeat] [--[no-]empty]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			-d|--default-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_default_value+=("$2")\n				shift\n				;;\n			--default-value=*)\n				_arg_default_value+=("${_key##--default-value=}")\n				;;\n			-d*)\n				_arg_default_value+=("${_key##-d}")\n				;;\n			\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--empty-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_empty_value="$2"\n				shift\n				;;\n			--empty-value=*)\n				_arg_empty_value="${_key##--empty-value=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--empty)\n				_arg_empty="on"\n				;;\n			--no-empty)\n				_arg_empty="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\trepeat-min: ${_arg_repeat_min}";\n	echo -e "\\trepeat-max: ${_arg_repeat_max}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tdefault-value: ${_arg_default_value[*]}";\n	echo -e "\\tshort: ${_arg_short}";\n	echo -e "\\talias: ${_arg_alias[*]}";\n	echo -e "\\tempty-value: ${_arg_empty_value}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n	echo -e "\\trepeat: ${_arg_repeat}";\n	echo -e "\\tempty: ${_arg_empty}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\n\necho "- --${_arg_arg_name}";\n\nfor ali in "${_arg_alias[@]}"; do\n	echo "- --${ali}";\ndone\n\nif [ "$_arg_short" != "" ]; then\n	echo "- -${_arg_short}";\nfi\n',"/parseArger/bin/opt/init":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger init string for options" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n# @parseArger-leftovers leftovers --parse\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt default-value "value" --short d --repeat\n# @parseArger opt short "short form" --short s\n# @parseArger opt alias "option alias" --repeat\n# @parseArger opt empty-value "value for empty option"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt env "environment variable name"\n# @parseArger opt match "regex match validation"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag empty "use option as flag"\n# @parseArger flag required "make option mandatory" --short q\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/opt"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_default_value=()\n_arg_short=\n_arg_alias=()\n_arg_empty_value=\n_arg_complete=()\n_arg_complete_custom=()\n_arg_env=\n_arg_match=\n# FLAGS\n_arg_repeat="off"\n_arg_empty="off"\n_arg_required="off"\n# NESTED\n# LEFTOVERS\n_arg_leftovers=()\n# LEFTOVERS\n	declare -A _arg_parsed_leftovers\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger init string for options:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	-d, --default-value <default-value>: value, repeatable"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--alias <alias>: option alias, repeatable"\n	echo -e "	--empty-value <empty-value>: value for empty option"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--env <env>: environment variable name"\n	echo -e "	--match <match>: regex match validation"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--empty|--no-empty: use option as flag"\n	echo -e "	-q|--required|--no-required: make option mandatory"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--default-value <value>] [--short <value>] [--alias <value>] [--empty-value <value>] [--complete <value>] [--complete-custom <value>] [--env <value>] [--match <value>] [--[no-]repeat] [--[no-]empty] [--[no-]required]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			-d|--default-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_default_value+=("$2")\n				shift\n				;;\n			--default-value=*)\n				_arg_default_value+=("${_key##--default-value=}")\n				;;\n			-d*)\n				_arg_default_value+=("${_key##-d}")\n				;;\n			\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--empty-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_empty_value="$2"\n				shift\n				;;\n			--empty-value=*)\n				_arg_empty_value="${_key##--empty-value=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--env)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_env="$2"\n				shift\n				;;\n			--env=*)\n				_arg_env="${_key##--env=}"\n				;;\n			\n			--match)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_match="$2"\n				shift\n				;;\n			--match=*)\n				_arg_match="${_key##--match=}"\n				;;\n			\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--empty)\n				_arg_empty="on"\n				;;\n			--no-empty)\n				_arg_empty="off"\n				;;\n			-q|--required)\n				_arg_required="on"\n				;;\n			--no-required)\n				_arg_required="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			--quiet)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level - 1))";\n				else\n					_verbose_level="-$2";\n					shift;\n				fi\n				;;\n			# parsing leftovers\n			--*)\n				if [[ "$2" =~ ^--([^=]+)(=(.*))?$ ]] || [ "$2" = "" ]; then\n					_arg_parsed_leftovers["${1#--}"]="on"\n				elif [[ "$1" =~ ^--([^=]+)=(.*)$ ]]; then\n					_arg_parsed_leftovers["${BASH_REMATCH[1]}"]="${BASH_REMATCH[2]}";\n				else\n					_arg_parsed_leftovers["${1#--}"]="${2}";\n					shift;\n				fi\n				;;\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	_leftovers_count=$((${#_positionals[@]} - 2))\n	for ((ii = 0; ii < _leftovers_count; ii++));do\n		_positional_names="$_positional_names _arg_leftovers[$((ii + 0))]";\n	done\n\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		if ! [[ "$_positional_name" =~ "_arg_leftovers" ]];then\n			eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n			eval "local _regex=\\$(eval \\"echo \\\\\\"\\\\\\$_match\\${_positional_name}\\\\\\"\\");if [ \\"\\$_regex\\" != \\"\\" ];then [[ \\"\\${1}\\" =~ \\$_regex ]] || die \\\\\\"\\\\\\${_positional_name} does not match pattern: \\$_regex\\\\\\";fi";\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	arg-name: ${_arg_arg_name}";\n	echo -e "	description: ${_arg_description}";\n	echo -e "	repeat-min: ${_arg_repeat_min}";\n	echo -e "	repeat-max: ${_arg_repeat_max}";\n	echo -e "	one-of: ${_arg_one_of[*]}";\n	echo -e "	default-value: ${_arg_default_value[*]}";\n	echo -e "	short: ${_arg_short}";\n	echo -e "	alias: ${_arg_alias[*]}";\n	echo -e "	empty-value: ${_arg_empty_value}";\n	echo -e "	complete: ${_arg_complete[*]}";\n	echo -e "	complete-custom: ${_arg_complete_custom[*]}";\n	echo -e "	env: ${_arg_env}";\n	echo -e "	match: ${_arg_match}";\n	echo -e "	repeat: ${_arg_repeat}";\n	echo -e "	empty: ${_arg_empty}";\n	echo -e "	required: ${_arg_required}";\n	echo -e "	leftovers: ${_arg_leftovers[*]}";\n\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\n_arg_arg_name="${_arg_arg_name//-/_}"\noutStr="_arg_${_arg_arg_name}=";\n\n# Handle --env\ndefault_val_str=""\nif [ "${#_arg_default_value[@]}" -gt 0 ]; then\n    if [ "$_arg_repeat" == "off" ]; then\n        default_val_str="${_arg_default_value[*]}";\n    else\n        # For arrays with default values, we just init the array.\n        # Env vars for arrays are tricky, let\'s skip env for arrays for now or handle simple cases.\n        # If env is set, we might want to split it? Too complex for now.\n        :\n    fi\nfi\n\nif [ "$_arg_env" != "" ] && [ "$_arg_repeat" == "off" ]; then\n    # if env var is set, use it, else use default\n    if [ "$default_val_str" != "" ]; then\n        outStr+="\\"\\${${_arg_env}:-$default_val_str}\\"";\n    else\n        outStr+="\\"\\${${_arg_env}}\\"";\n    fi\nelse\n    # Existing logic\n    if [ "$_arg_repeat" != "off" ]; then\n        outStr+="(";\n    fi\n\n    if [ "${#_arg_default_value[@]}" -gt 0 ]; then\n        if [ "$_arg_repeat" == "off" ]; then\n            outStr+="\\"${_arg_default_value[*]}\\"";\n        else\n            for idfv in "${_arg_default_value[@]}"; do\n                outStr+="\\"$idfv\\" ";\n            done\n        fi\n    fi\n\n    if [ "$_arg_repeat" != "off" ]; then\n        outStr+=")";\n    fi\nfi\n\nif [ "${#_arg_one_of[@]}" -gt 0 ]; then\n    outStr+="\\n_one_of_arg_${_arg_arg_name//-/_}=(";\n    for i in "${_arg_one_of[@]}"; do\n        outStr+="\\"$i\\" ";\n    done\n    outStr+=");";\nfi\n\nif [ "$_arg_required" == "on" ]; then\n    outStr+="\\n_required_arg_${_arg_arg_name//-/_}=\\"on\\";";\nfi\n\necho -e "$outStr";',"/parseArger/bin/opt/parser":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger parsing string for options" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt default-value "value" --short d --repeat\n# @parseArger opt short "short form" --short s\n# @parseArger opt alias "option alias" --repeat\n# @parseArger opt empty-value "value for empty option"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt env "environment variable name"\n# @parseArger opt match "regex match validation"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag empty "use option as flag"\n# @parseArger flag required "make option mandatory" --short q\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/opt"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_default_value=()\n_arg_short=\n_arg_alias=()\n_arg_empty_value=\n_arg_complete=()\n_arg_complete_custom=()\n_arg_env=\n_arg_match=\n# FLAGS\n_arg_repeat="off"\n_arg_empty="off"\n_arg_required="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger parsing string for options:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	-d, --default-value <default-value>: value, repeatable"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--alias <alias>: option alias, repeatable"\n	echo -e "	--empty-value <empty-value>: value for empty option"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--env <env>: environment variable name"\n	echo -e "	--match <match>: regex match validation"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--empty|--no-empty: use option as flag"\n	echo -e "	-q|--required|--no-required: make option mandatory"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--default-value <value>] [--short <value>] [--alias <value>] [--empty-value <value>] [--complete <value>] [--complete-custom <value>] [--env <value>] [--match <value>] [--[no-]repeat] [--[no-]empty] [--[no-]required]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			-d|--default-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_default_value+=("$2")\n				shift\n				;;\n			--default-value=*)\n				_arg_default_value+=("${_key##--default-value=}")\n				;;\n			-d*)\n				_arg_default_value+=("${_key##-d}")\n				;;\n			\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--empty-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_empty_value="$2"\n				shift\n				;;\n			--empty-value=*)\n				_arg_empty_value="${_key##--empty-value=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--env)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_env="$2"\n				shift\n				;;\n			--env=*)\n				_arg_env="${_key##--env=}"\n				;;\n			\n			--match)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_match="$2"\n				shift\n				;;\n			--match=*)\n				_arg_match="${_key##--match=}"\n				;;\n			\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--empty)\n				_arg_empty="on"\n				;;\n			--no-empty)\n				_arg_empty="off"\n				;;\n			-q|--required)\n				_arg_required="on"\n				;;\n			--no-required)\n				_arg_required="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			--quiet)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level - 1))";\n				else\n					_verbose_level="-$2";\n					shift;\n				fi\n				;;\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	arg-name: ${_arg_arg_name}";\n	echo -e "	description: ${_arg_description}";\n	echo -e "	repeat-min: ${_arg_repeat_min}";\n	echo -e "	repeat-max: ${_arg_repeat_max}";\n	echo -e "	one-of: ${_arg_one_of[*]}";\n	echo -e "	default-value: ${_arg_default_value[*]}";\n	echo -e "	short: ${_arg_short}";\n	echo -e "	alias: ${_arg_alias[*]}";\n	echo -e "	empty-value: ${_arg_empty_value}";\n	echo -e "	complete: ${_arg_complete[*]}";\n	echo -e "	complete-custom: ${_arg_complete_custom[*]}";\n	echo -e "	env: ${_arg_env}";\n	echo -e "	match: ${_arg_match}";\n	echo -e "	repeat: ${_arg_repeat}";\n	echo -e "	empty: ${_arg_empty}";\n	echo -e "	required: ${_arg_required}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\noptMissingValueError="Missing value for the option: "\noptParser="--${_arg_arg_name})";\n\nif [[ "${#_arg_alias[@]}" -gt 0 ]]; then\n	for ali in "${_arg_alias[@]}"; do\n		optParser="--${ali}|${optParser}"\n	done\nfi\n\nif [ "$_arg_short" != "" ]; then\n  optParser="-${_arg_short}|${optParser}";\nfi\n\noptParser="${optParser}\\n\\t";\n\nsetOptStr="_arg_${_arg_arg_name//-/_}";\nif [ "$_arg_repeat" == "on" ]; then\n	setOptStr="${setOptStr}+=(\\"\\$2\\")";\nelse\n	setOptStr="${setOptStr}=\\"\\$2\\"";\nfi\n\nif [ "$_arg_match" != "" ]; then\n    setOptStr="local _regex=\'${_arg_match}\';if [[ -n \\"\\$_regex\\" ]] && [[ ! \\"\\$2\\" =~ \\$_regex ]]; then die \\"${_arg_arg_name} does not match pattern: \\$_regex\\"; fi; ${setOptStr}"\nfi\n\nif [ "${#_arg_one_of[@]}" -gt 0 ]; then\n	setOptStr+="\\n\\tif [[ \\"\\${#_one_of_arg_${_arg_arg_name//-/_}[@]}\\" -gt 0 ]];then [[ \\"\\${_one_of_arg_${_arg_arg_name//-/_}[*]}\\" =~ (^|[[:space:]])\\"\\$_arg_${_arg_arg_name//-/_}\\"(\\$|[[:space:]]) ]] || die \\"$_arg_arg_name must be one of: ${_arg_one_of[*]}\\";fi";\nfi\n\nif [ "$_arg_empty" == "on" ] || [ "$_arg_empty_value" != "" ]; then\n  if [ "$_arg_empty_value" == "" ]; then\n    _arg_empty_value="on"\n  fi\n	# TODO: not working if not last element of command\n  optParser="${optParser}if [ \\$# -lt 2 ];then\n		_arg_${_arg_arg_name//-/_}=\\"${_arg_empty_value}\\";\n	else\n		${setOptStr};\n	fi\n	;;\n";\nelse\n  optParser="${optParser}test \\$# -lt 2 && die \\"${optMissingValueError}\'\\$_key\'\\" 1\n	${setOptStr}\n	shift\n	;;\n";\nfi\n\nif [ "$_arg_repeat_min" -gt "1" ] || [ "$_arg_repeat_max" != "" ]; then\n	_arg_repeat="on";\nfi\n\nif [ "$_arg_repeat" == "on" ]; then\n	setvalstr="+=(\\"\\${_key##--${_arg_arg_name}=}\\")"\nelse\n	setvalstr="=\\"\\${_key##--${_arg_arg_name}=}\\""\nfi\noptParser="${optParser}--${_arg_arg_name}=*)"\nif [ "$_arg_match" != "" ]; then\n    optParser+="\n    local _regex=\'${_arg_match}\';if [[ -n \\"\\$_regex\\" ]] && [[ ! \\"\\${_key##--${_arg_arg_name}=}\\" =~ \\$_regex ]]; then die \\"${_arg_arg_name} does not match pattern: \\$_regex\\"; fi;"\nfi\noptParser+="\n	_arg_${_arg_arg_name//-/_}${setvalstr}";\n\nif [ "${#_arg_one_of[@]}" -gt 0 ]; then\n	optParser+="\n	if [[ \\"\\${#_one_of_arg_${_arg_arg_name//-/_}[@]}\\" -gt 0 ]];then [[ \\"\\${_one_of_arg_${_arg_arg_name//-/_}[*]}\\" =~ (^|[[:space:]])\\"\\$_arg_${_arg_arg_name//-/_}\\"(\\$|[[:space:]]) ]] || die \\"$_arg_arg_name must be one of: ${_arg_one_of[*]}\\";fi";\nfi\n\noptParser+="\n	;;\n";\n\nif [[ "${#_arg_alias[@]}" -gt 0 ]]; then\n	for ali in "${_arg_alias[@]}"; do\n		if [ "$_arg_repeat" == "on" ]; then\n			setvalstr="+=(\\"\\${_key##--${ali}=}\\")"\n		else\n			setvalstr="=\\"\\${_key##--${ali}=}\\""\n		fi\n		optParser="${optParser}--${ali}=*)"\n        if [ "$_arg_match" != "" ]; then\n            optParser+="\n            local _regex=\'${_arg_match}\';if [[ -n \\"\\$_regex\\" ]] && [[ ! \\"\\${_key##--${ali}=}\\" =~ \\$_regex ]]; then die \\"${_arg_arg_name} does not match pattern: \\$_regex\\"; fi;"\n        fi\n        optParser+="\n	_arg_${_arg_arg_name//-/_}${setvalstr}";\n\n		if [ "${#_arg_one_of[@]}" -gt 0 ]; then\n			optParser+="\n	if [[ \\"\\${#_one_of_arg_${_arg_arg_name//-/_}[@]}\\" -gt 0 ]];then [[ \\"\\${_one_of_arg_${_arg_arg_name//-/_}[*]}\\" =~ (^|[[:space:]])\\"\\$_arg_${_arg_arg_name//-/_}\\"(\\$|[[:space:]]) ]] || die \\"$_arg_arg_name must be one of: ${_arg_one_of[*]}\\";fi";\n		fi\n\n		optParser+="\n	;;\n";\n	done\nfi\n\nif [ "$_arg_short" != "" ]; then\n	if [ "$_arg_repeat" == "on" ]; then\n		setvalsstr="+=(\\"\\${_key##-${_arg_short}}\\")"\n	else\n		setvalsstr="=\\"\\${_key##-${_arg_short}}\\""\n	fi\n  optParser="${optParser}-${_arg_short}*)"\n  if [ "$_arg_match" != "" ]; then\n      optParser+="\n      local _regex=\'${_arg_match}\';if [[ -n \\"\\$_regex\\" ]] && [[ ! \\"\\${_key##-${_arg_short}}\\" =~ \\$_regex ]]; then die \\"${_arg_arg_name} does not match pattern: \\$_regex\\"; fi;"\n  fi\n  optParser+="\n	_arg_${_arg_arg_name//-/_}${setvalsstr}";\nif [ "${#_arg_one_of[@]}" -gt 0 ]; then\n	optParser+="\n	if [[ \\"\\${#_one_of_arg_${_arg_arg_name//-/_}[@]}\\" -gt 0 ]];then [[ \\"\\${_one_of_arg_${_arg_arg_name//-/_}[*]}\\" =~ (^|[[:space:]])\\"\\$_arg_${_arg_arg_name//-/_}\\"(\\$|[[:space:]]) ]] || die \\"$_arg_arg_name must be one of: ${_arg_one_of[*]}\\";fi";\nfi\n\noptParser+="\n	;;\n";\nfi\n\necho -e "${optParser}";\n',"/parseArger/bin/opt/is-repeating":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "is the option repeating" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt default-value "value" --short d --repeat\n# @parseArger opt short "short form" --short s\n# @parseArger opt alias "option alias" --repeat\n# @parseArger opt empty-value "value for empty option"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt env "environment variable name"\n# @parseArger opt match "regex match validation"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag empty "use option as flag"\n# @parseArger flag required "make option mandatory" --short q\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/opt"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_default_value=()\n_arg_short=\n_arg_alias=()\n_arg_empty_value=\n_arg_complete=()\n_arg_complete_custom=()\n_arg_env=\n_arg_match=\n# FLAGS\n_arg_repeat="off"\n_arg_empty="off"\n_arg_required="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "is the option repeating:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	-d, --default-value <default-value>: value, repeatable"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--alias <alias>: option alias, repeatable"\n	echo -e "	--empty-value <empty-value>: value for empty option"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--env <env>: environment variable name"\n	echo -e "	--match <match>: regex match validation"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--empty|--no-empty: use option as flag"\n	echo -e "	-q|--required|--no-required: make option mandatory"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--default-value <value>] [--short <value>] [--alias <value>] [--empty-value <value>] [--complete <value>] [--complete-custom <value>] [--env <value>] [--match <value>] [--[no-]repeat] [--[no-]empty] [--[no-]required]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			-d|--default-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_default_value+=("$2")\n				shift\n				;;\n			--default-value=*)\n				_arg_default_value+=("${_key##--default-value=}")\n				;;\n			-d*)\n				_arg_default_value+=("${_key##-d}")\n				;;\n			\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--empty-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_empty_value="$2"\n				shift\n				;;\n			--empty-value=*)\n				_arg_empty_value="${_key##--empty-value=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--env)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_env="$2"\n				shift\n				;;\n			--env=*)\n				_arg_env="${_key##--env=}"\n				;;\n			\n			--match)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_match="$2"\n				shift\n				;;\n			--match=*)\n				_arg_match="${_key##--match=}"\n				;;\n			\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--empty)\n				_arg_empty="on"\n				;;\n			--no-empty)\n				_arg_empty="off"\n				;;\n			-q|--required)\n				_arg_required="on"\n				;;\n			--no-required)\n				_arg_required="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			--quiet)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level - 1))";\n				else\n					_verbose_level="-$2";\n					shift;\n				fi\n				;;\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}"\n		local _regex="${!_match_var}"\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	arg-name: ${_arg_arg_name}";\n	echo -e "	description: ${_arg_description}";\n	echo -e "	repeat-min: ${_arg_repeat_min}";\n	echo -e "	repeat-max: ${_arg_repeat_max}";\n	echo -e "	one-of: ${_arg_one_of[*]}";\n	echo -e "	default-value: ${_arg_default_value[*]}";\n	echo -e "	short: ${_arg_short}";\n	echo -e "	alias: ${_arg_alias[*]}";\n	echo -e "	empty-value: ${_arg_empty_value}";\n	echo -e "	complete: ${_arg_complete[*]}";\n	echo -e "	complete-custom: ${_arg_complete_custom[*]}";\n	echo -e "	env: ${_arg_env}";\n	echo -e "	match: ${_arg_match}";\n	echo -e "	repeat: ${_arg_repeat}";\n	echo -e "	empty: ${_arg_empty}";\n	echo -e "	required: ${_arg_required}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nif [ "$_arg_repeat_min" -gt "1" ] || [ "$_arg_repeat_max" != "" ]; then\n	_arg_repeat="on";\nfi\n\nif [ "$_arg_repeat" != "off" ]; then\n  echo "0";\n	exit 0;\nfi\n\necho "1";\nexit 1;\n',"/parseArger/bin/opt/check-required":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "check if option is required" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt default-value "value" --short d --repeat\n# @parseArger opt short "short form" --short s\n# @parseArger opt alias "option alias" --repeat\n# @parseArger opt empty-value "value for empty option"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt env "environment variable name"\n# @parseArger opt match "regex match validation"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag empty "use option as flag"\n# @parseArger flag required "make option mandatory" --short q\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/opt"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_default_value=()\n_arg_short=\n_arg_alias=()\n_arg_empty_value=\n_arg_complete=()\n_arg_complete_custom=()\n_arg_env=\n_arg_match=\n# FLAGS\n_arg_repeat="off"\n_arg_empty="off"\n_arg_required="off"\n# NESTED\n# LEFTOVERS\n_arg_leftovers=()\n# LEFTOVERS\n	declare -A _arg_parsed_leftovers\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "check if option is required:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	-d, --default-value <default-value>: value, repeatable"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--alias <alias>: option alias, repeatable"\n	echo -e "	--empty-value <empty-value>: value for empty option"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--env <env>: environment variable name"\n	echo -e "	--match <match>: regex match validation"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--empty|--no-empty: use option as flag"\n	echo -e "	-q|--required|--no-required: make option mandatory"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--default-value <value>] [--short <value>] [--alias <value>] [--empty-value <value>] [--complete <value>] [--complete-custom <value>] [--env <value>] [--match <value>] [--[no-]repeat] [--[no-]empty] [--[no-]required]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			-d|--default-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_default_value+=("$2")\n				shift\n				;;\n			--default-value=*)\n				_arg_default_value+=("${_key##--default-value=}")\n				;;\n			-d*)\n				_arg_default_value+=("${_key##-d}")\n				;;\n			\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--empty-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_empty_value="$2"\n				shift\n				;;\n			--empty-value=*)\n				_arg_empty_value="${_key##--empty-value=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--env)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_env="$2"\n				shift\n				;;\n			--env=*)\n				_arg_env="${_key##--env=}"\n				;;\n			\n			--match)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_match="$2"\n				shift\n				;;\n			--match=*)\n				_arg_match="${_key##--match=}"\n				;;\n			\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--empty)\n				_arg_empty="on"\n				;;\n			--no-empty)\n				_arg_empty="off"\n				;;\n			-q|--required)\n				_arg_required="on"\n				;;\n			--no-required)\n				_arg_required="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	_leftovers_count=$((${#_positionals[@]} - 2))\n	for ((ii = 0; ii < _leftovers_count; ii++));do\n		_positional_names="$_positional_names _arg_leftovers[$((ii + 0))]";\n	done\n\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		if ! [[ "$_positional_name" =~ "_arg_leftovers" ]];then\n			eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n			local _match_var="_match${_positional_name}";\n			local _regex="${!_match_var}";\n			if [ -n "$_regex" ]; then\n				[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n			fi\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	arg-name: ${_arg_arg_name}";\n	echo -e "	description: ${_arg_description}";\n	echo -e "	repeat-min: ${_arg_repeat_min}";\n	echo -e "	repeat-max: ${_arg_repeat_max}";\n	echo -e "	one-of: ${_arg_one_of[*]}";\n	echo -e "	default-value: ${_arg_default_value[*]}";\n	echo -e "	short: ${_arg_short}";\n	echo -e "	alias: ${_arg_alias[*]}";\n	echo -e "	empty-value: ${_arg_empty_value}";\n	echo -e "	complete: ${_arg_complete[*]}";\n	echo -e "	complete-custom: ${_arg_complete_custom[*]}";\n	echo -e "	env: ${_arg_env}";\n	echo -e "	match: ${_arg_match}";\n	echo -e "	repeat: ${_arg_repeat}";\n	echo -e "	empty: ${_arg_empty}";\n	echo -e "	required: ${_arg_required}";\n	echo -e "	leftovers: ${_arg_leftovers[*]}";\n\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nif [ "$_arg_required" == "on" ]; then\n    if [[ ! "$_arg_arg_name" =~ ^[a-zA-Z_][a-zA-Z0-9_-]*$ ]]; then\n        die "Invalid argument name: $_arg_arg_name"\n    fi\n    echo "if [ -z \\"\\$_arg_${_arg_arg_name//-/_}\\" ]; then die \\"Missing required option: ${_arg_arg_name}\\"; fi;"\nfi\n',"/parseArger/bin/opt/docopt-help":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger docOpt string for option" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt default-value "value" --short d --repeat\n# @parseArger opt short "short form" --short s\n# @parseArger opt alias "option alias" --repeat\n# @parseArger opt empty-value "value for empty option"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag empty "use option as flag"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/opt"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_default_value=()\n_arg_short=\n_arg_alias=()\n_arg_empty_value=\n_arg_complete=()\n_arg_complete_custom=()\n# FLAGS\n_arg_repeat="off"\n_arg_empty="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger docOpt string for option:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	-d, --default-value <default-value>: value, repeatable"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--alias <alias>: option alias, repeatable"\n	echo -e "	--empty-value <empty-value>: value for empty option"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--empty|--no-empty: use option as flag"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--default-value <value>] [--short <value>] [--alias <value>] [--empty-value <value>] [--complete <value>] [--complete-custom <value>] [--[no-]repeat] [--[no-]empty]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			-d|--default-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_default_value+=("$2")\n				shift\n				;;\n			--default-value=*)\n				_arg_default_value+=("${_key##--default-value=}")\n				;;\n			-d*)\n				_arg_default_value+=("${_key##-d}")\n				;;\n			\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--empty-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_empty_value="$2"\n				shift\n				;;\n			--empty-value=*)\n				_arg_empty_value="${_key##--empty-value=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--empty)\n				_arg_empty="on"\n				;;\n			--no-empty)\n				_arg_empty="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\trepeat-min: ${_arg_repeat_min}";\n	echo -e "\\trepeat-max: ${_arg_repeat_max}";\n	echo -e "\\tone-of: ${_arg_one_of[*]}";\n	echo -e "\\tdefault-value: ${_arg_default_value[*]}";\n	echo -e "\\tshort: ${_arg_short}";\n	echo -e "\\talias: ${_arg_alias[*]}";\n	echo -e "\\tempty-value: ${_arg_empty_value}";\n	echo -e "\\tcomplete: ${_arg_complete[*]}";\n	echo -e "\\tcomplete-custom: ${_arg_complete_custom[*]}";\n	echo -e "\\trepeat: ${_arg_repeat}";\n	echo -e "\\tempty: ${_arg_empty}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\noptHelp="--${_arg_arg_name} ${_arg_arg_name}";\n\nif [ "$_arg_short" != "" ]; then\n  optHelp="-${_arg_short} ${_arg_arg_name}, ${optHelp}";\nfi\n\noptHelp="${optHelp}\\t${_arg_description}";\n\nif [ "${#_arg_default_value[@]}" -gt 0 ]; then\n	optHelp="${optHelp} [default: ${_arg_default_value[*]}]";\nfi\n\necho -e "${optHelp}";\n',"/parseArger/bin/opt/declaration":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger declaration string for options" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt repeat-min "minimum repeatition forces repeat" --default-value "1"\n# @parseArger opt repeat-max "maximum repeatition forces repeat"\n# @parseArger opt one-of "accepted values" --repeat\n# @parseArger opt default-value "value" --short d --repeat\n# @parseArger opt short "short form" --short s\n# @parseArger opt alias "option alias" --repeat\n# @parseArger opt empty-value "value for empty option"\n# @parseArger opt complete "bash built-in completely function" --repeat\n# @parseArger opt complete-custom "completely custom dynamic suggestion" --repeat\n# @parseArger opt env "environment variable name"\n# @parseArger opt match "regex match validation"\n# @parseArger flag repeat "repeatable" --short r\n# @parseArger flag empty "use option as flag"\n# @parseArger flag required "make option mandatory" --short q\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/opt"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_repeat_min="1"\n_arg_repeat_max=\n_arg_one_of=()\n_arg_default_value=()\n_arg_short=\n_arg_alias=()\n_arg_empty_value=\n_arg_complete=()\n_arg_complete_custom=()\n_arg_env=\n_arg_match=\n# FLAGS\n_arg_repeat="off"\n_arg_empty="off"\n_arg_required="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger declaration string for options:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	--repeat-min <repeat-min>: minimum repeatition forces repeat [default: \' 1 \']"\n	echo -e "	--repeat-max <repeat-max>: maximum repeatition forces repeat"\n	echo -e "	--one-of <one-of>: accepted values, repeatable"\n	echo -e "	-d, --default-value <default-value>: value, repeatable"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--alias <alias>: option alias, repeatable"\n	echo -e "	--empty-value <empty-value>: value for empty option"\n	echo -e "	--complete <complete>: bash built-in completely function, repeatable"\n	echo -e "	--complete-custom <complete-custom>: completely custom dynamic suggestion, repeatable"\n	echo -e "	--env <env>: environment variable name"\n	echo -e "	--match <match>: regex match validation"\n	echo -e "	-r|--repeat|--no-repeat: repeatable"\n	echo -e "	--empty|--no-empty: use option as flag"\n	echo -e "	-q|--required|--no-required: make option mandatory"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--repeat-min <value>] [--repeat-max <value>] [--one-of <value>] [--default-value <value>] [--short <value>] [--alias <value>] [--empty-value <value>] [--complete <value>] [--complete-custom <value>] [--env <value>] [--match <value>] [--[no-]repeat] [--[no-]empty] [--[no-]required]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--repeat-min)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_min="$2"\n				shift\n				;;\n			--repeat-min=*)\n				_arg_repeat_min="${_key##--repeat-min=}"\n				;;\n			\n			--repeat-max)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repeat_max="$2"\n				shift\n				;;\n			--repeat-max=*)\n				_arg_repeat_max="${_key##--repeat-max=}"\n				;;\n			\n			--one-of)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_one_of+=("$2")\n				shift\n				;;\n			--one-of=*)\n				_arg_one_of+=("${_key##--one-of=}")\n				;;\n			\n			-d|--default-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_default_value+=("$2")\n				shift\n				;;\n			--default-value=*)\n				_arg_default_value+=("${_key##--default-value=}")\n				;;\n			-d*)\n				_arg_default_value+=("${_key##-d}")\n				;;\n			\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--empty-value)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_empty_value="$2"\n				shift\n				;;\n			--empty-value=*)\n				_arg_empty_value="${_key##--empty-value=}"\n				;;\n			\n			--complete)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete+=("$2")\n				shift\n				;;\n			--complete=*)\n				_arg_complete+=("${_key##--complete=}")\n				;;\n			\n			--complete-custom)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_complete_custom+=("$2")\n				shift\n				;;\n			--complete-custom=*)\n				_arg_complete_custom+=("${_key##--complete-custom=}")\n				;;\n			\n			--env)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_env="$2"\n				shift\n				;;\n			--env=*)\n				_arg_env="${_key##--env=}"\n				;;\n			\n			--match)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_match="$2"\n				shift\n				;;\n			--match=*)\n				_arg_match="${_key##--match=}"\n				;;\n			\n			-r|--repeat)\n				_arg_repeat="on"\n				;;\n			--no-repeat)\n				_arg_repeat="off"\n				;;\n			--empty)\n				_arg_empty="on"\n				;;\n			--no-empty)\n				_arg_empty="off"\n				;;\n			-q|--required)\n				_arg_required="on"\n				;;\n			--no-required)\n				_arg_required="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}"\n		local _regex="${!_match_var}"\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	arg-name: ${_arg_arg_name}";\n	echo -e "	description: ${_arg_description}";\n	echo -e "	repeat-min: ${_arg_repeat_min}";\n	echo -e "	repeat-max: ${_arg_repeat_max}";\n	echo -e "	one-of: ${_arg_one_of[*]}";\n	echo -e "	default-value: ${_arg_default_value[*]}";\n	echo -e "	short: ${_arg_short}";\n	echo -e "	alias: ${_arg_alias[*]}";\n	echo -e "	empty-value: ${_arg_empty_value}";\n	echo -e "	complete: ${_arg_complete[*]}";\n	echo -e "	complete-custom: ${_arg_complete_custom[*]}";\n	echo -e "	env: ${_arg_env}";\n	echo -e "	match: ${_arg_match}";\n	echo -e "	repeat: ${_arg_repeat}";\n	echo -e "	empty: ${_arg_empty}";\n	echo -e "	required: ${_arg_required}";\n\n}\n\n\nprint_version()\n{\n	echo "0.1";\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\noutStr="# @parse"\noutStr+="Arger opt $_arg_arg_name \\"${_arg_description}\\""\n\nif [ "$_arg_short" != "" ]; then\n  outStr+=" --short $_arg_short"\nfi\n\nif [ "${#_arg_default_value[@]}" -gt "0" ]; then\n	if [ "$_arg_repeat" != "off" ]; then\n		for dfv in "${_arg_default_value[@]}"; do\n			outStr+=" --default-value \\"$dfv\\""\n		done\n	else\n		outStr+=" --default-value \\"${_arg_default_value[0]}\\""\n	fi\nfi\n\nif [ "$_arg_repeat" != "off" ] || [ "$_arg_repeat_min" -gt "1" ] || [ "$_arg_repeat_max" != "" ]; then\n  outStr+=" --repeat"\nfi\nif [ "$_arg_repeat_min" -gt "1" ]; then\n  outStr+=" --repeat-min  $_arg_repeat_min"\nfi\nif [ "$_arg_repeat_max" != "" ]; then\n  outStr+=" --repeat-max  $_arg_repeat_max"\nfi\n\nif [ "${#_arg_alias[@]}" -gt 0 ]; then\n	for ali in "${_arg_alias[@]}"; do\n 	outStr+=" --alias $ali"\n	done\nfi\n\nif [ "${#_arg_complete[@]}" != "off" ]; then\n	for _c in "${_arg_complete[@]}"; do\n		outStr+=" --complete \\"$_c\\"";\n	done\nfi\n\nif [ "${#_arg_complete_custom[@]}" != "off" ]; then\n	for _c in "${_arg_complete_custom[@]}"; do\n		outStr+=" --complete-custom \\"$_c\\"";\n	done\nfi\n\nif [ "${#_arg_one_of[@]}" -gt 0 ]; then\n	for _oof in "${_arg_one_of[@]}"; do\n		outStr+=" --one-of \\"$_oof\\"";\n	done\nfi\n\necho "$outStr";\n',"/parseArger/bin/flag/help":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "I send an SOS to the world" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt short "short form" --short s\n# @parseArger opt no-name "value for the negation"\n# @parseArger opt alias "flag alias" --repeat\n# @parseArger opt no-alias "flag negation alias" --repeat\n# @parseArger flag on "on by default"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/flag"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_short=\n_arg_no_name=\n_arg_alias=()\n_arg_no_alias=()\n# FLAGS\n_arg_on="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "I send an SOS to the world:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--no-name <no-name>: value for the negation"\n	echo -e "	--alias <alias>: flag alias, repeatable"\n	echo -e "	--no-alias <no-alias>: flag negation alias, repeatable"\n	echo -e "	--on|--no-on: on by default"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--short <value>] [--no-name <value>] [--alias <value>] [--no-alias <value>] [--[no-]on]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--no-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_no_name="$2"\n				shift\n				;;\n			--no-name=*)\n				_arg_no_name="${_key##--no-name=}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--no-alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_no_alias+=("$2")\n				shift\n				;;\n			--no-alias=*)\n				_arg_no_alias+=("${_key##--no-alias=}")\n				;;\n			\n			--on)\n				_arg_on="on"\n				;;\n			--no-on)\n				_arg_on="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\tshort: ${_arg_short}";\n	echo -e "\\tno-name: ${_arg_no_name}";\n	echo -e "\\talias: ${_arg_alias[*]}";\n	echo -e "\\tno-alias: ${_arg_no_alias[*]}";\n	echo -e "\\ton: ${_arg_on}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nif [ "$_arg_no_name" == "" ]; then\n	_arg_no_name="no-${_arg_arg_name}";\nfi\noptHelp="--${_arg_arg_name}|--${_arg_no_name}: ${_arg_description}";\n\nif [ "$_arg_short" != "" ]; then\n  optHelp="-${_arg_short}|${optHelp}";\nfi\nif [ "$_arg_on" != "off" ]; then\n  optHelp="$optHelp, on by default (use --${_arg_no_name} to turn it off)";\nfi\nif [ "${#_arg_alias[@]}" -gt 0 ]; then\n	optHelp+="\n		aliases:";\n	for ali in "${_arg_alias[@]}"; do\n		optHelp+=" --${ali},";\n	done\nfi\nif [ "${#_arg_no_alias[@]}" -gt 0 ]; then\n	optHelp+="\n		no-aliases:";\n	for ali in "${_arg_no_alias[@]}"; do\n		optHelp+=" --${ali},";\n	done\nfi\n\necho -e "	echo -e \\"\\t${optHelp}\\"";\n',"/parseArger/bin/flag/html":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger init string for flags" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt short "short form" --short s\n# @parseArger opt no-name "value for the negation"\n# @parseArger opt alias "flag alias" --repeat\n# @parseArger opt no-alias "flag negation alias" --repeat\n# @parseArger opt checkbox-container-class "checkbox and radio class" --default-value "form-check" --alias radio-container-class\n# @parseArger opt checkbox-class "checkbox and radio class" --default-value "form-check-input" --alias radio-class\n# @parseArger opt checkbox-label-class "checkbox and radio label class" --default-value "form-check-label" --alias radio-label-class\n# @parseArger flag on "on by default"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/flag"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_short=\n_arg_no_name=\n_arg_alias=()\n_arg_no_alias=()\n_arg_checkbox_container_class="form-check"\n_arg_checkbox_class="form-check-input"\n_arg_checkbox_label_class="form-check-label"\n# FLAGS\n_arg_on="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger init string for flags:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--no-name <no-name>: value for the negation"\n	echo -e "	--alias <alias>: flag alias, repeatable"\n	echo -e "	--no-alias <no-alias>: flag negation alias, repeatable"\n	echo -e "	--checkbox-container-class|--radio-container-class <checkbox-container-class>: checkbox and radio class [default: \' form-check \']"\n	echo -e "	--checkbox-class|--radio-class <checkbox-class>: checkbox and radio class [default: \' form-check-input \']"\n	echo -e "	--checkbox-label-class|--radio-label-class <checkbox-label-class>: checkbox and radio label class [default: \' form-check-label \']"\n	echo -e "	--on|--no-on: on by default"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--short <value>] [--no-name <value>] [--alias <value>] [--no-alias <value>] [--checkbox-container-class <value>] [--checkbox-class <value>] [--checkbox-label-class <value>] [--[no-]on]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--no-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_no_name="$2"\n				shift\n				;;\n			--no-name=*)\n				_arg_no_name="${_key##--no-name=}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--no-alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_no_alias+=("$2")\n				shift\n				;;\n			--no-alias=*)\n				_arg_no_alias+=("${_key##--no-alias=}")\n				;;\n			\n			--radio-container-class|--checkbox-container-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_checkbox_container_class="$2"\n				shift\n				;;\n			--checkbox-container-class=*)\n				_arg_checkbox_container_class="${_key##--checkbox-container-class=}"\n				;;\n			--radio-container-class=*)\n				_arg_checkbox_container_class="${_key##--radio-container-class=}"\n				;;\n			\n			--radio-class|--checkbox-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_checkbox_class="$2"\n				shift\n				;;\n			--checkbox-class=*)\n				_arg_checkbox_class="${_key##--checkbox-class=}"\n				;;\n			--radio-class=*)\n				_arg_checkbox_class="${_key##--radio-class=}"\n				;;\n			\n			--radio-label-class|--checkbox-label-class)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_checkbox_label_class="$2"\n				shift\n				;;\n			--checkbox-label-class=*)\n				_arg_checkbox_label_class="${_key##--checkbox-label-class=}"\n				;;\n			--radio-label-class=*)\n				_arg_checkbox_label_class="${_key##--radio-label-class=}"\n				;;\n			\n			--on)\n				_arg_on="on"\n				;;\n			--no-on)\n				_arg_on="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\tshort: ${_arg_short}";\n	echo -e "\\tno-name: ${_arg_no_name}";\n	echo -e "\\talias: ${_arg_alias[*]}";\n	echo -e "\\tno-alias: ${_arg_no_alias[*]}";\n	echo -e "\\tcheckbox-container-class: ${_arg_checkbox_container_class}";\n	echo -e "\\tcheckbox-class: ${_arg_checkbox_class}";\n	echo -e "\\tcheckbox-label-class: ${_arg_checkbox_label_class}";\n	echo -e "\\ton: ${_arg_on}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\ninpuStr="<input class=\\"${_arg_checkbox_class}\\" type=\\"checkbox\\" role=\\"switch\\" name=\\"${_arg_arg_name}\\" id=\\"${_arg_arg_name}\\" value=\\"${_arg_arg_name}\\" pa-type=\\"flag\\" ";\nif [ "${_arg_on}" == "on" ];then\n	inpuStr+=" checked";\nfi\ninpuStr+="/>";\n\necho -e "<div class=\\"${_arg_checkbox_container_class}\\">\n	<label for=\\"${_arg_arg_name}\\" class=\\"${_arg_checkbox_label_class}\\">${_arg_arg_name}</label>\n	<i class=\\"input-help\\">${_arg_description}</i>\n	${inpuStr}\n</div>";\n',"/parseArger/bin/flag/completely":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger init string for flags" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt short "short form" --short s\n# @parseArger opt no-name "value for the negation"\n# @parseArger opt alias "flag alias" --repeat\n# @parseArger opt no-alias "flag negation alias" --repeat\n# @parseArger flag on "on by default"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/flag"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_short=\n_arg_no_name=\n_arg_alias=()\n_arg_no_alias=()\n# FLAGS\n_arg_on="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger init string for flags:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--no-name <no-name>: value for the negation"\n	echo -e "	--alias <alias>: flag alias, repeatable"\n	echo -e "	--no-alias <no-alias>: flag negation alias, repeatable"\n	echo -e "	--on|--no-on: on by default"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--short <value>] [--no-name <value>] [--alias <value>] [--no-alias <value>] [--[no-]on]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--no-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_no_name="$2"\n				shift\n				;;\n			--no-name=*)\n				_arg_no_name="${_key##--no-name=}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--no-alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_no_alias+=("$2")\n				shift\n				;;\n			--no-alias=*)\n				_arg_no_alias+=("${_key##--no-alias=}")\n				;;\n			\n			--on)\n				_arg_on="on"\n				;;\n			--no-on)\n				_arg_on="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\tshort: ${_arg_short}";\n	echo -e "\\tno-name: ${_arg_no_name}";\n	echo -e "\\talias: ${_arg_alias[*]}";\n	echo -e "\\tno-alias: ${_arg_no_alias[*]}";\n	echo -e "\\ton: ${_arg_on}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nif [ "$_arg_no_name" == "" ]; then\n	_arg_no_name="no-${_arg_arg_name}";\nfi\necho "- --${_arg_arg_name}";\necho "- --${_arg_no_name}";\n\nfor ali in "${_arg_alias[@]}"; do\n	echo "- --${ali}";\ndone\n\nfor nali in "${_arg_no_alias[@]}"; do\n	echo "- --${nali}";\ndone\n\nif [ "$_arg_short" != "" ]; then\n	echo "- -${_arg_short}";\nfi\n',"/parseArger/bin/flag/init":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger init string for flags" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt short "short form" --short s\n# @parseArger opt no-name "value for the negation"\n# @parseArger opt alias "flag alias" --repeat\n# @parseArger opt no-alias "flag negation alias" --repeat\n# @parseArger flag on "on by default"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/flag"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_short=\n_arg_no_name=\n_arg_alias=()\n_arg_no_alias=()\n# FLAGS\n_arg_on="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger init string for flags:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--no-name <no-name>: value for the negation"\n	echo -e "	--alias <alias>: flag alias, repeatable"\n	echo -e "	--no-alias <no-alias>: flag negation alias, repeatable"\n	echo -e "	--on|--no-on: on by default"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--short <value>] [--no-name <value>] [--alias <value>] [--no-alias <value>] [--[no-]on]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--no-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_no_name="$2"\n				shift\n				;;\n			--no-name=*)\n				_arg_no_name="${_key##--no-name=}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--no-alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_no_alias+=("$2")\n				shift\n				;;\n			--no-alias=*)\n				_arg_no_alias+=("${_key##--no-alias=}")\n				;;\n			\n			--on)\n				_arg_on="on"\n				;;\n			--no-on)\n				_arg_on="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\tshort: ${_arg_short}";\n	echo -e "\\tno-name: ${_arg_no_name}";\n	echo -e "\\talias: ${_arg_alias[*]}";\n	echo -e "\\tno-alias: ${_arg_no_alias[*]}";\n	echo -e "\\ton: ${_arg_on}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\n\noutStr="_arg_${_arg_arg_name//-/_}=";\n\nif [ "$_arg_on" == "on" ]; then\n  outStr+="\\"on\\"";\nelse\n  outStr+="\\"off\\"";\nfi\n\necho -e "$outStr";\n',"/parseArger/bin/flag/parser":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger parsing string for flags" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt short "short form" --short s\n# @parseArger opt no-name "value for the negation"\n# @parseArger opt alias "flag alias" --repeat\n# @parseArger opt no-alias "flag negation alias" --repeat\n# @parseArger flag on "on by default"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/flag"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_short=\n_arg_no_name=\n_arg_alias=()\n_arg_no_alias=()\n# FLAGS\n_arg_on="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger parsing string for flags:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--no-name <no-name>: value for the negation"\n	echo -e "	--alias <alias>: flag alias, repeatable"\n	echo -e "	--no-alias <no-alias>: flag negation alias, repeatable"\n	echo -e "	--on|--no-on: on by default"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--short <value>] [--no-name <value>] [--alias <value>] [--no-alias <value>] [--[no-]on]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--no-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_no_name="$2"\n				shift\n				;;\n			--no-name=*)\n				_arg_no_name="${_key##--no-name=}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--no-alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_no_alias+=("$2")\n				shift\n				;;\n			--no-alias=*)\n				_arg_no_alias+=("${_key##--no-alias=}")\n				;;\n			\n			--on)\n				_arg_on="on"\n				;;\n			--no-on)\n				_arg_on="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\tshort: ${_arg_short}";\n	echo -e "\\tno-name: ${_arg_no_name}";\n	echo -e "\\talias: ${_arg_alias[*]}";\n	echo -e "\\tno-alias: ${_arg_no_alias[*]}";\n	echo -e "\\ton: ${_arg_on}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nif [ "$_arg_no_name" == "" ]; then\n	_arg_no_name="no-${_arg_arg_name}";\nfi\noptParser="--${_arg_arg_name}";\n\nif [ "${#_arg_alias[@]}" -gt 0 ]; then\n	for ali in "${_arg_alias[@]}"; do\n		optParser="${optParser}|--${ali}";\n	done\nfi\n\nif [ "$_arg_short" != "" ]; then\n  optParser="-${_arg_short}|${optParser}";\nfi\n\noptParser="${optParser})\n	_arg_${_arg_arg_name//-/_}=\\"on\\"\n	;;";\noptParser="${optParser}\n--${_arg_no_name}";\n\nif [ "${#_arg_no_alias[@]}" -gt 0 ]; then\n	for n_ali in "${_arg_no_alias[@]}"; do\n		optParser="${optParser}|--${n_ali}";\n	done\nfi\n\necho -e "${optParser})\n	_arg_${_arg_arg_name//-/_}=\\"off\\"\n	;;";\n',"/parseArger/bin/flag/docopt-help":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger docopt string for flags" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt short "short form" --short s\n# @parseArger opt no-name "value for the negation"\n# @parseArger opt alias "flag alias" --repeat\n# @parseArger opt no-alias "flag negation alias" --repeat\n# @parseArger flag on "on by default"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/flag"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_short=\n_arg_no_name=\n_arg_alias=()\n_arg_no_alias=()\n# FLAGS\n_arg_on="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger docopt string for flags:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--no-name <no-name>: value for the negation"\n	echo -e "	--alias <alias>: flag alias, repeatable"\n	echo -e "	--no-alias <no-alias>: flag negation alias, repeatable"\n	echo -e "	--on|--no-on: on by default"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--short <value>] [--no-name <value>] [--alias <value>] [--no-alias <value>] [--[no-]on]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--no-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_no_name="$2"\n				shift\n				;;\n			--no-name=*)\n				_arg_no_name="${_key##--no-name=}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--no-alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_no_alias+=("$2")\n				shift\n				;;\n			--no-alias=*)\n				_arg_no_alias+=("${_key##--no-alias=}")\n				;;\n			\n			--on)\n				_arg_on="on"\n				;;\n			--no-on)\n				_arg_on="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\tshort: ${_arg_short}";\n	echo -e "\\tno-name: ${_arg_no_name}";\n	echo -e "\\talias: ${_arg_alias[*]}";\n	echo -e "\\tno-alias: ${_arg_no_alias[*]}";\n	echo -e "\\ton: ${_arg_on}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\noptHelp="--${_arg_arg_name} ${_arg_arg_name}";\n\nif [ "$_arg_short" != "" ]; then\n  optHelp="-${_arg_short} ${_arg_arg_name}, ${optHelp}";\nfi\n\noptHelp="${optHelp}\\t${_arg_description}";\n\nif [ "$_arg_on" != "off" ]; then\n  optHelp="$optHelp, on by default (use --no-${_arg_arg_name} to turn it off)";\nfi\n\necho -e "$optHelp";\n',"/parseArger/bin/flag/declaration":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parseArger declaration string for flags" --option "help" --short-option "h"\n# @parseArger-version "0.1" --option "version" --short-option "v"\n# @parseArger-verbose --option "verbose" --level "0"\n# @parseArger-declarations\n# @parseArger pos arg-name "positional argument name"\n# @parseArger pos description "positional argument description"\n# @parseArger opt short "short form" --short s\n# @parseArger opt no-name "value for the negation"\n# @parseArger opt alias "flag alias" --repeat\n# @parseArger opt no-alias "flag negation alias" --repeat\n# @parseArger flag on "on by default"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/bin/flag"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\ndie()\n{\n	local _ret="${2:-1}"\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_arg_arg_name="";\n_arg_description="";\n# OPTIONALS ARGUMENTS\n_arg_short=\n_arg_no_name=\n_arg_alias=()\n_arg_no_alias=()\n# FLAGS\n_arg_on="off"\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parseArger declaration string for flags:"\n	echo -e "	arg-name: positional argument name"\n	echo -e "	description: positional argument description"\n	echo -e "	-s, --short <short>: short form"\n	echo -e "	--no-name <no-name>: value for the negation"\n	echo -e "	--alias <alias>: flag alias, repeatable"\n	echo -e "	--no-alias <no-alias>: flag negation alias, repeatable"\n	echo -e "	--on|--no-on: on by default"\n	echo -e "Usage :\n	$0 <arg-name> <description> [--short <value>] [--no-name <value>] [--alias <value>] [--no-alias <value>] [--[no-]on]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			-s|--short)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_short="$2"\n				shift\n				;;\n			--short=*)\n				_arg_short="${_key##--short=}"\n				;;\n			-s*)\n				_arg_short="${_key##-s}"\n				;;\n			\n			--no-name)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_no_name="$2"\n				shift\n				;;\n			--no-name=*)\n				_arg_no_name="${_key##--no-name=}"\n				;;\n			\n			--alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_alias+=("$2")\n				shift\n				;;\n			--alias=*)\n				_arg_alias+=("${_key##--alias=}")\n				;;\n			\n			--no-alias)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_no_alias+=("$2")\n				shift\n				;;\n			--no-alias=*)\n				_arg_no_alias+=("${_key##--no-alias=}")\n				;;\n			\n			--on)\n				_arg_on="on"\n				;;\n			--no-on)\n				_arg_on="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			-v|--version)\n				print_version;\n				exit 0;\n				;;\n			-v*)\n				print_version;\n				exit 0;\n				;;\n			--verbose)\n				if [ $# -lt 2 ];then\n					_verbose_level="$((_verbose_level + 1))";\n				else\n					_verbose_level="$2";\n					shift;\n				fi\n				;;\n			\n			*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string="arg-name description"\n	if [ "${_positionals_count}" -gt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 2 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 2 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 2 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="_arg_arg_name _arg_description ";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "\\targ-name: ${_arg_arg_name}";\n	echo -e "\\tdescription: ${_arg_description}";\n	echo -e "\\tshort: ${_arg_short}";\n	echo -e "\\tno-name: ${_arg_no_name}";\n	echo -e "\\talias: ${_arg_alias[*]}";\n	echo -e "\\tno-alias: ${_arg_no_alias[*]}";\n	echo -e "\\ton: ${_arg_on}";\n\n}\n\nprint_version()\n{\n	echo "0.1";\n}\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\noutStr="# @parse";\noutStr="${outStr}Arger flag $_arg_arg_name \\"${_arg_description}\\""\n\nif [ "$_arg_short" != "" ]; then\n  outStr="$outStr --short $_arg_short"\nfi\nif [ "$_arg_on" != "off" ]; then\n  outStr="$outStr --on"\nfi\nif [ "$_arg_no_name" != "" ]; then\n  outStr="$outStr --no-name $_arg_no_name"\nfi\nif [ "${#_arg_alias[@]}" -gt 0 ]; then\n	for ali in "${_arg_alias[@]}"; do\n		outStr="$outStr --alias $ali";\n	done\nfi\nif [ "${#_arg_no_alias[@]}" -gt 0 ]; then\n	for ali in "${_arg_no_alias[@]}"; do\n		outStr="$outStr --no-alias $ali";\n	done\nfi\n\necho "$outStr";\n',"/parseArger/lib/bashunit_ext":`#!/bin/bash

function filemd5() {
  md5sum "$1" | cut -d' ' -f1;
}

function assert_files_equals () {
  local f1="$1";
  local f2="$2";
  local md1=$(filemd5 "$f1");
  local md2=$(filemd5 "$f2");
  assert_equals "$md1" "$md2";
}`,"/parseArger/lib/bashunit":'#!/bin/bash\n\nfunction assert_equals() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ "$expected" != "$actual" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "but got" "${actual}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_equals_ignore_colors() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  local actual_without_colors\n  actual_without_colors=$(echo -e "$actual" | sed "s/\\x1B\\[[0-9;]*[JKmsu]//g")\n\n  assert_equals "$expected" "$actual_without_colors" "$label"\n}\n\nfunction assert_empty() {\n  local expected="$1"\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ "$expected" != "" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "to be empty" "but got" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_not_empty() {\n  local expected="$1"\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ "$expected" == "" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "to not be empty" "but got" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_not_equals() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ "$expected" == "$actual" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "but got" "${actual}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_contains() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if ! [[ $actual == *"$expected"* ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual}" "to contain" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_contains_ignore_case() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  shopt -s nocasematch\n\n  if ! [[ $actual =~ $expected ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual}" "to contain" "${expected}"\n\n    shopt -u nocasematch\n    return\n  fi\n\n  shopt -u nocasematch\n  state::add_assertions_passed\n}\n\nfunction assert_not_contains() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ $actual == *"$expected"* ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual}" "to not contain" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_matches() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if ! [[ $actual =~ $expected ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual}" "to match" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_not_matches() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ $actual =~ $expected ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual}" "to not match" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_exit_code() {\n  local actual_exit_code=${3-"$?"}\n  local expected_exit_code="$1"\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ "$actual_exit_code" -ne "$expected_exit_code" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual_exit_code}" "to be" "${expected_exit_code}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_successful_code() {\n  local actual_exit_code=${3-"$?"}\n  local expected_exit_code=0\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ "$actual_exit_code" -ne "$expected_exit_code" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual_exit_code}" "to be exactly" "${expected_exit_code}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_general_error() {\n  local actual_exit_code=${3-"$?"}\n  local expected_exit_code=1\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ $actual_exit_code -ne "$expected_exit_code" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual_exit_code}" "to be exactly" "${expected_exit_code}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_command_not_found() {\n  local actual_exit_code=${3-"$?"}\n  local expected_exit_code=127\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ $actual_exit_code -ne "$expected_exit_code" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual_exit_code}" "to be exactly" "${expected_exit_code}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_string_starts_with() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if ! [[ $actual =~ ^"$expected"* ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual}" "to start with" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_string_not_starts_with() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ $actual =~ ^"$expected"* ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual}" "to not start with" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_string_ends_with() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if ! [[ $actual =~ .*"$expected"$ ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual}" "to end with" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_string_not_ends_with() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ $actual =~ .*"$expected"$ ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual}" "to not end with" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_less_than() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if ! [[ "$actual" -lt "$expected" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual}" "to be less than" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_less_or_equal_than() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if ! [[ "$actual" -le "$expected" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual}" "to be less or equal than" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_greater_than() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if ! [[ "$actual" -gt "$expected" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual}" "to be greater than" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_greater_or_equal_than() {\n  local expected="$1"\n  local actual="$2"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if ! [[ "$actual" -ge "$expected" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual}" "to be greater or equal than" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n#!/bin/bash\n\nfunction assert_array_contains() {\n  local expected="$1"\n  local label\n  label="$(helper::normalize_test_function_name "${FUNCNAME[1]}")"\n  shift\n\n  local actual=("${@}")\n\n  if ! [[ "${actual[*]}" == *"$expected"* ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual[*]}" "to contain" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_array_not_contains() {\n  local expected="$1"\n  label="$(helper::normalize_test_function_name "${FUNCNAME[1]}")"\n  shift\n  local actual=("$@")\n\n  if [[ "${actual[*]}" == *"$expected"* ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${actual[*]}" "to not contain" "${expected}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n#!/bin/bash\n\nfunction assert_file_exists() {\n  local expected="$1"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ ! -f "$expected" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "to exist but" "do not exist"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_file_not_exists() {\n  local expected="$1"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ -f "$expected" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "to not exist but" "the file exists"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_is_file() {\n  local expected="$1"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ ! -f "$expected" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "to be a file" "but is not a file"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_is_file_empty() {\n  local expected="$1"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ -s "$expected" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "to be empty" "but is not empty"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n#!/bin/bash\n\nfunction assert_directory_exists() {\n  local expected="$1"\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ ! -d "$expected" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "to exist but" "do not exist"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_directory_not_exists() {\n  local expected="$1"\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ -d "$expected" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "to not exist but" "the directory exists"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_is_directory() {\n  local expected="$1"\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ ! -d "$expected" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "to be a directory" "but is not a directory"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_is_directory_empty() {\n  local expected="$1"\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ ! -d "$expected" || -n "$(ls -A "$expected")" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "to be empty" "but is not empty"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_is_directory_not_empty() {\n  local expected="$1"\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ ! -d "$expected" || -z "$(ls -A "$expected")" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "to not be empty" "but is empty"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_is_directory_readable() {\n  local expected="$1"\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ ! -d "$expected" || ! -r "$expected" || ! -x "$expected" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "to be readable" "but is not readable"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_is_directory_not_readable() {\n  local expected="$1"\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ ! -d "$expected" ]] || [[ -r "$expected" && -x "$expected" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "to be not readable" "but is readable"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_is_directory_writable() {\n  local expected="$1"\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ ! -d "$expected" || ! -w "$expected" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "to be writable" "but is not writable"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_is_directory_not_writable() {\n  local expected="$1"\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ ! -d "$expected" || -w "$expected" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "to be not writable" "but is writable"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n#!/bin/bash\n\nfunction assert_match_snapshot() {\n  local actual\n  actual=$(echo -n "$1" | tr -d \'\\r\')\n  local directory\n    directory="./$(dirname "${BASH_SOURCE[1]}")/snapshots"\n  local test_file\n    test_file="$(helper::normalize_variable_name "$(basename "${BASH_SOURCE[1]}")")"\n  local snapshot_name\n    snapshot_name="$(helper::normalize_variable_name "${FUNCNAME[1]}").snapshot"\n  local snapshot_file\n  snapshot_file="${directory}/${test_file}.${snapshot_name}"\n\n  if [[ ! -f "$snapshot_file" ]]; then\n    mkdir -p "$directory"\n    echo "$actual" > "$snapshot_file"\n\n    state::add_assertions_snapshot\n    return\n  fi\n\n  local snapshot\n  snapshot=$(tr -d \'\\r\' < "$snapshot_file")\n\n  if [[ "$actual" != "$snapshot" ]]; then\n    local label\n    label=$(helper::normalize_test_function_name "${FUNCNAME[1]}")\n\n    state::add_assertions_failed\n    console_results::print_failed_snapshot_test "$label" "$snapshot_file"\n\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\n#!/bin/bash\n\n#!/bin/bash\n\n# shellcheck disable=SC2034\n_OS="Unknown"\n\nif [[ "$(uname)" == "Linux" ]]; then\n  _OS="Linux"\nelif [[ "$(uname)" == "Darwin" ]]; then\n  _OS="OSX"\nelif [[ $(uname) == *"MINGW"* ]]; then\n  _OS="Windows"\nfi\n#!/bin/bash\n\n# shellcheck disable=SC2034\n_COLOR_DEFAULT=$\'\\e[0m\'\n_COLOR_BOLD=$\'\\e[1m\'\n_COLOR_FAINT=$\'\\e[2m\'\n_COLOR_FAILED=$\'\\e[31m\'\n_COLOR_PASSED=$\'\\e[32m\'\n_COLOR_SKIPPED=$\'\\e[33m\'\n_COLOR_INCOMPLETE=$\'\\e[36m\'\n_COLOR_SNAPSHOT=$\'\\e[34m\'\n_COLOR_RETURN_ERROR=$\'\\e[41m\'\n_COLOR_RETURN_SUCCESS=$\'\\e[42m\'\n_COLOR_RETURN_SKIPPED=$\'\\e[43m\'\n_COLOR_RETURN_INCOMPLETE=$\'\\e[46m\'\n_COLOR_RETURN_SNAPSHOT=$\'\\e[44m\'\n#!/bin/bash\n\nfunction console_header::print_version() {\n  if [[ $HEADER_ASCII_ART == true ]]; then\n    cat <<EOF\n _               _                   _\n| |__   __ _ ___| |__  __ __ ____ (_) |_\n| \'_ \\ / _\' / __| \'_ \\| | | | \'_ \\| | __|\n| |_) | (_| \\__ \\ | | | |_| | | | | | |_\n|_.__/ \\__,_|___/_| |_|\\___/|_| |_|_|\\__|\nEOF\n    printf "%s\\n\\n" "$BASHUNIT_VERSION"\n  else\n    printf "${_COLOR_BOLD}${_COLOR_PASSED}bashunit${_COLOR_DEFAULT} - %s\\n" "$BASHUNIT_VERSION"\n  fi\n}\n\nfunction console_header::print_version_with_env() {\n    local should_print_ascii="true"\n    if [[ "$SHOW_HEADER" != "$should_print_ascii" ]]; then\n      return\n    fi\n    console_header::print_version\n}\n\nfunction console_header::print_help() {\n    cat <<EOF\nbashunit [arguments] [options]\n\nArguments:\n  Specifies the directory or file containing the tests to run.\n  If a directory is specified, it will execute the tests within files ending with test.sh.\n  If you use wildcards, bashunit will run any tests it finds.\n\nOptions:\n  -f|--filer <filter>\n    Filters the tests to run based on the test name.\n\n  -s|simple || -v|verbose\n    Enables simplified or verbose output to the console.\n\n  -S|--stop-on-failure\n    Force to stop the runner right after encountering one failing test.\n\n  -e|--env <file-path>\n    Load a custom env file overriding the .env environment variables.\n\n  --version\n    Displays the current version of bashunit.\n\n  --help\n    This message.\n\nSee more: https://bashunit.typeddevs.com/command-line\nEOF\n}\n#!/bin/bash\n\n_START_TIME=$(date +%s%N);\n_SUCCESSFUL_TEST_COUNT=0\n\nfunction console_results::render_result() {\n  if [[ "$(state::is_duplicated_test_functions_found)" == true ]]; then\n    console_results::print_execution_time\n    printf "%s%s%s\\n" "${_COLOR_RETURN_ERROR}" "Duplicate test functions found" "${_COLOR_DEFAULT}"\n    printf "File with duplicate functions: %s\\n" "$(state::get_file_with_duplicated_function_names)"\n    printf "Duplicate functions: %s\\n" "$(state::get_duplicated_function_names)"\n    exit 1\n  fi\n\n  echo ""\n\n  local total_tests=0\n  ((total_tests+=$(state::get_tests_passed)))\n  ((total_tests+=$(state::get_tests_skipped)))\n  ((total_tests+=$(state::get_tests_incomplete)))\n  ((total_tests+=$(state::get_tests_snapshot)))\n  ((total_tests+=$(state::get_tests_failed)))\n\n  local total_assertions=0\n  ((total_assertions+=$(state::get_assertions_passed)))\n  ((total_assertions+=$(state::get_assertions_skipped)))\n  ((total_assertions+=$(state::get_assertions_incomplete)))\n  ((total_assertions+=$(state::get_assertions_snapshot)))\n  ((total_assertions+=$(state::get_assertions_failed)))\n\n  printf "%sTests:     %s" "$_COLOR_FAINT" "$_COLOR_DEFAULT"\n  if [[ "$(state::get_tests_passed)" -gt 0 ]] || [[ "$(state::get_assertions_passed)" -gt 0 ]]; then\n    printf " %s%s passed%s," "$_COLOR_PASSED" "$(state::get_tests_passed)" "$_COLOR_DEFAULT"\n  fi\n  if [[ "$(state::get_tests_skipped)" -gt 0 ]] || [[ "$(state::get_assertions_skipped)" -gt 0 ]]; then\n    printf " %s%s skipped%s," "$_COLOR_SKIPPED" "$(state::get_tests_skipped)" "$_COLOR_DEFAULT"\n  fi\n  if [[ "$(state::get_tests_incomplete)" -gt 0 ]] || [[ "$(state::get_assertions_incomplete)" -gt 0 ]]; then\n    printf " %s%s incomplete%s," "$_COLOR_INCOMPLETE" "$(state::get_tests_incomplete)" "$_COLOR_DEFAULT"\n  fi\n  if [[ "$(state::get_tests_snapshot)" -gt 0 ]] || [[ "$(state::get_assertions_snapshot)" -gt 0 ]]; then\n    printf " %s%s snapshot%s," "$_COLOR_SNAPSHOT" "$(state::get_tests_snapshot)" "$_COLOR_DEFAULT"\n  fi\n  if [[ "$(state::get_tests_failed)" -gt 0 ]] || [[ "$(state::get_assertions_failed)" -gt 0 ]]; then\n    printf " %s%s failed%s," "$_COLOR_FAILED" "$(state::get_tests_failed)" "$_COLOR_DEFAULT"\n  fi\n  printf " %s total\\n" "$total_tests"\n\n  printf "%sAssertions:%s" "$_COLOR_FAINT" "$_COLOR_DEFAULT"\n  if [[ "$(state::get_tests_passed)" -gt 0 ]] || [[ "$(state::get_assertions_passed)" -gt 0 ]]; then\n      printf " %s%s passed%s," "$_COLOR_PASSED" "$(state::get_assertions_passed)" "$_COLOR_DEFAULT"\n  fi\n  if [[ "$(state::get_tests_skipped)" -gt 0 ]] || [[ "$(state::get_assertions_skipped)" -gt 0 ]]; then\n    printf " %s%s skipped%s," "$_COLOR_SKIPPED" "$(state::get_assertions_skipped)" "$_COLOR_DEFAULT"\n  fi\n  if [[ "$(state::get_tests_incomplete)" -gt 0 ]] || [[ "$(state::get_assertions_incomplete)" -gt 0 ]]; then\n    printf " %s%s incomplete%s," "$_COLOR_INCOMPLETE" "$(state::get_assertions_incomplete)" "$_COLOR_DEFAULT"\n  fi\n  if [[ "$(state::get_tests_snapshot)" -gt 0 ]] || [[ "$(state::get_assertions_snapshot)" -gt 0 ]]; then\n    printf " %s%s snapshot%s," "$_COLOR_SNAPSHOT" "$(state::get_assertions_snapshot)" "$_COLOR_DEFAULT"\n  fi\n  if [[ "$(state::get_tests_failed)" -gt 0 ]] || [[ "$(state::get_assertions_failed)" -gt 0 ]]; then\n    printf " %s%s failed%s," "$_COLOR_FAILED" "$(state::get_assertions_failed)" "$_COLOR_DEFAULT"\n  fi\n  printf " %s total\\n" "$total_assertions"\n\n  if [[ "$(state::get_tests_failed)" -gt 0 ]]; then\n    printf "%s%s%s\\n" "$_COLOR_RETURN_ERROR" "Some tests failed" "$_COLOR_DEFAULT"\n    console_results::print_execution_time\n    exit 1\n  fi\n\n  if [[ "$(state::get_tests_incomplete)" -gt 0 ]]; then\n    printf "%s%s%s\\n" "$_COLOR_RETURN_INCOMPLETE" "Some tests incomplete" "$_COLOR_DEFAULT"\n    console_results::print_execution_time\n    exit 0\n  fi\n\n  if [[ "$(state::get_tests_skipped)" -gt 0 ]]; then\n    printf "%s%s%s\\n" "$_COLOR_RETURN_SKIPPED" "Some tests skipped" "$_COLOR_DEFAULT"\n    console_results::print_execution_time\n    exit 0\n  fi\n\n  if [[ "$(state::get_tests_snapshot)" -gt 0 ]]; then\n    printf "%s%s%s\\n" "$_COLOR_RETURN_SNAPSHOT" "Some snapshots created" "$_COLOR_DEFAULT"\n    console_results::print_execution_time\n    exit 0\n  fi\n\n  if [[ $total_tests -eq 0 ]]; then\n    printf "%s%s%s\\n" "$_COLOR_RETURN_ERROR" "No tests found" "$_COLOR_DEFAULT"\n    console_results::print_execution_time\n    exit 1\n  fi\n\n  printf "%s%s%s\\n" "$_COLOR_RETURN_SUCCESS" "All tests passed" "$_COLOR_DEFAULT"\n  console_results::print_execution_time\n  exit 0\n}\n\nfunction console_results::print_execution_time() {\n  if [[ $SHOW_EXECUTION_TIME == false ]]; then\n    return\n  fi\n\n  if [[ "$_OS" != "OSX" ]]; then\n    _EXECUTION_TIME=$((($(date +%s%N) - "$_START_TIME") / 1000000))\n    printf "${_COLOR_BOLD}%s${_COLOR_DEFAULT}\\n" "Time taken: ${_EXECUTION_TIME} ms"\n  fi\n}\n\nfunction console_results::print_successful_test() {\n  ((_SUCCESSFUL_TEST_COUNT++))\n\n  if [[ "$SIMPLE_OUTPUT" == true ]]; then\n    if (( _SUCCESSFUL_TEST_COUNT % 50 != 0 )); then\n      printf "."\n    else\n      echo "."\n    fi\n  else\n    local test_name=$1\n    local data=$2\n\n    if [[ -z "$data" ]]; then\n      printf "%sâ Passed%s: %s\\n" "$_COLOR_PASSED" "$_COLOR_DEFAULT" "${test_name}"\n    else\n      printf "%sâ Passed%s: %s (%s)\\n" "$_COLOR_PASSED" "$_COLOR_DEFAULT" "${test_name}" "${data}"\n    fi\n  fi\n}\n\nfunction console_results::print_failed_test() {\n  local test_name=$1\n  local expected=$2\n  local failure_condition_message=$3\n  local actual=$4\n\n  printf "\\\n${_COLOR_FAILED}â Failed${_COLOR_DEFAULT}: %s\n    ${_COLOR_FAINT}Expected${_COLOR_DEFAULT} ${_COLOR_BOLD}\'%s\'${_COLOR_DEFAULT}\n    ${_COLOR_FAINT}%s${_COLOR_DEFAULT} ${_COLOR_BOLD}\'%s\'${_COLOR_DEFAULT}\\n"\\\n    "${test_name}" "${expected}" "${failure_condition_message}" "${actual}"\n}\n\nfunction console_results::print_failed_snapshot_test() {\n  local test_name=$1\n  local snapshot_file=$2\n\n  printf "${_COLOR_FAILED}â Failed${_COLOR_DEFAULT}: %s\n    ${_COLOR_FAINT}Expected to match the snapshot${_COLOR_DEFAULT}\\n" "$test_name"\n\n  if command -v git > /dev//null; then\n    local actual_file\n    actual_file="${snapshot_file}.tmp"\n    echo "$actual" > "$actual_file"\n    git diff --no-index --word-diff --color=always "$snapshot_file" "$actual_file" 2>/dev/null\\\n      | tail -n +6 | sed "s/^/    /"\n    rm "$actual_file"\n  fi\n}\n\nfunction console_results::print_skipped_test() {\n  local test_name=$1\n  local reason=$2\n\n  printf "${_COLOR_SKIPPED}â· Skipped${_COLOR_DEFAULT}: %s\\n" "${test_name}"\n\n  if [[ -n "$reason" ]]; then\n    printf "${_COLOR_FAINT}    %s${_COLOR_DEFAULT}\\n" "${reason}"\n  fi\n}\n\nfunction console_results::print_incomplete_test() {\n  local test_name=$1\n  local pending=$2\n\n  printf "${_COLOR_INCOMPLETE}â Incomplete${_COLOR_DEFAULT}: %s\\n" "${test_name}"\n\n  if [[ -n "$pending" ]]; then\n    printf "${_COLOR_FAINT}    %s${_COLOR_DEFAULT}\\n" "${pending}"\n  fi\n}\n\nfunction console_results::print_snapshot_test() {\n  local test_name\n  test_name=$(helper::normalize_test_function_name "$1")\n\n  printf "${_COLOR_SNAPSHOT}â Snapshot${_COLOR_DEFAULT}: %s\\n" "${test_name}"\n}\n\nfunction console_results::print_error_test() {\n  local test_name\n  test_name=$(helper::normalize_test_function_name "$1")\n  local error="$2"\n\n  printf "${_COLOR_FAILED}â Failed${_COLOR_DEFAULT}: %s\n    ${_COLOR_FAINT}%s${_COLOR_DEFAULT}\\n" "${test_name}" "${error}"\n}\n#!/bin/bash\n\n# shellcheck disable=SC2034\n_DEFAULT_PARALLEL_RUN=false\n_DEFAULT_SHOW_HEADER=true\n_DEFAULT_HEADER_ASCII_ART=false\n_DEFAULT_SIMPLE_OUTPUT=false\n_DEFAULT_STOP_ON_FAILURE=false\n_DEFAULT_SHOW_EXECUTION_TIME=true\n_DEFAULT_DEFAULT_PATH=\nCAT="$(which cat)"\n#!/bin/bash\n\n# Deprecated: Please use assert_equals instead.\nfunction assertEquals() {\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  assert_equals "$1" "$2" "$label"\n}\n\n# Deprecated: Please use assert_empty instead.\nfunction assertEmpty() {\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  assert_empty "$1" "$label"\n}\n\n# Deprecated: Please use assert_not_empty instead.\nfunction assertNotEmpty() {\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  assert_not_empty "$1" "$label"\n}\n\n# Deprecated: Please use assert_not_equals instead.\nfunction assertNotEquals() {\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  assert_not_equals "$1" "$2" "$label"\n}\n\n# Deprecated: Please use assert_contains instead.\nfunction assertContains() {\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  assert_contains "$1" "$2" "$label"\n}\n\n# Deprecated: Please use assert_not_contains instead.\nfunction assertNotContains() {\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  assert_not_contains "$1" "$2" "$label"\n}\n\n# Deprecated: Please use assert_matches instead.\nfunction assertMatches() {\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  assert_matches "$1" "$2" "$label"\n}\n\n# Deprecated: Please use assert_not_matches instead.\nfunction assertNotMatches() {\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  assert_not_matches "$1" "$2" "$label"\n}\n\n# Deprecated: Please use assert_exit_code instead.\nfunction assertExitCode() {\n  local actual_exit_code=$?\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  assert_exit_code "$1" "$label" "$actual_exit_code"\n}\n\n# Deprecated: Please use assert_successful_code instead.\nfunction assertSuccessfulCode() {\n  local actual_exit_code=$?\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  assert_successful_code "$1" "$label" "$actual_exit_code"\n}\n\n# Deprecated: Please use assert_general_error instead.\nfunction assertGeneralError() {\n  local actual_exit_code=$?\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  assert_general_error "$1" "$label" "$actual_exit_code"\n}\n\n# Deprecated: Please use assert_command_not_found instead.\nfunction assertCommandNotFound() {\n  local actual_exit_code=$?\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  assert_command_not_found "{command}" "$label" "$actual_exit_code"\n}\n\n# Deprecated: Please use assert_array_contains instead.\nfunction assertArrayContains() {\n  assert_array_contains "$1" "${@:2}"\n}\n\n# Deprecated: Please use assert_array_not_contains instead.\nfunction assertArrayNotContains() {\n  assert_array_not_contains "$1" "${@:1}"\n}\n#!/bin/bash\n\nset -o allexport\n# shellcheck source=/dev/null\n[[ -f ".env" ]] && source .env set\nset +o allexport\n\nif [[ -z "$PARALLEL_RUN" ]]; then\n  PARALLEL_RUN=$_DEFAULT_PARALLEL_RUN\nfi\n\nif [[ -z "$SHOW_HEADER" ]]; then\n  SHOW_HEADER=$_DEFAULT_SHOW_HEADER\nfi\n\nif [[ -z "$HEADER_ASCII_ART" ]]; then\n  HEADER_ASCII_ART=$_DEFAULT_HEADER_ASCII_ART\nfi\n\nif [[ -z "$SIMPLE_OUTPUT" ]]; then\n  SIMPLE_OUTPUT=$_DEFAULT_SIMPLE_OUTPUT\nfi\n\nif [[ -z "$STOP_ON_FAILURE" ]]; then\n  STOP_ON_FAILURE=$_DEFAULT_STOP_ON_FAILURE\nfi\n\nif [[ -z "$SHOW_EXECUTION_TIME" ]]; then\n  SHOW_EXECUTION_TIME=$_DEFAULT_SHOW_EXECUTION_TIME\nfi\n\nif [[ -z "$DEFAULT_PATH" ]]; then\n  DEFAULT_PATH=$_DEFAULT_DEFAULT_PATH\nfi\n#!/bin/bash\n\n#\n# @param $1 string Eg: "test_some_logic_camelCase"\n#\n# @return string Eg: "Some logic camelCase"\n#\nfunction helper::normalize_test_function_name() {\n  local original_function_name="$1"\n  local result\n\n  # Remove "test_" prefix\n  result="${original_function_name#test_}"\n  # Replace underscores with spaces\n  result="${result//_/ }"\n  # Remove "test" prefix\n  result="${result#test}"\n  # Capitalize the first letter\n  result="$(tr \'[:lower:]\' \'[:upper:]\' <<< "${result:0:1}")${result:1}"\n\n  echo "$result"\n}\n\nfunction helper::check_duplicate_functions() {\n  local script="$1"\n\n  local filtered_lines\n  filtered_lines=$(grep -E \'^\\s*(function)?\\s*test[a-zA-Z_][a-zA-Z_0-9]*\\s*\\(\\)?\\s*{\' "$script")\n\n  local function_names\n  function_names=$(echo "$filtered_lines" | awk \'{gsub(/\\(|\\)/, ""); print $2}\')\n\n  local sorted_names\n  sorted_names=$(echo "$function_names" | sort)\n\n  local duplicates\n  duplicates=$(echo "$sorted_names" | uniq -d)\n  if [ -n "$duplicates" ]; then\n    state::set_duplicated_functions_merged "$script" "$duplicates"\n    return 1\n  fi\n}\n\n#\n# @param $1 string Eg: "prefix"\n# @param $2 string Eg: "filter"\n# @param $3 array Eg: "[fn1, fn2, prefix_filter_fn3, fn4, ...]"\n#\n# @return array Eg: "[prefix_filter_fn3, ...]" The filtered functions with prefix\n#\nfunction helper::get_functions_to_run() {\n  local prefix=$1\n  local filter=$2\n  local function_names=$3\n\n  local functions_to_run=()\n\n  for function_name in $function_names; do\n    if [[ $function_name != ${prefix}* ]]; then\n      continue\n    fi\n\n    local lower_case_function_name\n    lower_case_function_name=$(echo "$function_name" | tr \'[:upper:]\' \'[:lower:]\')\n    local lower_case_filter\n    lower_case_filter=$(echo "$filter" | tr \'[:upper:]\' \'[:lower:]\')\n\n    if [[ -n $filter && $lower_case_function_name != *"$lower_case_filter"* ]]; then\n      continue\n    fi\n\n    if [[ "${functions_to_run[*]}" =~ ${function_name} ]]; then\n      return 1\n    fi\n\n    functions_to_run+=("$function_name")\n  done\n\n  echo "${functions_to_run[@]}"\n}\n\n#\n# @param $1 string Eg: "do_something"\n#\nfunction helper::execute_function_if_exists() {\n  local function_name=$1\n\n  if declare -F | awk \'{print $3}\' | grep -Eq "^${function_name}$"; then\n    "$function_name"\n  fi\n}\n\n#\n# @param $1 string Eg: "do_something"\n#\nfunction helper::unset_if_exists() {\n  local function_name=$1\n\n  if declare -F | awk \'{print $3}\' | grep -Eq "^${function_name}$"; then\n    unset "$function_name"\n  fi\n}\n\nfunction helper::find_files_recursive() {\n  local path="$1"\n\n  if [[ "$path" == *"*"* ]]; then\n    eval find "$path" -type f -name \'*[tT]est.sh\' | sort | uniq\n  elif [[ -d "$path" ]]; then\n    find "$path" -type f -name \'*[tT]est.sh\' | sort | uniq\n  else\n    echo "$path"\n  fi\n}\n\nhelper::normalize_variable_name() {\n  local input_string="$1"\n  local normalized_string\n\n  normalized_string="${input_string//[^a-zA-Z0-9_]/_}"\n\n  if [[ ! $normalized_string =~ ^[a-zA-Z_] ]]; then\n    normalized_string="_$normalized_string"\n  fi\n\n  echo "$normalized_string"\n}\n\nfunction helper::get_provider_data() {\n  local function_name="$1"\n  local script="$2"\n  local data_provider_function\n\n  if [[ ! -f "$script" ]]; then\n    return\n  fi\n\n  data_provider_function=$(\\\n    grep -B 1 "function $function_name()" "$script" |\\\n    grep "# data_provider " |\\\n    sed -E -e \'s/\\ *# data_provider (.*)$/\\1/g\'\\\n  )\n\n  if [[ -n "$data_provider_function" ]]; then\n    helper::execute_function_if_exists "$data_provider_function"\n  fi\n}\n\nfunction helper::trim() {\n    local input_string="$1"\n    local trimmed_string\n\n    trimmed_string="${input_string#"${input_string%%[![:space:]]*}"}"\n    trimmed_string="${trimmed_string%"${trimmed_string##*[![:space:]]}"}"\n\n    echo "$trimmed_string"\n}\n#!/bin/bash\n\nfunction runner::load_test_files() {\n  local filter=$1\n  local files=("${@:2}") # Store all arguments starting from the second as an array\n\n  if [[ "${#files[@]}" == 0 ]]; then\n    if [[ -n "${DEFAULT_PATH}" ]]; then\n      while IFS=\'\' read -r line; do\n        files+=("$line");\n      done < <(helper::find_files_recursive "$DEFAULT_PATH")\n    else\n      printf "%sError: At least one file path is required.%s\\n" "${_COLOR_FAILED}" "${_COLOR_DEFAULT}"\n      console_header::print_help\n      exit 1\n    fi\n  fi\n\n  for test_file in "${files[@]}"; do\n    if [[ ! -f $test_file ]]; then\n      continue\n    fi\n\n    # shellcheck source=/dev/null\n    source "$test_file"\n\n    runner::run_set_up_before_script\n    runner::call_test_functions "$test_file" "$filter"\n    if [ "$PARALLEL_RUN" = true ] ; then\n      wait\n    fi\n    runner::run_tear_down_after_script\n    runner::clean_set_up_and_tear_down_after_script\n  done\n}\n\nfunction runner::call_test_functions() {\n  local script="$1"\n  local filter="$2"\n  local prefix="test"\n  # Use declare -F to list all function names\n  local function_names\n  function_names=$(declare -F | awk \'{print $3}\')\n  local functions_to_run\n  # shellcheck disable=SC2207\n  functions_to_run=($(helper::get_functions_to_run "$prefix" "$filter" "$function_names"))\n\n  if [[ "${#functions_to_run[@]}" -gt 0 ]]; then\n    if [[ "$SIMPLE_OUTPUT" == false ]]; then\n      echo "Running $script"\n    fi\n\n    helper::check_duplicate_functions "$script"\n\n    for function_name in "${functions_to_run[@]}"; do\n      local provider_data=()\n      IFS=" " read -r -a provider_data <<< "$(helper::get_provider_data "$function_name" "$script")"\n\n      if [[ "${#provider_data[@]}" -gt 0 ]]; then\n        for data in "${provider_data[@]}"; do\n          runner::run_test "$function_name" "$data"\n        done\n      else\n        runner::run_test "$function_name"\n      fi\n\n      unset "$function_name"\n    done\n  fi\n}\n\nfunction runner::parse_execution_result() {\n  local execution_result=$1\n\n  local assertions_failed\n  assertions_failed=$(\\\n    echo "$execution_result" |\\\n    tail -n 1 |\\\n    sed -E -e \'s/.*##ASSERTIONS_FAILED=([0-9]*)##.*/\\1/g\'\\\n  )\n\n  local assertions_passed\n  assertions_passed=$(\\\n    echo "$execution_result" |\\\n    tail -n 1 |\\\n    sed -E -e \'s/.*##ASSERTIONS_PASSED=([0-9]*)##.*/\\1/g\'\\\n  )\n\n  local assertions_skipped\n  assertions_skipped=$(\\\n    echo "$execution_result" |\\\n    tail -n 1 |\\\n    sed -E -e \'s/.*##ASSERTIONS_SKIPPED=([0-9]*)##.*/\\1/g\'\\\n  )\n\n  local assertions_incomplete\n  assertions_incomplete=$(\\\n    echo "$execution_result" |\\\n    tail -n 1 |\\\n    sed -E -e \'s/.*##ASSERTIONS_INCOMPLETE=([0-9]*)##.*/\\1/g\'\\\n  )\n\n  local assertions_snapshot\n  assertions_snapshot=$(\\\n    echo "$execution_result" |\\\n    tail -n 1 |\\\n    sed -E -e \'s/.*##ASSERTIONS_SNAPSHOT=([0-9]*)##.*/\\1/g\'\\\n  )\n\n  _ASSERTIONS_PASSED=$((_ASSERTIONS_PASSED + assertions_passed))\n  _ASSERTIONS_FAILED=$((_ASSERTIONS_FAILED + assertions_failed))\n  _ASSERTIONS_SKIPPED=$((_ASSERTIONS_SKIPPED + assertions_skipped))\n  _ASSERTIONS_INCOMPLETE=$((_ASSERTIONS_INCOMPLETE + assertions_incomplete))\n  _ASSERTIONS_SNAPSHOT=$((_ASSERTIONS_SNAPSHOT + assertions_snapshot))\n}\n\nfunction runner::run_test() {\n  local function_name="$1"\n  local data="$2"\n  local current_assertions_failed\n  current_assertions_failed="$(state::get_assertions_failed)"\n  local current_assertions_snapshot\n  current_assertions_snapshot="$(state::get_assertions_snapshot)"\n  local current_assertions_incomplete\n  current_assertions_incomplete="$(state::get_assertions_incomplete)"\n  local current_assertions_skipped\n  current_assertions_skipped="$(state::get_assertions_skipped)"\n\n  exec 3>&1\n\n  local test_execution_result\n  test_execution_result=$(\n    state::initialize_assertions_count\n    runner::run_set_up\n\n    "$function_name" "$data" 2>&1 1>&3\n\n    runner::run_tear_down\n    state::export_assertions_count\n  )\n\n  exec 3>&-\n\n  runner::parse_execution_result "$test_execution_result"\n\n  local runtime_error\n  runtime_error=$(\\\n    echo "$test_execution_result" |\\\n    head -n 1 |\\\n    sed -E -e \'s/(.*)##ASSERTIONS_FAILED=.*/\\1/g\'\\\n  )\n\n  if [[ -n $runtime_error ]]; then\n    state::add_tests_failed\n    console_results::print_error_test "$function_name" "$runtime_error"\n    return\n  fi\n\n  if [[ "$current_assertions_failed" != "$(state::get_assertions_failed)" ]]; then\n    state::add_tests_failed\n\n    if [ "$STOP_ON_FAILURE" = true ]; then\n      exit 1\n    fi\n\n    return\n  fi\n\n  if [[ "$current_assertions_snapshot" != "$(state::get_assertions_snapshot)" ]]; then\n    state::add_tests_snapshot\n    console_results::print_snapshot_test "$function_name"\n    return\n  fi\n\n  if [[ "$current_assertions_incomplete" != "$(state::get_assertions_incomplete)" ]]; then\n    state::add_tests_incomplete\n    return\n  fi\n\n  if [[ "$current_assertions_skipped" != "$(state::get_assertions_skipped)" ]]; then\n    state::add_tests_skipped\n    return\n  fi\n\n  local label\n  label="$(helper::normalize_test_function_name "$function_name")"\n\n  console_results::print_successful_test "${label}" "${data}"\n  state::add_tests_passed\n}\n\nfunction runner::run_set_up() {\n  helper::execute_function_if_exists \'setUp\' # Deprecated: please use set_up instead.\n  helper::execute_function_if_exists \'set_up\'\n}\n\nfunction runner::run_set_up_before_script() {\n  helper::execute_function_if_exists \'setUpBeforeScript\' # Deprecated: please use set_up_before_script instead.\n  helper::execute_function_if_exists \'set_up_before_script\'\n}\n\nfunction runner::run_tear_down() {\n  helper::execute_function_if_exists \'tearDown\' # Deprecated: please use tear_down instead.\n  helper::execute_function_if_exists \'tear_down\'\n}\n\nfunction runner::run_tear_down_after_script() {\n  helper::execute_function_if_exists \'tearDownAfterScript\' # Deprecated: please use tear_down_after_script instead.\n  helper::execute_function_if_exists \'tear_down_after_script\'\n}\n\nfunction runner::clean_set_up_and_tear_down_after_script() {\n  helper::unset_if_exists \'setUp\' # Deprecated: please use set_up instead.\n  helper::unset_if_exists \'set_up\'\n  helper::unset_if_exists \'tearDown\' # Deprecated: please use tear_down instead.\n  helper::unset_if_exists \'tear_down\'\n  helper::unset_if_exists \'setUpBeforeScript\' # Deprecated: please use set_up_before_script instead.\n  helper::unset_if_exists \'set_up_before_script\'\n  helper::unset_if_exists \'tearDownAfterScript\' # Deprecated: please use tear_down_after_script instead.\n  helper::unset_if_exists \'tear_down_after_script\'\n}\n#!/bin/bash\n\nfunction skip() {\n  local reason=$1\n  local label\n  label="$(helper::normalize_test_function_name "${FUNCNAME[1]}")"\n\n  console_results::print_skipped_test "${label}" "${reason}"\n\n  state::add_assertions_skipped\n}\n\nfunction todo() {\n  local pending=$1\n  local label\n  label="$(helper::normalize_test_function_name "${FUNCNAME[1]}")"\n\n  console_results::print_incomplete_test "${label}" "${pending}"\n\n  state::add_assertions_incomplete\n}\n#!/bin/bash\n\n_TESTS_PASSED=0\n_TESTS_FAILED=0\n_TESTS_SKIPPED=0\n_TESTS_INCOMPLETE=0\n_TESTS_SNAPSHOT=0\n_ASSERTIONS_PASSED=0\n_ASSERTIONS_FAILED=0\n_ASSERTIONS_SKIPPED=0\n_ASSERTIONS_INCOMPLETE=0\n_ASSERTIONS_SNAPSHOT=0\n_DUPLICATED_FUNCTION_NAMES=""\n_FILE_WITH_DUPLICATED_FUNCTION_NAMES=""\n_DUPLICATED_TEST_FUNCTIONS_FOUND=false\n\nfunction state::get_tests_passed() {\n  echo "$_TESTS_PASSED"\n}\n\nfunction state::add_tests_passed() {\n  ((_TESTS_PASSED++)) || true\n}\n\nfunction state::get_tests_failed() {\n  echo "$_TESTS_FAILED"\n}\n\nfunction state::add_tests_failed() {\n  ((_TESTS_FAILED++)) || true\n}\n\nfunction state::get_tests_skipped() {\n  echo "$_TESTS_SKIPPED"\n}\n\nfunction state::add_tests_skipped() {\n  ((_TESTS_SKIPPED++)) || true\n}\n\nfunction state::get_tests_incomplete() {\n  echo "$_TESTS_INCOMPLETE"\n}\n\nfunction state::add_tests_incomplete() {\n  ((_TESTS_INCOMPLETE++)) || true\n}\n\nfunction state::get_tests_snapshot() {\n  echo "$_TESTS_SNAPSHOT"\n}\n\nfunction state::add_tests_snapshot() {\n  ((_TESTS_SNAPSHOT++)) || true\n}\n\nfunction state::get_assertions_passed() {\n  echo "$_ASSERTIONS_PASSED"\n}\n\nfunction state::add_assertions_passed() {\n  ((_ASSERTIONS_PASSED++)) || true\n}\n\nfunction state::get_assertions_failed() {\n  echo "$_ASSERTIONS_FAILED"\n}\n\nfunction state::add_assertions_failed() {\n  ((_ASSERTIONS_FAILED++)) || true\n}\n\nfunction state::get_assertions_skipped() {\n  echo "$_ASSERTIONS_SKIPPED"\n}\n\nfunction state::add_assertions_skipped() {\n  ((_ASSERTIONS_SKIPPED++)) || true\n}\n\nfunction state::get_assertions_incomplete() {\n  echo "$_ASSERTIONS_INCOMPLETE"\n}\n\nfunction state::add_assertions_incomplete() {\n  ((_ASSERTIONS_INCOMPLETE++)) || true\n}\n\nfunction state::get_assertions_snapshot() {\n  echo "$_ASSERTIONS_SNAPSHOT"\n}\n\nfunction state::add_assertions_snapshot() {\n  ((_ASSERTIONS_SNAPSHOT++)) || true\n}\n\nfunction state::is_duplicated_test_functions_found() {\n  echo "$_DUPLICATED_TEST_FUNCTIONS_FOUND"\n}\n\nfunction state::set_duplicated_test_functions_found() {\n  _DUPLICATED_TEST_FUNCTIONS_FOUND=true\n}\n\nfunction state::get_duplicated_function_names() {\n  echo "$_DUPLICATED_FUNCTION_NAMES"\n}\n\nfunction state::set_duplicated_function_names() {\n  _DUPLICATED_FUNCTION_NAMES="$1"\n}\n\nfunction state::get_file_with_duplicated_function_names() {\n  echo "$_FILE_WITH_DUPLICATED_FUNCTION_NAMES"\n}\n\nfunction state::set_file_with_duplicated_function_names() {\n  _FILE_WITH_DUPLICATED_FUNCTION_NAMES="$1"\n}\n\nfunction state::set_duplicated_functions_merged() {\n  state::set_duplicated_test_functions_found\n  state::set_file_with_duplicated_function_names "$1"\n  state::set_duplicated_function_names "$2"\n\n}\n\nfunction state::initialize_assertions_count() {\n    _ASSERTIONS_PASSED=0\n    _ASSERTIONS_FAILED=0\n    _ASSERTIONS_SKIPPED=0\n    _ASSERTIONS_INCOMPLETE=0\n    _ASSERTIONS_SNAPSHOT=0\n}\n\nfunction state::export_assertions_count() {\n  echo "##ASSERTIONS_FAILED=$_ASSERTIONS_FAILED\\\n##ASSERTIONS_PASSED=$_ASSERTIONS_PASSED\\\n##ASSERTIONS_SKIPPED=$_ASSERTIONS_SKIPPED\\\n##ASSERTIONS_INCOMPLETE=$_ASSERTIONS_INCOMPLETE\\\n##ASSERTIONS_SNAPSHOT=$_ASSERTIONS_SNAPSHOT\\\n##"\n}\n#!/bin/bash\n\nfunction mock() {\n  local command=$1\n  shift\n\n  if [[ $# -gt 0 ]]; then\n    eval "function $command() { $* ; }"\n  else\n    eval "function $command() { echo \\"$($CAT)\\" ; }"\n  fi\n\n  export -f "${command?}"\n}\n\nfunction spy() {\n  local command=$1\n  local variable\n  variable="$(helper::normalize_variable_name "$command")"\n\n  export "${variable}_times"=0\n  export "${variable}_params"\n\n  eval "function $command() { ${variable}_params=(\\"\\$*\\"); ((${variable}_times++)) || true; }"\n\n  export -f "${command?}"\n}\n\nfunction assert_have_been_called() {\n  local command=$1\n  local variable\n  variable="$(helper::normalize_variable_name "$command")"\n  local actual\n  actual="${variable}_times"\n  local label="${2:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ ${!actual} -eq 0 ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${command}" "to has been called" "once"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_have_been_called_with() {\n  local expected=$1\n  local command=$2\n  local variable\n  variable="$(helper::normalize_variable_name "$command")"\n  local actual\n  actual="${variable}_params"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ "$expected" != "${!actual}" ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${expected}" "but got" "${!actual}"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n\nfunction assert_have_been_called_times() {\n  local expected=$1\n  local command=$2\n  local variable\n  variable="$(helper::normalize_variable_name "$command")"\n  local actual\n  actual="${variable}_times"\n  local label="${3:-$(helper::normalize_test_function_name "${FUNCNAME[1]}")}"\n\n  if [[ ${!actual} -ne $expected ]]; then\n    state::add_assertions_failed\n    console_results::print_failed_test "${label}" "${command}" "to has been called" "${expected} times"\n    return\n  fi\n\n  state::add_assertions_passed\n}\n#!/bin/bash\n\n# shellcheck disable=SC2034\ndeclare -r BASHUNIT_VERSION="0.10.1"\n\nreadonly BASHUNIT_ROOT_DIR="$(dirname "${BASH_SOURCE[0]}")"\nexport BASHUNIT_ROOT_DIR\n\n\n###############\n#### MAIN #####\n###############\n\n_FILTER=""\n_FILES=()\n\nwhile [[ $# -gt 0 ]]; do\n  argument="$1"\n  case $argument in\n    -f|--filter)\n      _FILTER="$2"\n      shift\n      shift\n      ;;\n    -s|--simple)\n      SIMPLE_OUTPUT=true\n      shift\n      ;;\n    -v|--verbose)\n      SIMPLE_OUTPUT=false\n      shift\n      ;;\n    -S|--stop-on-failure)\n      STOP_ON_FAILURE=true\n      shift\n      ;;\n    -e|--env)\n      # shellcheck disable=SC1090\n      source "$2"\n      shift\n      shift\n      ;;\n    --version)\n      console_header::print_version\n      trap \'\' EXIT && exit 0\n      ;;\n    --help)\n      console_header::print_help\n      trap \'\' EXIT && exit 0\n      ;;\n    *)\n      while IFS=\'\' read -r line; do\n        _FILES+=("$line");\n      done < <(helper::find_files_recursive "$argument")\n      shift\n      ;;\n  esac\ndone\n\nconsole_header::print_version_with_env\nrunner::load_test_files "$_FILTER" "${_FILES[@]}"\nconsole_results::render_result\n\nexit 0\n',"/parseArger/utils/install":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "Install parseArger" --option "help" --short-option "h"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger opt shell-rc-file "where to put the source directive" --default-value "$HOME/.bashrc" --repeat --alias install-file\n# @parseArger flag comment "add parsearger comment" --on\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/utils"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n# OPTIONALS ARGUMENTS\n_arg_shell_rc_file=("$HOME/.bashrc" )\n# FLAGS\n_arg_comment="on"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "Install parseArger:"\n	echo -e "	--shell-rc-file|--install-file <shell-rc-file>: where to put the source directive, repeatable [default: \'( $HOME/.bashrc )\']"\n	echo -e "	--comment|--no-comment: add parsearger comment, on by default (use --no-comment to turn it off)"\n	echo -e "Usage :\n	$0 [--shell-rc-file <value>] [--[no-]comment]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--install-file|--shell-rc-file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_shell_rc_file+=("$2")\n				shift\n				;;\n			--shell-rc-file=*)\n				_arg_shell_rc_file+=("${_key##--shell-rc-file=}")\n				;;\n			--install-file=*)\n				_arg_shell_rc_file+=("${_key##--install-file=}")\n				;;\n			\n			--comment)\n				_arg_comment="on"\n				;;\n			--no-comment)\n				_arg_comment="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string=""\n	if [ "${_positionals_count}" -gt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 0 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 0 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}";\n		local _regex="${!_match_var}";\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	shell-rc-file: ${_arg_shell_rc_file[*]}";\n	echo -e "	comment: ${_arg_comment}";\n\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n_dir="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd -P)"\noutput="\\nexport PARSEARGER_DIR=\\"$_dir\\"\nsource ${_dir}/parseArger.rc";\n\nif [ "$_arg_comment" != "off" ]; then\n	output="\\n# parseArger${output}";\nfi\n\nfor _file in "${_arg_shell_rc_file[@]}"; do\n	if [ -f "$_file" ]; then\n		if ! grep -q "parseArger" "$_file"; then\n			echo -e "$output" >> "$_file";\n			log "parseArger installed in $_file" 1;\n		else\n			log "parseArger already installed in $_file" 1;\n		fi\n	else\n		log "File $_file not found" -1;\n	fi\ndone\n',"/parseArger/utils/webserver":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "parsearger web server" --option "help" --short-option "h"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger opt port "tcp port" --default-value "42069"\n# @parseArger opt response-file "which file to use for the response FIFO, mktemp if empty"\n# @parseArger opt index-file "index file" --default-value "index.html"\n# @parseArger opt form-file "html form file" --default-value "form.html"\n# @parseArger opt form-url "url to view form" --default-value "form"\n# @parseArger opt submit-url "form submit url" --default-value "form"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/utils"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n# OPTIONALS ARGUMENTS\n_arg_port="42069"\n_arg_response_file=\n_arg_index_file="index.html"\n_arg_form_file="form.html"\n_arg_form_url="form"\n_arg_submit_url="form"\n# FLAGS\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "parsearger web server:"\n	echo -e "	--port <port>: tcp port [default: \' 42069 \']"\n	echo -e "	--response-file <response-file>: which file to use for the response FIFO, mktemp if empty"\n	echo -e "	--index-file <index-file>: index file [default: \' index.html \']"\n	echo -e "	--form-file <form-file>: html form file [default: \' form.html \']"\n	echo -e "	--form-url <form-url>: url to view form [default: \' form \']"\n	echo -e "	--submit-url <submit-url>: form submit url [default: \' form \']"\n	echo -e "Usage :\n	$0 [--port <value>] [--response-file <value>] [--index-file <value>] [--form-file <value>] [--form-url <value>] [--submit-url <value>]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			--port)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_port="$2"\n				shift\n				;;\n			--port=*)\n				_arg_port="${_key##--port=}"\n				;;\n			\n			--response-file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_response_file="$2"\n				shift\n				;;\n			--response-file=*)\n				_arg_response_file="${_key##--response-file=}"\n				;;\n			\n			--index-file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_index_file="$2"\n				shift\n				;;\n			--index-file=*)\n				_arg_index_file="${_key##--index-file=}"\n				;;\n			\n			--form-file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_form_file="$2"\n				shift\n				;;\n			--form-file=*)\n				_arg_form_file="${_key##--form-file=}"\n				;;\n			\n			--form-url)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_form_url="$2"\n				shift\n				;;\n			--form-url=*)\n				_arg_form_url="${_key##--form-url=}"\n				;;\n			\n			--submit-url)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_submit_url="$2"\n				shift\n				;;\n			--submit-url=*)\n				_arg_submit_url="${_key##--submit-url=}"\n				;;\n			\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string=""\n	if [ "${_positionals_count}" -gt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 0 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 0 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}";\n		local _regex="${!_match_var}";\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	port: ${_arg_port}";\n	echo -e "	response-file: ${_arg_response_file}";\n	echo -e "	index-file: ${_arg_index_file}";\n	echo -e "	form-file: ${_arg_form_file}";\n	echo -e "	form-url: ${_arg_form_url}";\n	echo -e "	submit-url: ${_arg_submit_url}";\n\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\nfunction sendResponse () {\n	local rcode="${4:-"200"}";\n	local __rc=$rcode;\n	case "${rcode}" in\n		"20"*)\n			rcode+=" OK";\n		;;\n		"30"*)\n			rcode="$rcode Redirect";\n		;;\n		"401")\n			rcode+=" Unauthorized";\n		;;\n		"403")\n			rcode+=" Forbidden";\n		;;\n		"404")\n			rcode+=" Not Found";\n		;;\n		"405")\n			rcode+=" Method Not Allowed";\n		;;\n		"40"*)\n			rcode="$rcode Client Error";\n		;;\n		"50"*)\n			rcode="$rcode Server Error";\n		;;\n		*)\n			rcode="500 Internal Server Error";\n		;;\n	esac\n	\n	local content_length=$(echo -n "$1" | wc -c)\n	log "\\t\\tcontent length $content_length" 3;\n	if [ "$__rc" -ge 400 ]; then\n		log "\\tERROR $__rc" -1;\n	fi\n	echo -e "HTTP/1.1 ${rcode}\\r\\nContent-Type: ${3:-"text"}/${2:-"plain"}\\r\\n\\r\\n$1" > "$_arg_response_file"\n}\n\nfunction send404 () {\n	log "\\t$1" -1;\n	sendResponse "404 Not Found" "text" "plain" 404;\n}\n\nfunction send200 () {\n	sendResponse "$1" "${2:-"plain"}" "${3:-"text"}" 200;\n}\n\n# request regex\nrqre=\'(.*?)\\s(.*?)\\sHTTP.*?\';\n# header regex\nhdre=\'^[A-Za-z0-9-]+:[[:space:]]\';\n\nlast_headers_name=();\nlast_headers_value=();\n\nfunction handle_request () {\n	local request;\n	local method;\n	local url;\n	local content_type;\n	local content_length;\n	local body;\n	last_headers_name=();\n	last_headers_value=();\n	while read -r line; do\n		__line=$(echo "$line" | tr -d \'\\r\\n\');\n		[ -z "$__line" ] && break;\n		# parsing request\n		if [[ "$__line" =~ $rqre ]];then\n      request=$(echo "$__line" | sed -E "s/$rqre/\\1 \\2/");\n			method=$(echo "$request" | awk \'{print $1}\');\n			url=$(echo "$request" | awk \'{print $2}\');\n		elif [[ "$__line" =~ $hdre ]];then\n			header_name=$(echo "$__line" | awk \'{print $1}\');\n			header_value=$(echo "$__line" | awk \'{print $2}\');\n			case "${header_name}" in\n				"Content-Type:")\n					content_type="$header_value";\n					last_headers_name+=("$header_name");\n					last_headers_value+=("$header_value");\n				;;\n				"Content-Length:")\n					content_length="$header_value";\n					last_headers_name+=("$header_name");\n					last_headers_value+=("$header_value");\n				;;\n				*)\n					last_headers_name+=("$header_name");\n					last_headers_value+=("$header_value");\n				;;\n			esac\n		fi\n		__line=$(echo "$__line" | tr -d \'\\r\\n\');\n		[ -z "$__line" ] && break;\n	done\n\n	# body\n  if [ "$content_length" != "" ]; then\n    bdre=\'(.*?)=(.*?)\'\n    while read -r -n$content_length -t1 line; do\n      __line=$(echo "$line" | tr -d \'\\r\\n\')\n\n      [ -z "$__line" ] && break\n\n      read -r -a body <<< "$(echo "$__line" | sed -E "s/$bdre/\\1 \\2/")"\n    done\n  fi\n\n	# uri segments\n	IFS=\'?\' read -r -a uri_segments <<< "$url"\n	IFS=\'/\' read -r -a uri_segments <<< "${uri_segments[0]}"\n\n	# query string args\n	declare -A query_args;\n	IFS=\'?\' read -r -a tqsas <<< "$url"\n	IFS=\'&\' read -r -a tqsas <<< "${tqsas[1]}"\n	for i in "${tqsas[@]}"; do\n		IFS=\'=\' read -r -a query_string_arg <<< "$i"\n		local __argname="${query_string_arg[0]}";\n		local __argvalue="${query_string_arg[1]}";\n		local __existing="${query_args["$__argname"]}";\n		# bash no support for arrays in associative arrays hackfix\n		if [ "$__existing" != "" ]; then\n			query_args["$__argname"]+=" :: $__argvalue"\n		else\n			query_args["$__argname"]="$__argvalue"\n		fi\n	done\n\n	if [ "$request" != "" ]; then\n		log "$request" 2;\n		if [ "$method" != "" ] && [ "$url" != "" ]; then\n			log "Handling request: " 3;\n			log "$(date +%FT%T%z) $method $url" 0;\n			case "$method $url" in\n				"GET /index"|"GET /"|"GET ")\n					if [ -f "$_arg_index_file" ]; then\n						send200 "$(cat "$_arg_index_file")" "html";\n					else\n						send404 "$_arg_index_file";\n					fi\n					;;\n				"GET /$_arg_form_url")\n					if [ -f "$_arg_form_file" ]; then\n						send200 "$(cat "$_arg_form_file")" "html";\n					else\n						send404 "$_arg_form_file";\n					fi\n					;;\n				"POST /$_arg_submit_url")\n					apiCmd=("$(realpath "$_SCRIPT_DIR/../parseArger")" "${body[@]}");\n					log "Running: " 2;\n					log "\\t${apiCmd[*]}" 0;\n					__output=$("${apiCmd[@]}" 2>&1);\n					if [ $? -eq 0 ]; then\n						send200 "$__output";\n					else\n						sendResponse "$__output" "plain" "text" 500;\n					fi\n					;;\n				"GET /$_arg_submit_url/"*)\n					apiCmd=("$_SCRIPT_DIR/../parseArger");\n					\n					if [ "${#uri_segments[@]}" -gt 2 ]; then\n						for i in "${!uri_segments[@]}"; do\n							if [ "$i" -gt 1 ] && [ "$i" -lt "${#uri_segments[@]}" ]; then\n								apiCmd+=( "${uri_segments[$i]}" );\n							fi\n						done\n					fi\n\n					for i in "${!query_args[@]}"; do\n						IFS=" :: " read -r -a tmpi <<< "${query_args[$i]}";\n						if [ "${#tmpi[@]}" -gt 1 ]; then\n							for _ti in "${tmpi[@]}"; do\n								[ "$_ti" != "" ] && apiCmd+=( "--$(printf \'%b\' "${i//%/\\\\x}")" "$(printf \'%b\' "${_ti//%/\\\\x}")" );\n							done\n						else\n							apiCmd+=( "--$(printf \'%b\' "${i//%/\\\\x}")" "$(printf \'%b\' "${query_args[$i]//%/\\\\x}")" );\n						fi\n					done\n					\n					log "${apiCmd[*]}" 0;\n					__output=$("${apiCmd[@]}" 2>&1);\n					if [ $? -eq 0 ]; then\n						send200 "$__output";\n					else\n						sendResponse "$__output" "plain" "text" 500;\n					fi\n					;;\n				# Set your custom routes here\n				# "GET /my/route")\n				# 	send200 "Hello World!";\n				# 	;;\n				# serve content statically\n				# "GET /my/route")\n				#		# remove /my/route/ from url to match file path\n				#		trm="/my/route/";\n				#		local file_path="/path/to/static/folder/${url//$trm/}";\n				#		if [ -f "$file_path" ]; then\n				#			local ext="${file_path##*.}";\n				#			send200 "$(cat "$file_path")" "$ext";\n				#		else\n				#			send404 "$method $url";\n				#		fi\n				# 	send200 "Hello World!";\n				# 	;;\n				*)\n					send404 "$method $url";\n					;;\n			esac\n		fi\n	fi\n}\n\nif [ "$_arg_response_file" == "" ]; then\n	_arg_response_file="$(mktemp)";\nfi\n\nif [ -f "$_arg_response_file" ]; then\n	rm -f "$_arg_response_file";\nfi\nlog "Creating response file: $_arg_response_file" 1;\nmkfifo "$_arg_response_file";\n\nlog "Listening on port: $_arg_port" 0;\nwhile true; do\n	cat "$_arg_response_file" | nc -l "$_arg_port" | handle_request;\ndone\n',"/parseArger/utils/get_parseArger":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "get parseArger" --option "help" --short-option "h"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger opt branch "version to install" --short b --alias tag --alias install-version\n# @parseArger opt install-directory "where to install" --complete "directory"\n# @parseArger opt install-file "rc files to install to, forces install" --repeat\n# @parseArger flag install "install in bashrc" --short i\n# @parseArger flag remove-installer "remove install script itself" --alias rm\n# @parseArger flag ssh "clone using ssh"\n# @parseArger flag zip "install using zip archive, not recommended"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/utils"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n# OPTIONALS ARGUMENTS\n_arg_branch=\n_arg_install_directory=\n_arg_install_file=()\n# FLAGS\n_arg_install="off"\n_arg_remove_installer="off"\n_arg_ssh="off"\n_arg_zip="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "get parseArger:"\n	echo -e "	-b, --branch|--tag|--install-version <branch>: version to install"\n	echo -e "	--install-directory <install-directory>: where to install"\n	echo -e "	--install-file <install-file>: rc files to install to, forces install, repeatable"\n	echo -e "	-i|--install|--no-install: install in bashrc"\n	echo -e "	--remove-installer|--no-remove-installer: remove install script itself\n		aliases: --rm,"\n	echo -e "	--ssh|--no-ssh: clone using ssh"\n	echo -e "	--zip|--no-zip: install using zip archive, not recommended"\n	echo -e "Usage :\n	$0 [--branch <value>] [--install-directory <value>] [--install-file <value>] [--[no-]install] [--[no-]remove-installer] [--[no-]ssh] [--[no-]zip]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			-b|--install-version|--tag|--branch)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_branch="$2"\n				shift\n				;;\n			--branch=*)\n				_arg_branch="${_key##--branch=}"\n				;;\n			--tag=*)\n				_arg_branch="${_key##--tag=}"\n				;;\n			--install-version=*)\n				_arg_branch="${_key##--install-version=}"\n				;;\n			-b*)\n				_arg_branch="${_key##-b}"\n				;;\n			\n			--install-directory)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_install_directory="$2"\n				shift\n				;;\n			--install-directory=*)\n				_arg_install_directory="${_key##--install-directory=}"\n				;;\n			\n			--install-file)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_install_file+=("$2")\n				shift\n				;;\n			--install-file=*)\n				_arg_install_file+=("${_key##--install-file=}")\n				;;\n			\n			-i|--install)\n				_arg_install="on"\n				;;\n			--no-install)\n				_arg_install="off"\n				;;\n			--remove-installer|--rm)\n				_arg_remove_installer="on"\n				;;\n			--no-remove-installer)\n				_arg_remove_installer="off"\n				;;\n			--ssh)\n				_arg_ssh="on"\n				;;\n			--no-ssh)\n				_arg_ssh="off"\n				;;\n			--zip)\n				_arg_zip="on"\n				;;\n			--no-zip)\n				_arg_zip="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string=""\n	if [ "${_positionals_count}" -gt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 0 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 0 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}";\n		local _regex="${!_match_var}";\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	branch: ${_arg_branch}";\n	echo -e "	install-directory: ${_arg_install_directory}";\n	echo -e "	install-file: ${_arg_install_file[*]}";\n	echo -e "	install: ${_arg_install}";\n	echo -e "	remove-installer: ${_arg_remove_installer}";\n	echo -e "	ssh: ${_arg_ssh}";\n	echo -e "	zip: ${_arg_zip}";\n\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\necmd=();\nmcmd=(chmod "+x" "-R");\nif [ "$_arg_zip" != "on" ] && [ "$(command -v git)" ]; then\n	ecmd+=(git clone);\n\n	if [ "$_arg_ssh" == "on" ]; then\n		ecmd+=("git@github.com:DimitriGilbert/parseArger.git");\n	else\n		ecmd+=("https://github.com/DimitriGilbert/parseArger.git");\n	fi\n\n	if [ "$_arg_branch" != "" ]; then\n		ecmd+=(-b "$_arg_branch");\n	fi\n\n	if [ "$_arg_install_directory" != "" ]; then\n		ecmd+=("$_arg_install_directory");\n		mcmd+=("$_arg_install_directory/parseArger" "$_arg_install_directory/utils" "$_arg_install_directory/bin");\n	else\n		mcmd+=("parseArger/parseArger" "parseArger/utils" "parseArger/bin");\n	fi\nelse\n	if [ "$_arg_branch" == "" ]; then\n		_arg_branch="main";\n	fi\n	_arg_zip="on";\n	log "Install using zip, it is not recommended" -1;\n	ecmd+=(curl "https://github.com/DimitriGilbert/parseArger/archive/refs/heads/${_arg_branch}.zip" -LJO);\n	zcmd=(unzip -qq);\n	zcmd2=(mv);\n\n	if [ "$_arg_install_directory" != "" ]; then\n		zcmd+=(-d "/tmp");\n		mcmd+=("$_arg_install_directory/parseArger" "$_arg_install_directory/utils" "$_arg_install_directory/bin");\n		zcmd2+=("/tmp/parseArger-${_arg_branch}" "$_arg_install_directory");\n	else\n		mcmd+=("parseArger/parseArger" "parseArger/utils" "parseArger/bin");\n		zcmd2+=("parseArger-${_arg_branch}" "parseArger");\n	fi\n	zcmd+=( "parseArger-${_arg_branch}.zip" );\nfi\n\nlog "${ecmd[*]}" 1;\n"${ecmd[@]}"\n\nif [ "$_arg_zip" == "on" ]; then\n	log "${zcmd[*]}" 1;\n	"${zcmd[@]}";\n	log "${zcmd2[*]}" 1;\n	"${zcmd2[@]}";\n	rm "parseArger-${_arg_branch}.zip";\nfi\n\nlog "${mcmd[*]}" 1;\n"${mcmd[@]}"\n\nif [ "$_arg_install" == "on" ] || [ "${#_arg_install_file[@]}" -gt 0 ]; then\n	icmd=("utils/install" --verbose 1);\n	if [ "${#_arg_install_file[@]}" -gt 0 ]; then\n		for ifile in "${_arg_install_file[@]}"; do\n			icmd+=("--shell-rc-file" "$ifile");\n		done\n	fi\n	log "${icmd[*]}" 1;\n\n	if [ "$_arg_install_directory" != "" ]; then\n		cd "${_arg_install_directory}";\n	else\n		cd parseArger;\n	fi\n	"${icmd[@]}";\n	cd -;\nfi\n',"/parseArger/utils/get_skills":'#!/bin/bash\n# @parseArger-begin\n# @parseArger-help "Fetch and install Agent Skills from a repository" --option "help" --short-option "h"\n# @parseArger-verbose --option "verbose" --level "0" --quiet-option "quiet"\n_has_colors=0\nif [ -t 1 ]; then # Check if stdout is a terminal\n	ncolors=$(tput colors 2>/dev/null)\n	if [ -n "$ncolors" ] && [ "$ncolors" -ge 8 ]; then\n		_has_colors=1\n	fi\nfi\n# @parseArger-declarations\n# @parseArger opt install "Install target (claude, opencode, or path)" --short i --repeat\n# @parseArger opt repo "Source repository URL" --default-value "https://github.com/DimitriGilbert/parseArger"\n# @parseArger opt branch "Source branch" --default-value "main"\n# @parseArger opt skill "Specific skill to install" --short s --repeat\n# @parseArger flag force "Overwrite existing skills" --short f\n# @parseArger flag list "List available skills in remote repo"\n# @parseArger-declarations-end\n\n# @parseArger-utils\n_helpHasBeenPrinted=1;\n_SCRIPT_DIR=""/parseArger/utils"";\n# @parseArger-utils-end\n\n# @parseArger-parsing\n\n__cli_arg_count=$#;\n\ndie()\n{\n	local _ret=1\n    if [[ -n "$2" ]] && [[ "$2" =~ ^[0-9]+$ ]]; then\n   	_ret="$2"\n    fi\n	test "${_PRINT_HELP:-no}" = yes && print_help >&2\n	log "$1" -3 >&2\n	exit "${_ret}"\n}\n\n\nbegins_with_short_option()\n{\n	local first_option all_short_options=\'\'\n	first_option="${1:0:1}"\n	test "$all_short_options" = "${all_short_options/$first_option/}" && return 1 || return 0\n}\n\n# POSITIONALS ARGUMENTS\n_positionals=();\n_optional_positionals=();\n# OPTIONALS ARGUMENTS\n_arg_install=()\n_arg_repo="https://github.com/DimitriGilbert/parseArger"\n_arg_branch="main"\n_arg_skill=()\n# FLAGS\n_arg_force="off"\n_arg_list="off"\n# NESTED\n_verbose_level="0";\n\n\n\nprint_help()\n{\n	_triggerSCHelp=1;\n\n	if [[ "$_helpHasBeenPrinted" == "1" ]]; then\n		_helpHasBeenPrinted=0;\n		echo -e "Fetch and install Agent Skills from a repository:"\n	echo -e "	-i, --install <install>: Install target (claude, opencode, or path), repeatable"\n	echo -e "	--repo <repo>: Source repository URL [default: \' https://github.com/DimitriGilbert/parseArger \']"\n	echo -e "	--branch <branch>: Source branch [default: \' main \']"\n	echo -e "	-s, --skill <skill>: Specific skill to install, repeatable"\n	echo -e "	-f|--force|--no-force: Overwrite existing skills"\n	echo -e "	--list|--no-list: List available skills in remote repo"\n	echo -e "Usage :\n	$0 [--install <value>] [--repo <value>] [--branch <value>] [--skill <value>] [--[no-]force] [--[no-]list]";\n	fi\n\n}\n\nlog() {\n	local _arg_msg="${1}";\n	local _arg_level="${2:-0}";\n	if [ "${_arg_level}" -le "${_verbose_level}" ]; then\n		case "$_arg_level" in\n			-3)\n				_arg_COLOR="\\033[0;31m";\n				;;\n			-2)\n				_arg_COLOR="\\033[0;33m";\n				;;\n			-1)\n				_arg_COLOR="\\033[1;33m";\n				;;\n			1)\n				_arg_COLOR="\\033[0;32m";\n				;;\n			2)\n				_arg_COLOR="\\033[1;36m";\n				;;\n			3)\n				_arg_COLOR="\\033[0;36m";\n				;;\n			*)\n				_arg_COLOR="\\033[0m";\n				;;\n		esac\n		if [ "${_has_colors}" == "1" ]; then\n			echo -e "${_arg_COLOR}${_arg_msg}\\033[0m";\n		else\n			echo "${_arg_msg}";\n		fi\n	fi\n}\n\nparse_commandline()\n{\n	_positionals_count=0\n	while test $# -gt 0\n	do\n		_key="$1"\n		case "$_key" in\n			-i|--install)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_install+=("$2")\n				shift\n				;;\n			--install=*)\n				_arg_install+=("${_key##--install=}")\n				;;\n			-i*)\n				_arg_install+=("${_key##-i}")\n				;;\n			\n			--repo)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_repo="$2"\n				shift\n				;;\n			--repo=*)\n				_arg_repo="${_key##--repo=}"\n				;;\n			\n			--branch)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_branch="$2"\n				shift\n				;;\n			--branch=*)\n				_arg_branch="${_key##--branch=}"\n				;;\n			\n			-s|--skill)\n				test $# -lt 2 && die "Missing value for the option: \'$_key\'" 1\n				_arg_skill+=("$2")\n				shift\n				;;\n			--skill=*)\n				_arg_skill+=("${_key##--skill=}")\n				;;\n			-s*)\n				_arg_skill+=("${_key##-s}")\n				;;\n			\n			-f|--force)\n				_arg_force="on"\n				;;\n			--no-force)\n				_arg_force="off"\n				;;\n			--list)\n				_arg_list="on"\n				;;\n			--no-list)\n				_arg_list="off"\n				;;\n			-h|--help)\n				print_help;\n				exit 0;\n				;;\n			-h*)\n				print_help;\n				exit 0;\n				;;\n			--verbose)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level + 1))";\n					else\n						_verbose_level="$2";\n						shift;\n					fi\n					;;\n				--quiet)\n					if [ $# -lt 2 ];then\n						_verbose_level="$((_verbose_level - 1))";\n					else\n						_verbose_level="-$2";\n						shift;\n					fi\n					;;\n				\n				*)\n				_last_positional="$1"\n				_positionals+=("$_last_positional")\n				_positionals_count=$((_positionals_count + 1))\n				;;\n		esac\n		shift\n	done\n}\n\n\nhandle_passed_args_count()\n{\n	local _required_args_string=""\n	if [ "${_positionals_count}" -gt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: There were spurious positional arguments --- we expect at most 0 (namely: $_required_args_string), but got ${_positionals_count} (the last one was: \'${_last_positional}\').\\n\\t${_positionals[*]}" 1\n	fi\n	if [ "${_positionals_count}" -lt 0 ] && [ "$_helpHasBeenPrinted" == "1" ];then\n		_PRINT_HELP=yes die "FATAL ERROR: Not enough positional arguments - we require at least 0 (namely: $_required_args_string), but got only ${_positionals_count}.\n	${_positionals[*]}" 1;\n	fi\n}\n\n\nassign_positional_args()\n{\n	local _positional_name _shift_for=$1;\n	_positional_names="";\n	shift "$_shift_for"\n	for _positional_name in ${_positional_names};do\n		test $# -gt 0 || break;\n		eval "if [ \\"\\$_one_of${_positional_name}\\" != \\"\\" ];then [[ \\"\\${_one_of${_positional_name}[*]}\\" =~ \\"\\${1}\\" ]];fi" || die "${_positional_name} must be one of: $(eval "echo \\"\\${_one_of${_positional_name}[*]}\\"")" 1;\n		local _match_var="_match${_positional_name}";\n		local _regex="${!_match_var}";\n		if [ -n "$_regex" ]; then\n			[[ "${1}" =~ $_regex ]] || die "${_positional_name} does not match pattern: $_regex"\n		fi\n		eval "$_positional_name=\\${1}" || die "Error during argument parsing, possibly an ParseArger bug." 1;\n		shift;\n	done\n}\n\nprint_debug()\n{\n	print_help\n	# shellcheck disable=SC2145\n	echo "DEBUG: $0 $@";\n	\n	echo -e "	install: ${_arg_install[*]}";\n	echo -e "	repo: ${_arg_repo}";\n	echo -e "	branch: ${_arg_branch}";\n	echo -e "	skill: ${_arg_skill[*]}";\n	echo -e "	force: ${_arg_force}";\n	echo -e "	list: ${_arg_list}";\n\n}\n\n\non_interrupt() {\n	die Process aborted! 130;\n}\n\n\nparse_commandline "$@";\nhandle_passed_args_count;\nassign_positional_args 1 "${_positionals[@]}";\n# trap on_interrupt INT; # Disabled for just-bash compatibility\n# @parseArger-parsing-end\n# print_debug "$@"\n# @parseArger-end\n\n# Logic Implementation\n\n# 1. Determine Install Paths\ninstall_paths=()\n\nfor target in "${_arg_install[@]}"; do\n    case "$target" in\n        "claude")\n            if [[ "$OSTYPE" == "darwin"* ]]; then\n                install_paths+=("$HOME/Library/Application Support/Claude/skills")\n            else\n                install_paths+=("$HOME/.config/claude/skills")\n            fi\n            ;;\n        "opencode")\n            install_paths+=("$HOME/.opencode/skills")\n            ;;\n        *)\n            # Treat as path\n            install_paths+=("$target")\n            ;;\n    esac\ndone\n\n# If no install paths and not listing, default to current dir or error?\n# Let\'s verify we have something to do unless listing.\nif [ "${#install_paths[@]}" -eq 0 ] && [ "$_arg_list" == "off" ]; then\n    die "No install target specified. Use --install [claude|opencode|path] or --list." 1\nfi\n\nlog "Preparing to fetch skills from $_arg_repo (branch: $_arg_branch)..."\n\n# 2. Fetch Repo\ntmp_dir=$(mktemp -d)\ntrap \'rm -rf "$tmp_dir"\' EXIT\n\nif [ -d "$_arg_repo" ]; then\n    log "Repo is local directory."\n    cp -r "$_arg_repo/skills" "$tmp_dir/" 2>/dev/null || die "Could not find \'skills\' directory in $_arg_repo" 1\nelse\n    log "Cloning remote repository..."\n    git clone --quiet --depth 1 --branch "$_arg_branch" "$_arg_repo" "$tmp_dir/repo" || die "Failed to clone repository" 1\n    if [ -d "$tmp_dir/repo/skills" ]; then\n        mv "$tmp_dir/repo/skills" "$tmp_dir/skills"\n    else\n        die "Repository does not contain a \'skills\' directory." 1\n    fi\nfi\n\n# 3. List Mode\nif [ "$_arg_list" == "on" ]; then\n    echo "Available skills in $_arg_repo:"\n    if [ -d "$tmp_dir/skills" ]; then\n        for skill in "$tmp_dir/skills"/*; do\n            if [ -d "$skill" ]; then\n                echo " - $(basename "$skill")"\n            fi\n        done\n    else\n        echo "No skills found."\n    fi\n    exit 0\nfi\n\n# 4. Install Skills\nskills_to_install=()\nif [ "${#_arg_skill[@]}" -gt 0 ]; then\n    skills_to_install=("${_arg_skill[@]}")\nelse\n    # Install all found skills\n    for skill_path in "$tmp_dir/skills"/*; do\n        if [ -d "$skill_path" ]; then\n            skills_to_install+=("$(basename "$skill_path")")\n        fi\n    done\nfi\n\nlog "Found ${#skills_to_install[@]} skills to install."\n\nfor dest_path in "${install_paths[@]}"; do\n    log "Installing to: $dest_path"\n    mkdir -p "$dest_path" || die "Failed to create directory $dest_path" 1\n\n    for skill_name in "${skills_to_install[@]}"; do\n        source_skill="$tmp_dir/skills/$skill_name"\n        dest_skill="$dest_path/$skill_name"\n\n        if [ ! -d "$source_skill" ]; then\n            log "Warning: Skill \'$skill_name\' not found in source. Skipping." -2\n            continue\n        fi\n\n        if [ -d "$dest_skill" ]; then\n            if [ "$_arg_force" == "on" ]; then\n                log "Overwriting existing skill: $skill_name"\n                rm -rf "$dest_skill"\n            else\n                log "Skill \'$skill_name\' already exists. Use --force to overwrite. Skipping." -1\n                continue\n            fi\n        fi\n\n        log "Installing $skill_name..."\n        cp -r "$source_skill" "$dest_skill" || log "Failed to copy $skill_name" -3\n    done\ndone\n\nlog "Done."\n'},vB=class{bash;constructor(e={}){this.bash=new vM({files:{...vF,...e.files},cwd:e.cwd??"/home/user",env:{PARSEARGER_ROOT_DIR:"/parseArger",HOME:"/home/user",PATH:"/bin:/usr/bin:/parseArger"}})}async exec(e){let t=`
cd /parseArger
export PARSEARGER_ROOT_DIR=/parseArger
export _SCRIPT_DIR=/parseArger
eval "ARGS=(${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')})"
source /parseArger/parseArger "\${ARGS[@]}"
`,n=await this.bash.exec(t);return{stdout:n.stdout,stderr:n.stderr,exitCode:n.exitCode}}async generate(e={}){let t=this.buildGenerateArgs(e);return this.exec(`generate ${t}`)}async parse(e,t={}){let n="/tmp/script-to-parse.sh";await this.bash.exec(`cat > ${n} << 'PARSEARGER_EOF'
${e}
PARSEARGER_EOF`);let r=this.buildParseArgs(t),i=t.inplace?"--inplace":"";return this.exec(`parse ${n} ${r} ${i}`)}async document(e,t={}){let n="/tmp/script-to-document.sh";await this.bash.exec(`cat > ${n} << 'PARSEARGER_EOF'
${e}
PARSEARGER_EOF`);let r=[`--file "${n}"`];return t.tag&&r.push(`--tag "${t.tag}"`),t.nextTagPrepend&&r.push(`--next-tag-prepend "${t.nextTagPrepend}"`),t.title&&r.push(`--title "${t.title}"`),t.titleTag&&r.push(`--title-tag "${t.titleTag}"`),!1===t.subDirectory&&r.push("--no-sub-directory"),!1===t.appendOutput&&r.push("--no-append-output"),this.exec(`document ${r.join(" ")}`)}async htmlForm(e,t={}){let n="/tmp/script-for-form.sh";await this.bash.exec(`cat > ${n} << 'PARSEARGER_EOF'
${e}
PARSEARGER_EOF`),await this.bash.exec(`chmod +x ${n}`);let r=[`--file "${n}"`];return t.title&&r.push(`--title "${t.title}"`),this.exec(`html-form ${r.join(" ")}`)}getBash(){return this.bash}async writeFile(e,t){await this.bash.exec(`cat > "${e}" << 'PARSEARGER_EOF'
${t}
PARSEARGER_EOF`)}async readFile(e){let t=await this.bash.exec(`cat "${e}"`);if(0!==t.exitCode)throw Error(`Failed to read file ${e}: ${t.stderr}`);return t.stdout}buildGenerateArgs(e){let t=[];if(e.pos)for(let n of e.pos)t.push(`--pos '${this.buildPosArg(n)}'`);if(e.opt)for(let n of e.opt)t.push(`--opt '${this.buildOptArg(n)}'`);if(e.flag)for(let n of e.flag)t.push(`--flag '${this.buildFlagArg(n)}'`);if(e.set)for(let n of e.set)t.push(`--set '${n}'`);if(e.source)for(let n of e.source)t.push(`--source '${n}'`);if(e.helpMessage&&t.push(`--help-message '${e.helpMessage}'`),e.helpOption&&t.push(`--help-option '${e.helpOption}'`),e.helpShortOption&&t.push(`--help-short-option '${e.helpShortOption}'`),e.leftoversName&&t.push(`--leftovers-name '${e.leftoversName}'`),e.useShebang&&t.push(`--use-shebang '${e.useShebang}'`),e.setVersion&&t.push(`--set-version '${e.setVersion}'`),e.versionOptName&&t.push(`--version-opt-name '${e.versionOptName}'`),e.versionShortOption&&t.push(`--version-short-option '${e.versionShortOption}'`),e.dieFnName&&t.push(`--die-fn-name '${e.dieFnName}'`),e.logFnName&&t.push(`--log-fn-name '${e.logFnName}'`),e.verboseOptName&&t.push(`--verbose-opt-name '${e.verboseOptName}'`),e.verboseLevel&&t.push(`--verbose-level '${e.verboseLevel}'`),e.dependencies)for(let n of e.dependencies)t.push(`--dependencies '${n}'`);return!0===e.leftovers&&t.push("--leftovers"),!1===e.leftovers&&t.push("--no-leftovers"),!0===e.bang&&t.push("--bang"),!1===e.bang&&t.push("--no-bang"),!0===e.versionOpt&&t.push("--version-opt"),!1===e.versionOpt&&t.push("--no-version-opt"),!0===e.useVerbose&&t.push("--use-verbose"),!1===e.useVerbose&&t.push("--no-use-verbose"),t.join(" ")}buildParseArgs(e){let t=[];if(e.pos)for(let n of e.pos)t.push(`--pos '${this.buildPosArg(n)}'`);if(e.opt)for(let n of e.opt)t.push(`--opt '${this.buildOptArg(n)}'`);if(e.flag)for(let n of e.flag)t.push(`--flag '${this.buildFlagArg(n)}'`);if(e.set)for(let n of e.set)t.push(`--set '${n}'`);if(e.source)for(let n of e.source)t.push(`--source '${n}'`);if(e.setVersion&&t.push(`--set-version '${e.setVersion}'`),e.dependencies)for(let n of e.dependencies)t.push(`--dependencies '${n}'`);return t.join(" ")}buildPosArg(e){let t=`${e.name} "${e.description}"`;if(e.optional&&(t+=" --optional"),e.repeat&&(t+=" --repeat"),void 0!==e.repeatMin&&(t+=` --repeat-min ${e.repeatMin}`),void 0!==e.repeatMax&&(t+=` --repeat-max ${e.repeatMax}`),e.oneOf)for(let n of e.oneOf)t+=` --one-of "${n}"`;return e.subcommand&&(t+=" --subcommand"),e.subcommandDirectory&&(t+=` --subcommand-directory "${e.subcommandDirectory}"`),t}buildOptArg(e){let t=`${e.name} "${e.description}"`;if(e.short&&(t+=` --short ${e.short}`),void 0!==e.defaultValue&&(t+=` --default-value "${e.defaultValue}"`),e.repeat&&(t+=" --repeat"),void 0!==e.repeatMin&&(t+=` --repeat-min ${e.repeatMin}`),void 0!==e.repeatMax&&(t+=` --repeat-max ${e.repeatMax}`),e.oneOf)for(let n of e.oneOf)t+=` --one-of "${n}"`;if(e.alias)for(let n of e.alias)t+=` --alias "${n}"`;return void 0!==e.emptyValue&&(t+=` --empty-value "${e.emptyValue}"`),e.empty&&(t+=" --empty"),t}buildFlagArg(e){let t=`${e.name} "${e.description}"`;if(e.short&&(t+=` --short ${e.short}`),e.on&&(t+=" --on"),e.noName&&(t+=` --no-name "${e.noName}"`),e.alias)for(let n of e.alias)t+=` --alias "${n}"`;if(e.noAlias)for(let n of e.noAlias)t+=` --no-alias "${n}"`;return t}};let vH=[`Welcome to ParseArger Playground!
  `,`Type 'parseArger generate --help' to see available options.
  `,`Type 'parseArger generate --pos "file Input"' to generate a script.
  `];function vU(){let e=(0,n.useRef)(null),a=(0,n.useRef)(null),o=(0,n.useRef)(null),l=(0,n.useRef)(null),[c,u]=(0,n.useState)(null),[p,h]=(0,n.useState)("script.sh"),_=(0,n.useRef)(""),f=(0,n.useRef)([]),d=(0,n.useRef)(-1);(0,n.useEffect)(()=>{let t=setTimeout(()=>{if(!e.current)return;let t=new r.Terminal({cursorBlink:!0,theme:{background:"#1e1e1e",foreground:"#f0f0f0"},fontFamily:'Menlo, Monaco, "Courier New", monospace',fontSize:14}),n=new i.FitAddon;o.current=n,t.loadAddon(n),t.loadAddon(new s.WebLinksAddon),t.open(e.current);try{n.fit()}catch(e){console.warn("Fit failed:",e)}for(let e of(a.current=t,l.current=new vB,vH))t.writeln(e);t.write("$ "),t.onData(e=>{let n=e.charCodeAt(0);if(13===n){t.write("\r\n");let e=_.current.trim();e?(g(e),f.current.push(e),d.current=f.current.length):t.write("$ "),_.current=""}else if(127===n)_.current.length>0&&(_.current=_.current.slice(0,-1),t.write("\b \b"));else if("\x1b[A"===e){if(d.current>0){d.current--;let e=f.current[d.current];for(;_.current.length>0;)_.current=_.current.slice(0,-1),t.write("\b \b");_.current=e,t.write(e)}}else if("\x1b[B"===e)if(d.current<f.current.length-1){d.current++;let e=f.current[d.current];for(;_.current.length>0;)_.current=_.current.slice(0,-1),t.write("\b \b");_.current=e,t.write(e)}else for(d.current=f.current.length;_.current.length>0;)_.current=_.current.slice(0,-1),t.write("\b \b");else n>=32&&(_.current+=e,t.write(e))})},100),n=()=>{if(o.current)try{o.current.fit()}catch(e){}};return window.addEventListener("resize",n),()=>{clearTimeout(t),window.removeEventListener("resize",n),a.current&&(a.current.dispose(),a.current=null)}},[]);let g=async e=>{let t=a.current;if(!t||!l.current)return;let n=e;if(e.startsWith("parseArger "))n=e.slice(11);else if("parseArger"===e)n="--help";else if("clear"!==e&&!e.startsWith(".")){t.writeln("\r\n\x1b[33mCommand not found. Did you mean 'parseArger "+e.split(" ")[0]+"'?\x1b[0m"),t.write("$ ");return}try{if("clear"===n){t.clear(),t.write("$ ");return}let e=await l.current.exec(n);e.stdout&&(t.writeln(e.stdout.replace(/\n/g,"\r\n")),n.startsWith("generate")?(u(e.stdout),h("generated_script.sh")):n.startsWith("document")&&(u(e.stdout),h("documentation.md"))),e.stderr&&t.writeln(`\x1b[31m${e.stderr.replace(/\n/g,"\r\n")}\x1b[0m`)}catch(e){t.writeln(`\r
\x1b[31mError: ${e.message}\x1b[0m`)}t.write("$ ")};return(0,t.jsxs)("div",{className:"flex flex-col gap-4 w-full h-[600px] bg-black p-4 rounded-lg border border-gray-800",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-800 pb-2",children:[(0,t.jsx)("h2",{className:"text-gray-400 text-sm font-mono",children:"ParseArger Terminal"}),c&&(0,t.jsx)("button",{onClick:()=>{if(!c)return;let e=new Blob([c],{type:"text/plain"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=p,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs font-mono transition-colors",children:"Download Output"})]}),(0,t.jsx)("div",{className:"flex-1 w-full overflow-hidden",ref:e})]})}e.s(["Terminal",()=>vU],91913)},40618,e=>{e.n(e.i(91913))}]);